function gR(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function pE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cd={exports:{}},oo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function pR(){if(Rv)return oo;Rv=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var m in o)m!=="key"&&(l[m]=o[m])}else l=o;return o=l.ref,{$$typeof:e,type:s,key:c,ref:o!==void 0?o:null,props:l}}return oo.Fragment=t,oo.jsx=n,oo.jsxs=n,oo}var bv;function yR(){return bv||(bv=1,cd.exports=pR()),cd.exports}var A=yR(),hd={exports:{}},ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function _R(){if(Iv)return ft;Iv=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function T(S){return S===null||typeof S!="object"?null:(S=v&&S[v]||S["@@iterator"],typeof S=="function"?S:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,j={};function O(S,z,et){this.props=S,this.context=z,this.refs=j,this.updater=et||I}O.prototype.isReactComponent={},O.prototype.setState=function(S,z){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,z,"setState")},O.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function Y(){}Y.prototype=O.prototype;function J(S,z,et){this.props=S,this.context=z,this.refs=j,this.updater=et||I}var nt=J.prototype=new Y;nt.constructor=J,U(nt,O.prototype),nt.isPureReactComponent=!0;var bt=Array.isArray,rt={H:null,A:null,T:null,S:null},Lt=Object.prototype.hasOwnProperty;function Ae(S,z,et,Z,F,Tt){return et=Tt.ref,{$$typeof:e,type:S,key:z,ref:et!==void 0?et:null,props:Tt}}function mn(S,z){return Ae(S.type,z,void 0,void 0,void 0,S.props)}function $(S){return typeof S=="object"&&S!==null&&S.$$typeof===e}function yt(S){var z={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(et){return z[et]})}var Ze=/\/+/g;function jn(S,z){return typeof S=="object"&&S!==null&&S.key!=null?yt(""+S.key):z.toString(36)}function An(){}function zn(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(An,An):(S.status="pending",S.then(function(z){S.status==="pending"&&(S.status="fulfilled",S.value=z)},function(z){S.status==="pending"&&(S.status="rejected",S.reason=z)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function Le(S,z,et,Z,F){var Tt=typeof S;(Tt==="undefined"||Tt==="boolean")&&(S=null);var dt=!1;if(S===null)dt=!0;else switch(Tt){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(S.$$typeof){case e:case t:dt=!0;break;case y:return dt=S._init,Le(dt(S._payload),z,et,Z,F)}}if(dt)return F=F(S),dt=Z===""?"."+jn(S,0):Z,bt(F)?(et="",dt!=null&&(et=dt.replace(Ze,"$&/")+"/"),Le(F,z,et,"",function($t){return $t})):F!=null&&($(F)&&(F=mn(F,et+(F.key==null||S&&S.key===F.key?"":(""+F.key).replace(Ze,"$&/")+"/")+dt)),z.push(F)),1;dt=0;var xe=Z===""?".":Z+":";if(bt(S))for(var Ct=0;Ct<S.length;Ct++)Z=S[Ct],Tt=xe+jn(Z,Ct),dt+=Le(Z,z,et,Tt,F);else if(Ct=T(S),typeof Ct=="function")for(S=Ct.call(S),Ct=0;!(Z=S.next()).done;)Z=Z.value,Tt=xe+jn(Z,Ct++),dt+=Le(Z,z,et,Tt,F);else if(Tt==="object"){if(typeof S.then=="function")return Le(zn(S),z,et,Z,F);throw z=String(S),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return dt}function q(S,z,et){if(S==null)return S;var Z=[],F=0;return Le(S,Z,"","",function(Tt){return z.call(et,Tt,F++)}),Z}function ct(S){if(S._status===-1){var z=S._result;z=z(),z.then(function(et){(S._status===0||S._status===-1)&&(S._status=1,S._result=et)},function(et){(S._status===0||S._status===-1)&&(S._status=2,S._result=et)}),S._status===-1&&(S._status=0,S._result=z)}if(S._status===1)return S._result.default;throw S._result}var it=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function Mt(){}return ft.Children={map:q,forEach:function(S,z,et){q(S,function(){z.apply(this,arguments)},et)},count:function(S){var z=0;return q(S,function(){z++}),z},toArray:function(S){return q(S,function(z){return z})||[]},only:function(S){if(!$(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},ft.Component=O,ft.Fragment=n,ft.Profiler=o,ft.PureComponent=J,ft.StrictMode=s,ft.Suspense=d,ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rt,ft.act=function(){throw Error("act(...) is not supported in production builds of React.")},ft.cache=function(S){return function(){return S.apply(null,arguments)}},ft.cloneElement=function(S,z,et){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var Z=U({},S.props),F=S.key,Tt=void 0;if(z!=null)for(dt in z.ref!==void 0&&(Tt=void 0),z.key!==void 0&&(F=""+z.key),z)!Lt.call(z,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&z.ref===void 0||(Z[dt]=z[dt]);var dt=arguments.length-2;if(dt===1)Z.children=et;else if(1<dt){for(var xe=Array(dt),Ct=0;Ct<dt;Ct++)xe[Ct]=arguments[Ct+2];Z.children=xe}return Ae(S.type,F,void 0,void 0,Tt,Z)},ft.createContext=function(S){return S={$$typeof:c,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:l,_context:S},S},ft.createElement=function(S,z,et){var Z,F={},Tt=null;if(z!=null)for(Z in z.key!==void 0&&(Tt=""+z.key),z)Lt.call(z,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(F[Z]=z[Z]);var dt=arguments.length-2;if(dt===1)F.children=et;else if(1<dt){for(var xe=Array(dt),Ct=0;Ct<dt;Ct++)xe[Ct]=arguments[Ct+2];F.children=xe}if(S&&S.defaultProps)for(Z in dt=S.defaultProps,dt)F[Z]===void 0&&(F[Z]=dt[Z]);return Ae(S,Tt,void 0,void 0,null,F)},ft.createRef=function(){return{current:null}},ft.forwardRef=function(S){return{$$typeof:m,render:S}},ft.isValidElement=$,ft.lazy=function(S){return{$$typeof:y,_payload:{_status:-1,_result:S},_init:ct}},ft.memo=function(S,z){return{$$typeof:g,type:S,compare:z===void 0?null:z}},ft.startTransition=function(S){var z=rt.T,et={};rt.T=et;try{var Z=S(),F=rt.S;F!==null&&F(et,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Mt,it)}catch(Tt){it(Tt)}finally{rt.T=z}},ft.unstable_useCacheRefresh=function(){return rt.H.useCacheRefresh()},ft.use=function(S){return rt.H.use(S)},ft.useActionState=function(S,z,et){return rt.H.useActionState(S,z,et)},ft.useCallback=function(S,z){return rt.H.useCallback(S,z)},ft.useContext=function(S){return rt.H.useContext(S)},ft.useDebugValue=function(){},ft.useDeferredValue=function(S,z){return rt.H.useDeferredValue(S,z)},ft.useEffect=function(S,z){return rt.H.useEffect(S,z)},ft.useId=function(){return rt.H.useId()},ft.useImperativeHandle=function(S,z,et){return rt.H.useImperativeHandle(S,z,et)},ft.useInsertionEffect=function(S,z){return rt.H.useInsertionEffect(S,z)},ft.useLayoutEffect=function(S,z){return rt.H.useLayoutEffect(S,z)},ft.useMemo=function(S,z){return rt.H.useMemo(S,z)},ft.useOptimistic=function(S,z){return rt.H.useOptimistic(S,z)},ft.useReducer=function(S,z,et){return rt.H.useReducer(S,z,et)},ft.useRef=function(S){return rt.H.useRef(S)},ft.useState=function(S){return rt.H.useState(S)},ft.useSyncExternalStore=function(S,z,et){return rt.H.useSyncExternalStore(S,z,et)},ft.useTransition=function(){return rt.H.useTransition()},ft.version="19.0.0",ft}var Cv;function Am(){return Cv||(Cv=1,hd.exports=_R()),hd.exports}var M=Am();const oi=pE(M),vR=gR({__proto__:null,default:oi},[M]);var fd={exports:{}},lo={},dd={exports:{}},md={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function ER(){return Dv||(Dv=1,function(e){function t(q,ct){var it=q.length;q.push(ct);t:for(;0<it;){var Mt=it-1>>>1,S=q[Mt];if(0<o(S,ct))q[Mt]=ct,q[it]=S,it=Mt;else break t}}function n(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var ct=q[0],it=q.pop();if(it!==ct){q[0]=it;t:for(var Mt=0,S=q.length,z=S>>>1;Mt<z;){var et=2*(Mt+1)-1,Z=q[et],F=et+1,Tt=q[F];if(0>o(Z,it))F<S&&0>o(Tt,Z)?(q[Mt]=Tt,q[F]=it,Mt=F):(q[Mt]=Z,q[et]=it,Mt=et);else if(F<S&&0>o(Tt,it))q[Mt]=Tt,q[F]=it,Mt=F;else break t}}return ct}function o(q,ct){var it=q.sortIndex-ct.sortIndex;return it!==0?it:q.id-ct.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,m=c.now();e.unstable_now=function(){return c.now()-m}}var d=[],g=[],y=1,v=null,T=3,I=!1,U=!1,j=!1,O=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function nt(q){for(var ct=n(g);ct!==null;){if(ct.callback===null)s(g);else if(ct.startTime<=q)s(g),ct.sortIndex=ct.expirationTime,t(d,ct);else break;ct=n(g)}}function bt(q){if(j=!1,nt(q),!U)if(n(d)!==null)U=!0,zn();else{var ct=n(g);ct!==null&&Le(bt,ct.startTime-q)}}var rt=!1,Lt=-1,Ae=5,mn=-1;function $(){return!(e.unstable_now()-mn<Ae)}function yt(){if(rt){var q=e.unstable_now();mn=q;var ct=!0;try{t:{U=!1,j&&(j=!1,Y(Lt),Lt=-1),I=!0;var it=T;try{e:{for(nt(q),v=n(d);v!==null&&!(v.expirationTime>q&&$());){var Mt=v.callback;if(typeof Mt=="function"){v.callback=null,T=v.priorityLevel;var S=Mt(v.expirationTime<=q);if(q=e.unstable_now(),typeof S=="function"){v.callback=S,nt(q),ct=!0;break e}v===n(d)&&s(d),nt(q)}else s(d);v=n(d)}if(v!==null)ct=!0;else{var z=n(g);z!==null&&Le(bt,z.startTime-q),ct=!1}}break t}finally{v=null,T=it,I=!1}ct=void 0}}finally{ct?Ze():rt=!1}}}var Ze;if(typeof J=="function")Ze=function(){J(yt)};else if(typeof MessageChannel<"u"){var jn=new MessageChannel,An=jn.port2;jn.port1.onmessage=yt,Ze=function(){An.postMessage(null)}}else Ze=function(){O(yt,0)};function zn(){rt||(rt=!0,Ze())}function Le(q,ct){Lt=O(function(){q(e.unstable_now())},ct)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){U||I||(U=!0,zn())},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ae=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(q){switch(T){case 1:case 2:case 3:var ct=3;break;default:ct=T}var it=T;T=ct;try{return q()}finally{T=it}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,ct){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var it=T;T=q;try{return ct()}finally{T=it}},e.unstable_scheduleCallback=function(q,ct,it){var Mt=e.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?Mt+it:Mt):it=Mt,q){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=it+S,q={id:y++,callback:ct,priorityLevel:q,startTime:it,expirationTime:S,sortIndex:-1},it>Mt?(q.sortIndex=it,t(g,q),n(d)===null&&q===n(g)&&(j?(Y(Lt),Lt=-1):j=!0,Le(bt,it-Mt))):(q.sortIndex=S,t(d,q),U||I||(U=!0,zn())),q},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(q){var ct=T;return function(){var it=T;T=ct;try{return q.apply(this,arguments)}finally{T=it}}}}(md)),md}var Nv;function TR(){return Nv||(Nv=1,dd.exports=ER()),dd.exports}var gd={exports:{}},Re={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function AR(){if(Ov)return Re;Ov=1;var e=Am();function t(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(d,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:d,containerInfo:g,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Re.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Re.createPortal=function(d,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(d,g,null,y)},Re.flushSync=function(d){var g=c.T,y=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=g,s.p=y,s.d.f()}},Re.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(d,g))},Re.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Re.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var y=g.as,v=m(y,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:I}):y==="script"&&s.d.X(d,{crossOrigin:v,integrity:T,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Re.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=m(g.as,g.crossOrigin);s.d.M(d,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(d)},Re.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=m(y,g.crossOrigin);s.d.L(d,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Re.preloadModule=function(d,g){if(typeof d=="string")if(g){var y=m(g.as,g.crossOrigin);s.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(d)},Re.requestFormReset=function(d){s.d.r(d)},Re.unstable_batchedUpdates=function(d,g){return d(g)},Re.useFormState=function(d,g,y){return c.H.useFormState(d,g,y)},Re.useFormStatus=function(){return c.H.useHostTransitionStatus()},Re.version="19.0.0",Re}var xv;function yE(){if(xv)return gd.exports;xv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),gd.exports=AR(),gd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function SR(){if(Mv)return lo;Mv=1;var e=TR(),t=Am(),n=yE();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),I=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),nt=Symbol.for("react.offscreen"),bt=Symbol.for("react.memo_cache_sentinel"),rt=Symbol.iterator;function Lt(i){return i===null||typeof i!="object"?null:(i=rt&&i[rt]||i["@@iterator"],typeof i=="function"?i:null)}var Ae=Symbol.for("react.client.reference");function mn(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Ae?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case d:return"Fragment";case m:return"Portal";case y:return"Profiler";case g:return"StrictMode";case j:return"Suspense";case O:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case I:return(i.displayName||"Context")+".Provider";case T:return(i._context.displayName||"Context")+".Consumer";case U:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Y:return r=i.displayName||null,r!==null?r:mn(i.type)||"Memo";case J:r=i._payload,i=i._init;try{return mn(i(r))}catch{}}return null}var $=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt=Object.assign,Ze,jn;function An(i){if(Ze===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ze=r&&r[1]||"",jn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ze+i+jn}var zn=!1;function Le(i,r){if(!i||zn)return"";zn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(N){var D=N}Reflect.construct(i,[],L)}else{try{L.call()}catch(N){D=N}i.call(L.prototype)}}else{try{throw Error()}catch(N){D=N}(L=i())&&typeof L.catch=="function"&&L.catch(function(){})}}catch(N){if(N&&D&&typeof N.stack=="string")return[N.stack,D.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=u.DetermineComponentFrameRoot(),p=f[0],_=f[1];if(p&&_){var E=p.split(`
`),R=_.split(`
`);for(h=u=0;u<E.length&&!E[u].includes("DetermineComponentFrameRoot");)u++;for(;h<R.length&&!R[h].includes("DetermineComponentFrameRoot");)h++;if(u===E.length||h===R.length)for(u=E.length-1,h=R.length-1;1<=u&&0<=h&&E[u]!==R[h];)h--;for(;1<=u&&0<=h;u--,h--)if(E[u]!==R[h]){if(u!==1||h!==1)do if(u--,h--,0>h||E[u]!==R[h]){var x=`
`+E[u].replace(" at new "," at ");return i.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",i.displayName)),x}while(1<=u&&0<=h);break}}}finally{zn=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?An(a):""}function q(i){switch(i.tag){case 26:case 27:case 5:return An(i.type);case 16:return An("Lazy");case 13:return An("Suspense");case 19:return An("SuspenseList");case 0:case 15:return i=Le(i.type,!1),i;case 11:return i=Le(i.type.render,!1),i;case 1:return i=Le(i.type,!0),i;default:return""}}function ct(i){try{var r="";do r+=q(i),i=i.return;while(i);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function it(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function Mt(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function S(i){if(it(i)!==i)throw Error(s(188))}function z(i){var r=i.alternate;if(!r){if(r=it(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,u=r;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(u=h.return,u!==null){a=u;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return S(h),i;if(f===u)return S(h),r;f=f.sibling}throw Error(s(188))}if(a.return!==u.return)a=h,u=f;else{for(var p=!1,_=h.child;_;){if(_===a){p=!0,a=h,u=f;break}if(_===u){p=!0,u=h,a=f;break}_=_.sibling}if(!p){for(_=f.child;_;){if(_===a){p=!0,a=f,u=h;break}if(_===u){p=!0,u=f,a=h;break}_=_.sibling}if(!p)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function et(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=et(i),r!==null)return r;i=i.sibling}return null}var Z=Array.isArray,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tt={pending:!1,data:null,method:null,action:null},dt=[],xe=-1;function Ct(i){return{current:i}}function $t(i){0>xe||(i.current=dt[xe],dt[xe]=null,xe--)}function zt(i,r){xe++,dt[xe]=i.current,i.current=r}var Sn=Ct(null),ca=Ct(null),gi=Ct(null),gl=Ct(null);function pl(i,r){switch(zt(gi,r),zt(ca,i),zt(Sn,null),i=r.nodeType,i){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?tv(r):0;break;default:if(i=i===8?r.parentNode:r,r=i.tagName,i=i.namespaceURI)i=tv(i),r=ev(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}$t(Sn),zt(Sn,r)}function Wr(){$t(Sn),$t(ca),$t(gi)}function th(i){i.memoizedState!==null&&zt(gl,i);var r=Sn.current,a=ev(r,i.type);r!==a&&(zt(ca,i),zt(Sn,a))}function yl(i){ca.current===i&&($t(Sn),$t(ca)),gl.current===i&&($t(gl),no._currentValue=Tt)}var eh=Object.prototype.hasOwnProperty,nh=e.unstable_scheduleCallback,ih=e.unstable_cancelCallback,KS=e.unstable_shouldYield,YS=e.unstable_requestPaint,wn=e.unstable_now,XS=e.unstable_getCurrentPriorityLevel,Hg=e.unstable_ImmediatePriority,Fg=e.unstable_UserBlockingPriority,_l=e.unstable_NormalPriority,$S=e.unstable_LowPriority,Gg=e.unstable_IdlePriority,WS=e.log,ZS=e.unstable_setDisableYieldValue,ha=null,He=null;function JS(i){if(He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(ha,i,void 0,(i.current.flags&128)===128)}catch{}}function pi(i){if(typeof WS=="function"&&ZS(i),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(ha,i)}catch{}}var Fe=Math.clz32?Math.clz32:nw,tw=Math.log,ew=Math.LN2;function nw(i){return i>>>=0,i===0?32:31-(tw(i)/ew|0)|0}var vl=128,El=4194304;function hr(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Tl(i,r){var a=i.pendingLanes;if(a===0)return 0;var u=0,h=i.suspendedLanes,f=i.pingedLanes,p=i.warmLanes;i=i.finishedLanes!==0;var _=a&134217727;return _!==0?(a=_&~h,a!==0?u=hr(a):(f&=_,f!==0?u=hr(f):i||(p=_&~p,p!==0&&(u=hr(p))))):(_=a&~h,_!==0?u=hr(_):f!==0?u=hr(f):i||(p=a&~p,p!==0&&(u=hr(p)))),u===0?0:r!==0&&r!==u&&(r&h)===0&&(h=u&-u,p=r&-r,h>=p||h===32&&(p&4194176)!==0)?r:u}function fa(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function iw(i,r){switch(i){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qg(){var i=vl;return vl<<=1,(vl&4194176)===0&&(vl=128),i}function Kg(){var i=El;return El<<=1,(El&62914560)===0&&(El=4194304),i}function rh(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function da(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function rw(i,r,a,u,h,f){var p=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var _=i.entanglements,E=i.expirationTimes,R=i.hiddenUpdates;for(a=p&~a;0<a;){var x=31-Fe(a),L=1<<x;_[x]=0,E[x]=-1;var D=R[x];if(D!==null)for(R[x]=null,x=0;x<D.length;x++){var N=D[x];N!==null&&(N.lane&=-536870913)}a&=~L}u!==0&&Yg(i,u,0),f!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=f&~(p&~r))}function Yg(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Fe(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|a&4194218}function Xg(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var u=31-Fe(a),h=1<<u;h&r|i[u]&r&&(i[u]|=r),a&=~h}}function $g(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Wg(){var i=F.p;return i!==0?i:(i=window.event,i===void 0?32:vv(i.type))}function sw(i,r){var a=F.p;try{return F.p=i,r()}finally{F.p=a}}var yi=Math.random().toString(36).slice(2),Se="__reactFiber$"+yi,ke="__reactProps$"+yi,Zr="__reactContainer$"+yi,sh="__reactEvents$"+yi,aw="__reactListeners$"+yi,ow="__reactHandles$"+yi,Zg="__reactResources$"+yi,ma="__reactMarker$"+yi;function ah(i){delete i[Se],delete i[ke],delete i[sh],delete i[aw],delete i[ow]}function fr(i){var r=i[Se];if(r)return r;for(var a=i.parentNode;a;){if(r=a[Zr]||a[Se]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=rv(i);i!==null;){if(a=i[Se])return a;i=rv(i)}return r}i=a,a=i.parentNode}return null}function Jr(i){if(i=i[Se]||i[Zr]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function ga(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ts(i){var r=i[Zg];return r||(r=i[Zg]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ae(i){i[ma]=!0}var Jg=new Set,tp={};function dr(i,r){es(i,r),es(i+"Capture",r)}function es(i,r){for(tp[i]=r,i=0;i<r.length;i++)Jg.add(r[i])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ep={},np={};function uw(i){return eh.call(np,i)?!0:eh.call(ep,i)?!1:lw.test(i)?np[i]=!0:(ep[i]=!0,!1)}function Al(i,r,a){if(uw(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function Sl(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function qn(i,r,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+u)}}function Je(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ip(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function cw(i){var r=ip(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return h.call(this)},set:function(p){u=""+p,f.call(this,p)}}),Object.defineProperty(i,r,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(p){u=""+p},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function wl(i){i._valueTracker||(i._valueTracker=cw(i))}function rp(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return i&&(u=ip(i)?i.checked?"true":"false":i.value),i=u,i!==a?(r.setValue(i),!0):!1}function Rl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var hw=/[\n"\\]/g;function tn(i){return i.replace(hw,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function oh(i,r,a,u,h,f,p,_){i.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?i.type=p:i.removeAttribute("type"),r!=null?p==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Je(r)):i.value!==""+Je(r)&&(i.value=""+Je(r)):p!=="submit"&&p!=="reset"||i.removeAttribute("value"),r!=null?lh(i,p,Je(r)):a!=null?lh(i,p,Je(a)):u!=null&&i.removeAttribute("value"),h==null&&f!=null&&(i.defaultChecked=!!f),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.name=""+Je(_):i.removeAttribute("name")}function sp(i,r,a,u,h,f,p,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(i.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null))return;a=a!=null?""+Je(a):"",r=r!=null?""+Je(r):a,_||r===i.value||(i.value=r),i.defaultValue=r}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=_?i.checked:!!u,i.defaultChecked=!!u,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.name=p)}function lh(i,r,a){r==="number"&&Rl(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function ns(i,r,a,u){if(i=i.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<i.length;a++)h=r.hasOwnProperty("$"+i[a].value),i[a].selected!==h&&(i[a].selected=h),h&&u&&(i[a].defaultSelected=!0)}else{for(a=""+Je(a),r=null,h=0;h<i.length;h++){if(i[h].value===a){i[h].selected=!0,u&&(i[h].defaultSelected=!0);return}r!==null||i[h].disabled||(r=i[h])}r!==null&&(r.selected=!0)}}function ap(i,r,a){if(r!=null&&(r=""+Je(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+Je(a):""}function op(i,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(Z(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=Je(r),i.defaultValue=a,u=i.textContent,u===a&&u!==""&&u!==null&&(i.value=u)}function is(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var fw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lp(i,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,a):typeof a!="number"||a===0||fw.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function up(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var h in r)u=r[h],r.hasOwnProperty(h)&&a[h]!==u&&lp(i,h,u)}else for(var f in r)r.hasOwnProperty(f)&&lp(i,f,r[f])}function uh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bl(i){return mw.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ch=null;function hh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var rs=null,ss=null;function cp(i){var r=Jr(i);if(r&&(i=r.stateNode)){var a=i[ke]||null;t:switch(i=r.stateNode,r.type){case"input":if(oh(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==i&&u.form===i.form){var h=u[ke]||null;if(!h)throw Error(s(90));oh(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===i.form&&rp(u)}break t;case"textarea":ap(i,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&ns(i,!!a.multiple,r,!1)}}}var fh=!1;function hp(i,r,a){if(fh)return i(r,a);fh=!0;try{var u=i(r);return u}finally{if(fh=!1,(rs!==null||ss!==null)&&(uu(),rs&&(r=rs,i=ss,ss=rs=null,cp(r),i)))for(r=0;r<i.length;r++)cp(i[r])}}function pa(i,r){var a=i.stateNode;if(a===null)return null;var u=a[ke]||null;if(u===null)return null;a=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var dh=!1;if(Bn)try{var ya={};Object.defineProperty(ya,"passive",{get:function(){dh=!0}}),window.addEventListener("test",ya,ya),window.removeEventListener("test",ya,ya)}catch{dh=!1}var _i=null,mh=null,Il=null;function fp(){if(Il)return Il;var i,r=mh,a=r.length,u,h="value"in _i?_i.value:_i.textContent,f=h.length;for(i=0;i<a&&r[i]===h[i];i++);var p=a-i;for(u=1;u<=p&&r[a-u]===h[f-u];u++);return Il=h.slice(i,1<u?1-u:void 0)}function Cl(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Dl(){return!0}function dp(){return!1}function je(i){function r(a,u,h,f,p){this._reactName=a,this._targetInst=h,this.type=u,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var _ in i)i.hasOwnProperty(_)&&(a=i[_],this[_]=a?a(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Dl:dp,this.isPropagationStopped=dp,this}return yt(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Dl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Dl)},persist:function(){},isPersistent:Dl}),r}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nl=je(mr),_a=yt({},mr,{view:0,detail:0}),gw=je(_a),gh,ph,va,Ol=yt({},_a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_h,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==va&&(va&&i.type==="mousemove"?(gh=i.screenX-va.screenX,ph=i.screenY-va.screenY):ph=gh=0,va=i),gh)},movementY:function(i){return"movementY"in i?i.movementY:ph}}),mp=je(Ol),pw=yt({},Ol,{dataTransfer:0}),yw=je(pw),_w=yt({},_a,{relatedTarget:0}),yh=je(_w),vw=yt({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ew=je(vw),Tw=yt({},mr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Aw=je(Tw),Sw=yt({},mr,{data:0}),gp=je(Sw),ww={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iw(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=bw[i])?!!r[i]:!1}function _h(){return Iw}var Cw=yt({},_a,{key:function(i){if(i.key){var r=ww[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Cl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Rw[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_h,charCode:function(i){return i.type==="keypress"?Cl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Cl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Dw=je(Cw),Nw=yt({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pp=je(Nw),Ow=yt({},_a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_h}),xw=je(Ow),Mw=yt({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vw=je(Mw),Pw=yt({},Ol,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Uw=je(Pw),Lw=yt({},mr,{newState:0,oldState:0}),kw=je(Lw),jw=[9,13,27,32],vh=Bn&&"CompositionEvent"in window,Ea=null;Bn&&"documentMode"in document&&(Ea=document.documentMode);var zw=Bn&&"TextEvent"in window&&!Ea,yp=Bn&&(!vh||Ea&&8<Ea&&11>=Ea),_p=" ",vp=!1;function Ep(i,r){switch(i){case"keyup":return jw.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tp(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var as=!1;function Bw(i,r){switch(i){case"compositionend":return Tp(r);case"keypress":return r.which!==32?null:(vp=!0,_p);case"textInput":return i=r.data,i===_p&&vp?null:i;default:return null}}function qw(i,r){if(as)return i==="compositionend"||!vh&&Ep(i,r)?(i=fp(),Il=mh=_i=null,as=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return yp&&r.locale!=="ko"?null:r.data;default:return null}}var Hw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ap(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Hw[i.type]:r==="textarea"}function Sp(i,r,a,u){rs?ss?ss.push(u):ss=[u]:rs=u,r=mu(r,"onChange"),0<r.length&&(a=new Nl("onChange","change",null,a,u),i.push({event:a,listeners:r}))}var Ta=null,Aa=null;function Fw(i){X_(i,0)}function xl(i){var r=ga(i);if(rp(r))return i}function wp(i,r){if(i==="change")return r}var Rp=!1;if(Bn){var Eh;if(Bn){var Th="oninput"in document;if(!Th){var bp=document.createElement("div");bp.setAttribute("oninput","return;"),Th=typeof bp.oninput=="function"}Eh=Th}else Eh=!1;Rp=Eh&&(!document.documentMode||9<document.documentMode)}function Ip(){Ta&&(Ta.detachEvent("onpropertychange",Cp),Aa=Ta=null)}function Cp(i){if(i.propertyName==="value"&&xl(Aa)){var r=[];Sp(r,Aa,i,hh(i)),hp(Fw,r)}}function Gw(i,r,a){i==="focusin"?(Ip(),Ta=r,Aa=a,Ta.attachEvent("onpropertychange",Cp)):i==="focusout"&&Ip()}function Qw(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return xl(Aa)}function Kw(i,r){if(i==="click")return xl(r)}function Yw(i,r){if(i==="input"||i==="change")return xl(r)}function Xw(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Ge=typeof Object.is=="function"?Object.is:Xw;function Sa(i,r){if(Ge(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var h=a[u];if(!eh.call(r,h)||!Ge(i[h],r[h]))return!1}return!0}function Dp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Np(i,r){var a=Dp(i);i=0;for(var u;a;){if(a.nodeType===3){if(u=i+a.textContent.length,i<=r&&u>=r)return{node:a,offset:r-i};i=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Dp(a)}}function Op(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Op(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function xp(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Rl(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=Rl(i.document)}return r}function Ah(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}function $w(i,r){var a=xp(r);r=i.focusedElem;var u=i.selectionRange;if(a!==r&&r&&r.ownerDocument&&Op(r.ownerDocument.documentElement,r)){if(u!==null&&Ah(r)){if(i=u.start,a=u.end,a===void 0&&(a=i),"selectionStart"in r)r.selectionStart=i,r.selectionEnd=Math.min(a,r.value.length);else if(a=(i=r.ownerDocument||document)&&i.defaultView||window,a.getSelection){a=a.getSelection();var h=r.textContent.length,f=Math.min(u.start,h);u=u.end===void 0?f:Math.min(u.end,h),!a.extend&&f>u&&(h=u,u=f,f=h),h=Np(r,f);var p=Np(r,u);h&&p&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==p.node||a.focusOffset!==p.offset)&&(i=i.createRange(),i.setStart(h.node,h.offset),a.removeAllRanges(),f>u?(a.addRange(i),a.extend(p.node,p.offset)):(i.setEnd(p.node,p.offset),a.addRange(i)))}}for(i=[],a=r;a=a.parentNode;)a.nodeType===1&&i.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<i.length;r++)a=i[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Ww=Bn&&"documentMode"in document&&11>=document.documentMode,os=null,Sh=null,wa=null,wh=!1;function Mp(i,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wh||os==null||os!==Rl(u)||(u=os,"selectionStart"in u&&Ah(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),wa&&Sa(wa,u)||(wa=u,u=mu(Sh,"onSelect"),0<u.length&&(r=new Nl("onSelect","select",null,r,a),i.push({event:r,listeners:u}),r.target=os)))}function gr(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var ls={animationend:gr("Animation","AnimationEnd"),animationiteration:gr("Animation","AnimationIteration"),animationstart:gr("Animation","AnimationStart"),transitionrun:gr("Transition","TransitionRun"),transitionstart:gr("Transition","TransitionStart"),transitioncancel:gr("Transition","TransitionCancel"),transitionend:gr("Transition","TransitionEnd")},Rh={},Vp={};Bn&&(Vp=document.createElement("div").style,"AnimationEvent"in window||(delete ls.animationend.animation,delete ls.animationiteration.animation,delete ls.animationstart.animation),"TransitionEvent"in window||delete ls.transitionend.transition);function pr(i){if(Rh[i])return Rh[i];if(!ls[i])return i;var r=ls[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in Vp)return Rh[i]=r[a];return i}var Pp=pr("animationend"),Up=pr("animationiteration"),Lp=pr("animationstart"),Zw=pr("transitionrun"),Jw=pr("transitionstart"),t1=pr("transitioncancel"),kp=pr("transitionend"),jp=new Map,zp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function gn(i,r){jp.set(i,r),dr(r,[i])}var en=[],us=0,bh=0;function Ml(){for(var i=us,r=bh=us=0;r<i;){var a=en[r];en[r++]=null;var u=en[r];en[r++]=null;var h=en[r];en[r++]=null;var f=en[r];if(en[r++]=null,u!==null&&h!==null){var p=u.pending;p===null?h.next=h:(h.next=p.next,p.next=h),u.pending=h}f!==0&&Bp(a,h,f)}}function Vl(i,r,a,u){en[us++]=i,en[us++]=r,en[us++]=a,en[us++]=u,bh|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Ih(i,r,a,u){return Vl(i,r,a,u),Pl(i)}function vi(i,r){return Vl(i,null,null,r),Pl(i)}function Bp(i,r,a){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a);for(var h=!1,f=i.return;f!==null;)f.childLanes|=a,u=f.alternate,u!==null&&(u.childLanes|=a),f.tag===22&&(i=f.stateNode,i===null||i._visibility&1||(h=!0)),i=f,f=f.return;h&&r!==null&&i.tag===3&&(f=i.stateNode,h=31-Fe(a),f=f.hiddenUpdates,i=f[h],i===null?f[h]=[r]:i.push(r),r.lane=a|536870912)}function Pl(i){if(50<Xa)throw Xa=0,Vf=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var cs={},qp=new WeakMap;function nn(i,r){if(typeof i=="object"&&i!==null){var a=qp.get(i);return a!==void 0?a:(r={value:i,source:r,stack:ct(r)},qp.set(i,r),r)}return{value:i,source:r,stack:ct(r)}}var hs=[],fs=0,Ul=null,Ll=0,rn=[],sn=0,yr=null,Hn=1,Fn="";function _r(i,r){hs[fs++]=Ll,hs[fs++]=Ul,Ul=i,Ll=r}function Hp(i,r,a){rn[sn++]=Hn,rn[sn++]=Fn,rn[sn++]=yr,yr=i;var u=Hn;i=Fn;var h=32-Fe(u)-1;u&=~(1<<h),a+=1;var f=32-Fe(r)+h;if(30<f){var p=h-h%5;f=(u&(1<<p)-1).toString(32),u>>=p,h-=p,Hn=1<<32-Fe(r)+h|a<<h|u,Fn=f+i}else Hn=1<<f|a<<h|u,Fn=i}function Ch(i){i.return!==null&&(_r(i,1),Hp(i,1,0))}function Dh(i){for(;i===Ul;)Ul=hs[--fs],hs[fs]=null,Ll=hs[--fs],hs[fs]=null;for(;i===yr;)yr=rn[--sn],rn[sn]=null,Fn=rn[--sn],rn[sn]=null,Hn=rn[--sn],rn[sn]=null}var Me=null,me=null,wt=!1,pn=null,Rn=!1,Nh=Error(s(519));function vr(i){var r=Error(s(418,""));throw Ia(nn(r,i)),Nh}function Fp(i){var r=i.stateNode,a=i.type,u=i.memoizedProps;switch(r[Se]=i,r[ke]=u,a){case"dialog":vt("cancel",r),vt("close",r);break;case"iframe":case"object":case"embed":vt("load",r);break;case"video":case"audio":for(a=0;a<Wa.length;a++)vt(Wa[a],r);break;case"source":vt("error",r);break;case"img":case"image":case"link":vt("error",r),vt("load",r);break;case"details":vt("toggle",r);break;case"input":vt("invalid",r),sp(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),wl(r);break;case"select":vt("invalid",r);break;case"textarea":vt("invalid",r),op(r,u.value,u.defaultValue,u.children),wl(r)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||J_(r.textContent,a)?(u.popover!=null&&(vt("beforetoggle",r),vt("toggle",r)),u.onScroll!=null&&vt("scroll",r),u.onScrollEnd!=null&&vt("scrollend",r),u.onClick!=null&&(r.onclick=gu),r=!0):r=!1,r||vr(i)}function Gp(i){for(Me=i.return;Me;)switch(Me.tag){case 3:case 27:Rn=!0;return;case 5:case 13:Rn=!1;return;default:Me=Me.return}}function Ra(i){if(i!==Me)return!1;if(!wt)return Gp(i),wt=!0,!1;var r=!1,a;if((a=i.tag!==3&&i.tag!==27)&&((a=i.tag===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Wf(i.type,i.memoizedProps)),a=!a),a&&(r=!0),r&&me&&vr(i),Gp(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(r===0){me=_n(i.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;i=i.nextSibling}me=null}}else me=Me?_n(i.stateNode.nextSibling):null;return!0}function ba(){me=Me=null,wt=!1}function Ia(i){pn===null?pn=[i]:pn.push(i)}var Ca=Error(s(460)),Qp=Error(s(474)),Oh={then:function(){}};function Kp(i){return i=i.status,i==="fulfilled"||i==="rejected"}function kl(){}function Yp(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(kl,kl),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===Ca?Error(s(483)):i;default:if(typeof r.status=="string")r.then(kl,kl);else{if(i=Vt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=u}},function(u){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===Ca?Error(s(483)):i}throw Da=r,Ca}}var Da=null;function Xp(){if(Da===null)throw Error(s(459));var i=Da;return Da=null,i}var ds=null,Na=0;function jl(i){var r=Na;return Na+=1,ds===null&&(ds=[]),Yp(ds,i,r)}function Oa(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function zl(i,r){throw r.$$typeof===l?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function $p(i){var r=i._init;return r(i._payload)}function Wp(i){function r(b,w){if(i){var C=b.deletions;C===null?(b.deletions=[w],b.flags|=16):C.push(w)}}function a(b,w){if(!i)return null;for(;w!==null;)r(b,w),w=w.sibling;return null}function u(b){for(var w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function h(b,w){return b=Oi(b,w),b.index=0,b.sibling=null,b}function f(b,w,C){return b.index=C,i?(C=b.alternate,C!==null?(C=C.index,C<w?(b.flags|=33554434,w):C):(b.flags|=33554434,w)):(b.flags|=1048576,w)}function p(b){return i&&b.alternate===null&&(b.flags|=33554434),b}function _(b,w,C,V){return w===null||w.tag!==6?(w=bf(C,b.mode,V),w.return=b,w):(w=h(w,C),w.return=b,w)}function E(b,w,C,V){var G=C.type;return G===d?x(b,w,C.props.children,V,C.key):w!==null&&(w.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===J&&$p(G)===w.type)?(w=h(w,C.props),Oa(w,C),w.return=b,w):(w=ru(C.type,C.key,C.props,null,b.mode,V),Oa(w,C),w.return=b,w)}function R(b,w,C,V){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=If(C,b.mode,V),w.return=b,w):(w=h(w,C.children||[]),w.return=b,w)}function x(b,w,C,V,G){return w===null||w.tag!==7?(w=Dr(C,b.mode,V,G),w.return=b,w):(w=h(w,C),w.return=b,w)}function L(b,w,C){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=bf(""+w,b.mode,C),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case c:return C=ru(w.type,w.key,w.props,null,b.mode,C),Oa(C,w),C.return=b,C;case m:return w=If(w,b.mode,C),w.return=b,w;case J:var V=w._init;return w=V(w._payload),L(b,w,C)}if(Z(w)||Lt(w))return w=Dr(w,b.mode,C,null),w.return=b,w;if(typeof w.then=="function")return L(b,jl(w),C);if(w.$$typeof===I)return L(b,eu(b,w),C);zl(b,w)}return null}function D(b,w,C,V){var G=w!==null?w.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return G!==null?null:_(b,w,""+C,V);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case c:return C.key===G?E(b,w,C,V):null;case m:return C.key===G?R(b,w,C,V):null;case J:return G=C._init,C=G(C._payload),D(b,w,C,V)}if(Z(C)||Lt(C))return G!==null?null:x(b,w,C,V,null);if(typeof C.then=="function")return D(b,w,jl(C),V);if(C.$$typeof===I)return D(b,w,eu(b,C),V);zl(b,C)}return null}function N(b,w,C,V,G){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return b=b.get(C)||null,_(w,b,""+V,G);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case c:return b=b.get(V.key===null?C:V.key)||null,E(w,b,V,G);case m:return b=b.get(V.key===null?C:V.key)||null,R(w,b,V,G);case J:var gt=V._init;return V=gt(V._payload),N(b,w,C,V,G)}if(Z(V)||Lt(V))return b=b.get(C)||null,x(w,b,V,G,null);if(typeof V.then=="function")return N(b,w,C,jl(V),G);if(V.$$typeof===I)return N(b,w,C,eu(w,V),G);zl(w,V)}return null}function K(b,w,C,V){for(var G=null,gt=null,X=w,tt=w=0,ue=null;X!==null&&tt<C.length;tt++){X.index>tt?(ue=X,X=null):ue=X.sibling;var Rt=D(b,X,C[tt],V);if(Rt===null){X===null&&(X=ue);break}i&&X&&Rt.alternate===null&&r(b,X),w=f(Rt,w,tt),gt===null?G=Rt:gt.sibling=Rt,gt=Rt,X=ue}if(tt===C.length)return a(b,X),wt&&_r(b,tt),G;if(X===null){for(;tt<C.length;tt++)X=L(b,C[tt],V),X!==null&&(w=f(X,w,tt),gt===null?G=X:gt.sibling=X,gt=X);return wt&&_r(b,tt),G}for(X=u(X);tt<C.length;tt++)ue=N(X,b,tt,C[tt],V),ue!==null&&(i&&ue.alternate!==null&&X.delete(ue.key===null?tt:ue.key),w=f(ue,w,tt),gt===null?G=ue:gt.sibling=ue,gt=ue);return i&&X.forEach(function(ki){return r(b,ki)}),wt&&_r(b,tt),G}function lt(b,w,C,V){if(C==null)throw Error(s(151));for(var G=null,gt=null,X=w,tt=w=0,ue=null,Rt=C.next();X!==null&&!Rt.done;tt++,Rt=C.next()){X.index>tt?(ue=X,X=null):ue=X.sibling;var ki=D(b,X,Rt.value,V);if(ki===null){X===null&&(X=ue);break}i&&X&&ki.alternate===null&&r(b,X),w=f(ki,w,tt),gt===null?G=ki:gt.sibling=ki,gt=ki,X=ue}if(Rt.done)return a(b,X),wt&&_r(b,tt),G;if(X===null){for(;!Rt.done;tt++,Rt=C.next())Rt=L(b,Rt.value,V),Rt!==null&&(w=f(Rt,w,tt),gt===null?G=Rt:gt.sibling=Rt,gt=Rt);return wt&&_r(b,tt),G}for(X=u(X);!Rt.done;tt++,Rt=C.next())Rt=N(X,b,tt,Rt.value,V),Rt!==null&&(i&&Rt.alternate!==null&&X.delete(Rt.key===null?tt:Rt.key),w=f(Rt,w,tt),gt===null?G=Rt:gt.sibling=Rt,gt=Rt);return i&&X.forEach(function(mR){return r(b,mR)}),wt&&_r(b,tt),G}function Qt(b,w,C,V){if(typeof C=="object"&&C!==null&&C.type===d&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case c:t:{for(var G=C.key;w!==null;){if(w.key===G){if(G=C.type,G===d){if(w.tag===7){a(b,w.sibling),V=h(w,C.props.children),V.return=b,b=V;break t}}else if(w.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===J&&$p(G)===w.type){a(b,w.sibling),V=h(w,C.props),Oa(V,C),V.return=b,b=V;break t}a(b,w);break}else r(b,w);w=w.sibling}C.type===d?(V=Dr(C.props.children,b.mode,V,C.key),V.return=b,b=V):(V=ru(C.type,C.key,C.props,null,b.mode,V),Oa(V,C),V.return=b,b=V)}return p(b);case m:t:{for(G=C.key;w!==null;){if(w.key===G)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){a(b,w.sibling),V=h(w,C.children||[]),V.return=b,b=V;break t}else{a(b,w);break}else r(b,w);w=w.sibling}V=If(C,b.mode,V),V.return=b,b=V}return p(b);case J:return G=C._init,C=G(C._payload),Qt(b,w,C,V)}if(Z(C))return K(b,w,C,V);if(Lt(C)){if(G=Lt(C),typeof G!="function")throw Error(s(150));return C=G.call(C),lt(b,w,C,V)}if(typeof C.then=="function")return Qt(b,w,jl(C),V);if(C.$$typeof===I)return Qt(b,w,eu(b,C),V);zl(b,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,w!==null&&w.tag===6?(a(b,w.sibling),V=h(w,C),V.return=b,b=V):(a(b,w),V=bf(C,b.mode,V),V.return=b,b=V),p(b)):a(b,w)}return function(b,w,C,V){try{Na=0;var G=Qt(b,w,C,V);return ds=null,G}catch(X){if(X===Ca)throw X;var gt=un(29,X,null,b.mode);return gt.lanes=V,gt.return=b,gt}finally{}}}var Er=Wp(!0),Zp=Wp(!1),ms=Ct(null),Bl=Ct(0);function Jp(i,r){i=ei,zt(Bl,i),zt(ms,r),ei=i|r.baseLanes}function xh(){zt(Bl,ei),zt(ms,ms.current)}function Mh(){ei=Bl.current,$t(ms),$t(Bl)}var an=Ct(null),bn=null;function Ei(i){var r=i.alternate;zt(ie,ie.current&1),zt(an,i),bn===null&&(r===null||ms.current!==null||r.memoizedState!==null)&&(bn=i)}function ty(i){if(i.tag===22){if(zt(ie,ie.current),zt(an,i),bn===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(bn=i)}}else Ti()}function Ti(){zt(ie,ie.current),zt(an,an.current)}function Gn(i){$t(an),bn===i&&(bn=null),$t(ie)}var ie=Ct(0);function ql(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var e1=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},n1=e.unstable_scheduleCallback,i1=e.unstable_NormalPriority,re={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vh(){return{controller:new e1,data:new Map,refCount:0}}function xa(i){i.refCount--,i.refCount===0&&n1(i1,function(){i.controller.abort()})}var Ma=null,Ph=0,gs=0,ps=null;function r1(i,r){if(Ma===null){var a=Ma=[];Ph=0,gs=qf(),ps={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Ph++,r.then(ey,ey),r}function ey(){if(--Ph===0&&Ma!==null){ps!==null&&(ps.status="fulfilled");var i=Ma;Ma=null,gs=0,ps=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function s1(i,r){var a=[],u={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(u.status="rejected",u.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),u}var ny=$.S;$.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&r1(i,r),ny!==null&&ny(i,r)};var Tr=Ct(null);function Uh(){var i=Tr.current;return i!==null?i:Vt.pooledCache}function Hl(i,r){r===null?zt(Tr,Tr.current):zt(Tr,r.pool)}function iy(){var i=Uh();return i===null?null:{parent:re._currentValue,pool:i}}var Ai=0,mt=null,Nt=null,Wt=null,Fl=!1,ys=!1,Ar=!1,Gl=0,Va=0,_s=null,a1=0;function Yt(){throw Error(s(321))}function Lh(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!Ge(i[a],r[a]))return!1;return!0}function kh(i,r,a,u,h,f){return Ai=f,mt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=i===null||i.memoizedState===null?Sr:Si,Ar=!1,f=a(u,h),Ar=!1,ys&&(f=sy(r,a,u,h)),ry(i),f}function ry(i){$.H=In;var r=Nt!==null&&Nt.next!==null;if(Ai=0,Wt=Nt=mt=null,Fl=!1,Va=0,_s=null,r)throw Error(s(300));i===null||oe||(i=i.dependencies,i!==null&&tu(i)&&(oe=!0))}function sy(i,r,a,u){mt=i;var h=0;do{if(ys&&(_s=null),Va=0,ys=!1,25<=h)throw Error(s(301));if(h+=1,Wt=Nt=null,i.updateQueue!=null){var f=i.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}$.H=wr,f=r(a,u)}while(ys);return f}function o1(){var i=$.H,r=i.useState()[0];return r=typeof r.then=="function"?Pa(r):r,i=i.useState()[0],(Nt!==null?Nt.memoizedState:null)!==i&&(mt.flags|=1024),r}function jh(){var i=Gl!==0;return Gl=0,i}function zh(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function Bh(i){if(Fl){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Fl=!1}Ai=0,Wt=Nt=mt=null,ys=!1,Va=Gl=0,_s=null}function ze(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?mt.memoizedState=Wt=i:Wt=Wt.next=i,Wt}function Zt(){if(Nt===null){var i=mt.alternate;i=i!==null?i.memoizedState:null}else i=Nt.next;var r=Wt===null?mt.memoizedState:Wt.next;if(r!==null)Wt=r,Nt=i;else{if(i===null)throw mt.alternate===null?Error(s(467)):Error(s(310));Nt=i,i={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Wt===null?mt.memoizedState=Wt=i:Wt=Wt.next=i}return Wt}var Ql;Ql=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Pa(i){var r=Va;return Va+=1,_s===null&&(_s=[]),i=Yp(_s,i,r),r=mt,(Wt===null?r.memoizedState:Wt.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?Sr:Si),i}function Kl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Pa(i);if(i.$$typeof===I)return we(i)}throw Error(s(438,String(i)))}function qh(i){var r=null,a=mt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=mt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Ql(),mt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),u=0;u<i;u++)a[u]=bt;return r.index++,a}function Qn(i,r){return typeof r=="function"?r(i):r}function Yl(i){var r=Zt();return Hh(r,Nt,i)}function Hh(i,r,a){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var h=i.baseQueue,f=u.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}r.baseQueue=h=f,u.pending=null}if(f=i.baseState,h===null)i.memoizedState=f;else{r=h.next;var _=p=null,E=null,R=r,x=!1;do{var L=R.lane&-536870913;if(L!==R.lane?(At&L)===L:(Ai&L)===L){var D=R.revertLane;if(D===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),L===gs&&(x=!0);else if((Ai&D)===D){R=R.next,D===gs&&(x=!0);continue}else L={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},E===null?(_=E=L,p=f):E=E.next=L,mt.lanes|=D,xi|=D;L=R.action,Ar&&a(f,L),f=R.hasEagerState?R.eagerState:a(f,L)}else D={lane:L,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},E===null?(_=E=D,p=f):E=E.next=D,mt.lanes|=L,xi|=L;R=R.next}while(R!==null&&R!==r);if(E===null?p=f:E.next=_,!Ge(f,i.memoizedState)&&(oe=!0,x&&(a=ps,a!==null)))throw a;i.memoizedState=f,i.baseState=p,i.baseQueue=E,u.lastRenderedState=f}return h===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Fh(i){var r=Zt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var u=a.dispatch,h=a.pending,f=r.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=i(f,p.action),p=p.next;while(p!==h);Ge(f,r.memoizedState)||(oe=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,u]}function ay(i,r,a){var u=mt,h=Zt(),f=wt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var p=!Ge((Nt||h).memoizedState,a);if(p&&(h.memoizedState=a,oe=!0),h=h.queue,Kh(uy.bind(null,u,h,i),[i]),h.getSnapshot!==r||p||Wt!==null&&Wt.memoizedState.tag&1){if(u.flags|=2048,vs(9,ly.bind(null,u,h,a,r),{destroy:void 0},null),Vt===null)throw Error(s(349));f||(Ai&60)!==0||oy(u,r,a)}return a}function oy(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=mt.updateQueue,r===null?(r=Ql(),mt.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function ly(i,r,a,u){r.value=a,r.getSnapshot=u,cy(r)&&hy(i)}function uy(i,r,a){return a(function(){cy(r)&&hy(i)})}function cy(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!Ge(i,a)}catch{return!0}}function hy(i){var r=vi(i,2);r!==null&&Ve(r,i,2)}function Gh(i){var r=ze();if(typeof i=="function"){var a=i;if(i=a(),Ar){pi(!0);try{a()}finally{pi(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:i},r}function fy(i,r,a,u){return i.baseState=a,Hh(i,Nt,typeof u=="function"?u:Qn)}function l1(i,r,a,u,h){if(Wl(i))throw Error(s(485));if(i=r.action,i!==null){var f={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};$.T!==null?a(!0):f.isTransition=!1,u(f),a=r.pending,a===null?(f.next=r.pending=f,dy(r,f)):(f.next=a.next,r.pending=a.next=f)}}function dy(i,r){var a=r.action,u=r.payload,h=i.state;if(r.isTransition){var f=$.T,p={};$.T=p;try{var _=a(h,u),E=$.S;E!==null&&E(p,_),my(i,r,_)}catch(R){Qh(i,r,R)}finally{$.T=f}}else try{f=a(h,u),my(i,r,f)}catch(R){Qh(i,r,R)}}function my(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){gy(i,r,u)},function(u){return Qh(i,r,u)}):gy(i,r,a)}function gy(i,r,a){r.status="fulfilled",r.value=a,py(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,dy(i,a)))}function Qh(i,r,a){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,py(r),r=r.next;while(r!==u)}i.action=null}function py(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function yy(i,r){return r}function _y(i,r){if(wt){var a=Vt.formState;if(a!==null){t:{var u=mt;if(wt){if(me){e:{for(var h=me,f=Rn;h.nodeType!==8;){if(!f){h=null;break e}if(h=_n(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){me=_n(h.nextSibling),u=h.data==="F!";break t}}vr(u)}u=!1}u&&(r=a[0])}}return a=ze(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yy,lastRenderedState:r},a.queue=u,a=Uy.bind(null,mt,u),u.dispatch=a,u=Gh(!1),f=Zh.bind(null,mt,!1,u.queue),u=ze(),h={state:r,dispatch:null,action:i,pending:null},u.queue=h,a=l1.bind(null,mt,h,f,a),h.dispatch=a,u.memoizedState=i,[r,a,!1]}function vy(i){var r=Zt();return Ey(r,Nt,i)}function Ey(i,r,a){r=Hh(i,r,yy)[0],i=Yl(Qn)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?Pa(r):r;var u=Zt(),h=u.queue,f=h.dispatch;return a!==u.memoizedState&&(mt.flags|=2048,vs(9,u1.bind(null,h,a),{destroy:void 0},null)),[r,f,i]}function u1(i,r){i.action=r}function Ty(i){var r=Zt(),a=Nt;if(a!==null)return Ey(r,a,i);Zt(),r=r.memoizedState,a=Zt();var u=a.queue.dispatch;return a.memoizedState=i,[r,u,!1]}function vs(i,r,a,u){return i={tag:i,create:r,inst:a,deps:u,next:null},r=mt.updateQueue,r===null&&(r=Ql(),mt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(u=a.next,a.next=i,i.next=u,r.lastEffect=i),i}function Ay(){return Zt().memoizedState}function Xl(i,r,a,u){var h=ze();mt.flags|=i,h.memoizedState=vs(1|r,a,{destroy:void 0},u===void 0?null:u)}function $l(i,r,a,u){var h=Zt();u=u===void 0?null:u;var f=h.memoizedState.inst;Nt!==null&&u!==null&&Lh(u,Nt.memoizedState.deps)?h.memoizedState=vs(r,a,f,u):(mt.flags|=i,h.memoizedState=vs(1|r,a,f,u))}function Sy(i,r){Xl(8390656,8,i,r)}function Kh(i,r){$l(2048,8,i,r)}function wy(i,r){return $l(4,2,i,r)}function Ry(i,r){return $l(4,4,i,r)}function by(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Iy(i,r,a){a=a!=null?a.concat([i]):null,$l(4,4,by.bind(null,r,i),a)}function Yh(){}function Cy(i,r){var a=Zt();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&Lh(r,u[1])?u[0]:(a.memoizedState=[i,r],i)}function Dy(i,r){var a=Zt();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&Lh(r,u[1]))return u[0];if(u=i(),Ar){pi(!0);try{i()}finally{pi(!1)}}return a.memoizedState=[u,r],u}function Xh(i,r,a){return a===void 0||(Ai&1073741824)!==0?i.memoizedState=r:(i.memoizedState=a,i=O_(),mt.lanes|=i,xi|=i,a)}function Ny(i,r,a,u){return Ge(a,r)?a:ms.current!==null?(i=Xh(i,a,u),Ge(i,r)||(oe=!0),i):(Ai&42)===0?(oe=!0,i.memoizedState=a):(i=O_(),mt.lanes|=i,xi|=i,r)}function Oy(i,r,a,u,h){var f=F.p;F.p=f!==0&&8>f?f:8;var p=$.T,_={};$.T=_,Zh(i,!1,r,a);try{var E=h(),R=$.S;if(R!==null&&R(_,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var x=s1(E,u);Ua(i,r,x,Xe(i))}else Ua(i,r,u,Xe(i))}catch(L){Ua(i,r,{then:function(){},status:"rejected",reason:L},Xe())}finally{F.p=f,$.T=p}}function c1(){}function $h(i,r,a,u){if(i.tag!==5)throw Error(s(476));var h=xy(i).queue;Oy(i,h,r,Tt,a===null?c1:function(){return My(i),a(u)})}function xy(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:Tt,baseState:Tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:Tt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function My(i){var r=xy(i).next.queue;Ua(i,r,{},Xe())}function Wh(){return we(no)}function Vy(){return Zt().memoizedState}function Py(){return Zt().memoizedState}function h1(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=Xe();i=bi(a);var u=Ii(r,i,a);u!==null&&(Ve(u,r,a),ja(u,r,a)),r={cache:Vh()},i.payload=r;return}r=r.return}}function f1(i,r,a){var u=Xe();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Wl(i)?Ly(r,a):(a=Ih(i,r,a,u),a!==null&&(Ve(a,i,u),ky(a,r,u)))}function Uy(i,r,a){var u=Xe();Ua(i,r,a,u)}function Ua(i,r,a,u){var h={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wl(i))Ly(r,h);else{var f=i.alternate;if(i.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var p=r.lastRenderedState,_=f(p,a);if(h.hasEagerState=!0,h.eagerState=_,Ge(_,p))return Vl(i,r,h,0),Vt===null&&Ml(),!1}catch{}finally{}if(a=Ih(i,r,h,u),a!==null)return Ve(a,i,u),ky(a,r,u),!0}return!1}function Zh(i,r,a,u){if(u={lane:2,revertLane:qf(),action:u,hasEagerState:!1,eagerState:null,next:null},Wl(i)){if(r)throw Error(s(479))}else r=Ih(i,a,u,2),r!==null&&Ve(r,i,2)}function Wl(i){var r=i.alternate;return i===mt||r!==null&&r===mt}function Ly(i,r){ys=Fl=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function ky(i,r,a){if((a&4194176)!==0){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,Xg(i,a)}}var In={readContext:we,use:Kl,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt};In.useCacheRefresh=Yt,In.useMemoCache=Yt,In.useHostTransitionStatus=Yt,In.useFormState=Yt,In.useActionState=Yt,In.useOptimistic=Yt;var Sr={readContext:we,use:Kl,useCallback:function(i,r){return ze().memoizedState=[i,r===void 0?null:r],i},useContext:we,useEffect:Sy,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,Xl(4194308,4,by.bind(null,r,i),a)},useLayoutEffect:function(i,r){return Xl(4194308,4,i,r)},useInsertionEffect:function(i,r){Xl(4,2,i,r)},useMemo:function(i,r){var a=ze();r=r===void 0?null:r;var u=i();if(Ar){pi(!0);try{i()}finally{pi(!1)}}return a.memoizedState=[u,r],u},useReducer:function(i,r,a){var u=ze();if(a!==void 0){var h=a(r);if(Ar){pi(!0);try{a(r)}finally{pi(!1)}}}else h=r;return u.memoizedState=u.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},u.queue=i,i=i.dispatch=f1.bind(null,mt,i),[u.memoizedState,i]},useRef:function(i){var r=ze();return i={current:i},r.memoizedState=i},useState:function(i){i=Gh(i);var r=i.queue,a=Uy.bind(null,mt,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:Yh,useDeferredValue:function(i,r){var a=ze();return Xh(a,i,r)},useTransition:function(){var i=Gh(!1);return i=Oy.bind(null,mt,i.queue,!0,!1),ze().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var u=mt,h=ze();if(wt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Vt===null)throw Error(s(349));(At&60)!==0||oy(u,r,a)}h.memoizedState=a;var f={value:a,getSnapshot:r};return h.queue=f,Sy(uy.bind(null,u,f,i),[i]),u.flags|=2048,vs(9,ly.bind(null,u,f,a,r),{destroy:void 0},null),a},useId:function(){var i=ze(),r=Vt.identifierPrefix;if(wt){var a=Fn,u=Hn;a=(u&~(1<<32-Fe(u)-1)).toString(32)+a,r=":"+r+"R"+a,a=Gl++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=a1++,r=":"+r+"r"+a.toString(32)+":";return i.memoizedState=r},useCacheRefresh:function(){return ze().memoizedState=h1.bind(null,mt)}};Sr.useMemoCache=qh,Sr.useHostTransitionStatus=Wh,Sr.useFormState=_y,Sr.useActionState=_y,Sr.useOptimistic=function(i){var r=ze();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Zh.bind(null,mt,!0,a),a.dispatch=r,[i,r]};var Si={readContext:we,use:Kl,useCallback:Cy,useContext:we,useEffect:Kh,useImperativeHandle:Iy,useInsertionEffect:wy,useLayoutEffect:Ry,useMemo:Dy,useReducer:Yl,useRef:Ay,useState:function(){return Yl(Qn)},useDebugValue:Yh,useDeferredValue:function(i,r){var a=Zt();return Ny(a,Nt.memoizedState,i,r)},useTransition:function(){var i=Yl(Qn)[0],r=Zt().memoizedState;return[typeof i=="boolean"?i:Pa(i),r]},useSyncExternalStore:ay,useId:Vy};Si.useCacheRefresh=Py,Si.useMemoCache=qh,Si.useHostTransitionStatus=Wh,Si.useFormState=vy,Si.useActionState=vy,Si.useOptimistic=function(i,r){var a=Zt();return fy(a,Nt,i,r)};var wr={readContext:we,use:Kl,useCallback:Cy,useContext:we,useEffect:Kh,useImperativeHandle:Iy,useInsertionEffect:wy,useLayoutEffect:Ry,useMemo:Dy,useReducer:Fh,useRef:Ay,useState:function(){return Fh(Qn)},useDebugValue:Yh,useDeferredValue:function(i,r){var a=Zt();return Nt===null?Xh(a,i,r):Ny(a,Nt.memoizedState,i,r)},useTransition:function(){var i=Fh(Qn)[0],r=Zt().memoizedState;return[typeof i=="boolean"?i:Pa(i),r]},useSyncExternalStore:ay,useId:Vy};wr.useCacheRefresh=Py,wr.useMemoCache=qh,wr.useHostTransitionStatus=Wh,wr.useFormState=Ty,wr.useActionState=Ty,wr.useOptimistic=function(i,r){var a=Zt();return Nt!==null?fy(a,Nt,i,r):(a.baseState=i,[i,a.queue.dispatch])};function Jh(i,r,a,u){r=i.memoizedState,a=a(u,r),a=a==null?r:yt({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var tf={isMounted:function(i){return(i=i._reactInternals)?it(i)===i:!1},enqueueSetState:function(i,r,a){i=i._reactInternals;var u=Xe(),h=bi(u);h.payload=r,a!=null&&(h.callback=a),r=Ii(i,h,u),r!==null&&(Ve(r,i,u),ja(r,i,u))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var u=Xe(),h=bi(u);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Ii(i,h,u),r!==null&&(Ve(r,i,u),ja(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=Xe(),u=bi(a);u.tag=2,r!=null&&(u.callback=r),r=Ii(i,u,a),r!==null&&(Ve(r,i,a),ja(r,i,a))}};function jy(i,r,a,u,h,f,p){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,f,p):r.prototype&&r.prototype.isPureReactComponent?!Sa(a,u)||!Sa(h,f):!0}function zy(i,r,a,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==i&&tf.enqueueReplaceState(r,r.state,null)}function Rr(i,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(i=i.defaultProps){a===r&&(a=yt({},a));for(var h in i)a[h]===void 0&&(a[h]=i[h])}return a}var Zl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function By(i){Zl(i)}function qy(i){console.error(i)}function Hy(i){Zl(i)}function Jl(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Fy(i,r,a){try{var u=i.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ef(i,r,a){return a=bi(a),a.tag=3,a.payload={element:null},a.callback=function(){Jl(i,r)},a}function Gy(i){return i=bi(i),i.tag=3,i}function Qy(i,r,a,u){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=u.value;i.payload=function(){return h(f)},i.callback=function(){Fy(r,a,u)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(i.callback=function(){Fy(r,a,u),typeof h!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var _=u.stack;this.componentDidCatch(u.value,{componentStack:_!==null?_:""})})}function d1(i,r,a,u,h){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&ka(r,a,h,!0),a=an.current,a!==null){switch(a.tag){case 13:return bn===null?Lf():a.alternate===null&&Gt===0&&(Gt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,u===Oh?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),jf(i,u,h)),!1;case 22:return a.flags|=65536,u===Oh?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),jf(i,u,h)),!1}throw Error(s(435,a.tag))}return jf(i,u,h),Lf(),!1}if(wt)return r=an.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,u!==Nh&&(i=Error(s(422),{cause:u}),Ia(nn(i,a)))):(u!==Nh&&(r=Error(s(423),{cause:u}),Ia(nn(r,a))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,u=nn(u,a),h=ef(i.stateNode,u,h),yf(i,h),Gt!==4&&(Gt=2)),!1;var f=Error(s(520),{cause:u});if(f=nn(f,a),Ka===null?Ka=[f]:Ka.push(f),Gt!==4&&(Gt=2),r===null)return!0;u=nn(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=h&-h,a.lanes|=i,i=ef(a.stateNode,u,i),yf(a,i),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Mi===null||!Mi.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Gy(h),Qy(h,i,a,u),yf(a,h),!1}a=a.return}while(a!==null);return!1}var Ky=Error(s(461)),oe=!1;function ge(i,r,a,u){r.child=i===null?Zp(r,null,a,u):Er(r,i.child,a,u)}function Yy(i,r,a,u,h){a=a.render;var f=r.ref;if("ref"in u){var p={};for(var _ in u)_!=="ref"&&(p[_]=u[_])}else p=u;return Ir(r),u=kh(i,r,a,p,f,h),_=jh(),i!==null&&!oe?(zh(i,r,h),Kn(i,r,h)):(wt&&_&&Ch(r),r.flags|=1,ge(i,r,u,h),r.child)}function Xy(i,r,a,u,h){if(i===null){var f=a.type;return typeof f=="function"&&!Rf(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,$y(i,r,f,u,h)):(i=ru(a.type,null,u,r,r.mode,h),i.ref=r.ref,i.return=r,r.child=i)}if(f=i.child,!hf(i,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Sa,a(p,u)&&i.ref===r.ref)return Kn(i,r,h)}return r.flags|=1,i=Oi(f,u),i.ref=r.ref,i.return=r,r.child=i}function $y(i,r,a,u,h){if(i!==null){var f=i.memoizedProps;if(Sa(f,u)&&i.ref===r.ref)if(oe=!1,r.pendingProps=u=f,hf(i,h))(i.flags&131072)!==0&&(oe=!0);else return r.lanes=i.lanes,Kn(i,r,h)}return nf(i,r,a,u,h)}function Wy(i,r,a){var u=r.pendingProps,h=u.children,f=(r.stateNode._pendingVisibility&2)!==0,p=i!==null?i.memoizedState:null;if(La(i,r),u.mode==="hidden"||f){if((r.flags&128)!==0){if(u=p!==null?p.baseLanes|a:a,i!==null){for(h=r.child=i.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;r.childLanes=f&~u}else r.childLanes=0,r.child=null;return Zy(i,r,u,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Hl(r,p!==null?p.cachePool:null),p!==null?Jp(r,p):xh(),ty(r);else return r.lanes=r.childLanes=536870912,Zy(i,r,p!==null?p.baseLanes|a:a,a)}else p!==null?(Hl(r,p.cachePool),Jp(r,p),Ti(),r.memoizedState=null):(i!==null&&Hl(r,null),xh(),Ti());return ge(i,r,h,a),r.child}function Zy(i,r,a,u){var h=Uh();return h=h===null?null:{parent:re._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},i!==null&&Hl(r,null),xh(),ty(r),i!==null&&ka(i,r,u,!0),null}function La(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=2097664)}}function nf(i,r,a,u,h){return Ir(r),a=kh(i,r,a,u,void 0,h),u=jh(),i!==null&&!oe?(zh(i,r,h),Kn(i,r,h)):(wt&&u&&Ch(r),r.flags|=1,ge(i,r,a,h),r.child)}function Jy(i,r,a,u,h,f){return Ir(r),r.updateQueue=null,a=sy(r,u,a,h),ry(i),u=jh(),i!==null&&!oe?(zh(i,r,f),Kn(i,r,f)):(wt&&u&&Ch(r),r.flags|=1,ge(i,r,a,f),r.child)}function t_(i,r,a,u,h){if(Ir(r),r.stateNode===null){var f=cs,p=a.contextType;typeof p=="object"&&p!==null&&(f=we(p)),f=new a(u,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=tf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=u,f.state=r.memoizedState,f.refs={},gf(r),p=a.contextType,f.context=typeof p=="object"&&p!==null?we(p):cs,f.state=r.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Jh(r,a,p,u),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&tf.enqueueReplaceState(f,f.state,null),Ba(r,u,f,h),za(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){f=r.stateNode;var _=r.memoizedProps,E=Rr(a,_);f.props=E;var R=f.context,x=a.contextType;p=cs,typeof x=="object"&&x!==null&&(p=we(x));var L=a.getDerivedStateFromProps;x=typeof L=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=r.pendingProps!==_,x||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||R!==p)&&zy(r,f,u,p),Ri=!1;var D=r.memoizedState;f.state=D,Ba(r,u,f,h),za(),R=r.memoizedState,_||D!==R||Ri?(typeof L=="function"&&(Jh(r,a,L,u),R=r.memoizedState),(E=Ri||jy(r,a,E,u,D,R,p))?(x||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=R),f.props=u,f.state=R,f.context=p,u=E):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{f=r.stateNode,pf(i,r),p=r.memoizedProps,x=Rr(a,p),f.props=x,L=r.pendingProps,D=f.context,R=a.contextType,E=cs,typeof R=="object"&&R!==null&&(E=we(R)),_=a.getDerivedStateFromProps,(R=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==L||D!==E)&&zy(r,f,u,E),Ri=!1,D=r.memoizedState,f.state=D,Ba(r,u,f,h),za();var N=r.memoizedState;p!==L||D!==N||Ri||i!==null&&i.dependencies!==null&&tu(i.dependencies)?(typeof _=="function"&&(Jh(r,a,_,u),N=r.memoizedState),(x=Ri||jy(r,a,x,u,D,N,E)||i!==null&&i.dependencies!==null&&tu(i.dependencies))?(R||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(u,N,E),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(u,N,E)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===i.memoizedProps&&D===i.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===i.memoizedProps&&D===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=N),f.props=u,f.state=N,f.context=E,u=x):(typeof f.componentDidUpdate!="function"||p===i.memoizedProps&&D===i.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===i.memoizedProps&&D===i.memoizedState||(r.flags|=1024),u=!1)}return f=u,La(i,r),u=(r.flags&128)!==0,f||u?(f=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,i!==null&&u?(r.child=Er(r,i.child,null,h),r.child=Er(r,null,a,h)):ge(i,r,a,h),r.memoizedState=f.state,i=r.child):i=Kn(i,r,h),i}function e_(i,r,a,u){return ba(),r.flags|=256,ge(i,r,a,u),r.child}var rf={dehydrated:null,treeContext:null,retryLane:0};function sf(i){return{baseLanes:i,cachePool:iy()}}function af(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=cn),i}function n_(i,r,a){var u=r.pendingProps,h=!1,f=(r.flags&128)!==0,p;if((p=f)||(p=i!==null&&i.memoizedState===null?!1:(ie.current&2)!==0),p&&(h=!0,r.flags&=-129),p=(r.flags&32)!==0,r.flags&=-33,i===null){if(wt){if(h?Ei(r):Ti(),wt){var _=me,E;if(E=_){t:{for(E=_,_=Rn;E.nodeType!==8;){if(!_){_=null;break t}if(E=_n(E.nextSibling),E===null){_=null;break t}}_=E}_!==null?(r.memoizedState={dehydrated:_,treeContext:yr!==null?{id:Hn,overflow:Fn}:null,retryLane:536870912},E=un(18,null,null,0),E.stateNode=_,E.return=r,r.child=E,Me=r,me=null,E=!0):E=!1}E||vr(r)}if(_=r.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return _.data==="$!"?r.lanes=16:r.lanes=536870912,null;Gn(r)}return _=u.children,u=u.fallback,h?(Ti(),h=r.mode,_=lf({mode:"hidden",children:_},h),u=Dr(u,h,a,null),_.return=r,u.return=r,_.sibling=u,r.child=_,h=r.child,h.memoizedState=sf(a),h.childLanes=af(i,p,a),r.memoizedState=rf,u):(Ei(r),of(r,_))}if(E=i.memoizedState,E!==null&&(_=E.dehydrated,_!==null)){if(f)r.flags&256?(Ei(r),r.flags&=-257,r=uf(i,r,a)):r.memoizedState!==null?(Ti(),r.child=i.child,r.flags|=128,r=null):(Ti(),h=u.fallback,_=r.mode,u=lf({mode:"visible",children:u.children},_),h=Dr(h,_,a,null),h.flags|=2,u.return=r,h.return=r,u.sibling=h,r.child=u,Er(r,i.child,null,a),u=r.child,u.memoizedState=sf(a),u.childLanes=af(i,p,a),r.memoizedState=rf,r=h);else if(Ei(r),_.data==="$!"){if(p=_.nextSibling&&_.nextSibling.dataset,p)var R=p.dgst;p=R,u=Error(s(419)),u.stack="",u.digest=p,Ia({value:u,source:null,stack:null}),r=uf(i,r,a)}else if(oe||ka(i,r,a,!1),p=(a&i.childLanes)!==0,oe||p){if(p=Vt,p!==null){if(u=a&-a,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(p.suspendedLanes|a))!==0?0:u,u!==0&&u!==E.retryLane)throw E.retryLane=u,vi(i,u),Ve(p,i,u),Ky}_.data==="$?"||Lf(),r=uf(i,r,a)}else _.data==="$?"?(r.flags|=128,r.child=i.child,r=C1.bind(null,i),_._reactRetry=r,r=null):(i=E.treeContext,me=_n(_.nextSibling),Me=r,wt=!0,pn=null,Rn=!1,i!==null&&(rn[sn++]=Hn,rn[sn++]=Fn,rn[sn++]=yr,Hn=i.id,Fn=i.overflow,yr=r),r=of(r,u.children),r.flags|=4096);return r}return h?(Ti(),h=u.fallback,_=r.mode,E=i.child,R=E.sibling,u=Oi(E,{mode:"hidden",children:u.children}),u.subtreeFlags=E.subtreeFlags&31457280,R!==null?h=Oi(R,h):(h=Dr(h,_,a,null),h.flags|=2),h.return=r,u.return=r,u.sibling=h,r.child=u,u=h,h=r.child,_=i.child.memoizedState,_===null?_=sf(a):(E=_.cachePool,E!==null?(R=re._currentValue,E=E.parent!==R?{parent:R,pool:R}:E):E=iy(),_={baseLanes:_.baseLanes|a,cachePool:E}),h.memoizedState=_,h.childLanes=af(i,p,a),r.memoizedState=rf,u):(Ei(r),a=i.child,i=a.sibling,a=Oi(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,i!==null&&(p=r.deletions,p===null?(r.deletions=[i],r.flags|=16):p.push(i)),r.child=a,r.memoizedState=null,a)}function of(i,r){return r=lf({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function lf(i,r){return C_(i,r,0,null)}function uf(i,r,a){return Er(r,i.child,null,a),i=of(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function i_(i,r,a){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),df(i.return,r,a)}function cf(i,r,a,u,h){var f=i.memoizedState;f===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:h}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=u,f.tail=a,f.tailMode=h)}function r_(i,r,a){var u=r.pendingProps,h=u.revealOrder,f=u.tail;if(ge(i,r,u.children,a),u=ie.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&i_(i,a,r);else if(i.tag===19)i_(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(zt(ie,u),h){case"forwards":for(a=r.child,h=null;a!==null;)i=a.alternate,i!==null&&ql(i)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),cf(r,!1,h,a,f);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(i=h.alternate,i!==null&&ql(i)===null){r.child=h;break}i=h.sibling,h.sibling=a,a=h,h=i}cf(r,!0,a,null,f);break;case"together":cf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Kn(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),xi|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(ka(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=Oi(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=Oi(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function hf(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&tu(i)))}function m1(i,r,a){switch(r.tag){case 3:pl(r,r.stateNode.containerInfo),wi(r,re,i.memoizedState.cache),ba();break;case 27:case 5:th(r);break;case 4:pl(r,r.stateNode.containerInfo);break;case 10:wi(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ei(r),r.flags|=128,null):(a&r.child.childLanes)!==0?n_(i,r,a):(Ei(r),i=Kn(i,r,a),i!==null?i.sibling:null);Ei(r);break;case 19:var h=(i.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(ka(i,r,a,!1),u=(a&r.childLanes)!==0),h){if(u)return r_(i,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),zt(ie,ie.current),u)break;return null;case 22:case 23:return r.lanes=0,Wy(i,r,a);case 24:wi(r,re,i.memoizedState.cache)}return Kn(i,r,a)}function s_(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)oe=!0;else{if(!hf(i,a)&&(r.flags&128)===0)return oe=!1,m1(i,r,a);oe=(i.flags&131072)!==0}else oe=!1,wt&&(r.flags&1048576)!==0&&Hp(r,Ll,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var u=r.elementType,h=u._init;if(u=h(u._payload),r.type=u,typeof u=="function")Rf(u)?(i=Rr(u,i),r.tag=1,r=t_(null,r,u,i,a)):(r.tag=0,r=nf(null,r,u,i,a));else{if(u!=null){if(h=u.$$typeof,h===U){r.tag=11,r=Yy(null,r,u,i,a);break t}else if(h===Y){r.tag=14,r=Xy(null,r,u,i,a);break t}}throw r=mn(u)||u,Error(s(306,r,""))}}return r;case 0:return nf(i,r,r.type,r.pendingProps,a);case 1:return u=r.type,h=Rr(u,r.pendingProps),t_(i,r,u,h,a);case 3:t:{if(pl(r,r.stateNode.containerInfo),i===null)throw Error(s(387));var f=r.pendingProps;h=r.memoizedState,u=h.element,pf(i,r),Ba(r,f,null,a);var p=r.memoizedState;if(f=p.cache,wi(r,re,f),f!==h.cache&&mf(r,[re],a,!0),za(),f=p.element,h.isDehydrated)if(h={element:f,isDehydrated:!1,cache:p.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=e_(i,r,f,a);break t}else if(f!==u){u=nn(Error(s(424)),r),Ia(u),r=e_(i,r,f,a);break t}else for(me=_n(r.stateNode.containerInfo.firstChild),Me=r,wt=!0,pn=null,Rn=!0,a=Zp(r,null,f,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ba(),f===u){r=Kn(i,r,a);break t}ge(i,r,f,a)}r=r.child}return r;case 26:return La(i,r),i===null?(a=lv(r.type,null,r.pendingProps,null))?r.memoizedState=a:wt||(a=r.type,i=r.pendingProps,u=pu(gi.current).createElement(a),u[Se]=r,u[ke]=i,pe(u,a,i),ae(u),r.stateNode=u):r.memoizedState=lv(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return th(r),i===null&&wt&&(u=r.stateNode=sv(r.type,r.pendingProps,gi.current),Me=r,Rn=!0,me=_n(u.firstChild)),u=r.pendingProps.children,i!==null||wt?ge(i,r,u,a):r.child=Er(r,null,u,a),La(i,r),r.child;case 5:return i===null&&wt&&((h=u=me)&&(u=F1(u,r.type,r.pendingProps,Rn),u!==null?(r.stateNode=u,Me=r,me=_n(u.firstChild),Rn=!1,h=!0):h=!1),h||vr(r)),th(r),h=r.type,f=r.pendingProps,p=i!==null?i.memoizedProps:null,u=f.children,Wf(h,f)?u=null:p!==null&&Wf(h,p)&&(r.flags|=32),r.memoizedState!==null&&(h=kh(i,r,o1,null,null,a),no._currentValue=h),La(i,r),ge(i,r,u,a),r.child;case 6:return i===null&&wt&&((i=a=me)&&(a=G1(a,r.pendingProps,Rn),a!==null?(r.stateNode=a,Me=r,me=null,i=!0):i=!1),i||vr(r)),null;case 13:return n_(i,r,a);case 4:return pl(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Er(r,null,u,a):ge(i,r,u,a),r.child;case 11:return Yy(i,r,r.type,r.pendingProps,a);case 7:return ge(i,r,r.pendingProps,a),r.child;case 8:return ge(i,r,r.pendingProps.children,a),r.child;case 12:return ge(i,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,wi(r,r.type,u.value),ge(i,r,u.children,a),r.child;case 9:return h=r.type._context,u=r.pendingProps.children,Ir(r),h=we(h),u=u(h),r.flags|=1,ge(i,r,u,a),r.child;case 14:return Xy(i,r,r.type,r.pendingProps,a);case 15:return $y(i,r,r.type,r.pendingProps,a);case 19:return r_(i,r,a);case 22:return Wy(i,r,a);case 24:return Ir(r),u=we(re),i===null?(h=Uh(),h===null&&(h=Vt,f=Vh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),r.memoizedState={parent:u,cache:h},gf(r),wi(r,re,h)):((i.lanes&a)!==0&&(pf(i,r),Ba(r,null,null,a),za()),h=i.memoizedState,f=r.memoizedState,h.parent!==u?(h={parent:u,cache:u},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),wi(r,re,u)):(u=f.cache,wi(r,re,u),u!==h.cache&&mf(r,[re],a,!0))),ge(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var ff=Ct(null),br=null,Yn=null;function wi(i,r,a){zt(ff,r._currentValue),r._currentValue=a}function Xn(i){i._currentValue=ff.current,$t(ff)}function df(i,r,a){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===a)break;i=i.return}}function mf(i,r,a,u){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var _=f;f=h;for(var E=0;E<r.length;E++)if(_.context===r[E]){f.lanes|=a,_=f.alternate,_!==null&&(_.lanes|=a),df(f.return,a,i),u||(p=null);break t}f=_.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(s(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),df(p,a,i),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===i){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ka(i,r,a,u){i=null;for(var h=r,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var _=h.type;Ge(h.pendingProps.value,p.value)||(i!==null?i.push(_):i=[_])}}else if(h===gl.current){if(p=h.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(no):i=[no])}h=h.return}i!==null&&mf(r,i,a,u),r.flags|=262144}function tu(i){for(i=i.firstContext;i!==null;){if(!Ge(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ir(i){br=i,Yn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function we(i){return a_(br,i)}function eu(i,r){return br===null&&Ir(i),a_(i,r)}function a_(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Yn===null){if(i===null)throw Error(s(308));Yn=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Yn=Yn.next=r;return a}var Ri=!1;function gf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function bi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ii(i,r,a){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(qt&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,r=Pl(i),Bp(i,null,a),r}return Vl(i,u,r,a),Pl(i)}function ja(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,Xg(i,a)}}function yf(i,r){var a=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=r:f=f.next=r}else h=f=r;a={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:u.shared,callbacks:u.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var _f=!1;function za(){if(_f){var i=ps;if(i!==null)throw i}}function Ba(i,r,a,u){_f=!1;var h=i.updateQueue;Ri=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,_=h.shared.pending;if(_!==null){h.shared.pending=null;var E=_,R=E.next;E.next=null,p===null?f=R:p.next=R,p=E;var x=i.alternate;x!==null&&(x=x.updateQueue,_=x.lastBaseUpdate,_!==p&&(_===null?x.firstBaseUpdate=R:_.next=R,x.lastBaseUpdate=E))}if(f!==null){var L=h.baseState;p=0,x=R=E=null,_=f;do{var D=_.lane&-536870913,N=D!==_.lane;if(N?(At&D)===D:(u&D)===D){D!==0&&D===gs&&(_f=!0),x!==null&&(x=x.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});t:{var K=i,lt=_;D=r;var Qt=a;switch(lt.tag){case 1:if(K=lt.payload,typeof K=="function"){L=K.call(Qt,L,D);break t}L=K;break t;case 3:K.flags=K.flags&-65537|128;case 0:if(K=lt.payload,D=typeof K=="function"?K.call(Qt,L,D):K,D==null)break t;L=yt({},L,D);break t;case 2:Ri=!0}}D=_.callback,D!==null&&(i.flags|=64,N&&(i.flags|=8192),N=h.callbacks,N===null?h.callbacks=[D]:N.push(D))}else N={lane:D,tag:_.tag,payload:_.payload,callback:_.callback,next:null},x===null?(R=x=N,E=L):x=x.next=N,p|=D;if(_=_.next,_===null){if(_=h.shared.pending,_===null)break;N=_,_=N.next,N.next=null,h.lastBaseUpdate=N,h.shared.pending=null}}while(!0);x===null&&(E=L),h.baseState=E,h.firstBaseUpdate=R,h.lastBaseUpdate=x,f===null&&(h.shared.lanes=0),xi|=p,i.lanes=p,i.memoizedState=L}}function o_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function l_(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)o_(a[i],r)}function qa(i,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var h=u.next;a=h;do{if((a.tag&i)===i){u=void 0;var f=a.create,p=a.inst;u=f(),p.destroy=u}a=a.next}while(a!==h)}}catch(_){xt(r,r.return,_)}}function Ci(i,r,a){try{var u=r.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var f=h.next;u=f;do{if((u.tag&i)===i){var p=u.inst,_=p.destroy;if(_!==void 0){p.destroy=void 0,h=r;var E=a;try{_()}catch(R){xt(h,E,R)}}}u=u.next}while(u!==f)}}catch(R){xt(r,r.return,R)}}function u_(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{l_(r,a)}catch(u){xt(i,i.return,u)}}}function c_(i,r,a){a.props=Rr(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(u){xt(i,r,u)}}function Cr(i,r){try{var a=i.ref;if(a!==null){var u=i.stateNode;switch(i.tag){case 26:case 27:case 5:var h=u;break;default:h=u}typeof a=="function"?i.refCleanup=a(h):a.current=h}}catch(f){xt(i,r,f)}}function Qe(i,r){var a=i.ref,u=i.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(h){xt(i,r,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){xt(i,r,h)}else a.current=null}function h_(i){var r=i.type,a=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(h){xt(i,i.return,h)}}function f_(i,r,a){try{var u=i.stateNode;j1(u,i.type,a,r),u[ke]=r}catch(h){xt(i,i.return,h)}}function d_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function vf(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||d_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ef(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(i,r):a.insertBefore(i,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(i,a)):(r=a,r.appendChild(i)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=gu));else if(u!==4&&u!==27&&(i=i.child,i!==null))for(Ef(i,r,a),i=i.sibling;i!==null;)Ef(i,r,a),i=i.sibling}function nu(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(u!==4&&u!==27&&(i=i.child,i!==null))for(nu(i,r,a),i=i.sibling;i!==null;)nu(i,r,a),i=i.sibling}var $n=!1,Ft=!1,Tf=!1,m_=typeof WeakSet=="function"?WeakSet:Set,le=null,g_=!1;function g1(i,r){if(i=i.containerInfo,Xf=Au,i=xp(i),Ah(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var h=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,_=-1,E=-1,R=0,x=0,L=i,D=null;e:for(;;){for(var N;L!==a||h!==0&&L.nodeType!==3||(_=p+h),L!==f||u!==0&&L.nodeType!==3||(E=p+u),L.nodeType===3&&(p+=L.nodeValue.length),(N=L.firstChild)!==null;)D=L,L=N;for(;;){if(L===i)break e;if(D===a&&++R===h&&(_=p),D===f&&++x===u&&(E=p),(N=L.nextSibling)!==null)break;L=D,D=L.parentNode}L=N}a=_===-1||E===-1?null:{start:_,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for($f={focusedElem:i,selectionRange:a},Au=!1,le=r;le!==null;)if(r=le,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,le=i;else for(;le!==null;){switch(r=le,f=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&f!==null){i=void 0,a=r,h=f.memoizedProps,f=f.memoizedState,u=a.stateNode;try{var K=Rr(a.type,h,a.elementType===a.type);i=u.getSnapshotBeforeUpdate(K,f),u.__reactInternalSnapshotBeforeUpdate=i}catch(lt){xt(a,a.return,lt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)td(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":td(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,le=i;break}le=r.return}return K=g_,g_=!1,K}function p_(i,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Zn(i,a),u&4&&qa(5,a);break;case 1:if(Zn(i,a),u&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(_){xt(a,a.return,_)}else{var h=Rr(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(h,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){xt(a,a.return,_)}}u&64&&u_(a),u&512&&Cr(a,a.return);break;case 3:if(Zn(i,a),u&64&&(u=a.updateQueue,u!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{l_(u,i)}catch(_){xt(a,a.return,_)}}break;case 26:Zn(i,a),u&512&&Cr(a,a.return);break;case 27:case 5:Zn(i,a),r===null&&u&4&&h_(a),u&512&&Cr(a,a.return);break;case 12:Zn(i,a);break;case 13:Zn(i,a),u&4&&v_(i,a);break;case 22:if(h=a.memoizedState!==null||$n,!h){r=r!==null&&r.memoizedState!==null||Ft;var f=$n,p=Ft;$n=h,(Ft=r)&&!p?Di(i,a,(a.subtreeFlags&8772)!==0):Zn(i,a),$n=f,Ft=p}u&512&&(a.memoizedProps.mode==="manual"?Cr(a,a.return):Qe(a,a.return));break;default:Zn(i,a)}}function y_(i){var r=i.alternate;r!==null&&(i.alternate=null,y_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&ah(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Jt=null,Ke=!1;function Wn(i,r,a){for(a=a.child;a!==null;)__(i,r,a),a=a.sibling}function __(i,r,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(ha,a)}catch{}switch(a.tag){case 26:Ft||Qe(a,r),Wn(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ft||Qe(a,r);var u=Jt,h=Ke;for(Jt=a.stateNode,Wn(i,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);ah(a),Jt=u,Ke=h;break;case 5:Ft||Qe(a,r);case 6:h=Jt;var f=Ke;if(Jt=null,Wn(i,r,a),Jt=h,Ke=f,Jt!==null)if(Ke)try{i=Jt,u=a.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)}catch(p){xt(a,r,p)}else try{Jt.removeChild(a.stateNode)}catch(p){xt(a,r,p)}break;case 18:Jt!==null&&(Ke?(r=Jt,a=a.stateNode,r.nodeType===8?Jf(r.parentNode,a):r.nodeType===1&&Jf(r,a),ao(r)):Jf(Jt,a.stateNode));break;case 4:u=Jt,h=Ke,Jt=a.stateNode.containerInfo,Ke=!0,Wn(i,r,a),Jt=u,Ke=h;break;case 0:case 11:case 14:case 15:Ft||Ci(2,a,r),Ft||Ci(4,a,r),Wn(i,r,a);break;case 1:Ft||(Qe(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&c_(a,r,u)),Wn(i,r,a);break;case 21:Wn(i,r,a);break;case 22:Ft||Qe(a,r),Ft=(u=Ft)||a.memoizedState!==null,Wn(i,r,a),Ft=u;break;default:Wn(i,r,a)}}function v_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ao(i)}catch(a){xt(r,r.return,a)}}function p1(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new m_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new m_),r;default:throw Error(s(435,i.tag))}}function Af(i,r){var a=p1(i);r.forEach(function(u){var h=D1.bind(null,i,u);a.has(u)||(a.add(u),u.then(h,h))})}function on(i,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var h=a[u],f=i,p=r,_=p;t:for(;_!==null;){switch(_.tag){case 27:case 5:Jt=_.stateNode,Ke=!1;break t;case 3:Jt=_.stateNode.containerInfo,Ke=!0;break t;case 4:Jt=_.stateNode.containerInfo,Ke=!0;break t}_=_.return}if(Jt===null)throw Error(s(160));__(f,p,h),Jt=null,Ke=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)E_(r,i),r=r.sibling}var yn=null;function E_(i,r){var a=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:on(r,i),ln(i),u&4&&(Ci(3,i,i.return),qa(3,i),Ci(5,i,i.return));break;case 1:on(r,i),ln(i),u&512&&(Ft||a===null||Qe(a,a.return)),u&64&&$n&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var h=yn;if(on(r,i),ln(i),u&512&&(Ft||a===null||Qe(a,a.return)),u&4){var f=a!==null?a.memoizedState:null;if(u=i.memoizedState,a===null)if(u===null)if(i.stateNode===null){t:{u=i.type,a=i.memoizedProps,h=h.ownerDocument||h;e:switch(u){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ma]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(u),h.head.insertBefore(f,h.querySelector("head > title"))),pe(f,u,a),f[Se]=i,ae(f),u=f;break t;case"link":var p=hv("link","href",h).get(u+(a.href||""));if(p){for(var _=0;_<p.length;_++)if(f=p[_],f.getAttribute("href")===(a.href==null?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(_,1);break e}}f=h.createElement(u),pe(f,u,a),h.head.appendChild(f);break;case"meta":if(p=hv("meta","content",h).get(u+(a.content||""))){for(_=0;_<p.length;_++)if(f=p[_],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(_,1);break e}}f=h.createElement(u),pe(f,u,a),h.head.appendChild(f);break;default:throw Error(s(468,u))}f[Se]=i,ae(f),u=f}i.stateNode=u}else fv(h,i.type,i.stateNode);else i.stateNode=cv(h,u,i.memoizedProps);else f!==u?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,u===null?fv(h,i.type,i.stateNode):cv(h,u,i.memoizedProps)):u===null&&i.stateNode!==null&&f_(i,i.memoizedProps,a.memoizedProps)}break;case 27:if(u&4&&i.alternate===null){h=i.stateNode,f=i.memoizedProps;try{for(var E=h.firstChild;E;){var R=E.nextSibling,x=E.nodeName;E[ma]||x==="HEAD"||x==="BODY"||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&E.rel.toLowerCase()==="stylesheet"||h.removeChild(E),E=R}for(var L=i.type,D=h.attributes;D.length;)h.removeAttributeNode(D[0]);pe(h,L,f),h[Se]=i,h[ke]=f}catch(K){xt(i,i.return,K)}}case 5:if(on(r,i),ln(i),u&512&&(Ft||a===null||Qe(a,a.return)),i.flags&32){h=i.stateNode;try{is(h,"")}catch(K){xt(i,i.return,K)}}u&4&&i.stateNode!=null&&(h=i.memoizedProps,f_(i,h,a!==null?a.memoizedProps:h)),u&1024&&(Tf=!0);break;case 6:if(on(r,i),ln(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,a=i.stateNode;try{a.nodeValue=u}catch(K){xt(i,i.return,K)}}break;case 3:if(vu=null,h=yn,yn=yu(r.containerInfo),on(r,i),yn=h,ln(i),u&4&&a!==null&&a.memoizedState.isDehydrated)try{ao(r.containerInfo)}catch(K){xt(i,i.return,K)}Tf&&(Tf=!1,T_(i));break;case 4:u=yn,yn=yu(i.stateNode.containerInfo),on(r,i),ln(i),yn=u;break;case 12:on(r,i),ln(i);break;case 13:on(r,i),ln(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Of=wn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Af(i,u)));break;case 22:if(u&512&&(Ft||a===null||Qe(a,a.return)),E=i.memoizedState!==null,R=a!==null&&a.memoizedState!==null,x=$n,L=Ft,$n=x||E,Ft=L||R,on(r,i),Ft=L,$n=x,ln(i),r=i.stateNode,r._current=i,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,u&8192&&(r._visibility=E?r._visibility&-2:r._visibility|1,E&&(r=$n||Ft,a===null||R||r||Es(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))t:for(a=null,r=i;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){R=a=r;try{if(h=R.stateNode,E)f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{p=R.stateNode,_=R.memoizedProps.style;var N=_!=null&&_.hasOwnProperty("display")?_.display:null;p.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(K){xt(R,R.return,K)}}}else if(r.tag===6){if(a===null){R=r;try{R.stateNode.nodeValue=E?"":R.memoizedProps}catch(K){xt(R,R.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Af(i,a))));break;case 19:on(r,i),ln(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Af(i,u)));break;case 21:break;default:on(r,i),ln(i)}}function ln(i){var r=i.flags;if(r&2){try{if(i.tag!==27){t:{for(var a=i.return;a!==null;){if(d_(a)){var u=a;break t}a=a.return}throw Error(s(160))}switch(u.tag){case 27:var h=u.stateNode,f=vf(i);nu(i,f,h);break;case 5:var p=u.stateNode;u.flags&32&&(is(p,""),u.flags&=-33);var _=vf(i);nu(i,_,p);break;case 3:case 4:var E=u.stateNode.containerInfo,R=vf(i);Ef(i,R,E);break;default:throw Error(s(161))}}}catch(x){xt(i,i.return,x)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function T_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;T_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Zn(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)p_(i,r.alternate,r),r=r.sibling}function Es(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ci(4,r,r.return),Es(r);break;case 1:Qe(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&c_(r,r.return,a),Es(r);break;case 26:case 27:case 5:Qe(r,r.return),Es(r);break;case 22:Qe(r,r.return),r.memoizedState===null&&Es(r);break;default:Es(r)}i=i.sibling}}function Di(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,h=i,f=r,p=f.flags;switch(f.tag){case 0:case 11:case 15:Di(h,f,a),qa(4,f);break;case 1:if(Di(h,f,a),u=f,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(R){xt(u,u.return,R)}if(u=f,h=u.updateQueue,h!==null){var _=u.stateNode;try{var E=h.shared.hiddenCallbacks;if(E!==null)for(h.shared.hiddenCallbacks=null,h=0;h<E.length;h++)o_(E[h],_)}catch(R){xt(u,u.return,R)}}a&&p&64&&u_(f),Cr(f,f.return);break;case 26:case 27:case 5:Di(h,f,a),a&&u===null&&p&4&&h_(f),Cr(f,f.return);break;case 12:Di(h,f,a);break;case 13:Di(h,f,a),a&&p&4&&v_(h,f);break;case 22:f.memoizedState===null&&Di(h,f,a),Cr(f,f.return);break;default:Di(h,f,a)}r=r.sibling}}function Sf(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&xa(a))}function wf(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&xa(i))}function Ni(i,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)A_(i,r,a,u),r=r.sibling}function A_(i,r,a,u){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ni(i,r,a,u),h&2048&&qa(9,r);break;case 3:Ni(i,r,a,u),h&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&xa(i)));break;case 12:if(h&2048){Ni(i,r,a,u),i=r.stateNode;try{var f=r.memoizedProps,p=f.id,_=f.onPostCommit;typeof _=="function"&&_(p,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(E){xt(r,r.return,E)}}else Ni(i,r,a,u);break;case 23:break;case 22:f=r.stateNode,r.memoizedState!==null?f._visibility&4?Ni(i,r,a,u):Ha(i,r):f._visibility&4?Ni(i,r,a,u):(f._visibility|=4,Ts(i,r,a,u,(r.subtreeFlags&10256)!==0)),h&2048&&Sf(r.alternate,r);break;case 24:Ni(i,r,a,u),h&2048&&wf(r.alternate,r);break;default:Ni(i,r,a,u)}}function Ts(i,r,a,u,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var f=i,p=r,_=a,E=u,R=p.flags;switch(p.tag){case 0:case 11:case 15:Ts(f,p,_,E,h),qa(8,p);break;case 23:break;case 22:var x=p.stateNode;p.memoizedState!==null?x._visibility&4?Ts(f,p,_,E,h):Ha(f,p):(x._visibility|=4,Ts(f,p,_,E,h)),h&&R&2048&&Sf(p.alternate,p);break;case 24:Ts(f,p,_,E,h),h&&R&2048&&wf(p.alternate,p);break;default:Ts(f,p,_,E,h)}r=r.sibling}}function Ha(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,u=r,h=u.flags;switch(u.tag){case 22:Ha(a,u),h&2048&&Sf(u.alternate,u);break;case 24:Ha(a,u),h&2048&&wf(u.alternate,u);break;default:Ha(a,u)}r=r.sibling}}var Fa=8192;function As(i){if(i.subtreeFlags&Fa)for(i=i.child;i!==null;)S_(i),i=i.sibling}function S_(i){switch(i.tag){case 26:As(i),i.flags&Fa&&i.memoizedState!==null&&rR(yn,i.memoizedState,i.memoizedProps);break;case 5:As(i);break;case 3:case 4:var r=yn;yn=yu(i.stateNode.containerInfo),As(i),yn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Fa,Fa=16777216,As(i),Fa=r):As(i));break;default:As(i)}}function w_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Ga(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];le=u,b_(u,i)}w_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)R_(i),i=i.sibling}function R_(i){switch(i.tag){case 0:case 11:case 15:Ga(i),i.flags&2048&&Ci(9,i,i.return);break;case 3:Ga(i);break;case 12:Ga(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&4&&(i.return===null||i.return.tag!==13)?(r._visibility&=-5,iu(i)):Ga(i);break;default:Ga(i)}}function iu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];le=u,b_(u,i)}w_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ci(8,r,r.return),iu(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,iu(r));break;default:iu(r)}i=i.sibling}}function b_(i,r){for(;le!==null;){var a=le;switch(a.tag){case 0:case 11:case 15:Ci(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:xa(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,le=u;else t:for(a=i;le!==null;){u=le;var h=u.sibling,f=u.return;if(y_(u),u===a){le=null;break t}if(h!==null){h.return=f,le=h;break t}le=f}}}function y1(i,r,a,u){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(i,r,a,u){return new y1(i,r,a,u)}function Rf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Oi(i,r){var a=i.alternate;return a===null?(a=un(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&31457280,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function I_(i,r){i.flags&=31457282;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function ru(i,r,a,u,h,f){var p=0;if(u=i,typeof i=="function")Rf(i)&&(p=1);else if(typeof i=="string")p=nR(i,a,Sn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case d:return Dr(a.children,h,f,r);case g:p=8,h|=24;break;case y:return i=un(12,a,r,h|2),i.elementType=y,i.lanes=f,i;case j:return i=un(13,a,r,h),i.elementType=j,i.lanes=f,i;case O:return i=un(19,a,r,h),i.elementType=O,i.lanes=f,i;case nt:return C_(a,h,f,r);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case v:case I:p=10;break t;case T:p=9;break t;case U:p=11;break t;case Y:p=14;break t;case J:p=16,u=null;break t}p=29,a=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=un(p,a,r,h),r.elementType=i,r.type=u,r.lanes=f,r}function Dr(i,r,a,u){return i=un(7,i,u,r),i.lanes=a,i}function C_(i,r,a,u){i=un(22,i,u,r),i.elementType=nt,i.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var p=vi(f,2);p!==null&&(h._pendingVisibility|=2,Ve(p,f,2))}},attach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var p=vi(f,2);p!==null&&(h._pendingVisibility&=-3,Ve(p,f,2))}}};return i.stateNode=h,i}function bf(i,r,a){return i=un(6,i,null,r),i.lanes=a,i}function If(i,r,a){return r=un(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}function Jn(i){i.flags|=4}function D_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!dv(r)){if(r=an.current,r!==null&&((At&4194176)===At?bn!==null:(At&62914560)!==At&&(At&536870912)===0||r!==bn))throw Da=Oh,Qp;i.flags|=8192}}function su(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Kg():536870912,i.lanes|=r,ws|=r)}function Qa(i,r){if(!wt)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Bt(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,u=0;if(r)for(var h=i.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags&31457280,u|=h.flags&31457280,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=u,i.childLanes=a,r}function _1(i,r,a){var u=r.pendingProps;switch(Dh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(r),null;case 1:return Bt(r),null;case 3:return a=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Xn(re),Wr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Ra(r)?Jn(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,pn!==null&&(Pf(pn),pn=null))),Bt(r),null;case 26:return a=r.memoizedState,i===null?(Jn(r),a!==null?(Bt(r),D_(r,a)):(Bt(r),r.flags&=-16777217)):a?a!==i.memoizedState?(Jn(r),Bt(r),D_(r,a)):(Bt(r),r.flags&=-16777217):(i.memoizedProps!==u&&Jn(r),Bt(r),r.flags&=-16777217),null;case 27:yl(r),a=gi.current;var h=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Jn(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Bt(r),null}i=Sn.current,Ra(r)?Fp(r):(i=sv(h,u,a),r.stateNode=i,Jn(r))}return Bt(r),null;case 5:if(yl(r),a=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Jn(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Bt(r),null}if(i=Sn.current,Ra(r))Fp(r);else{switch(h=pu(gi.current),i){case 1:i=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?h.createElement(a,{is:u.is}):h.createElement(a)}}i[Se]=r,i[ke]=u;t:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break t;for(;h.sibling===null;){if(h.return===null||h.return===r)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=i;t:switch(pe(i,a,u),a){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Jn(r)}}return Bt(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&Jn(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=gi.current,Ra(r)){if(i=r.stateNode,a=r.memoizedProps,u=null,h=Me,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}i[Se]=r,i=!!(i.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||J_(i.nodeValue,a)),i||vr(r)}else i=pu(i).createTextNode(u),i[Se]=r,r.stateNode=i}return Bt(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=Ra(r),u!==null&&u.dehydrated!==null){if(i===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Se]=r}else ba(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Bt(r),h=!1}else pn!==null&&(Pf(pn),pn=null),h=!0;if(!h)return r.flags&256?(Gn(r),r):(Gn(r),null)}if(Gn(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=u!==null,i=i!==null&&i.memoizedState!==null,a){u=r.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var f=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(f=u.memoizedState.cachePool.pool),f!==h&&(u.flags|=2048)}return a!==i&&a&&(r.child.flags|=8192),su(r,r.updateQueue),Bt(r),null;case 4:return Wr(),i===null&&Qf(r.stateNode.containerInfo),Bt(r),null;case 10:return Xn(r.type),Bt(r),null;case 19:if($t(ie),h=r.memoizedState,h===null)return Bt(r),null;if(u=(r.flags&128)!==0,f=h.rendering,f===null)if(u)Qa(h,!1);else{if(Gt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(f=ql(i),f!==null){for(r.flags|=128,Qa(h,!1),i=f.updateQueue,r.updateQueue=i,su(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)I_(a,i),a=a.sibling;return zt(ie,ie.current&1|2),r.child}i=i.sibling}h.tail!==null&&wn()>au&&(r.flags|=128,u=!0,Qa(h,!1),r.lanes=4194304)}else{if(!u)if(i=ql(f),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,su(r,i),Qa(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!wt)return Bt(r),null}else 2*wn()-h.renderingStartTime>au&&a!==536870912&&(r.flags|=128,u=!0,Qa(h,!1),r.lanes=4194304);h.isBackwards?(f.sibling=r.child,r.child=f):(i=h.last,i!==null?i.sibling=f:r.child=f,h.last=f)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=wn(),r.sibling=null,i=ie.current,zt(ie,u?i&1|2:i&1),r):(Bt(r),null);case 22:case 23:return Gn(r),Mh(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(Bt(r),r.subtreeFlags&6&&(r.flags|=8192)):Bt(r),a=r.updateQueue,a!==null&&su(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),i!==null&&$t(Tr),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Xn(re),Bt(r),null;case 25:return null}throw Error(s(156,r.tag))}function v1(i,r){switch(Dh(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Xn(re),Wr(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return yl(r),null;case 13:if(Gn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ba()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return $t(ie),null;case 4:return Wr(),null;case 10:return Xn(r.type),null;case 22:case 23:return Gn(r),Mh(),i!==null&&$t(Tr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Xn(re),null;case 25:return null;default:return null}}function N_(i,r){switch(Dh(r),r.tag){case 3:Xn(re),Wr();break;case 26:case 27:case 5:yl(r);break;case 4:Wr();break;case 13:Gn(r);break;case 19:$t(ie);break;case 10:Xn(r.type);break;case 22:case 23:Gn(r),Mh(),i!==null&&$t(Tr);break;case 24:Xn(re)}}var E1={getCacheForType:function(i){var r=we(re),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a}},T1=typeof WeakMap=="function"?WeakMap:Map,qt=0,Vt=null,pt=null,At=0,Pt=0,Ye=null,ti=!1,Ss=!1,Cf=!1,ei=0,Gt=0,xi=0,Nr=0,Df=0,cn=0,ws=0,Ka=null,Cn=null,Nf=!1,Of=0,au=1/0,ou=null,Mi=null,lu=!1,Or=null,Ya=0,xf=0,Mf=null,Xa=0,Vf=null;function Xe(){if((qt&2)!==0&&At!==0)return At&-At;if($.T!==null){var i=gs;return i!==0?i:qf()}return Wg()}function O_(){cn===0&&(cn=(At&536870912)===0||wt?Qg():536870912);var i=an.current;return i!==null&&(i.flags|=32),cn}function Ve(i,r,a){(i===Vt&&Pt===2||i.cancelPendingCommit!==null)&&(Rs(i,0),ni(i,At,cn,!1)),da(i,a),((qt&2)===0||i!==Vt)&&(i===Vt&&((qt&2)===0&&(Nr|=a),Gt===4&&ni(i,At,cn,!1)),Dn(i))}function x_(i,r,a){if((qt&6)!==0)throw Error(s(327));var u=!a&&(r&60)===0&&(r&i.expiredLanes)===0||fa(i,r),h=u?w1(i,r):kf(i,r,!0),f=u;do{if(h===0){Ss&&!u&&ni(i,r,0,!1);break}else if(h===6)ni(i,r,0,!ti);else{if(a=i.current.alternate,f&&!A1(a)){h=kf(i,r,!1),f=!1;continue}if(h===2){if(f=r,i.errorRecoveryDisabledLanes&f)var p=0;else p=i.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){r=p;t:{var _=i;h=Ka;var E=_.current.memoizedState.isDehydrated;if(E&&(Rs(_,p).flags|=256),p=kf(_,p,!1),p!==2){if(Cf&&!E){_.errorRecoveryDisabledLanes|=f,Nr|=f,h=4;break t}f=Cn,Cn=h,f!==null&&Pf(f)}h=p}if(f=!1,h!==2)continue}}if(h===1){Rs(i,0),ni(i,r,0,!0);break}t:{switch(u=i,h){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){ni(u,r,cn,!ti);break t}break;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=a,u.finishedLanes=r,(r&62914560)===r&&(f=Of+300-wn(),10<f)){if(ni(u,r,cn,!ti),Tl(u,0)!==0)break t;u.timeoutHandle=nv(M_.bind(null,u,a,Cn,ou,Nf,r,cn,Nr,ws,ti,2,-0,0),f);break t}M_(u,a,Cn,ou,Nf,r,cn,Nr,ws,ti,0,-0,0)}}break}while(!0);Dn(i)}function Pf(i){Cn===null?Cn=i:Cn.push.apply(Cn,i)}function M_(i,r,a,u,h,f,p,_,E,R,x,L,D){var N=r.subtreeFlags;if((N&8192||(N&16785408)===16785408)&&(eo={stylesheets:null,count:0,unsuspend:iR},S_(r),r=sR(),r!==null)){i.cancelPendingCommit=r(z_.bind(null,i,a,u,h,p,_,E,1,L,D)),ni(i,f,p,!R);return}z_(i,a,u,h,p,_,E,x,L,D)}function A1(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var h=a[u],f=h.getSnapshot;h=h.value;try{if(!Ge(f(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ni(i,r,a,u){r&=~Df,r&=~Nr,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var h=r;0<h;){var f=31-Fe(h),p=1<<f;u[f]=-1,h&=~p}a!==0&&Yg(i,a,r)}function uu(){return(qt&6)===0?($a(0),!1):!0}function Uf(){if(pt!==null){if(Pt===0)var i=pt.return;else i=pt,Yn=br=null,Bh(i),ds=null,Na=0,i=pt;for(;i!==null;)N_(i.alternate,i),i=i.return;pt=null}}function Rs(i,r){i.finishedWork=null,i.finishedLanes=0;var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,B1(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Uf(),Vt=i,pt=a=Oi(i.current,null),At=r,Pt=0,Ye=null,ti=!1,Ss=fa(i,r),Cf=!1,ws=cn=Df=Nr=xi=Gt=0,Cn=Ka=null,Nf=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var h=31-Fe(u),f=1<<h;r|=i[h],u&=~f}return ei=r,Ml(),a}function V_(i,r){mt=null,$.H=In,r===Ca?(r=Xp(),Pt=3):r===Qp?(r=Xp(),Pt=4):Pt=r===Ky?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ye=r,pt===null&&(Gt=1,Jl(i,nn(r,i.current)))}function P_(){var i=$.H;return $.H=In,i===null?In:i}function U_(){var i=$.A;return $.A=E1,i}function Lf(){Gt=4,ti||(At&4194176)!==At&&an.current!==null||(Ss=!0),(xi&134217727)===0&&(Nr&134217727)===0||Vt===null||ni(Vt,At,cn,!1)}function kf(i,r,a){var u=qt;qt|=2;var h=P_(),f=U_();(Vt!==i||At!==r)&&(ou=null,Rs(i,r)),r=!1;var p=Gt;t:do try{if(Pt!==0&&pt!==null){var _=pt,E=Ye;switch(Pt){case 8:Uf(),p=6;break t;case 3:case 2:case 6:an.current===null&&(r=!0);var R=Pt;if(Pt=0,Ye=null,bs(i,_,E,R),a&&Ss){p=0;break t}break;default:R=Pt,Pt=0,Ye=null,bs(i,_,E,R)}}S1(),p=Gt;break}catch(x){V_(i,x)}while(!0);return r&&i.shellSuspendCounter++,Yn=br=null,qt=u,$.H=h,$.A=f,pt===null&&(Vt=null,At=0,Ml()),p}function S1(){for(;pt!==null;)L_(pt)}function w1(i,r){var a=qt;qt|=2;var u=P_(),h=U_();Vt!==i||At!==r?(ou=null,au=wn()+500,Rs(i,r)):Ss=fa(i,r);t:do try{if(Pt!==0&&pt!==null){r=pt;var f=Ye;e:switch(Pt){case 1:Pt=0,Ye=null,bs(i,r,f,1);break;case 2:if(Kp(f)){Pt=0,Ye=null,k_(r);break}r=function(){Pt===2&&Vt===i&&(Pt=7),Dn(i)},f.then(r,r);break t;case 3:Pt=7;break t;case 4:Pt=5;break t;case 7:Kp(f)?(Pt=0,Ye=null,k_(r)):(Pt=0,Ye=null,bs(i,r,f,7));break;case 5:var p=null;switch(pt.tag){case 26:p=pt.memoizedState;case 5:case 27:var _=pt;if(!p||dv(p)){Pt=0,Ye=null;var E=_.sibling;if(E!==null)pt=E;else{var R=_.return;R!==null?(pt=R,cu(R)):pt=null}break e}}Pt=0,Ye=null,bs(i,r,f,5);break;case 6:Pt=0,Ye=null,bs(i,r,f,6);break;case 8:Uf(),Gt=6;break t;default:throw Error(s(462))}}R1();break}catch(x){V_(i,x)}while(!0);return Yn=br=null,$.H=u,$.A=h,qt=a,pt!==null?0:(Vt=null,At=0,Ml(),Gt)}function R1(){for(;pt!==null&&!KS();)L_(pt)}function L_(i){var r=s_(i.alternate,i,ei);i.memoizedProps=i.pendingProps,r===null?cu(i):pt=r}function k_(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=Jy(a,r,r.pendingProps,r.type,void 0,At);break;case 11:r=Jy(a,r,r.pendingProps,r.type.render,r.ref,At);break;case 5:Bh(r);default:N_(a,r),r=pt=I_(r,ei),r=s_(a,r,ei)}i.memoizedProps=i.pendingProps,r===null?cu(i):pt=r}function bs(i,r,a,u){Yn=br=null,Bh(r),ds=null,Na=0;var h=r.return;try{if(d1(i,h,r,a,At)){Gt=1,Jl(i,nn(a,i.current)),pt=null;return}}catch(f){if(h!==null)throw pt=h,f;Gt=1,Jl(i,nn(a,i.current)),pt=null;return}r.flags&32768?(wt||u===1?i=!0:Ss||(At&536870912)!==0?i=!1:(ti=i=!0,(u===2||u===3||u===6)&&(u=an.current,u!==null&&u.tag===13&&(u.flags|=16384))),j_(r,i)):cu(r)}function cu(i){var r=i;do{if((r.flags&32768)!==0){j_(r,ti);return}i=r.return;var a=_1(r.alternate,r,ei);if(a!==null){pt=a;return}if(r=r.sibling,r!==null){pt=r;return}pt=r=i}while(r!==null);Gt===0&&(Gt=5)}function j_(i,r){do{var a=v1(i.alternate,i);if(a!==null){a.flags&=32767,pt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){pt=i;return}pt=i=a}while(i!==null);Gt=6,pt=null}function z_(i,r,a,u,h,f,p,_,E,R){var x=$.T,L=F.p;try{F.p=2,$.T=null,b1(i,r,a,u,L,h,f,p,_,E,R)}finally{$.T=x,F.p=L}}function b1(i,r,a,u,h,f,p,_){do Is();while(Or!==null);if((qt&6)!==0)throw Error(s(327));var E=i.finishedWork;if(u=i.finishedLanes,E===null)return null;if(i.finishedWork=null,i.finishedLanes=0,E===i.current)throw Error(s(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var R=E.lanes|E.childLanes;if(R|=bh,rw(i,u,R,f,p,_),i===Vt&&(pt=Vt=null,At=0),(E.subtreeFlags&10256)===0&&(E.flags&10256)===0||lu||(lu=!0,xf=R,Mf=a,N1(_l,function(){return Is(),null})),a=(E.flags&15990)!==0,(E.subtreeFlags&15990)!==0||a?(a=$.T,$.T=null,f=F.p,F.p=2,p=qt,qt|=4,g1(i,E),E_(E,i),$w($f,i.containerInfo),Au=!!Xf,$f=Xf=null,i.current=E,p_(i,E.alternate,E),YS(),qt=p,F.p=f,$.T=a):i.current=E,lu?(lu=!1,Or=i,Ya=u):B_(i,R),R=i.pendingLanes,R===0&&(Mi=null),JS(E.stateNode),Dn(i),r!==null)for(h=i.onRecoverableError,E=0;E<r.length;E++)R=r[E],h(R.value,{componentStack:R.stack});return(Ya&3)!==0&&Is(),R=i.pendingLanes,(u&4194218)!==0&&(R&42)!==0?i===Vf?Xa++:(Xa=0,Vf=i):Xa=0,$a(0),null}function B_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,xa(r)))}function Is(){if(Or!==null){var i=Or,r=xf;xf=0;var a=$g(Ya),u=$.T,h=F.p;try{if(F.p=32>a?32:a,$.T=null,Or===null)var f=!1;else{a=Mf,Mf=null;var p=Or,_=Ya;if(Or=null,Ya=0,(qt&6)!==0)throw Error(s(331));var E=qt;if(qt|=4,R_(p.current),A_(p,p.current,_,a),qt=E,$a(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(ha,p)}catch{}f=!0}return f}finally{F.p=h,$.T=u,B_(i,r)}}return!1}function q_(i,r,a){r=nn(a,r),r=ef(i.stateNode,r,2),i=Ii(i,r,2),i!==null&&(da(i,2),Dn(i))}function xt(i,r,a){if(i.tag===3)q_(i,i,a);else for(;r!==null;){if(r.tag===3){q_(r,i,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Mi===null||!Mi.has(u))){i=nn(a,i),a=Gy(2),u=Ii(r,a,2),u!==null&&(Qy(a,u,r,i),da(u,2),Dn(u));break}}r=r.return}}function jf(i,r,a){var u=i.pingCache;if(u===null){u=i.pingCache=new T1;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(a)||(Cf=!0,h.add(a),i=I1.bind(null,i,r,a),r.then(i,i))}function I1(i,r,a){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,Vt===i&&(At&a)===a&&(Gt===4||Gt===3&&(At&62914560)===At&&300>wn()-Of?(qt&2)===0&&Rs(i,0):Df|=a,ws===At&&(ws=0)),Dn(i)}function H_(i,r){r===0&&(r=Kg()),i=vi(i,r),i!==null&&(da(i,r),Dn(i))}function C1(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),H_(i,a)}function D1(i,r){var a=0;switch(i.tag){case 13:var u=i.stateNode,h=i.memoizedState;h!==null&&(a=h.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),H_(i,a)}function N1(i,r){return nh(i,r)}var hu=null,Cs=null,zf=!1,fu=!1,Bf=!1,xr=0;function Dn(i){i!==Cs&&i.next===null&&(Cs===null?hu=Cs=i:Cs=Cs.next=i),fu=!0,zf||(zf=!0,x1(O1))}function $a(i,r){if(!Bf&&fu){Bf=!0;do for(var a=!1,u=hu;u!==null;){if(i!==0){var h=u.pendingLanes;if(h===0)var f=0;else{var p=u.suspendedLanes,_=u.pingedLanes;f=(1<<31-Fe(42|i)+1)-1,f&=h&~(p&~_),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(a=!0,Q_(u,f))}else f=At,f=Tl(u,u===Vt?f:0),(f&3)===0||fa(u,f)||(a=!0,Q_(u,f));u=u.next}while(a);Bf=!1}}function O1(){fu=zf=!1;var i=0;xr!==0&&(z1()&&(i=xr),xr=0);for(var r=wn(),a=null,u=hu;u!==null;){var h=u.next,f=F_(u,r);f===0?(u.next=null,a===null?hu=h:a.next=h,h===null&&(Cs=a)):(a=u,(i!==0||(f&3)!==0)&&(fu=!0)),u=h}$a(i)}function F_(i,r){for(var a=i.suspendedLanes,u=i.pingedLanes,h=i.expirationTimes,f=i.pendingLanes&-62914561;0<f;){var p=31-Fe(f),_=1<<p,E=h[p];E===-1?((_&a)===0||(_&u)!==0)&&(h[p]=iw(_,r)):E<=r&&(i.expiredLanes|=_),f&=~_}if(r=Vt,a=At,a=Tl(i,i===r?a:0),u=i.callbackNode,a===0||i===r&&Pt===2||i.cancelPendingCommit!==null)return u!==null&&u!==null&&ih(u),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||fa(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(u!==null&&ih(u),$g(a)){case 2:case 8:a=Fg;break;case 32:a=_l;break;case 268435456:a=Gg;break;default:a=_l}return u=G_.bind(null,i),a=nh(a,u),i.callbackPriority=r,i.callbackNode=a,r}return u!==null&&u!==null&&ih(u),i.callbackPriority=2,i.callbackNode=null,2}function G_(i,r){var a=i.callbackNode;if(Is()&&i.callbackNode!==a)return null;var u=At;return u=Tl(i,i===Vt?u:0),u===0?null:(x_(i,u,r),F_(i,wn()),i.callbackNode!=null&&i.callbackNode===a?G_.bind(null,i):null)}function Q_(i,r){if(Is())return null;x_(i,r,!0)}function x1(i){q1(function(){(qt&6)!==0?nh(Hg,i):i()})}function qf(){return xr===0&&(xr=Qg()),xr}function K_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:bl(""+i)}function Y_(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function M1(i,r,a,u,h){if(r==="submit"&&a&&a.stateNode===h){var f=K_((h[ke]||null).action),p=u.submitter;p&&(r=(r=p[ke]||null)?K_(r.formAction):p.getAttribute("formAction"),r!==null&&(f=r,p=null));var _=new Nl("action","action",null,u,h);i.push({event:_,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(xr!==0){var E=p?Y_(h,p):new FormData(h);$h(a,{pending:!0,data:E,method:h.method,action:f},null,E)}}else typeof f=="function"&&(_.preventDefault(),E=p?Y_(h,p):new FormData(h),$h(a,{pending:!0,data:E,method:h.method,action:f},f,E))},currentTarget:h}]})}}for(var Hf=0;Hf<zp.length;Hf++){var Ff=zp[Hf],V1=Ff.toLowerCase(),P1=Ff[0].toUpperCase()+Ff.slice(1);gn(V1,"on"+P1)}gn(Pp,"onAnimationEnd"),gn(Up,"onAnimationIteration"),gn(Lp,"onAnimationStart"),gn("dblclick","onDoubleClick"),gn("focusin","onFocus"),gn("focusout","onBlur"),gn(Zw,"onTransitionRun"),gn(Jw,"onTransitionStart"),gn(t1,"onTransitionCancel"),gn(kp,"onTransitionEnd"),es("onMouseEnter",["mouseout","mouseover"]),es("onMouseLeave",["mouseout","mouseover"]),es("onPointerEnter",["pointerout","pointerover"]),es("onPointerLeave",["pointerout","pointerover"]),dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wa));function X_(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var u=i[a],h=u.event;u=u.listeners;t:{var f=void 0;if(r)for(var p=u.length-1;0<=p;p--){var _=u[p],E=_.instance,R=_.currentTarget;if(_=_.listener,E!==f&&h.isPropagationStopped())break t;f=_,h.currentTarget=R;try{f(h)}catch(x){Zl(x)}h.currentTarget=null,f=E}else for(p=0;p<u.length;p++){if(_=u[p],E=_.instance,R=_.currentTarget,_=_.listener,E!==f&&h.isPropagationStopped())break t;f=_,h.currentTarget=R;try{f(h)}catch(x){Zl(x)}h.currentTarget=null,f=E}}}}function vt(i,r){var a=r[sh];a===void 0&&(a=r[sh]=new Set);var u=i+"__bubble";a.has(u)||($_(r,i,2,!1),a.add(u))}function Gf(i,r,a){var u=0;r&&(u|=4),$_(a,i,u,r)}var du="_reactListening"+Math.random().toString(36).slice(2);function Qf(i){if(!i[du]){i[du]=!0,Jg.forEach(function(a){a!=="selectionchange"&&(U1.has(a)||Gf(a,!1,i),Gf(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[du]||(r[du]=!0,Gf("selectionchange",!1,r))}}function $_(i,r,a,u){switch(vv(r)){case 2:var h=lR;break;case 8:h=uR;break;default:h=sd}a=h.bind(null,r,a,i),h=void 0,!dh||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?i.addEventListener(r,a,{capture:!0,passive:h}):i.addEventListener(r,a,!0):h!==void 0?i.addEventListener(r,a,{passive:h}):i.addEventListener(r,a,!1)}function Kf(i,r,a,u,h){var f=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var p=u.tag;if(p===3||p===4){var _=u.stateNode.containerInfo;if(_===h||_.nodeType===8&&_.parentNode===h)break;if(p===4)for(p=u.return;p!==null;){var E=p.tag;if((E===3||E===4)&&(E=p.stateNode.containerInfo,E===h||E.nodeType===8&&E.parentNode===h))return;p=p.return}for(;_!==null;){if(p=fr(_),p===null)return;if(E=p.tag,E===5||E===6||E===26||E===27){u=f=p;continue t}_=_.parentNode}}u=u.return}hp(function(){var R=f,x=hh(a),L=[];t:{var D=jp.get(i);if(D!==void 0){var N=Nl,K=i;switch(i){case"keypress":if(Cl(a)===0)break t;case"keydown":case"keyup":N=Dw;break;case"focusin":K="focus",N=yh;break;case"focusout":K="blur",N=yh;break;case"beforeblur":case"afterblur":N=yh;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=mp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=yw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=xw;break;case Pp:case Up:case Lp:N=Ew;break;case kp:N=Vw;break;case"scroll":case"scrollend":N=gw;break;case"wheel":N=Uw;break;case"copy":case"cut":case"paste":N=Aw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=pp;break;case"toggle":case"beforetoggle":N=kw}var lt=(r&4)!==0,Qt=!lt&&(i==="scroll"||i==="scrollend"),b=lt?D!==null?D+"Capture":null:D;lt=[];for(var w=R,C;w!==null;){var V=w;if(C=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||C===null||b===null||(V=pa(w,b),V!=null&&lt.push(Za(w,V,C))),Qt)break;w=w.return}0<lt.length&&(D=new N(D,K,null,a,x),L.push({event:D,listeners:lt}))}}if((r&7)===0){t:{if(D=i==="mouseover"||i==="pointerover",N=i==="mouseout"||i==="pointerout",D&&a!==ch&&(K=a.relatedTarget||a.fromElement)&&(fr(K)||K[Zr]))break t;if((N||D)&&(D=x.window===x?x:(D=x.ownerDocument)?D.defaultView||D.parentWindow:window,N?(K=a.relatedTarget||a.toElement,N=R,K=K?fr(K):null,K!==null&&(Qt=it(K),lt=K.tag,K!==Qt||lt!==5&&lt!==27&&lt!==6)&&(K=null)):(N=null,K=R),N!==K)){if(lt=mp,V="onMouseLeave",b="onMouseEnter",w="mouse",(i==="pointerout"||i==="pointerover")&&(lt=pp,V="onPointerLeave",b="onPointerEnter",w="pointer"),Qt=N==null?D:ga(N),C=K==null?D:ga(K),D=new lt(V,w+"leave",N,a,x),D.target=Qt,D.relatedTarget=C,V=null,fr(x)===R&&(lt=new lt(b,w+"enter",K,a,x),lt.target=C,lt.relatedTarget=Qt,V=lt),Qt=V,N&&K)e:{for(lt=N,b=K,w=0,C=lt;C;C=Ds(C))w++;for(C=0,V=b;V;V=Ds(V))C++;for(;0<w-C;)lt=Ds(lt),w--;for(;0<C-w;)b=Ds(b),C--;for(;w--;){if(lt===b||b!==null&&lt===b.alternate)break e;lt=Ds(lt),b=Ds(b)}lt=null}else lt=null;N!==null&&W_(L,D,N,lt,!1),K!==null&&Qt!==null&&W_(L,Qt,K,lt,!0)}}t:{if(D=R?ga(R):window,N=D.nodeName&&D.nodeName.toLowerCase(),N==="select"||N==="input"&&D.type==="file")var G=wp;else if(Ap(D))if(Rp)G=Yw;else{G=Qw;var gt=Gw}else N=D.nodeName,!N||N.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?R&&uh(R.elementType)&&(G=wp):G=Kw;if(G&&(G=G(i,R))){Sp(L,G,a,x);break t}gt&&gt(i,D,R),i==="focusout"&&R&&D.type==="number"&&R.memoizedProps.value!=null&&lh(D,"number",D.value)}switch(gt=R?ga(R):window,i){case"focusin":(Ap(gt)||gt.contentEditable==="true")&&(os=gt,Sh=R,wa=null);break;case"focusout":wa=Sh=os=null;break;case"mousedown":wh=!0;break;case"contextmenu":case"mouseup":case"dragend":wh=!1,Mp(L,a,x);break;case"selectionchange":if(Ww)break;case"keydown":case"keyup":Mp(L,a,x)}var X;if(vh)t:{switch(i){case"compositionstart":var tt="onCompositionStart";break t;case"compositionend":tt="onCompositionEnd";break t;case"compositionupdate":tt="onCompositionUpdate";break t}tt=void 0}else as?Ep(i,a)&&(tt="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(tt="onCompositionStart");tt&&(yp&&a.locale!=="ko"&&(as||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&as&&(X=fp()):(_i=x,mh="value"in _i?_i.value:_i.textContent,as=!0)),gt=mu(R,tt),0<gt.length&&(tt=new gp(tt,i,null,a,x),L.push({event:tt,listeners:gt}),X?tt.data=X:(X=Tp(a),X!==null&&(tt.data=X)))),(X=zw?Bw(i,a):qw(i,a))&&(tt=mu(R,"onBeforeInput"),0<tt.length&&(gt=new gp("onBeforeInput","beforeinput",null,a,x),L.push({event:gt,listeners:tt}),gt.data=X)),M1(L,i,R,a,x)}X_(L,r)})}function Za(i,r,a){return{instance:i,listener:r,currentTarget:a}}function mu(i,r){for(var a=r+"Capture",u=[];i!==null;){var h=i,f=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=pa(i,a),h!=null&&u.unshift(Za(i,h,f)),h=pa(i,r),h!=null&&u.push(Za(i,h,f))),i=i.return}return u}function Ds(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function W_(i,r,a,u,h){for(var f=r._reactName,p=[];a!==null&&a!==u;){var _=a,E=_.alternate,R=_.stateNode;if(_=_.tag,E!==null&&E===u)break;_!==5&&_!==26&&_!==27||R===null||(E=R,h?(R=pa(a,f),R!=null&&p.unshift(Za(a,R,E))):h||(R=pa(a,f),R!=null&&p.push(Za(a,R,E)))),a=a.return}p.length!==0&&i.push({event:r,listeners:p})}var L1=/\r\n?/g,k1=/\u0000|\uFFFD/g;function Z_(i){return(typeof i=="string"?i:""+i).replace(L1,`
`).replace(k1,"")}function J_(i,r){return r=Z_(r),Z_(i)===r}function gu(){}function Ot(i,r,a,u,h,f){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||is(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&is(i,""+u);break;case"className":Sl(i,"class",u);break;case"tabIndex":Sl(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Sl(i,a,u);break;case"style":up(i,u,f);break;case"data":if(r!=="object"){Sl(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=bl(""+u),i.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&Ot(i,r,"name",h.name,h,null),Ot(i,r,"formEncType",h.formEncType,h,null),Ot(i,r,"formMethod",h.formMethod,h,null),Ot(i,r,"formTarget",h.formTarget,h,null)):(Ot(i,r,"encType",h.encType,h,null),Ot(i,r,"method",h.method,h,null),Ot(i,r,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=bl(""+u),i.setAttribute(a,u);break;case"onClick":u!=null&&(i.onclick=gu);break;case"onScroll":u!=null&&vt("scroll",i);break;case"onScrollEnd":u!=null&&vt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}a=bl(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""+u):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":u===!0?i.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,u):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(a,u):i.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(a):i.setAttribute(a,u);break;case"popover":vt("beforetoggle",i),vt("toggle",i),Al(i,"popover",u);break;case"xlinkActuate":qn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Al(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=dw.get(a)||a,Al(i,a,u))}}function Yf(i,r,a,u,h,f){switch(a){case"style":up(i,u,f);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof u=="string"?is(i,u):(typeof u=="number"||typeof u=="bigint")&&is(i,""+u);break;case"onScroll":u!=null&&vt("scroll",i);break;case"onScrollEnd":u!=null&&vt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=gu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tp.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),f=i[ke]||null,f=f!=null?f[a]:null,typeof f=="function"&&i.removeEventListener(r,f,h),typeof u=="function")){typeof f!="function"&&f!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,u,h);break t}a in i?i[a]=u:u===!0?i.setAttribute(a,""):Al(i,a,u)}}}function pe(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",i),vt("load",i);var u=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ot(i,r,f,p,a,null)}}h&&Ot(i,r,"srcSet",a.srcSet,a,null),u&&Ot(i,r,"src",a.src,a,null);return;case"input":vt("invalid",i);var _=f=p=h=null,E=null,R=null;for(u in a)if(a.hasOwnProperty(u)){var x=a[u];if(x!=null)switch(u){case"name":h=x;break;case"type":p=x;break;case"checked":E=x;break;case"defaultChecked":R=x;break;case"value":f=x;break;case"defaultValue":_=x;break;case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(137,r));break;default:Ot(i,r,u,x,a,null)}}sp(i,f,_,E,R,p,h,!1),wl(i);return;case"select":vt("invalid",i),u=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(_=a[h],_!=null))switch(h){case"value":f=_;break;case"defaultValue":p=_;break;case"multiple":u=_;default:Ot(i,r,h,_,a,null)}r=f,a=p,i.multiple=!!u,r!=null?ns(i,!!u,r,!1):a!=null&&ns(i,!!u,a,!0);return;case"textarea":vt("invalid",i),f=h=u=null;for(p in a)if(a.hasOwnProperty(p)&&(_=a[p],_!=null))switch(p){case"value":u=_;break;case"defaultValue":h=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:Ot(i,r,p,_,a,null)}op(i,u,h,f),wl(i);return;case"option":for(E in a)if(a.hasOwnProperty(E)&&(u=a[E],u!=null))switch(E){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ot(i,r,E,u,a,null)}return;case"dialog":vt("cancel",i),vt("close",i);break;case"iframe":case"object":vt("load",i);break;case"video":case"audio":for(u=0;u<Wa.length;u++)vt(Wa[u],i);break;case"image":vt("error",i),vt("load",i);break;case"details":vt("toggle",i);break;case"embed":case"source":case"link":vt("error",i),vt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(u=a[R],u!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ot(i,r,R,u,a,null)}return;default:if(uh(r)){for(x in a)a.hasOwnProperty(x)&&(u=a[x],u!==void 0&&Yf(i,r,x,u,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(u=a[_],u!=null&&Ot(i,r,_,u,a,null))}function j1(i,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,_=null,E=null,R=null,x=null;for(N in a){var L=a[N];if(a.hasOwnProperty(N)&&L!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":E=L;default:u.hasOwnProperty(N)||Ot(i,r,N,null,u,L)}}for(var D in u){var N=u[D];if(L=a[D],u.hasOwnProperty(D)&&(N!=null||L!=null))switch(D){case"type":f=N;break;case"name":h=N;break;case"checked":R=N;break;case"defaultChecked":x=N;break;case"value":p=N;break;case"defaultValue":_=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(137,r));break;default:N!==L&&Ot(i,r,D,N,u,L)}}oh(i,p,_,E,R,x,f,h);return;case"select":N=p=_=D=null;for(f in a)if(E=a[f],a.hasOwnProperty(f)&&E!=null)switch(f){case"value":break;case"multiple":N=E;default:u.hasOwnProperty(f)||Ot(i,r,f,null,u,E)}for(h in u)if(f=u[h],E=a[h],u.hasOwnProperty(h)&&(f!=null||E!=null))switch(h){case"value":D=f;break;case"defaultValue":_=f;break;case"multiple":p=f;default:f!==E&&Ot(i,r,h,f,u,E)}r=_,a=p,u=N,D!=null?ns(i,!!a,D,!1):!!u!=!!a&&(r!=null?ns(i,!!a,r,!0):ns(i,!!a,a?[]:"",!1));return;case"textarea":N=D=null;for(_ in a)if(h=a[_],a.hasOwnProperty(_)&&h!=null&&!u.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ot(i,r,_,null,u,h)}for(p in u)if(h=u[p],f=a[p],u.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":D=h;break;case"defaultValue":N=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Ot(i,r,p,h,u,f)}ap(i,D,N);return;case"option":for(var K in a)if(D=a[K],a.hasOwnProperty(K)&&D!=null&&!u.hasOwnProperty(K))switch(K){case"selected":i.selected=!1;break;default:Ot(i,r,K,null,u,D)}for(E in u)if(D=u[E],N=a[E],u.hasOwnProperty(E)&&D!==N&&(D!=null||N!=null))switch(E){case"selected":i.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Ot(i,r,E,D,u,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lt in a)D=a[lt],a.hasOwnProperty(lt)&&D!=null&&!u.hasOwnProperty(lt)&&Ot(i,r,lt,null,u,D);for(R in u)if(D=u[R],N=a[R],u.hasOwnProperty(R)&&D!==N&&(D!=null||N!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(137,r));break;default:Ot(i,r,R,D,u,N)}return;default:if(uh(r)){for(var Qt in a)D=a[Qt],a.hasOwnProperty(Qt)&&D!==void 0&&!u.hasOwnProperty(Qt)&&Yf(i,r,Qt,void 0,u,D);for(x in u)D=u[x],N=a[x],!u.hasOwnProperty(x)||D===N||D===void 0&&N===void 0||Yf(i,r,x,D,u,N);return}}for(var b in a)D=a[b],a.hasOwnProperty(b)&&D!=null&&!u.hasOwnProperty(b)&&Ot(i,r,b,null,u,D);for(L in u)D=u[L],N=a[L],!u.hasOwnProperty(L)||D===N||D==null&&N==null||Ot(i,r,L,D,u,N)}var Xf=null,$f=null;function pu(i){return i.nodeType===9?i:i.ownerDocument}function tv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ev(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Wf(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Zf=null;function z1(){var i=window.event;return i&&i.type==="popstate"?i===Zf?!1:(Zf=i,!0):(Zf=null,!1)}var nv=typeof setTimeout=="function"?setTimeout:void 0,B1=typeof clearTimeout=="function"?clearTimeout:void 0,iv=typeof Promise=="function"?Promise:void 0,q1=typeof queueMicrotask=="function"?queueMicrotask:typeof iv<"u"?function(i){return iv.resolve(null).then(i).catch(H1)}:nv;function H1(i){setTimeout(function(){throw i})}function Jf(i,r){var a=r,u=0;do{var h=a.nextSibling;if(i.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(u===0){i.removeChild(h),ao(r);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=h}while(a);ao(r)}function td(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":td(a),ah(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function F1(i,r,a,u){for(;i.nodeType===1;){var h=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[ma])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(f=i.getAttribute("rel"),f==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(f!==h.rel||i.getAttribute("href")!==(h.href==null?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(f=i.getAttribute("src"),(f!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===f)return i}else return i;if(i=_n(i.nextSibling),i===null)break}return null}function G1(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=_n(i.nextSibling),i===null))return null;return i}function _n(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}function rv(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return i;r--}else a==="/$"&&r++}i=i.previousSibling}return null}function sv(i,r,a){switch(r=pu(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}var hn=new Map,av=new Set;function yu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var ii=F.d;F.d={f:Q1,r:K1,D:Y1,C:X1,L:$1,m:W1,X:J1,S:Z1,M:tR};function Q1(){var i=ii.f(),r=uu();return i||r}function K1(i){var r=Jr(i);r!==null&&r.tag===5&&r.type==="form"?My(r):ii.r(i)}var Ns=typeof document>"u"?null:document;function ov(i,r,a){var u=Ns;if(u&&typeof r=="string"&&r){var h=tn(r);h='link[rel="'+i+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),av.has(h)||(av.add(h),i={rel:i,crossOrigin:a,href:r},u.querySelector(h)===null&&(r=u.createElement("link"),pe(r,"link",i),ae(r),u.head.appendChild(r)))}}function Y1(i){ii.D(i),ov("dns-prefetch",i,null)}function X1(i,r){ii.C(i,r),ov("preconnect",i,r)}function $1(i,r,a){ii.L(i,r,a);var u=Ns;if(u&&i&&r){var h='link[rel="preload"][as="'+tn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+tn(a.imageSizes)+'"]')):h+='[href="'+tn(i)+'"]';var f=h;switch(r){case"style":f=Os(i);break;case"script":f=xs(i)}hn.has(f)||(i=yt({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),hn.set(f,i),u.querySelector(h)!==null||r==="style"&&u.querySelector(Ja(f))||r==="script"&&u.querySelector(to(f))||(r=u.createElement("link"),pe(r,"link",i),ae(r),u.head.appendChild(r)))}}function W1(i,r){ii.m(i,r);var a=Ns;if(a&&i){var u=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+tn(u)+'"][href="'+tn(i)+'"]',f=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=xs(i)}if(!hn.has(f)&&(i=yt({rel:"modulepreload",href:i},r),hn.set(f,i),a.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(to(f)))return}u=a.createElement("link"),pe(u,"link",i),ae(u),a.head.appendChild(u)}}}function Z1(i,r,a){ii.S(i,r,a);var u=Ns;if(u&&i){var h=ts(u).hoistableStyles,f=Os(i);r=r||"default";var p=h.get(f);if(!p){var _={loading:0,preload:null};if(p=u.querySelector(Ja(f)))_.loading=5;else{i=yt({rel:"stylesheet",href:i,"data-precedence":r},a),(a=hn.get(f))&&ed(i,a);var E=p=u.createElement("link");ae(E),pe(E,"link",i),E._p=new Promise(function(R,x){E.onload=R,E.onerror=x}),E.addEventListener("load",function(){_.loading|=1}),E.addEventListener("error",function(){_.loading|=2}),_.loading|=4,_u(p,r,u)}p={type:"stylesheet",instance:p,count:1,state:_},h.set(f,p)}}}function J1(i,r){ii.X(i,r);var a=Ns;if(a&&i){var u=ts(a).hoistableScripts,h=xs(i),f=u.get(h);f||(f=a.querySelector(to(h)),f||(i=yt({src:i,async:!0},r),(r=hn.get(h))&&nd(i,r),f=a.createElement("script"),ae(f),pe(f,"link",i),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},u.set(h,f))}}function tR(i,r){ii.M(i,r);var a=Ns;if(a&&i){var u=ts(a).hoistableScripts,h=xs(i),f=u.get(h);f||(f=a.querySelector(to(h)),f||(i=yt({src:i,async:!0,type:"module"},r),(r=hn.get(h))&&nd(i,r),f=a.createElement("script"),ae(f),pe(f,"link",i),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},u.set(h,f))}}function lv(i,r,a,u){var h=(h=gi.current)?yu(h):null;if(!h)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Os(a.href),a=ts(h).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Os(a.href);var f=ts(h).hoistableStyles,p=f.get(i);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(i,p),(f=h.querySelector(Ja(i)))&&!f._p&&(p.instance=f,p.state.loading=5),hn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},hn.set(i,a),f||eR(h,i,a,p.state))),r&&u===null)throw Error(s(528,""));return p}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=xs(a),a=ts(h).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Os(i){return'href="'+tn(i)+'"'}function Ja(i){return'link[rel="stylesheet"]['+i+"]"}function uv(i){return yt({},i,{"data-precedence":i.precedence,precedence:null})}function eR(i,r,a,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),pe(r,"link",a),ae(r),i.head.appendChild(r))}function xs(i){return'[src="'+tn(i)+'"]'}function to(i){return"script[async]"+i}function cv(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+tn(a.href)+'"]');if(u)return r.instance=u,ae(u),u;var h=yt({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),ae(u),pe(u,"style",h),_u(u,a.precedence,i),r.instance=u;case"stylesheet":h=Os(a.href);var f=i.querySelector(Ja(h));if(f)return r.state.loading|=4,r.instance=f,ae(f),f;u=uv(a),(h=hn.get(h))&&ed(u,h),f=(i.ownerDocument||i).createElement("link"),ae(f);var p=f;return p._p=new Promise(function(_,E){p.onload=_,p.onerror=E}),pe(f,"link",u),r.state.loading|=4,_u(f,a.precedence,i),r.instance=f;case"script":return f=xs(a.src),(h=i.querySelector(to(f)))?(r.instance=h,ae(h),h):(u=a,(h=hn.get(f))&&(u=yt({},a),nd(u,h)),i=i.ownerDocument||i,h=i.createElement("script"),ae(h),pe(h,"link",u),i.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,_u(u,a.precedence,i));return r.instance}function _u(i,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,f=h,p=0;p<u.length;p++){var _=u[p];if(_.dataset.precedence===r)f=_;else if(f!==h)break}f?f.parentNode.insertBefore(i,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function ed(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function nd(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var vu=null;function hv(i,r,a){if(vu===null){var u=new Map,h=vu=new Map;h.set(a,u)}else h=vu,u=h.get(a),u||(u=new Map,h.set(a,u));if(u.has(i))return u;for(u.set(i,null),a=a.getElementsByTagName(i),h=0;h<a.length;h++){var f=a[h];if(!(f[ma]||f[Se]||i==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(r)||"";p=i+p;var _=u.get(p);_?_.push(f):u.set(p,[f])}}return u}function fv(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function nR(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function dv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var eo=null;function iR(){}function rR(i,r,a){if(eo===null)throw Error(s(475));var u=eo;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Os(a.href),f=i.querySelector(Ja(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Eu.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=f,ae(f);return}f=i.ownerDocument||i,a=uv(a),(h=hn.get(h))&&ed(a,h),f=f.createElement("link"),ae(f);var p=f;p._p=new Promise(function(_,E){p.onload=_,p.onerror=E}),pe(f,"link",a),r.instance=f}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Eu.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function sR(){if(eo===null)throw Error(s(475));var i=eo;return i.stylesheets&&i.count===0&&id(i,i.stylesheets),0<i.count?function(r){var a=setTimeout(function(){if(i.stylesheets&&id(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(a)}}:null}function Eu(){if(this.count--,this.count===0){if(this.stylesheets)id(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Tu=null;function id(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Tu=new Map,r.forEach(aR,i),Tu=null,Eu.call(i))}function aR(i,r){if(!(r.state.loading&4)){var a=Tu.get(i);if(a)var u=a.get(null);else{a=new Map,Tu.set(i,a);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),u=p)}u&&a.set(null,u)}h=r.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||u,f===u&&a.set(null,h),a.set(p,h),this.count++,u=Eu.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),f?f.parentNode.insertBefore(h,f.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),r.state.loading|=4}}var no={$$typeof:I,Provider:null,Consumer:null,_currentValue:Tt,_currentValue2:Tt,_threadCount:0};function oR(i,r,a,u,h,f,p,_){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rh(0),this.hiddenUpdates=rh(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function mv(i,r,a,u,h,f,p,_,E,R,x,L){return i=new oR(i,r,a,p,_,E,R,L),r=1,f===!0&&(r|=24),f=un(3,null,null,r),i.current=f,f.stateNode=i,r=Vh(),r.refCount++,i.pooledCache=r,r.refCount++,f.memoizedState={element:u,isDehydrated:a,cache:r},gf(f),i}function gv(i){return i?(i=cs,i):cs}function pv(i,r,a,u,h,f){h=gv(h),u.context===null?u.context=h:u.pendingContext=h,u=bi(r),u.payload={element:a},f=f===void 0?null:f,f!==null&&(u.callback=f),a=Ii(i,u,r),a!==null&&(Ve(a,i,r),ja(a,i,r))}function yv(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function rd(i,r){yv(i,r),(i=i.alternate)&&yv(i,r)}function _v(i){if(i.tag===13){var r=vi(i,67108864);r!==null&&Ve(r,i,67108864),rd(i,67108864)}}var Au=!0;function lR(i,r,a,u){var h=$.T;$.T=null;var f=F.p;try{F.p=2,sd(i,r,a,u)}finally{F.p=f,$.T=h}}function uR(i,r,a,u){var h=$.T;$.T=null;var f=F.p;try{F.p=8,sd(i,r,a,u)}finally{F.p=f,$.T=h}}function sd(i,r,a,u){if(Au){var h=ad(u);if(h===null)Kf(i,r,u,Su,a),Ev(i,u);else if(hR(h,i,r,a,u))u.stopPropagation();else if(Ev(i,u),r&4&&-1<cR.indexOf(i)){for(;h!==null;){var f=Jr(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=hr(f.pendingLanes);if(p!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;p;){var E=1<<31-Fe(p);_.entanglements[1]|=E,p&=~E}Dn(f),(qt&6)===0&&(au=wn()+500,$a(0))}}break;case 13:_=vi(f,2),_!==null&&Ve(_,f,2),uu(),rd(f,2)}if(f=ad(u),f===null&&Kf(i,r,u,Su,a),f===h)break;h=f}h!==null&&u.stopPropagation()}else Kf(i,r,u,null,a)}}function ad(i){return i=hh(i),od(i)}var Su=null;function od(i){if(Su=null,i=fr(i),i!==null){var r=it(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=Mt(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Su=i,null}function vv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(XS()){case Hg:return 2;case Fg:return 8;case _l:case $S:return 32;case Gg:return 268435456;default:return 32}default:return 32}}var ld=!1,Vi=null,Pi=null,Ui=null,io=new Map,ro=new Map,Li=[],cR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ev(i,r){switch(i){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":io.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(r.pointerId)}}function so(i,r,a,u,h,f){return i===null||i.nativeEvent!==f?(i={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:f,targetContainers:[h]},r!==null&&(r=Jr(r),r!==null&&_v(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),i)}function hR(i,r,a,u,h){switch(r){case"focusin":return Vi=so(Vi,i,r,a,u,h),!0;case"dragenter":return Pi=so(Pi,i,r,a,u,h),!0;case"mouseover":return Ui=so(Ui,i,r,a,u,h),!0;case"pointerover":var f=h.pointerId;return io.set(f,so(io.get(f)||null,i,r,a,u,h)),!0;case"gotpointercapture":return f=h.pointerId,ro.set(f,so(ro.get(f)||null,i,r,a,u,h)),!0}return!1}function Tv(i){var r=fr(i.target);if(r!==null){var a=it(r);if(a!==null){if(r=a.tag,r===13){if(r=Mt(a),r!==null){i.blockedOn=r,sw(i.priority,function(){if(a.tag===13){var u=Xe(),h=vi(a,u);h!==null&&Ve(h,a,u),rd(a,u)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function wu(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=ad(i.nativeEvent);if(a===null){a=i.nativeEvent;var u=new a.constructor(a.type,a);ch=u,a.target.dispatchEvent(u),ch=null}else return r=Jr(a),r!==null&&_v(r),i.blockedOn=a,!1;r.shift()}return!0}function Av(i,r,a){wu(i)&&a.delete(r)}function fR(){ld=!1,Vi!==null&&wu(Vi)&&(Vi=null),Pi!==null&&wu(Pi)&&(Pi=null),Ui!==null&&wu(Ui)&&(Ui=null),io.forEach(Av),ro.forEach(Av)}function Ru(i,r){i.blockedOn===r&&(i.blockedOn=null,ld||(ld=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fR)))}var bu=null;function Sv(i){bu!==i&&(bu=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){bu===i&&(bu=null);for(var r=0;r<i.length;r+=3){var a=i[r],u=i[r+1],h=i[r+2];if(typeof u!="function"){if(od(u||a)===null)continue;break}var f=Jr(a);f!==null&&(i.splice(r,3),r-=3,$h(f,{pending:!0,data:h,method:a.method,action:u},u,h))}}))}function ao(i){function r(E){return Ru(E,i)}Vi!==null&&Ru(Vi,i),Pi!==null&&Ru(Pi,i),Ui!==null&&Ru(Ui,i),io.forEach(r),ro.forEach(r);for(var a=0;a<Li.length;a++){var u=Li[a];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Li.length&&(a=Li[0],a.blockedOn===null);)Tv(a),a.blockedOn===null&&Li.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var h=a[u],f=a[u+1],p=h[ke]||null;if(typeof f=="function")p||Sv(a);else if(p){var _=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[ke]||null)_=p.formAction;else if(od(h)!==null)continue}else _=p.action;typeof _=="function"?a[u+1]=_:(a.splice(u,3),u-=3),Sv(a)}}}function ud(i){this._internalRoot=i}Iu.prototype.render=ud.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=Xe();pv(a,u,i,r,null,null)},Iu.prototype.unmount=ud.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;i.tag===0&&Is(),pv(i.current,2,null,i,null,null),uu(),r[Zr]=null}};function Iu(i){this._internalRoot=i}Iu.prototype.unstable_scheduleHydration=function(i){if(i){var r=Wg();i={blockedOn:null,target:i,priority:r};for(var a=0;a<Li.length&&r!==0&&r<Li[a].priority;a++);Li.splice(a,0,i),a===0&&Tv(i)}};var wv=t.version;if(wv!=="19.0.0")throw Error(s(527,wv,"19.0.0"));F.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=z(r),i=i!==null?et(i):null,i=i===null?null:i.stateNode,i};var dR={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:$,findFiberByHostInstance:fr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cu.isDisabled&&Cu.supportsFiber)try{ha=Cu.inject(dR),He=Cu}catch{}}return lo.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,u="",h=By,f=qy,p=Hy,_=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(p=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(_=r.unstable_transitionCallbacks)),r=mv(i,1,!1,null,null,a,u,h,f,p,_,null),i[Zr]=r.current,Qf(i.nodeType===8?i.parentNode:i),new ud(r)},lo.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var u=!1,h="",f=By,p=qy,_=Hy,E=null,R=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(E=a.unstable_transitionCallbacks),a.formState!==void 0&&(R=a.formState)),r=mv(i,1,!0,r,a??null,u,h,f,p,_,E,R),r.context=gv(null),a=r.current,u=Xe(),h=bi(u),h.callback=null,Ii(a,h,u),r.current.lanes=u,da(r,u),Dn(r),i[Zr]=r.current,Qf(i),new Iu(r)},lo.version="19.0.0",lo}var Vv;function wR(){if(Vv)return fd.exports;Vv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),fd.exports=SR(),fd.exports}var RR=wR();const bR=pE(RR);var IR=yE();/**
 * @remix-run/router v1.14.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bo(){return bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bo.apply(this,arguments)}var Qi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qi||(Qi={}));const Pv="popstate";function CR(e){e===void 0&&(e={});function t(s,o){let{pathname:l,search:c,hash:m}=s.location;return jd("",{pathname:l,search:c,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ku(o)}return NR(t,n,null,e)}function Xt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function DR(){return Math.random().toString(36).substr(2,8)}function Uv(e,t){return{usr:e.state,key:e.key,idx:t}}function jd(e,t,n,s){return n===void 0&&(n=null),bo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Js(t):t,{state:n,key:t&&t.key||s||DR()})}function Ku(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Js(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function NR(e,t,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,m=Qi.Pop,d=null,g=y();g==null&&(g=0,c.replaceState(bo({},c.state,{idx:g}),""));function y(){return(c.state||{idx:null}).idx}function v(){m=Qi.Pop;let O=y(),Y=O==null?null:O-g;g=O,d&&d({action:m,location:j.location,delta:Y})}function T(O,Y){m=Qi.Push;let J=jd(j.location,O,Y);g=y()+1;let nt=Uv(J,g),bt=j.createHref(J);try{c.pushState(nt,"",bt)}catch(rt){if(rt instanceof DOMException&&rt.name==="DataCloneError")throw rt;o.location.assign(bt)}l&&d&&d({action:m,location:j.location,delta:1})}function I(O,Y){m=Qi.Replace;let J=jd(j.location,O,Y);g=y();let nt=Uv(J,g),bt=j.createHref(J);c.replaceState(nt,"",bt),l&&d&&d({action:m,location:j.location,delta:0})}function U(O){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,J=typeof O=="string"?O:Ku(O);return Xt(Y,"No window.location.(origin|href) available to create URL for href: "+J),new URL(J,Y)}let j={get action(){return m},get location(){return e(o,c)},listen(O){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(Pv,v),d=O,()=>{o.removeEventListener(Pv,v),d=null}},createHref(O){return t(o,O)},createURL:U,encodeLocation(O){let Y=U(O);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:T,replace:I,go(O){return c.go(O)}};return j}var Lv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Lv||(Lv={}));function OR(e,t,n){n===void 0&&(n="/");let s=typeof t=="string"?Js(t):t,o=wm(s.pathname||"/",n);if(o==null)return null;let l=_E(e);xR(l);let c=null;for(let m=0;c==null&&m<l.length;++m)c=BR(l[m],FR(o));return c}function _E(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(l,c,m)=>{let d={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};d.relativePath.startsWith("/")&&(Xt(d.relativePath.startsWith(s),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(s.length));let g=Yi([s,d.relativePath]),y=n.concat(d);l.children&&l.children.length>0&&(Xt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),_E(l.children,t,y,g)),!(l.path==null&&!l.index)&&t.push({path:g,score:jR(g,l.index),routesMeta:y})};return e.forEach((l,c)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))o(l,c);else for(let d of vE(l.path))o(l,c,d)}),t}function vE(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=vE(s.join("/")),m=[];return m.push(...c.map(d=>d===""?l:[l,d].join("/"))),o&&m.push(...c),m.map(d=>e.startsWith("/")&&d===""?"/":d)}function xR(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:zR(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const MR=/^:\w+$/,VR=3,PR=2,UR=1,LR=10,kR=-2,kv=e=>e==="*";function jR(e,t){let n=e.split("/"),s=n.length;return n.some(kv)&&(s+=kR),t&&(s+=PR),n.filter(o=>!kv(o)).reduce((o,l)=>o+(MR.test(l)?VR:l===""?UR:LR),s)}function zR(e,t){return e.length===t.length&&e.slice(0,-1).every((s,o)=>s===t[o])?e[e.length-1]-t[t.length-1]:0}function BR(e,t){let{routesMeta:n}=e,s={},o="/",l=[];for(let c=0;c<n.length;++c){let m=n[c],d=c===n.length-1,g=o==="/"?t:t.slice(o.length)||"/",y=qR({path:m.relativePath,caseSensitive:m.caseSensitive,end:d},g);if(!y)return null;Object.assign(s,y.params);let v=m.route;l.push({params:s,pathname:Yi([o,y.pathname]),pathnameBase:XR(Yi([o,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(o=Yi([o,y.pathnameBase]))}return l}function qR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=HR(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,y,v)=>{let{paramName:T,isOptional:I}=y;if(T==="*"){let j=m[v]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const U=m[v];return I&&!U?g[T]=void 0:g[T]=GR(U||"",T),g},{}),pathname:l,pathnameBase:c,pattern:e}}function HR(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Sm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(c,m,d)=>(s.push({paramName:m,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function FR(e){try{return decodeURI(e)}catch(t){return Sm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function GR(e,t){try{return decodeURIComponent(e)}catch(n){return Sm(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function wm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function QR(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:o=""}=typeof e=="string"?Js(e):e;return{pathname:n?n.startsWith("/")?n:KR(n,t):t,search:$R(s),hash:WR(o)}}function KR(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function pd(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YR(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Rm(e,t){let n=YR(e);return t?n.map((s,o)=>o===e.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function bm(e,t,n,s){s===void 0&&(s=!1);let o;typeof e=="string"?o=Js(e):(o=bo({},e),Xt(!o.pathname||!o.pathname.includes("?"),pd("?","pathname","search",o)),Xt(!o.pathname||!o.pathname.includes("#"),pd("#","pathname","hash",o)),Xt(!o.search||!o.search.includes("#"),pd("#","search","hash",o)));let l=e===""||o.pathname==="",c=l?"/":o.pathname,m;if(c==null)m=n;else if(s){let v=t.length===0?[]:t[t.length-1].replace(/^\//,"").split("/");if(c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),v.pop();o.pathname=T.join("/")}m="/"+v.join("/")}else{let v=t.length-1;if(c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),v-=1;o.pathname=T.join("/")}m=v>=0?t[v]:"/"}let d=QR(o,m),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(g||y)&&(d.pathname+="/"),d}const Yi=e=>e.join("/").replace(/\/\/+/g,"/"),XR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$R=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,WR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ZR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const EE=["post","put","patch","delete"];new Set(EE);const JR=["get",...EE];new Set(JR);/**
 * React Router v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Io(){return Io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Io.apply(this,arguments)}const Im=M.createContext(null),tb=M.createContext(null),nr=M.createContext(null),pc=M.createContext(null),ir=M.createContext({outlet:null,matches:[],isDataRoute:!1}),TE=M.createContext(null);function eb(e,t){let{relative:n}=t===void 0?{}:t;ta()||Xt(!1);let{basename:s,navigator:o}=M.useContext(nr),{hash:l,pathname:c,search:m}=wE(e,{relative:n}),d=c;return s!=="/"&&(d=c==="/"?s:Yi([s,c])),o.createHref({pathname:d,search:m,hash:l})}function ta(){return M.useContext(pc)!=null}function Yo(){return ta()||Xt(!1),M.useContext(pc).location}function AE(e){M.useContext(nr).static||M.useLayoutEffect(e)}function SE(){let{isDataRoute:e}=M.useContext(ir);return e?mb():nb()}function nb(){ta()||Xt(!1);let e=M.useContext(Im),{basename:t,future:n,navigator:s}=M.useContext(nr),{matches:o}=M.useContext(ir),{pathname:l}=Yo(),c=JSON.stringify(Rm(o,n.v7_relativeSplatPath)),m=M.useRef(!1);return AE(()=>{m.current=!0}),M.useCallback(function(g,y){if(y===void 0&&(y={}),!m.current)return;if(typeof g=="number"){s.go(g);return}let v=bm(g,JSON.parse(c),l,y.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Yi([t,v.pathname])),(y.replace?s.replace:s.push)(v,y.state,y)},[t,s,c,l,e])}function wE(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=M.useContext(nr),{matches:o}=M.useContext(ir),{pathname:l}=Yo(),c=JSON.stringify(Rm(o,s.v7_relativeSplatPath));return M.useMemo(()=>bm(e,JSON.parse(c),l,n==="path"),[e,c,l,n])}function ib(e,t){return rb(e,t)}function rb(e,t,n,s){ta()||Xt(!1);let{navigator:o}=M.useContext(nr),{matches:l}=M.useContext(ir),c=l[l.length-1],m=c?c.params:{};c&&c.pathname;let d=c?c.pathnameBase:"/";c&&c.route;let g=Yo(),y;if(t){var v;let O=typeof t=="string"?Js(t):t;d==="/"||(v=O.pathname)!=null&&v.startsWith(d)||Xt(!1),y=O}else y=g;let T=y.pathname||"/",I=d==="/"?T:T.slice(d.length)||"/",U=OR(e,{pathname:I}),j=ub(U&&U.map(O=>Object.assign({},O,{params:Object.assign({},m,O.params),pathname:Yi([d,o.encodeLocation?o.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?d:Yi([d,o.encodeLocation?o.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),l,n,s);return t&&j?M.createElement(pc.Provider,{value:{location:Io({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Qi.Pop}},j):j}function sb(){let e=db(),t=ZR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),n?M.createElement("pre",{style:o},n):null,null)}const ab=M.createElement(sb,null);class ob extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?M.createElement(ir.Provider,{value:this.props.routeContext},M.createElement(TE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lb(e){let{routeContext:t,match:n,children:s}=e,o=M.useContext(Im);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(ir.Provider,{value:t},s)}function ub(e,t,n,s){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var l;if((l=n)!=null&&l.errors)e=n.matches;else return null}let c=e,m=(o=n)==null?void 0:o.errors;if(m!=null){let y=c.findIndex(v=>v.route.id&&(m==null?void 0:m[v.route.id]));y>=0||Xt(!1),c=c.slice(0,Math.min(c.length,y+1))}let d=!1,g=-1;if(n&&s&&s.v7_partialHydration)for(let y=0;y<c.length;y++){let v=c[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=y),v.route.loader&&v.route.id&&n.loaderData[v.route.id]===void 0&&(!n.errors||n.errors[v.route.id]===void 0)){d=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}return c.reduceRight((y,v,T)=>{let I,U=!1,j=null,O=null;n&&(I=m&&v.route.id?m[v.route.id]:void 0,j=v.route.errorElement||ab,d&&(g<0&&T===0?(gb("route-fallback"),U=!0,O=null):g===T&&(U=!0,O=v.route.hydrateFallbackElement||null)));let Y=t.concat(c.slice(0,T+1)),J=()=>{let nt;return I?nt=j:U?nt=O:v.route.Component?nt=M.createElement(v.route.Component,null):v.route.element?nt=v.route.element:nt=y,M.createElement(lb,{match:v,routeContext:{outlet:y,matches:Y,isDataRoute:n!=null},children:nt})};return n&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?M.createElement(ob,{location:n.location,revalidation:n.revalidation,component:j,error:I,children:J(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):J()},null)}var RE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(RE||{}),bE=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(bE||{});function cb(e){let t=M.useContext(Im);return t||Xt(!1),t}function hb(e){let t=M.useContext(tb);return t||Xt(!1),t}function fb(e){let t=M.useContext(ir);return t||Xt(!1),t}function IE(e){let t=fb(),n=t.matches[t.matches.length-1];return n.route.id||Xt(!1),n.route.id}function db(){var e;let t=M.useContext(TE),n=hb(),s=IE();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function mb(){let{router:e}=cb(RE.UseNavigateStable),t=IE(bE.UseNavigateStable),n=M.useRef(!1);return AE(()=>{n.current=!0}),M.useCallback(function(o,l){l===void 0&&(l={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Io({fromRouteId:t},l)))},[e,t])}const jv={};function gb(e,t,n){jv[e]||(jv[e]=!0)}function yd(e){let{to:t,replace:n,state:s,relative:o}=e;ta()||Xt(!1);let{future:l,static:c}=M.useContext(nr),{matches:m}=M.useContext(ir),{pathname:d}=Yo(),g=SE(),y=bm(t,Rm(m,l.v7_relativeSplatPath),d,o==="path"),v=JSON.stringify(y);return M.useEffect(()=>g(JSON.parse(v),{replace:n,state:s,relative:o}),[g,v,o,n,s]),null}function Bi(e){Xt(!1)}function pb(e){let{basename:t="/",children:n=null,location:s,navigationType:o=Qi.Pop,navigator:l,static:c=!1,future:m}=e;ta()&&Xt(!1);let d=t.replace(/^\/*/,"/"),g=M.useMemo(()=>({basename:d,navigator:l,static:c,future:Io({v7_relativeSplatPath:!1},m)}),[d,m,l,c]);typeof s=="string"&&(s=Js(s));let{pathname:y="/",search:v="",hash:T="",state:I=null,key:U="default"}=s,j=M.useMemo(()=>{let O=wm(y,d);return O==null?null:{location:{pathname:O,search:v,hash:T,state:I,key:U},navigationType:o}},[d,y,v,T,I,U,o]);return j==null?null:M.createElement(nr.Provider,{value:g},M.createElement(pc.Provider,{children:n,value:j}))}function _d(e){let{children:t,location:n}=e;return ib(zd(t),n)}new Promise(()=>{});function zd(e,t){t===void 0&&(t=[]);let n=[];return M.Children.forEach(e,(s,o)=>{if(!M.isValidElement(s))return;let l=[...t,o];if(s.type===M.Fragment){n.push.apply(n,zd(s.props.children,l));return}s.type!==Bi&&Xt(!1),!s.props.index||!s.props.children||Xt(!1);let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=zd(s.props.children,l)),n.push(c)}),n}/**
 * React Router DOM v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bd(){return Bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bd.apply(this,arguments)}function yb(e,t){if(e==null)return{};var n={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function _b(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function vb(e,t){return e.button===0&&(!t||t==="_self")&&!_b(e)}const Eb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Tb="startTransition",zv=vR[Tb];function Ab(e){let{basename:t,children:n,future:s,window:o}=e,l=M.useRef();l.current==null&&(l.current=CR({window:o,v5Compat:!0}));let c=l.current,[m,d]=M.useState({action:c.action,location:c.location}),{v7_startTransition:g}=s||{},y=M.useCallback(v=>{g&&zv?zv(()=>d(v)):d(v)},[d,g]);return M.useLayoutEffect(()=>c.listen(y),[c,y]),M.createElement(pb,{basename:t,children:n,location:m.location,navigationType:m.action,navigator:c,future:s})}const Sb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Co=M.forwardRef(function(t,n){let{onClick:s,relative:o,reloadDocument:l,replace:c,state:m,target:d,to:g,preventScrollReset:y,unstable_viewTransition:v}=t,T=yb(t,Eb),{basename:I}=M.useContext(nr),U,j=!1;if(typeof g=="string"&&wb.test(g)&&(U=g,Sb))try{let nt=new URL(window.location.href),bt=g.startsWith("//")?new URL(nt.protocol+g):new URL(g),rt=wm(bt.pathname,I);bt.origin===nt.origin&&rt!=null?g=rt+bt.search+bt.hash:j=!0}catch{}let O=eb(g,{relative:o}),Y=Rb(g,{replace:c,state:m,target:d,preventScrollReset:y,relative:o,unstable_viewTransition:v});function J(nt){s&&s(nt),nt.defaultPrevented||Y(nt)}return M.createElement("a",Bd({},T,{href:U||O,onClick:j||l?s:J,ref:n,target:d}))});var Bv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Bv||(Bv={}));var qv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qv||(qv={}));function Rb(e,t){let{target:n,replace:s,state:o,preventScrollReset:l,relative:c,unstable_viewTransition:m}=t===void 0?{}:t,d=SE(),g=Yo(),y=wE(e,{relative:c});return M.useCallback(v=>{if(vb(v,n)){v.preventDefault();let T=s!==void 0?s:Ku(g)===Ku(y);d(e,{replace:T,state:o,preventScrollReset:l,relative:c,unstable_viewTransition:m})}},[g,d,y,s,o,n,e,l,c,m])}var Hv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let o=e.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},bb=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const o=e[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=e[n++];t[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=e[n++],c=e[n++],m=e[n++],d=((o&7)<<18|(l&63)<<12|(c&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(d>>10)),t[s++]=String.fromCharCode(56320+(d&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return t.join("")},DE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<e.length;o+=3){const l=e[o],c=o+1<e.length,m=c?e[o+1]:0,d=o+2<e.length,g=d?e[o+2]:0,y=l>>2,v=(l&3)<<4|m>>4;let T=(m&15)<<2|g>>6,I=g&63;d||(I=64,c||(T=64)),s.push(n[y],n[v],n[T],n[I])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(CE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):bb(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<e.length;){const l=n[e.charAt(o++)],m=o<e.length?n[e.charAt(o)]:0;++o;const g=o<e.length?n[e.charAt(o)]:64;++o;const v=o<e.length?n[e.charAt(o)]:64;if(++o,l==null||m==null||g==null||v==null)throw new Ib;const T=l<<2|m>>4;if(s.push(T),g!==64){const I=m<<4&240|g>>2;if(s.push(I),v!==64){const U=g<<6&192|v;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ib extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cb=function(e){const t=CE(e);return DE.encodeByteArray(t,!0)},NE=function(e){return Cb(e).replace(/\./g,"")},OE=function(e){try{return DE.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=()=>Db().__FIREBASE_DEFAULTS__,Ob=()=>{if(typeof process>"u"||typeof Hv>"u")return;const e=Hv.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},xb=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&OE(e[1]);return t&&JSON.parse(t)},Cm=()=>{try{return Nb()||Ob()||xb()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Mb=e=>{var t,n;return(n=(t=Cm())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},xE=()=>{var e;return(e=Cm())===null||e===void 0?void 0:e.config},ME=e=>{var t;return(t=Cm())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function Ub(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Lb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kb(){const e=Ne();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function jb(){try{return typeof indexedDB=="object"}catch{return!1}}function zb(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;t(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="FirebaseError";class di extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Bb,Object.setPrototypeOf(this,di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xo.prototype.create)}}class Xo{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,l=this.errors[t],c=l?qb(l,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new di(o,m,s)}}function qb(e,t){return e.replace(Hb,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const Hb=/\{\$([^}]+)}/g;function Fb(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Do(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const l=e[o],c=t[o];if(Fv(l)&&Fv(c)){if(!Do(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Fv(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function fo(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(l)}}),t}function mo(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Gb(e,t){const n=new Qb(e,t);return n.subscribe.bind(n)}class Qb{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Kb(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=vd),o.error===void 0&&(o.error=vd),o.complete===void 0&&(o.complete=vd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kb(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function vd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(e){return e&&e._delegate?e._delegate:e}class jr{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Vb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($b(t))try{this.getOrInitializeService({instanceIdentifier:Mr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(t=Mr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Mr){return this.instances.has(t)}getOptions(t=Mr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&c.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(t),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&t(c,o),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Xb(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Mr){return this.component?this.component.multipleInstances?t:Mr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Xb(e){return e===Mr?void 0:e}function $b(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Yb(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Et||(Et={}));const Zb={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},Jb=Et.INFO,tI={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},eI=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),o=tI[t];if(o)console[o](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Dm{constructor(t){this.name=t,this._logLevel=Jb,this._logHandler=eI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Et))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Zb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...t),this._logHandler(this,Et.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...t),this._logHandler(this,Et.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...t),this._logHandler(this,Et.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...t),this._logHandler(this,Et.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...t),this._logHandler(this,Et.ERROR,...t)}}const nI=(e,t)=>t.some(n=>e instanceof n);let Gv,Qv;function iI(){return Gv||(Gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rI(){return Qv||(Qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VE=new WeakMap,qd=new WeakMap,PE=new WeakMap,Ed=new WeakMap,Nm=new WeakMap;function sI(e){const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(Xi(e.result)),o()},c=()=>{s(e.error),o()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&VE.set(n,e)}).catch(()=>{}),Nm.set(t,e),t}function aI(e){if(qd.has(e))return;const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});qd.set(e,t)}let Hd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return qd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||PE.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function oI(e){Hd=e(Hd)}function lI(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(Td(this),t,...n);return PE.set(s,t.sort?t.sort():[t]),Xi(s)}:rI().includes(e)?function(...t){return e.apply(Td(this),t),Xi(VE.get(this))}:function(...t){return Xi(e.apply(Td(this),t))}}function uI(e){return typeof e=="function"?lI(e):(e instanceof IDBTransaction&&aI(e),nI(e,iI())?new Proxy(e,Hd):e)}function Xi(e){if(e instanceof IDBRequest)return sI(e);if(Ed.has(e))return Ed.get(e);const t=uI(e);return t!==e&&(Ed.set(e,t),Nm.set(t,e)),t}const Td=e=>Nm.get(e);function cI(e,t,{blocked:n,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(e,t),m=Xi(c);return s&&c.addEventListener("upgradeneeded",d=>{s(Xi(c.result),d.oldVersion,d.newVersion,Xi(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),m.then(d=>{l&&d.addEventListener("close",()=>l()),o&&d.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const hI=["get","getKey","getAll","getAllKeys","count"],fI=["put","add","delete","clear"],Ad=new Map;function Kv(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ad.get(t))return Ad.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=fI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||hI.includes(n)))return;const l=async function(c,...m){const d=this.transaction(c,o?"readwrite":"readonly");let g=d.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&d.done]))[0]};return Ad.set(t,l),l}oI(e=>({...e,get:(t,n,s)=>Kv(t,n)||e.get(t,n,s),has:(t,n)=>!!Kv(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function mI(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Fd="@firebase/app",Yv="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new Dm("@firebase/app"),gI="@firebase/app-compat",pI="@firebase/analytics-compat",yI="@firebase/analytics",_I="@firebase/app-check-compat",vI="@firebase/app-check",EI="@firebase/auth",TI="@firebase/auth-compat",AI="@firebase/database",SI="@firebase/database-compat",wI="@firebase/functions",RI="@firebase/functions-compat",bI="@firebase/installations",II="@firebase/installations-compat",CI="@firebase/messaging",DI="@firebase/messaging-compat",NI="@firebase/performance",OI="@firebase/performance-compat",xI="@firebase/remote-config",MI="@firebase/remote-config-compat",VI="@firebase/storage",PI="@firebase/storage-compat",UI="@firebase/firestore",LI="@firebase/firestore-compat",kI="firebase",jI="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="[DEFAULT]",zI={[Fd]:"fire-core",[gI]:"fire-core-compat",[yI]:"fire-analytics",[pI]:"fire-analytics-compat",[vI]:"fire-app-check",[_I]:"fire-app-check-compat",[EI]:"fire-auth",[TI]:"fire-auth-compat",[AI]:"fire-rtdb",[SI]:"fire-rtdb-compat",[wI]:"fire-fn",[RI]:"fire-fn-compat",[bI]:"fire-iid",[II]:"fire-iid-compat",[CI]:"fire-fcm",[DI]:"fire-fcm-compat",[NI]:"fire-perf",[OI]:"fire-perf-compat",[xI]:"fire-rc",[MI]:"fire-rc-compat",[VI]:"fire-gcs",[PI]:"fire-gcs-compat",[UI]:"fire-fst",[LI]:"fire-fst-compat","fire-js":"fire-js",[kI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=new Map,Qd=new Map;function BI(e,t){try{e.container.addComponent(t)}catch(n){zr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Fs(e){const t=e.name;if(Qd.has(t))return zr.debug(`There were multiple attempts to register component ${t}.`),!1;Qd.set(t,e);for(const n of Yu.values())BI(n,e);return!0}function Om(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},$i=new Xo("app","Firebase",qI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=jI;function UE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Gd,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw $i.create("bad-app-name",{appName:String(o)});if(n||(n=xE()),!n)throw $i.create("no-options");const l=Yu.get(o);if(l){if(Do(n,l.options)&&Do(s,l.config))return l;throw $i.create("duplicate-app",{appName:o})}const c=new Wb(o);for(const d of Qd.values())c.addComponent(d);const m=new HI(n,s,c);return Yu.set(o,m),m}function FI(e=Gd){const t=Yu.get(e);if(!t&&e===Gd&&xE())return UE();if(!t)throw $i.create("no-app",{appName:e});return t}function Wi(e,t,n){var s;let o=(s=zI[e])!==null&&s!==void 0?s:e;n&&(o+=`-${n}`);const l=o.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const m=[`Unable to register library "${o}" with version "${t}":`];l&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&m.push("and"),c&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zr.warn(m.join(" "));return}Fs(new jr(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="firebase-heartbeat-database",QI=1,No="firebase-heartbeat-store";let Sd=null;function LE(){return Sd||(Sd=cI(GI,QI,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(No)}}}).catch(e=>{throw $i.create("idb-open",{originalErrorMessage:e.message})})),Sd}async function KI(e){try{return await(await LE()).transaction(No).objectStore(No).get(kE(e))}catch(t){if(t instanceof di)zr.warn(t.message);else{const n=$i.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});zr.warn(n.message)}}}async function Xv(e,t){try{const s=(await LE()).transaction(No,"readwrite");await s.objectStore(No).put(t,kE(e)),await s.done}catch(n){if(n instanceof di)zr.warn(n.message);else{const s=$i.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zr.warn(s.message)}}}function kE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=1024,XI=30*24*60*60*1e3;class $I{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=$v();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)))return this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const m=new Date(c.date).valueOf();return Date.now()-m<=XI}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$v(),{heartbeatsToSend:s,unsentEntries:o}=WI(this._heartbeatsCache.heartbeats),l=NE(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}}function $v(){return new Date().toISOString().substring(0,10)}function WI(e,t=YI){const n=[];let s=e.slice();for(const o of e){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),Wv(n)>t){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Wv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ZI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jb()?zb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Xv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Xv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Wv(e){return NE(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(e){Fs(new jr("platform-logger",t=>new dI(t),"PRIVATE")),Fs(new jr("heartbeat",t=>new $I(t),"PRIVATE")),Wi(Fd,Yv,e),Wi(Fd,Yv,"esm2017"),Wi("fire-js","")}JI("");var tC="firebase",eC="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi(tC,eC,"app");var nC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B,xm=xm||{},ot=nC||self;function yc(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function _c(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function iC(e,t,n){return e.call.apply(e.bind,arguments)}function rC(e,t,n){if(!e)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,s),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function Ce(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ce=iC:Ce=rC,Ce.apply(null,arguments)}function Du(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),e.apply(this,s)}}function de(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(s,o,l){for(var c=Array(arguments.length-2),m=2;m<arguments.length;m++)c[m-2]=arguments[m];return t.prototype[o].apply(s,c)}}function rr(){this.s=this.s,this.o=this.o}var sC=0;rr.prototype.s=!1;rr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),sC!=0)};rr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jE=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Mm(e){const t=e.length;if(0<t){const n=Array(t);for(let s=0;s<t;s++)n[s]=e[s];return n}return[]}function Zv(e,t){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(yc(s)){const o=e.length||0,l=s.length||0;e.length=o+l;for(let c=0;c<l;c++)e[o+c]=s[c]}else e.push(s)}}function De(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}De.prototype.h=function(){this.defaultPrevented=!0};var aC=function(){if(!ot.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};ot.addEventListener("test",n,t),ot.removeEventListener("test",n,t)}catch{}return e}();function Oo(e){return/^[\s\xa0]*$/.test(e)}function vc(){var e=ot.navigator;return e&&(e=e.userAgent)?e:""}function Nn(e){return vc().indexOf(e)!=-1}function Vm(e){return Vm[" "](e),e}Vm[" "]=function(){};function oC(e,t){var n=t2;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var lC=Nn("Opera"),Gs=Nn("Trident")||Nn("MSIE"),zE=Nn("Edge"),Kd=zE||Gs,BE=Nn("Gecko")&&!(vc().toLowerCase().indexOf("webkit")!=-1&&!Nn("Edge"))&&!(Nn("Trident")||Nn("MSIE"))&&!Nn("Edge"),uC=vc().toLowerCase().indexOf("webkit")!=-1&&!Nn("Edge");function qE(){var e=ot.document;return e?e.documentMode:void 0}var Yd;t:{var wd="",Rd=function(){var e=vc();if(BE)return/rv:([^\);]+)(\)|;)/.exec(e);if(zE)return/Edge\/([\d\.]+)/.exec(e);if(Gs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(uC)return/WebKit\/(\S+)/.exec(e);if(lC)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Rd&&(wd=Rd?Rd[1]:""),Gs){var bd=qE();if(bd!=null&&bd>parseFloat(wd)){Yd=String(bd);break t}}Yd=wd}var Xd;if(ot.document&&Gs){var Jv=qE();Xd=Jv||parseInt(Yd,10)||void 0}else Xd=void 0;var cC=Xd;function xo(e,t){if(De.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,s=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(BE){t:{try{Vm(t.nodeName);var o=!0;break t}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:hC[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&xo.$.h.call(this)}}de(xo,De);var hC={2:"touch",3:"pen",4:"mouse"};xo.prototype.h=function(){xo.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ec="closure_listenable_"+(1e6*Math.random()|0),fC=0;function dC(e,t,n,s,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!s,this.la=o,this.key=++fC,this.fa=this.ia=!1}function Tc(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Pm(e,t,n){for(const s in e)t.call(n,e[s],s,e)}function mC(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function HE(e){const t={};for(const n in e)t[n]=e[n];return t}const t0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function FE(e,t){let n,s;for(let o=1;o<arguments.length;o++){s=arguments[o];for(n in s)e[n]=s[n];for(let l=0;l<t0.length;l++)n=t0[l],Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}}function Ac(e){this.src=e,this.g={},this.h=0}Ac.prototype.add=function(e,t,n,s,o){var l=e.toString();e=this.g[l],e||(e=this.g[l]=[],this.h++);var c=Wd(e,t,s,o);return-1<c?(t=e[c],n||(t.ia=!1)):(t=new dC(t,this.src,l,!!s,o),t.ia=n,e.push(t)),t};function $d(e,t){var n=t.type;if(n in e.g){var s=e.g[n],o=jE(s,t),l;(l=0<=o)&&Array.prototype.splice.call(s,o,1),l&&(Tc(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Wd(e,t,n,s){for(var o=0;o<e.length;++o){var l=e[o];if(!l.fa&&l.listener==t&&l.capture==!!n&&l.la==s)return o}return-1}var Um="closure_lm_"+(1e6*Math.random()|0),Id={};function GE(e,t,n,s,o){if(Array.isArray(t)){for(var l=0;l<t.length;l++)GE(e,t[l],n,s,o);return null}return n=YE(n),e&&e[Ec]?e.O(t,n,_c(s)?!!s.capture:!1,o):gC(e,t,n,!1,s,o)}function gC(e,t,n,s,o,l){if(!t)throw Error("Invalid event type");var c=_c(o)?!!o.capture:!!o,m=km(e);if(m||(e[Um]=m=new Ac(e)),n=m.add(t,n,s,c,l),n.proxy)return n;if(s=pC(),n.proxy=s,s.src=e,s.listener=n,e.addEventListener)aC||(o=c),o===void 0&&(o=!1),e.addEventListener(t.toString(),s,o);else if(e.attachEvent)e.attachEvent(KE(t.toString()),s);else if(e.addListener&&e.removeListener)e.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function pC(){function e(n){return t.call(e.src,e.listener,n)}const t=yC;return e}function QE(e,t,n,s,o){if(Array.isArray(t))for(var l=0;l<t.length;l++)QE(e,t[l],n,s,o);else s=_c(s)?!!s.capture:!!s,n=YE(n),e&&e[Ec]?(e=e.i,t=String(t).toString(),t in e.g&&(l=e.g[t],n=Wd(l,n,s,o),-1<n&&(Tc(l[n]),Array.prototype.splice.call(l,n,1),l.length==0&&(delete e.g[t],e.h--)))):e&&(e=km(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Wd(t,n,s,o)),(n=-1<e?t[e]:null)&&Lm(n))}function Lm(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Ec])$d(t.i,e);else{var n=e.type,s=e.proxy;t.removeEventListener?t.removeEventListener(n,s,e.capture):t.detachEvent?t.detachEvent(KE(n),s):t.addListener&&t.removeListener&&t.removeListener(s),(n=km(t))?($d(n,e),n.h==0&&(n.src=null,t[Um]=null)):Tc(e)}}}function KE(e){return e in Id?Id[e]:Id[e]="on"+e}function yC(e,t){if(e.fa)e=!0;else{t=new xo(t,this);var n=e.listener,s=e.la||e.src;e.ia&&Lm(e),e=n.call(s,t)}return e}function km(e){return e=e[Um],e instanceof Ac?e:null}var Cd="__closure_events_fn_"+(1e9*Math.random()>>>0);function YE(e){return typeof e=="function"?e:(e[Cd]||(e[Cd]=function(t){return e.handleEvent(t)}),e[Cd])}function fe(){rr.call(this),this.i=new Ac(this),this.S=this,this.J=null}de(fe,rr);fe.prototype[Ec]=!0;fe.prototype.removeEventListener=function(e,t,n,s){QE(this,e,t,n,s)};function Ee(e,t){var n,s=e.J;if(s)for(n=[];s;s=s.J)n.push(s);if(e=e.S,s=t.type||t,typeof t=="string")t=new De(t,e);else if(t instanceof De)t.target=t.target||e;else{var o=t;t=new De(s,e),FE(t,o)}if(o=!0,n)for(var l=n.length-1;0<=l;l--){var c=t.g=n[l];o=Nu(c,s,!0,t)&&o}if(c=t.g=e,o=Nu(c,s,!0,t)&&o,o=Nu(c,s,!1,t)&&o,n)for(l=0;l<n.length;l++)c=t.g=n[l],o=Nu(c,s,!1,t)&&o}fe.prototype.N=function(){if(fe.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],s=0;s<n.length;s++)Tc(n[s]);delete e.g[t],e.h--}}this.J=null};fe.prototype.O=function(e,t,n,s){return this.i.add(String(e),t,!1,n,s)};fe.prototype.P=function(e,t,n,s){return this.i.add(String(e),t,!0,n,s)};function Nu(e,t,n,s){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,l=0;l<t.length;++l){var c=t[l];if(c&&!c.fa&&c.capture==n){var m=c.listener,d=c.la||c.src;c.ia&&$d(e.i,c),o=m.call(d,s)!==!1&&o}}return o&&!s.defaultPrevented}var jm=ot.JSON.stringify;class _C{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function vC(){var e=zm;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class EC{constructor(){this.h=this.g=null}add(t,n){const s=XE.get();s.set(t,n),this.h?this.h.next=s:this.g=s,this.h=s}}var XE=new _C(()=>new TC,e=>e.reset());class TC{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function AC(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function SC(e){ot.setTimeout(()=>{throw e},0)}let Mo,Vo=!1,zm=new EC,$E=()=>{const e=ot.Promise.resolve(void 0);Mo=()=>{e.then(wC)}};var wC=()=>{for(var e;e=vC();){try{e.h.call(e.g)}catch(n){SC(n)}var t=XE;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Vo=!1};function Sc(e,t){fe.call(this),this.h=e||1,this.g=t||ot,this.j=Ce(this.qb,this),this.l=Date.now()}de(Sc,fe);B=Sc.prototype;B.ga=!1;B.T=null;B.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ee(this,"tick"),this.ga&&(Bm(this),this.start()))}};B.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Bm(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}B.N=function(){Sc.$.N.call(this),Bm(this),delete this.g};function qm(e,t,n){if(typeof e=="function")n&&(e=Ce(e,n));else if(e&&typeof e.handleEvent=="function")e=Ce(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ot.setTimeout(e,t||0)}function WE(e){e.g=qm(()=>{e.g=null,e.i&&(e.i=!1,WE(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class RC extends rr{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:WE(this)}N(){super.N(),this.g&&(ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Po(e){rr.call(this),this.h=e,this.g={}}de(Po,rr);var e0=[];function ZE(e,t,n,s){Array.isArray(n)||(n&&(e0[0]=n.toString()),n=e0);for(var o=0;o<n.length;o++){var l=GE(t,n[o],s||e.handleEvent,!1,e.h||e);if(!l)break;e.g[l.key]=l}}function JE(e){Pm(e.g,function(t,n){this.g.hasOwnProperty(n)&&Lm(t)},e),e.g={}}Po.prototype.N=function(){Po.$.N.call(this),JE(this)};Po.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function wc(){this.g=!0}wc.prototype.Ea=function(){this.g=!1};function bC(e,t,n,s,o,l){e.info(function(){if(e.g)if(l)for(var c="",m=l.split("&"),d=0;d<m.length;d++){var g=m[d].split("=");if(1<g.length){var y=g[0];g=g[1];var v=y.split("_");c=2<=v.length&&v[1]=="type"?c+(y+"="+g+"&"):c+(y+"=redacted&")}}else c=null;else c=l;return"XMLHTTP REQ ("+s+") [attempt "+o+"]: "+t+`
`+n+`
`+c})}function IC(e,t,n,s,o,l,c){e.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+o+"]: "+t+`
`+n+`
`+l+" "+c})}function Ls(e,t,n,s){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+DC(e,n)+(s?" "+s:"")})}function CC(e,t){e.info(function(){return"TIMEOUT: "+t})}wc.prototype.info=function(){};function DC(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var s=n[e];if(!(2>s.length)){var o=s[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if(l!="noop"&&l!="stop"&&l!="close")for(var c=1;c<o.length;c++)o[c]=""}}}}return jm(n)}catch{return t}}var Qr={},n0=null;function Rc(){return n0=n0||new fe}Qr.Ta="serverreachability";function tT(e){De.call(this,Qr.Ta,e)}de(tT,De);function Uo(e){const t=Rc();Ee(t,new tT(t))}Qr.STAT_EVENT="statevent";function eT(e,t){De.call(this,Qr.STAT_EVENT,e),this.stat=t}de(eT,De);function Pe(e){const t=Rc();Ee(t,new eT(t,e))}Qr.Ua="timingevent";function nT(e,t){De.call(this,Qr.Ua,e),this.size=t}de(nT,De);function Wo(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ot.setTimeout(function(){e()},t)}var bc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},iT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Hm(){}Hm.prototype.h=null;function i0(e){return e.h||(e.h=e.i())}function rT(){}var Zo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Fm(){De.call(this,"d")}de(Fm,De);function Gm(){De.call(this,"c")}de(Gm,De);var Zd;function Ic(){}de(Ic,Hm);Ic.prototype.g=function(){return new XMLHttpRequest};Ic.prototype.i=function(){return{}};Zd=new Ic;function Jo(e,t,n,s){this.l=e,this.j=t,this.m=n,this.W=s||1,this.U=new Po(this),this.P=NC,e=Kd?125:void 0,this.V=new Sc(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new sT}function sT(){this.i=null,this.g="",this.h=!1}var NC=45e3,aT={},Jd={};B=Jo.prototype;B.setTimeout=function(e){this.P=e};function tm(e,t,n){e.L=1,e.A=Dc(ui(t)),e.u=n,e.S=!0,oT(e,null)}function oT(e,t){e.G=Date.now(),tl(e),e.B=ui(e.A);var n=e.B,s=e.W;Array.isArray(s)||(s=[String(s)]),gT(n.i,"t",s),e.o=0,n=e.l.J,e.h=new sT,e.g=UT(e.l,n?t:null,!e.u),0<e.O&&(e.M=new RC(Ce(e.Pa,e,e.g),e.O)),ZE(e.U,e.g,"readystatechange",e.nb),t=e.I?HE(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Uo(),bC(e.j,e.v,e.B,e.m,e.W,e.u)}B.nb=function(e){e=e.target;const t=this.M;t&&On(e)==3?t.l():this.Pa(e)};B.Pa=function(e){try{if(e==this.g)t:{const y=On(this.g);var t=this.g.Ia();const v=this.g.da();if(!(3>y)&&(y!=3||Kd||this.g&&(this.h.h||this.g.ja()||o0(this.g)))){this.J||y!=4||t==7||(t==8||0>=v?Uo(3):Uo(2)),Cc(this);var n=this.g.da();this.ca=n;e:if(lT(this)){var s=o0(this.g);e="";var o=s.length,l=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vr(this),Eo(this);var c="";break e}this.h.i=new ot.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(s[t],{stream:l&&t==o-1});s.length=0,this.h.g+=e,this.o=0,c=this.h.g}else c=this.g.ja();if(this.i=n==200,IC(this.j,this.v,this.B,this.m,this.W,y,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var m,d=this.g;if((m=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oo(m)){var g=m;break e}}g=null}if(n=g)Ls(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,em(this,n);else{this.i=!1,this.s=3,Pe(12),Vr(this),Eo(this);break t}}this.S?(uT(this,y,c),Kd&&this.i&&y==3&&(ZE(this.U,this.V,"tick",this.mb),this.V.start())):(Ls(this.j,this.m,c,null),em(this,c)),y==4&&Vr(this),this.i&&!this.J&&(y==4?xT(this.l,this):(this.i=!1,tl(this)))}else WC(this.g),n==400&&0<c.indexOf("Unknown SID")?(this.s=3,Pe(12)):(this.s=0,Pe(13)),Vr(this),Eo(this)}}}catch{}finally{}};function lT(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function uT(e,t,n){let s=!0,o;for(;!e.J&&e.o<n.length;)if(o=OC(e,n),o==Jd){t==4&&(e.s=4,Pe(14),s=!1),Ls(e.j,e.m,null,"[Incomplete Response]");break}else if(o==aT){e.s=4,Pe(15),Ls(e.j,e.m,n,"[Invalid Chunk]"),s=!1;break}else Ls(e.j,e.m,o,null),em(e,o);lT(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,Pe(16),s=!1),e.i=e.i&&s,s?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wm(t),t.M=!0,Pe(11))):(Ls(e.j,e.m,n,"[Invalid Chunked Response]"),Vr(e),Eo(e))}B.mb=function(){if(this.g){var e=On(this.g),t=this.g.ja();this.o<t.length&&(Cc(this),uT(this,e,t),this.i&&e!=4&&tl(this))}};function OC(e,t){var n=e.o,s=t.indexOf(`
`,n);return s==-1?Jd:(n=Number(t.substring(n,s)),isNaN(n)?aT:(s+=1,s+n>t.length?Jd:(t=t.slice(s,s+n),e.o=s+n,t)))}B.cancel=function(){this.J=!0,Vr(this)};function tl(e){e.Y=Date.now()+e.P,cT(e,e.P)}function cT(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=Wo(Ce(e.lb,e),t)}function Cc(e){e.C&&(ot.clearTimeout(e.C),e.C=null)}B.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(CC(this.j,this.B),this.L!=2&&(Uo(),Pe(17)),Vr(this),this.s=2,Eo(this)):cT(this,this.Y-e)};function Eo(e){e.l.H==0||e.J||xT(e.l,e)}function Vr(e){Cc(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Bm(e.V),JE(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function em(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||nm(n.i,e))){if(!e.K&&nm(n.i,e)&&n.H==3){try{var s=n.Ja.g.parse(t)}catch{s=null}if(Array.isArray(s)&&s.length==3){var o=s;if(o[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Wu(n),Mc(n);else break t;$m(n),Pe(18)}}else n.Fa=o[1],0<n.Fa-n.V&&37500>o[2]&&n.G&&n.A==0&&!n.v&&(n.v=Wo(Ce(n.ib,n),6e3));if(1>=_T(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Pr(n,11)}else if((e.K||n.g==e)&&Wu(n),!Oo(t))for(o=n.Ja.g.parse(t),t=0;t<o.length;t++){let g=o[t];if(n.V=g[0],g=g[1],n.H==2)if(g[0]=="c"){n.K=g[1],n.pa=g[2];const y=g[3];y!=null&&(n.ra=y,n.l.info("VER="+n.ra));const v=g[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));const T=g[5];T!=null&&typeof T=="number"&&0<T&&(s=1.5*T,n.L=s,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const I=e.g;if(I){const U=I.g?I.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var l=s.i;l.g||U.indexOf("spdy")==-1&&U.indexOf("quic")==-1&&U.indexOf("h2")==-1||(l.j=l.l,l.g=new Set,l.h&&(Qm(l,l.h),l.h=null))}if(s.F){const j=I.g?I.g.getResponseHeader("X-HTTP-Session-Id"):null;j&&(s.Da=j,kt(s.I,s.F,j))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),s=n;var c=e;if(s.wa=PT(s,s.J?s.pa:null,s.Y),c.K){vT(s.i,c);var m=c,d=s.L;d&&m.setTimeout(d),m.C&&(Cc(m),tl(m)),s.g=c}else NT(s);0<n.j.length&&Vc(n)}else g[0]!="stop"&&g[0]!="close"||Pr(n,7);else n.H==3&&(g[0]=="stop"||g[0]=="close"?g[0]=="stop"?Pr(n,7):Xm(n):g[0]!="noop"&&n.h&&n.h.Aa(g),n.A=0)}}Uo(4)}catch{}}function xC(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(yc(e)){for(var t=[],n=e.length,s=0;s<n;s++)t.push(e[s]);return t}t=[],n=0;for(s in e)t[n++]=e[s];return t}function MC(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(yc(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const s in e)t[n++]=s;return t}}}function hT(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(yc(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=MC(e),s=xC(e),o=s.length,l=0;l<o;l++)t.call(void 0,s[l],n&&n[l],e)}var fT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function VC(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var s=e[n].indexOf("="),o=null;if(0<=s){var l=e[n].substring(0,s);o=e[n].substring(s+1)}else l=e[n];t(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Lr(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Lr){this.h=e.h,Xu(this,e.j),this.s=e.s,this.g=e.g,$u(this,e.m),this.l=e.l;var t=e.i,n=new Lo;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),r0(this,n),this.o=e.o}else e&&(t=String(e).match(fT))?(this.h=!1,Xu(this,t[1]||"",!0),this.s=go(t[2]||""),this.g=go(t[3]||"",!0),$u(this,t[4]),this.l=go(t[5]||"",!0),r0(this,t[6]||"",!0),this.o=go(t[7]||"")):(this.h=!1,this.i=new Lo(null,this.h))}Lr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(po(t,s0,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(po(t,s0,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(po(n,n.charAt(0)=="/"?LC:UC,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",po(n,jC)),e.join("")};function ui(e){return new Lr(e)}function Xu(e,t,n){e.j=n?go(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function $u(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function r0(e,t,n){t instanceof Lo?(e.i=t,zC(e.i,e.h)):(n||(t=po(t,kC)),e.i=new Lo(t,e.h))}function kt(e,t,n){e.i.set(t,n)}function Dc(e){return kt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function go(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function po(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,PC),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function PC(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var s0=/[#\/\?@]/g,UC=/[#\?:]/g,LC=/[#\?]/g,kC=/[#\?@]/g,jC=/#/g;function Lo(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function sr(e){e.g||(e.g=new Map,e.h=0,e.i&&VC(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}B=Lo.prototype;B.add=function(e,t){sr(this),this.i=null,e=na(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function dT(e,t){sr(e),t=na(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function mT(e,t){return sr(e),t=na(e,t),e.g.has(t)}B.forEach=function(e,t){sr(this),this.g.forEach(function(n,s){n.forEach(function(o){e.call(t,o,s,this)},this)},this)};B.ta=function(){sr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let s=0;s<t.length;s++){const o=e[s];for(let l=0;l<o.length;l++)n.push(t[s])}return n};B.Z=function(e){sr(this);let t=[];if(typeof e=="string")mT(this,e)&&(t=t.concat(this.g.get(na(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};B.set=function(e,t){return sr(this),this.i=null,e=na(this,e),mT(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};B.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function gT(e,t,n){dT(e,t),0<n.length&&(e.i=null,e.g.set(na(e,t),Mm(n)),e.h+=n.length)}B.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var s=t[n];const l=encodeURIComponent(String(s)),c=this.Z(s);for(s=0;s<c.length;s++){var o=l;c[s]!==""&&(o+="="+encodeURIComponent(String(c[s]))),e.push(o)}}return this.i=e.join("&")};function na(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function zC(e,t){t&&!e.j&&(sr(e),e.i=null,e.g.forEach(function(n,s){var o=s.toLowerCase();s!=o&&(dT(this,s),gT(this,o,n))},e)),e.j=t}var BC=class{constructor(e,t){this.g=e,this.map=t}};function pT(e){this.l=e||qC,ot.PerformanceNavigationTiming?(e=ot.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ot.g&&ot.g.Ka&&ot.g.Ka()&&ot.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var qC=10;function yT(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function _T(e){return e.h?1:e.g?e.g.size:0}function nm(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Qm(e,t){e.g?e.g.add(t):e.h=t}function vT(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}pT.prototype.cancel=function(){if(this.i=ET(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function ET(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Mm(e.i)}var HC=class{stringify(e){return ot.JSON.stringify(e,void 0)}parse(e){return ot.JSON.parse(e,void 0)}};function FC(){this.g=new HC}function GC(e,t,n){const s=n||"";try{hT(e,function(o,l){let c=o;_c(o)&&(c=jm(o)),t.push(s+l+"="+encodeURIComponent(c))})}catch(o){throw t.push(s+"type="+encodeURIComponent("_badmap")),o}}function QC(e,t){const n=new wc;if(ot.Image){const s=new Image;s.onload=Du(Ou,n,s,"TestLoadImage: loaded",!0,t),s.onerror=Du(Ou,n,s,"TestLoadImage: error",!1,t),s.onabort=Du(Ou,n,s,"TestLoadImage: abort",!1,t),s.ontimeout=Du(Ou,n,s,"TestLoadImage: timeout",!1,t),ot.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=e}else t(!1)}function Ou(e,t,n,s,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(s)}catch{}}function Nc(e){this.l=e.ec||null,this.j=e.ob||!1}de(Nc,Hm);Nc.prototype.g=function(){return new Oc(this.l,this.j)};Nc.prototype.i=function(e){return function(){return e}}({});function Oc(e,t){fe.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Km,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}de(Oc,fe);var Km=0;B=Oc.prototype;B.open=function(e,t){if(this.readyState!=Km)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ko(this)};B.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ot).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,el(this)),this.readyState=Km};B.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ko(this)),this.g&&(this.readyState=3,ko(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ot.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;TT(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function TT(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}B.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?el(this):ko(this),this.readyState==3&&TT(this)}};B.Za=function(e){this.g&&(this.response=this.responseText=e,el(this))};B.Ya=function(e){this.g&&(this.response=e,el(this))};B.ka=function(){this.g&&el(this)};function el(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ko(e)}B.setRequestHeader=function(e,t){this.v.append(e,t)};B.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};B.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function ko(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Oc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var KC=ot.JSON.parse;function Kt(e){fe.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=AT,this.L=this.M=!1}de(Kt,fe);var AT="",YC=/^https?$/i,XC=["POST","PUT"];B=Kt.prototype;B.Oa=function(e){this.M=e};B.ha=function(e,t,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Zd.g(),this.C=this.u?i0(this.u):i0(Zd),this.g.onreadystatechange=Ce(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(l){a0(this,l);return}if(e=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var o in s)n.set(o,s[o]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const l of s.keys())n.set(l,s.get(l));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(l=>l.toLowerCase()=="content-type"),o=ot.FormData&&e instanceof ot.FormData,!(0<=jE(XC,t))||s||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,c]of n)this.g.setRequestHeader(l,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{RT(this),0<this.B&&((this.L=$C(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ce(this.ua,this)):this.A=qm(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(l){a0(this,l)}};function $C(e){return Gs&&typeof e.timeout=="number"&&e.ontimeout!==void 0}B.ua=function(){typeof xm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ee(this,"timeout"),this.abort(8))};function a0(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ST(e),xc(e)}function ST(e){e.F||(e.F=!0,Ee(e,"complete"),Ee(e,"error"))}B.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ee(this,"complete"),Ee(this,"abort"),xc(this))};B.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xc(this,!0)),Kt.$.N.call(this)};B.La=function(){this.s||(this.G||this.v||this.l?wT(this):this.kb())};B.kb=function(){wT(this)};function wT(e){if(e.h&&typeof xm<"u"&&(!e.C[1]||On(e)!=4||e.da()!=2)){if(e.v&&On(e)==4)qm(e.La,0,e);else if(Ee(e,"readystatechange"),On(e)==4){e.h=!1;try{const c=e.da();t:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var s;if(s=c===0){var o=String(e.I).match(fT)[1]||null;!o&&ot.self&&ot.self.location&&(o=ot.self.location.protocol.slice(0,-1)),s=!YC.test(o?o.toLowerCase():"")}n=s}if(n)Ee(e,"complete"),Ee(e,"success");else{e.m=6;try{var l=2<On(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.da()+"]",ST(e)}}finally{xc(e)}}}}function xc(e,t){if(e.g){RT(e);const n=e.g,s=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Ee(e,"ready");try{n.onreadystatechange=s}catch{}}}function RT(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ot.clearTimeout(e.A),e.A=null)}B.isActive=function(){return!!this.g};function On(e){return e.g?e.g.readyState:0}B.da=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}};B.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};B.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),KC(t)}};function o0(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case AT:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function WC(e){const t={};e=(e.g&&2<=On(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let s=0;s<e.length;s++){if(Oo(e[s]))continue;var n=AC(e[s]);const o=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const l=t[o]||[];t[o]=l,l.push(n)}mC(t,function(s){return s.join(", ")})}B.Ia=function(){return this.m};B.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function bT(e){let t="";return Pm(e,function(n,s){t+=s,t+=":",t+=n,t+=`\r
`}),t}function Ym(e,t,n){t:{for(s in n){var s=!1;break t}s=!0}s||(n=bT(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):kt(e,t,n))}function uo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function IT(e){this.Ga=0,this.j=[],this.l=new wc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=uo("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=uo("baseRetryDelayMs",5e3,e),this.hb=uo("retryDelaySeedMs",1e4,e),this.eb=uo("forwardChannelMaxRetries",2,e),this.xa=uo("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new pT(e&&e.concurrentRequestLimit),this.Ja=new FC,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}B=IT.prototype;B.ra=8;B.H=1;function Xm(e){if(CT(e),e.H==3){var t=e.W++,n=ui(e.I);if(kt(n,"SID",e.K),kt(n,"RID",t),kt(n,"TYPE","terminate"),nl(e,n),t=new Jo(e,e.l,t),t.L=2,t.A=Dc(ui(n)),n=!1,ot.navigator&&ot.navigator.sendBeacon)try{n=ot.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&ot.Image&&(new Image().src=t.A,n=!0),n||(t.g=UT(t.l,null),t.g.ha(t.A)),t.G=Date.now(),tl(t)}VT(e)}function Mc(e){e.g&&(Wm(e),e.g.cancel(),e.g=null)}function CT(e){Mc(e),e.u&&(ot.clearTimeout(e.u),e.u=null),Wu(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&ot.clearTimeout(e.m),e.m=null)}function Vc(e){if(!yT(e.i)&&!e.m){e.m=!0;var t=e.Na;Mo||$E(),Vo||(Mo(),Vo=!0),zm.add(t,e),e.C=0}}function ZC(e,t){return _T(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Wo(Ce(e.Na,e,t),MT(e,e.C)),e.C++,!0)}B.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const o=new Jo(this,this.l,e);let l=this.s;if(this.U&&(l?(l=HE(l),FE(l,this.U)):l=this.U),this.o!==null||this.O||(o.I=l,l=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var s=this.j[n];if("__data__"in s.map&&(s=s.map.__data__,typeof s=="string")){s=s.length;break e}s=void 0}if(s===void 0)break;if(t+=s,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=DT(this,o,t),n=ui(this.I),kt(n,"RID",e),kt(n,"CVER",22),this.F&&kt(n,"X-HTTP-Session-Id",this.F),nl(this,n),l&&(this.O?t="headers="+encodeURIComponent(String(bT(l)))+"&"+t:this.o&&Ym(n,this.o,l)),Qm(this.i,o),this.bb&&kt(n,"TYPE","init"),this.P?(kt(n,"$req",t),kt(n,"SID","null"),o.aa=!0,tm(o,n,null)):tm(o,n,t),this.H=2}}else this.H==3&&(e?l0(this,e):this.j.length==0||yT(this.i)||l0(this))};function l0(e,t){var n;t?n=t.m:n=e.W++;const s=ui(e.I);kt(s,"SID",e.K),kt(s,"RID",n),kt(s,"AID",e.V),nl(e,s),e.o&&e.s&&Ym(s,e.o,e.s),n=new Jo(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=DT(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Qm(e.i,n),tm(n,s,t)}function nl(e,t){e.na&&Pm(e.na,function(n,s){kt(t,s,n)}),e.h&&hT({},function(n,s){kt(t,s,n)})}function DT(e,t,n){n=Math.min(e.j.length,n);var s=e.h?Ce(e.h.Va,e.h,e):null;t:{var o=e.j;let l=-1;for(;;){const c=["count="+n];l==-1?0<n?(l=o[0].g,c.push("ofs="+l)):l=0:c.push("ofs="+l);let m=!0;for(let d=0;d<n;d++){let g=o[d].g;const y=o[d].map;if(g-=l,0>g)l=Math.max(0,o[d].g-100),m=!1;else try{GC(y,c,"req"+g+"_")}catch{s&&s(y)}}if(m){s=c.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,s}function NT(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Mo||$E(),Vo||(Mo(),Vo=!0),zm.add(t,e),e.A=0}}function $m(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Wo(Ce(e.Ma,e),MT(e,e.A)),e.A++,!0)}B.Ma=function(){if(this.u=null,OT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Wo(Ce(this.jb,this),e)}};B.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Pe(10),Mc(this),OT(this))};function Wm(e){e.B!=null&&(ot.clearTimeout(e.B),e.B=null)}function OT(e){e.g=new Jo(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=ui(e.wa);kt(t,"RID","rpc"),kt(t,"SID",e.K),kt(t,"AID",e.V),kt(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&kt(t,"TO",e.qa),kt(t,"TYPE","xmlhttp"),nl(e,t),e.o&&e.s&&Ym(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Dc(ui(t)),n.u=null,n.S=!0,oT(n,e)}B.ib=function(){this.v!=null&&(this.v=null,Mc(this),$m(this),Pe(19))};function Wu(e){e.v!=null&&(ot.clearTimeout(e.v),e.v=null)}function xT(e,t){var n=null;if(e.g==t){Wu(e),Wm(e),e.g=null;var s=2}else if(nm(e.i,t))n=t.F,vT(e.i,t),s=1;else return;if(e.H!=0){if(t.i)if(s==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var o=e.C;s=Rc(),Ee(s,new nT(s,n)),Vc(e)}else NT(e);else if(o=t.s,o==3||o==0&&0<t.ca||!(s==1&&ZC(e,t)||s==2&&$m(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:Pr(e,5);break;case 4:Pr(e,10);break;case 3:Pr(e,6);break;default:Pr(e,2)}}}function MT(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Pr(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var s=Ce(e.pb,e);n||(n=new Lr("//www.google.com/images/cleardot.gif"),ot.location&&ot.location.protocol=="http"||Xu(n,"https"),Dc(n)),QC(n.toString(),s)}else Pe(2);e.H=0,e.h&&e.h.za(t),VT(e),CT(e)}B.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Pe(2)):(this.l.info("Failed to ping google.com"),Pe(1))};function VT(e){if(e.H=0,e.ma=[],e.h){const t=ET(e.i);(t.length!=0||e.j.length!=0)&&(Zv(e.ma,t),Zv(e.ma,e.j),e.i.i.length=0,Mm(e.j),e.j.length=0),e.h.ya()}}function PT(e,t,n){var s=n instanceof Lr?ui(n):new Lr(n);if(s.g!="")t&&(s.g=t+"."+s.g),$u(s,s.m);else{var o=ot.location;s=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var l=new Lr(null);s&&Xu(l,s),t&&(l.g=t),o&&$u(l,o),n&&(l.l=n),s=l}return n=e.F,t=e.Da,n&&t&&kt(s,n,t),kt(s,"VER",e.ra),nl(e,s),s}function UT(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Kt(new Nc({ob:n})):new Kt(e.va),t.Oa(e.J),t}B.isActive=function(){return!!this.h&&this.h.isActive(this)};function LT(){}B=LT.prototype;B.Ba=function(){};B.Aa=function(){};B.za=function(){};B.ya=function(){};B.isActive=function(){return!0};B.Va=function(){};function Zu(){if(Gs&&!(10<=Number(cC)))throw Error("Environmental error: no available transport.")}Zu.prototype.g=function(e,t){return new We(e,t)};function We(e,t){fe.call(this),this.g=new IT(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Oo(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Oo(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new ia(this)}de(We,fe);We.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Pe(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=PT(e,null,e.Y),Vc(e)};We.prototype.close=function(){Xm(this.g)};We.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=jm(e),e=n);t.j.push(new BC(t.fb++,e)),t.H==3&&Vc(t)};We.prototype.N=function(){this.g.h=null,delete this.j,Xm(this.g),delete this.g,We.$.N.call(this)};function kT(e){Fm.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}de(kT,Fm);function jT(){Gm.call(this),this.status=1}de(jT,Gm);function ia(e){this.g=e}de(ia,LT);ia.prototype.Ba=function(){Ee(this.g,"a")};ia.prototype.Aa=function(e){Ee(this.g,new kT(e))};ia.prototype.za=function(e){Ee(this.g,new jT)};ia.prototype.ya=function(){Ee(this.g,"b")};function JC(){this.blockSize=-1}function vn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}de(vn,JC);vn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Dd(e,t,n){n||(n=0);var s=Array(16);if(typeof t=="string")for(var o=0;16>o;++o)s[o]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(o=0;16>o;++o)s[o]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],o=e.g[2];var l=e.g[3],c=t+(l^n&(o^l))+s[0]+3614090360&4294967295;t=n+(c<<7&4294967295|c>>>25),c=l+(o^t&(n^o))+s[1]+3905402710&4294967295,l=t+(c<<12&4294967295|c>>>20),c=o+(n^l&(t^n))+s[2]+606105819&4294967295,o=l+(c<<17&4294967295|c>>>15),c=n+(t^o&(l^t))+s[3]+3250441966&4294967295,n=o+(c<<22&4294967295|c>>>10),c=t+(l^n&(o^l))+s[4]+4118548399&4294967295,t=n+(c<<7&4294967295|c>>>25),c=l+(o^t&(n^o))+s[5]+1200080426&4294967295,l=t+(c<<12&4294967295|c>>>20),c=o+(n^l&(t^n))+s[6]+2821735955&4294967295,o=l+(c<<17&4294967295|c>>>15),c=n+(t^o&(l^t))+s[7]+4249261313&4294967295,n=o+(c<<22&4294967295|c>>>10),c=t+(l^n&(o^l))+s[8]+1770035416&4294967295,t=n+(c<<7&4294967295|c>>>25),c=l+(o^t&(n^o))+s[9]+2336552879&4294967295,l=t+(c<<12&4294967295|c>>>20),c=o+(n^l&(t^n))+s[10]+4294925233&4294967295,o=l+(c<<17&4294967295|c>>>15),c=n+(t^o&(l^t))+s[11]+2304563134&4294967295,n=o+(c<<22&4294967295|c>>>10),c=t+(l^n&(o^l))+s[12]+1804603682&4294967295,t=n+(c<<7&4294967295|c>>>25),c=l+(o^t&(n^o))+s[13]+4254626195&4294967295,l=t+(c<<12&4294967295|c>>>20),c=o+(n^l&(t^n))+s[14]+2792965006&4294967295,o=l+(c<<17&4294967295|c>>>15),c=n+(t^o&(l^t))+s[15]+1236535329&4294967295,n=o+(c<<22&4294967295|c>>>10),c=t+(o^l&(n^o))+s[1]+4129170786&4294967295,t=n+(c<<5&4294967295|c>>>27),c=l+(n^o&(t^n))+s[6]+3225465664&4294967295,l=t+(c<<9&4294967295|c>>>23),c=o+(t^n&(l^t))+s[11]+643717713&4294967295,o=l+(c<<14&4294967295|c>>>18),c=n+(l^t&(o^l))+s[0]+3921069994&4294967295,n=o+(c<<20&4294967295|c>>>12),c=t+(o^l&(n^o))+s[5]+3593408605&4294967295,t=n+(c<<5&4294967295|c>>>27),c=l+(n^o&(t^n))+s[10]+38016083&4294967295,l=t+(c<<9&4294967295|c>>>23),c=o+(t^n&(l^t))+s[15]+3634488961&4294967295,o=l+(c<<14&4294967295|c>>>18),c=n+(l^t&(o^l))+s[4]+3889429448&4294967295,n=o+(c<<20&4294967295|c>>>12),c=t+(o^l&(n^o))+s[9]+568446438&4294967295,t=n+(c<<5&4294967295|c>>>27),c=l+(n^o&(t^n))+s[14]+3275163606&4294967295,l=t+(c<<9&4294967295|c>>>23),c=o+(t^n&(l^t))+s[3]+4107603335&4294967295,o=l+(c<<14&4294967295|c>>>18),c=n+(l^t&(o^l))+s[8]+1163531501&4294967295,n=o+(c<<20&4294967295|c>>>12),c=t+(o^l&(n^o))+s[13]+2850285829&4294967295,t=n+(c<<5&4294967295|c>>>27),c=l+(n^o&(t^n))+s[2]+4243563512&4294967295,l=t+(c<<9&4294967295|c>>>23),c=o+(t^n&(l^t))+s[7]+1735328473&4294967295,o=l+(c<<14&4294967295|c>>>18),c=n+(l^t&(o^l))+s[12]+2368359562&4294967295,n=o+(c<<20&4294967295|c>>>12),c=t+(n^o^l)+s[5]+4294588738&4294967295,t=n+(c<<4&4294967295|c>>>28),c=l+(t^n^o)+s[8]+2272392833&4294967295,l=t+(c<<11&4294967295|c>>>21),c=o+(l^t^n)+s[11]+1839030562&4294967295,o=l+(c<<16&4294967295|c>>>16),c=n+(o^l^t)+s[14]+4259657740&4294967295,n=o+(c<<23&4294967295|c>>>9),c=t+(n^o^l)+s[1]+2763975236&4294967295,t=n+(c<<4&4294967295|c>>>28),c=l+(t^n^o)+s[4]+1272893353&4294967295,l=t+(c<<11&4294967295|c>>>21),c=o+(l^t^n)+s[7]+4139469664&4294967295,o=l+(c<<16&4294967295|c>>>16),c=n+(o^l^t)+s[10]+3200236656&4294967295,n=o+(c<<23&4294967295|c>>>9),c=t+(n^o^l)+s[13]+681279174&4294967295,t=n+(c<<4&4294967295|c>>>28),c=l+(t^n^o)+s[0]+3936430074&4294967295,l=t+(c<<11&4294967295|c>>>21),c=o+(l^t^n)+s[3]+3572445317&4294967295,o=l+(c<<16&4294967295|c>>>16),c=n+(o^l^t)+s[6]+76029189&4294967295,n=o+(c<<23&4294967295|c>>>9),c=t+(n^o^l)+s[9]+3654602809&4294967295,t=n+(c<<4&4294967295|c>>>28),c=l+(t^n^o)+s[12]+3873151461&4294967295,l=t+(c<<11&4294967295|c>>>21),c=o+(l^t^n)+s[15]+530742520&4294967295,o=l+(c<<16&4294967295|c>>>16),c=n+(o^l^t)+s[2]+3299628645&4294967295,n=o+(c<<23&4294967295|c>>>9),c=t+(o^(n|~l))+s[0]+4096336452&4294967295,t=n+(c<<6&4294967295|c>>>26),c=l+(n^(t|~o))+s[7]+1126891415&4294967295,l=t+(c<<10&4294967295|c>>>22),c=o+(t^(l|~n))+s[14]+2878612391&4294967295,o=l+(c<<15&4294967295|c>>>17),c=n+(l^(o|~t))+s[5]+4237533241&4294967295,n=o+(c<<21&4294967295|c>>>11),c=t+(o^(n|~l))+s[12]+1700485571&4294967295,t=n+(c<<6&4294967295|c>>>26),c=l+(n^(t|~o))+s[3]+2399980690&4294967295,l=t+(c<<10&4294967295|c>>>22),c=o+(t^(l|~n))+s[10]+4293915773&4294967295,o=l+(c<<15&4294967295|c>>>17),c=n+(l^(o|~t))+s[1]+2240044497&4294967295,n=o+(c<<21&4294967295|c>>>11),c=t+(o^(n|~l))+s[8]+1873313359&4294967295,t=n+(c<<6&4294967295|c>>>26),c=l+(n^(t|~o))+s[15]+4264355552&4294967295,l=t+(c<<10&4294967295|c>>>22),c=o+(t^(l|~n))+s[6]+2734768916&4294967295,o=l+(c<<15&4294967295|c>>>17),c=n+(l^(o|~t))+s[13]+1309151649&4294967295,n=o+(c<<21&4294967295|c>>>11),c=t+(o^(n|~l))+s[4]+4149444226&4294967295,t=n+(c<<6&4294967295|c>>>26),c=l+(n^(t|~o))+s[11]+3174756917&4294967295,l=t+(c<<10&4294967295|c>>>22),c=o+(t^(l|~n))+s[2]+718787259&4294967295,o=l+(c<<15&4294967295|c>>>17),c=n+(l^(o|~t))+s[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(o+(c<<21&4294967295|c>>>11))&4294967295,e.g[2]=e.g[2]+o&4294967295,e.g[3]=e.g[3]+l&4294967295}vn.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,s=this.m,o=this.h,l=0;l<t;){if(o==0)for(;l<=n;)Dd(this,e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<t;)if(s[o++]=e.charCodeAt(l++),o==this.blockSize){Dd(this,s),o=0;break}}else for(;l<t;)if(s[o++]=e[l++],o==this.blockSize){Dd(this,s),o=0;break}}this.h=o,this.i+=t};vn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var s=0;32>s;s+=8)e[n++]=this.g[t]>>>s&255;return e};function Dt(e,t){this.h=t;for(var n=[],s=!0,o=e.length-1;0<=o;o--){var l=e[o]|0;s&&l==t||(n[o]=l,s=!1)}this.g=n}var t2={};function Zm(e){return-128<=e&&128>e?oC(e,function(t){return new Dt([t|0],0>t?-1:0)}):new Dt([e|0],0>e?-1:0)}function xn(e){if(isNaN(e)||!isFinite(e))return js;if(0>e)return _e(xn(-e));for(var t=[],n=1,s=0;e>=n;s++)t[s]=e/n|0,n*=im;return new Dt(t,0)}function zT(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return _e(zT(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=xn(Math.pow(t,8)),s=js,o=0;o<e.length;o+=8){var l=Math.min(8,e.length-o),c=parseInt(e.substring(o,o+l),t);8>l?(l=xn(Math.pow(t,l)),s=s.R(l).add(xn(c))):(s=s.R(n),s=s.add(xn(c)))}return s}var im=4294967296,js=Zm(0),rm=Zm(1),u0=Zm(16777216);B=Dt.prototype;B.ea=function(){if(fn(this))return-_e(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var s=this.D(n);e+=(0<=s?s:im+s)*t,t*=im}return e};B.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(ri(this))return"0";if(fn(this))return"-"+_e(this).toString(e);for(var t=xn(Math.pow(e,6)),n=this,s="";;){var o=tc(n,t).g;n=Ju(n,o.R(t));var l=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=o,ri(n))return l+s;for(;6>l.length;)l="0"+l;s=l+s}};B.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function ri(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function fn(e){return e.h==-1}B.X=function(e){return e=Ju(this,e),fn(e)?-1:ri(e)?0:1};function _e(e){for(var t=e.g.length,n=[],s=0;s<t;s++)n[s]=~e.g[s];return new Dt(n,~e.h).add(rm)}B.abs=function(){return fn(this)?_e(this):this};B.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0,o=0;o<=t;o++){var l=s+(this.D(o)&65535)+(e.D(o)&65535),c=(l>>>16)+(this.D(o)>>>16)+(e.D(o)>>>16);s=c>>>16,l&=65535,c&=65535,n[o]=c<<16|l}return new Dt(n,n[n.length-1]&-2147483648?-1:0)};function Ju(e,t){return e.add(_e(t))}B.R=function(e){if(ri(this)||ri(e))return js;if(fn(this))return fn(e)?_e(this).R(_e(e)):_e(_e(this).R(e));if(fn(e))return _e(this.R(_e(e)));if(0>this.X(u0)&&0>e.X(u0))return xn(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],s=0;s<2*t;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var o=0;o<e.g.length;o++){var l=this.D(s)>>>16,c=this.D(s)&65535,m=e.D(o)>>>16,d=e.D(o)&65535;n[2*s+2*o]+=c*d,xu(n,2*s+2*o),n[2*s+2*o+1]+=l*d,xu(n,2*s+2*o+1),n[2*s+2*o+1]+=c*m,xu(n,2*s+2*o+1),n[2*s+2*o+2]+=l*m,xu(n,2*s+2*o+2)}for(s=0;s<t;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=t;s<2*t;s++)n[s]=0;return new Dt(n,0)};function xu(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function co(e,t){this.g=e,this.h=t}function tc(e,t){if(ri(t))throw Error("division by zero");if(ri(e))return new co(js,js);if(fn(e))return t=tc(_e(e),t),new co(_e(t.g),_e(t.h));if(fn(t))return t=tc(e,_e(t)),new co(_e(t.g),t.h);if(30<e.g.length){if(fn(e)||fn(t))throw Error("slowDivide_ only works with positive integers.");for(var n=rm,s=t;0>=s.X(e);)n=c0(n),s=c0(s);var o=Ms(n,1),l=Ms(s,1);for(s=Ms(s,2),n=Ms(n,2);!ri(s);){var c=l.add(s);0>=c.X(e)&&(o=o.add(n),l=c),s=Ms(s,1),n=Ms(n,1)}return t=Ju(e,o.R(t)),new co(o,t)}for(o=js;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),s=Math.ceil(Math.log(n)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),l=xn(n),c=l.R(t);fn(c)||0<c.X(e);)n-=s,l=xn(n),c=l.R(t);ri(l)&&(l=rm),o=o.add(l),e=Ju(e,c)}return new co(o,e)}B.gb=function(e){return tc(this,e).h};B.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.D(s)&e.D(s);return new Dt(n,this.h&e.h)};B.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.D(s)|e.D(s);return new Dt(n,this.h|e.h)};B.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.D(s)^e.D(s);return new Dt(n,this.h^e.h)};function c0(e){for(var t=e.g.length+1,n=[],s=0;s<t;s++)n[s]=e.D(s)<<1|e.D(s-1)>>>31;return new Dt(n,e.h)}function Ms(e,t){var n=t>>5;t%=32;for(var s=e.g.length-n,o=[],l=0;l<s;l++)o[l]=0<t?e.D(l+n)>>>t|e.D(l+n+1)<<32-t:e.D(l+n);return new Dt(o,e.h)}Zu.prototype.createWebChannel=Zu.prototype.g;We.prototype.send=We.prototype.u;We.prototype.open=We.prototype.m;We.prototype.close=We.prototype.close;bc.NO_ERROR=0;bc.TIMEOUT=8;bc.HTTP_ERROR=6;iT.COMPLETE="complete";rT.EventType=Zo;Zo.OPEN="a";Zo.CLOSE="b";Zo.ERROR="c";Zo.MESSAGE="d";fe.prototype.listen=fe.prototype.O;Kt.prototype.listenOnce=Kt.prototype.P;Kt.prototype.getLastError=Kt.prototype.Sa;Kt.prototype.getLastErrorCode=Kt.prototype.Ia;Kt.prototype.getStatus=Kt.prototype.da;Kt.prototype.getResponseJson=Kt.prototype.Wa;Kt.prototype.getResponseText=Kt.prototype.ja;Kt.prototype.send=Kt.prototype.ha;Kt.prototype.setWithCredentials=Kt.prototype.Oa;vn.prototype.digest=vn.prototype.l;vn.prototype.reset=vn.prototype.reset;vn.prototype.update=vn.prototype.j;Dt.prototype.add=Dt.prototype.add;Dt.prototype.multiply=Dt.prototype.R;Dt.prototype.modulo=Dt.prototype.gb;Dt.prototype.compare=Dt.prototype.X;Dt.prototype.toNumber=Dt.prototype.ea;Dt.prototype.toString=Dt.prototype.toString;Dt.prototype.getBits=Dt.prototype.D;Dt.fromNumber=xn;Dt.fromString=zT;var e2=function(){return new Zu},n2=function(){return Rc()},Nd=bc,i2=iT,r2=Qr,h0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Mu=rT,s2=Kt,a2=vn,zs=Dt;const f0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Be.UNAUTHENTICATED=new Be(null),Be.GOOGLE_CREDENTIALS=new Be("google-credentials-uid"),Be.FIRST_PARTY=new Be("first-party-uid"),Be.MOCK_USER=new Be("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ra="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new Dm("@firebase/firestore");function ho(){return Br.logLevel}function Q(e,...t){if(Br.logLevel<=Et.DEBUG){const n=t.map(Jm);Br.debug(`Firestore (${ra}): ${e}`,...n)}}function ci(e,...t){if(Br.logLevel<=Et.ERROR){const n=t.map(Jm);Br.error(`Firestore (${ra}): ${e}`,...n)}}function jo(e,...t){if(Br.logLevel<=Et.WARN){const n=t.map(Jm);Br.warn(`Firestore (${ra}): ${e}`,...n)}}function Jm(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(e="Unexpected state"){const t=`FIRESTORE (${ra}) INTERNAL ASSERTION FAILED: `+e;throw ci(t),new Error(t)}function Ut(e,t){e||at()}function ht(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends di{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class l2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Be.UNAUTHENTICATED))}shutdown(){}}class u2{constructor(t){this.t=t,this.currentUser=Be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let s=this.i;const o=d=>this.i!==s?(s=this.i,n(d)):Promise.resolve();let l=new li;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new li,t.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const d=l;t.enqueueRetryable(async()=>{await d.promise,await o(this.currentUser)})},m=d=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(d=>m(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?m(d):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new li)}},0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ut(typeof s.accessToken=="string"),new o2(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ut(t===null||typeof t=="string"),new Be(t)}}class c2{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=Be.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class h2{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new c2(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Be.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f2{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d2{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const s=l=>{l.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,Q("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>s(l))};const o=l=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ut(typeof n.token=="string"),this.R=n.token,new f2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let s="";for(;s.length<20;){const o=m2(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<n&&(s+=t.charAt(o[l]%t.length))}return s}}function It(e,t){return e<t?-1:e>t?1:0}function Qs(e,t,n){return e.length===t.length&&e.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new H(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new H(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new H(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor(1e6*(t-1e3*n));return new se(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ut(t)}static min(){return new ut(new se(0,0))}static max(){return new ut(new se(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(t,n,s){n===void 0?n=0:n>t.length&&at(),s===void 0?s=t.length-n:s>t.length-n&&at(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return zo.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof zo?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const l=t.get(o),c=n.get(o);if(l<c)return-1;if(l>c)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class jt extends zo{construct(t,n,s){return new jt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new H(P.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new jt(n)}static emptyPath(){return new jt([])}}const g2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ve extends zo{construct(t,n,s){return new ve(t,n,s)}static isValidIdentifier(t){return g2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ve.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ve(["__name__"])}static fromServerFormat(t){const n=[];let s="",o=0;const l=()=>{if(s.length===0)throw new H(P.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new H(P.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new H(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=d,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(l(),o++)}if(l(),c)throw new H(P.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ve(n)}static emptyPath(){return new ve([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.path=t}static fromPath(t){return new W(jt.fromString(t))}static fromName(t){return new W(jt.fromString(t).popFirst(5))}static empty(){return new W(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return jt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new W(new jt(t.slice()))}}function p2(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,o=ut.fromTimestamp(s===1e9?new se(n+1,0):new se(n,s));return new Ji(o,W.empty(),t)}function y2(e){return new Ji(e.readTime,e.key,-1)}class Ji{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Ji(ut.min(),W.empty(),-1)}static max(){return new Ji(ut.max(),W.empty(),-1)}}function _2(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=W.comparator(e.documentKey,t.documentKey),n!==0?n:It(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(e){if(e.code!==P.FAILED_PRECONDITION||e.message!==v2)throw e;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new k((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):k.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):k.reject(n)}static resolve(t){return new k((n,s)=>{n(t)})}static reject(t){return new k((n,s)=>{s(t)})}static waitFor(t){return new k((n,s)=>{let o=0,l=0,c=!1;t.forEach(m=>{++o,m.next(()=>{++l,c&&l===o&&n()},d=>s(d))}),c=!0,l===o&&n()})}static or(t){let n=k.resolve(!1);for(const s of t)n=n.next(o=>o?k.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,l)=>{s.push(n.call(this,o,l))}),this.waitFor(s)}static mapArray(t,n){return new k((s,o)=>{const l=t.length,c=new Array(l);let m=0;for(let d=0;d<l;d++){const g=d;n(t[g]).next(y=>{c[g]=y,++m,m===l&&s(c)},y=>o(y))}})}static doWhile(t,n){return new k((s,o)=>{const l=()=>{t()===!0?n().next(()=>{l()},o):s()};l()})}}function rl(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.se(s),this.oe=s=>n.writeSequenceNumber(s))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}tg._e=-1;function Pc(e){return e==null}function ec(e){return e===0&&1/e==-1/0}function T2(e){return typeof e=="number"&&Number.isInteger(e)&&!ec(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Kr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function qT(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t,n){this.comparator=t,this.root=n||ye.EMPTY}insert(t,n){return new Ht(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ye.BLACK,null,null))}remove(t){return new Ht(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ye.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Vu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Vu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Vu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Vu(this.root,t,this.comparator,!0)}}class Vu{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&o&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ye{constructor(t,n,s,o,l){this.key=t,this.value=n,this.color=s??ye.RED,this.left=o??ye.EMPTY,this.right=l??ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,l){return new ye(t??this.key,n??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const l=s(t,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(t,n,s),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return ye.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const t=this.left.check();if(t!==this.right.check())throw at();return t+(this.isRed()?0:1)}}ye.EMPTY=null,ye.RED=!0,ye.BLACK=!1;ye.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(t,n,s,o,l){return this}insert(t,n,s){return new ye(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(t){this.comparator=t,this.data=new Ht(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new m0(this.data.getIterator())}getIteratorFrom(t){return new m0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Te)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Te(this.comparator);return n.data=t,n}}class m0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.fields=t,t.sort(ve.comparator)}static empty(){return new $e([])}unionWith(t){let n=new Te(ve.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new $e(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Qs(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new HT("Invalid base64 string: "+l):l}}(t);return new Oe(n)}static fromUint8Array(t){const n=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(t);return new Oe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Oe.EMPTY_BYTE_STRING=new Oe("");const A2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tr(e){if(Ut(!!e),typeof e=="string"){let t=0;const n=A2.exec(e);if(Ut(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ee(e.seconds),nanos:ee(e.nanos)}}function ee(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function qr(e){return typeof e=="string"?Oe.fromBase64String(e):Oe.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ng(e){const t=e.mapValue.fields.__previous_value__;return eg(t)?ng(t):t}function Bo(e){const t=tr(e.mapValue.fields.__local_write_time__.timestampValue);return new se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(t,n,s,o,l,c,m,d,g){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=d,this.useFetchStreams=g}}class qo{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new qo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof qo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu={mapValue:{}};function Hr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?eg(e)?4:w2(e)?9007199254740991:10:at()}function Ln(e,t){if(e===t)return!0;const n=Hr(e);if(n!==Hr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Bo(e).isEqual(Bo(t));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=tr(o.timestampValue),m=tr(l.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,l){return qr(o.bytesValue).isEqual(qr(l.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,l){return ee(o.geoPointValue.latitude)===ee(l.geoPointValue.latitude)&&ee(o.geoPointValue.longitude)===ee(l.geoPointValue.longitude)}(e,t);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ee(o.integerValue)===ee(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=ee(o.doubleValue),m=ee(l.doubleValue);return c===m?ec(c)===ec(m):isNaN(c)&&isNaN(m)}return!1}(e,t);case 9:return Qs(e.arrayValue.values||[],t.arrayValue.values||[],Ln);case 10:return function(o,l){const c=o.mapValue.fields||{},m=l.mapValue.fields||{};if(d0(c)!==d0(m))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(m[d]===void 0||!Ln(c[d],m[d])))return!1;return!0}(e,t);default:return at()}}function Ho(e,t){return(e.values||[]).find(n=>Ln(n,t))!==void 0}function Ks(e,t){if(e===t)return 0;const n=Hr(e),s=Hr(t);if(n!==s)return It(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return It(e.booleanValue,t.booleanValue);case 2:return function(l,c){const m=ee(l.integerValue||l.doubleValue),d=ee(c.integerValue||c.doubleValue);return m<d?-1:m>d?1:m===d?0:isNaN(m)?isNaN(d)?0:-1:1}(e,t);case 3:return g0(e.timestampValue,t.timestampValue);case 4:return g0(Bo(e),Bo(t));case 5:return It(e.stringValue,t.stringValue);case 6:return function(l,c){const m=qr(l),d=qr(c);return m.compareTo(d)}(e.bytesValue,t.bytesValue);case 7:return function(l,c){const m=l.split("/"),d=c.split("/");for(let g=0;g<m.length&&g<d.length;g++){const y=It(m[g],d[g]);if(y!==0)return y}return It(m.length,d.length)}(e.referenceValue,t.referenceValue);case 8:return function(l,c){const m=It(ee(l.latitude),ee(c.latitude));return m!==0?m:It(ee(l.longitude),ee(c.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(l,c){const m=l.values||[],d=c.values||[];for(let g=0;g<m.length&&g<d.length;++g){const y=Ks(m[g],d[g]);if(y)return y}return It(m.length,d.length)}(e.arrayValue,t.arrayValue);case 10:return function(l,c){if(l===Pu.mapValue&&c===Pu.mapValue)return 0;if(l===Pu.mapValue)return 1;if(c===Pu.mapValue)return-1;const m=l.fields||{},d=Object.keys(m),g=c.fields||{},y=Object.keys(g);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const T=It(d[v],y[v]);if(T!==0)return T;const I=Ks(m[d[v]],g[y[v]]);if(I!==0)return I}return It(d.length,y.length)}(e.mapValue,t.mapValue);default:throw at()}}function g0(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return It(e,t);const n=tr(e),s=tr(t),o=It(n.seconds,s.seconds);return o!==0?o:It(n.nanos,s.nanos)}function Ys(e){return sm(e)}function sm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const s=tr(n);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return qr(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return W.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let s="[",o=!0;for(const l of n.values||[])o?o=!1:s+=",",s+=sm(l);return s+"]"}(e.arrayValue):"mapValue"in e?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${sm(n.fields[c])}`;return o+"}"}(e.mapValue):at()}function p0(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function am(e){return!!e&&"integerValue"in e}function ig(e){return!!e&&"arrayValue"in e}function y0(e){return!!e&&"nullValue"in e}function _0(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ju(e){return!!e&&"mapValue"in e}function To(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Kr(e.mapValue.fields,(n,s)=>t.mapValue.fields[n]=To(s)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=To(e.arrayValue.values[n]);return t}return Object.assign({},e)}function w2(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.value=t}static empty(){return new qe({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!ju(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=To(n)}setAll(t){let n=ve.emptyPath(),s={},o=[];t.forEach((c,m)=>{if(!n.isImmediateParentOf(m)){const d=this.getFieldsMap(n);this.applyChanges(d,s,o),s={},o=[],n=m.popLast()}c?s[m.lastSegment()]=To(c):o.push(m.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,s,o)}delete(t){const n=this.field(t.popLast());ju(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ln(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];ju(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Kr(n,(o,l)=>t[o]=l);for(const o of s)delete t[o]}clone(){return new qe(To(this.value))}}function FT(e){const t=[];return Kr(e.fields,(n,s)=>{const o=new ve([n]);if(ju(s)){const l=FT(s.mapValue).fields;if(l.length===0)t.push(o);else for(const c of l)t.push(o.child(c))}else t.push(o)}),new $e(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t,n,s,o,l,c,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=m}static newInvalidDocument(t){return new Ie(t,0,ut.min(),ut.min(),ut.min(),qe.empty(),0)}static newFoundDocument(t,n,s,o){return new Ie(t,1,n,ut.min(),s,o,0)}static newNoDocument(t,n){return new Ie(t,2,n,ut.min(),ut.min(),qe.empty(),0)}static newUnknownDocument(t,n){return new Ie(t,3,n,ut.min(),ut.min(),qe.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qe.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ut.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ie&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ie(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(t,n){this.position=t,this.inclusive=n}}function v0(e,t,n){let s=0;for(let o=0;o<e.position.length;o++){const l=t[o],c=e.position[o];if(l.field.isKeyField()?s=W.comparator(W.fromName(c.referenceValue),n.key):s=Ks(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function E0(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ln(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t,n="asc"){this.field=t,this.dir=n}}function R2(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{}class ne extends GT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new I2(t,n,s):n==="array-contains"?new N2(t,s):n==="in"?new O2(t,s):n==="not-in"?new x2(t,s):n==="array-contains-any"?new M2(t,s):new ne(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new C2(t,s):new D2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ks(n,this.value)):n!==null&&Hr(this.value)===Hr(n)&&this.matchesComparison(Ks(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return at()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class En extends GT{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new En(t,n)}matches(t){return QT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function QT(e){return e.op==="and"}function KT(e){return b2(e)&&QT(e)}function b2(e){for(const t of e.filters)if(t instanceof En)return!1;return!0}function om(e){if(e instanceof ne)return e.field.canonicalString()+e.op.toString()+Ys(e.value);if(KT(e))return e.filters.map(t=>om(t)).join(",");{const t=e.filters.map(n=>om(n)).join(",");return`${e.op}(${t})`}}function YT(e,t){return e instanceof ne?function(s,o){return o instanceof ne&&s.op===o.op&&s.field.isEqual(o.field)&&Ln(s.value,o.value)}(e,t):e instanceof En?function(s,o){return o instanceof En&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,c,m)=>l&&YT(c,o.filters[m]),!0):!1}(e,t):void at()}function XT(e){return e instanceof ne?function(n){return`${n.field.canonicalString()} ${n.op} ${Ys(n.value)}`}(e):e instanceof En?function(n){return n.op.toString()+" {"+n.getFilters().map(XT).join(" ,")+"}"}(e):"Filter"}class I2 extends ne{constructor(t,n,s){super(t,n,s),this.key=W.fromName(s.referenceValue)}matches(t){const n=W.comparator(t.key,this.key);return this.matchesComparison(n)}}class C2 extends ne{constructor(t,n){super(t,"in",n),this.keys=$T("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class D2 extends ne{constructor(t,n){super(t,"not-in",n),this.keys=$T("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function $T(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>W.fromName(s.referenceValue))}class N2 extends ne{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ig(n)&&Ho(n.arrayValue,this.value)}}class O2 extends ne{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ho(this.value.arrayValue,n)}}class x2 extends ne{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ho(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Ho(this.value.arrayValue,n)}}class M2 extends ne{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ig(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ho(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t,n=null,s=[],o=[],l=null,c=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=m,this.ce=null}}function T0(e,t=null,n=[],s=[],o=null,l=null,c=null){return new V2(e,t,n,s,o,l,c)}function rg(e){const t=ht(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>om(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Pc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Ys(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Ys(s)).join(",")),t.ce=n}return t.ce}function sg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!R2(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!YT(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!E0(e.startAt,t.startAt)&&E0(e.endAt,t.endAt)}function lm(e){return W.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(t,n=null,s=[],o=[],l=null,c="F",m=null,d=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=m,this.endAt=d,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function P2(e,t,n,s,o,l,c,m){return new sl(e,t,n,s,o,l,c,m)}function ag(e){return new sl(e)}function A0(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function WT(e){return e.collectionGroup!==null}function Ao(e){const t=ht(e);if(t.le===null){t.le=[];const n=new Set;for(const l of t.explicitOrderBy)t.le.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Te(ve.comparator);return c.filters.forEach(d=>{d.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||t.le.push(new ic(l,s))}),n.has(ve.keyField().canonicalString())||t.le.push(new ic(ve.keyField(),s))}return t.le}function Mn(e){const t=ht(e);return t.he||(t.he=U2(t,Ao(e))),t.he}function U2(e,t){if(e.limitType==="F")return T0(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new ic(o.field,l)});const n=e.endAt?new nc(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new nc(e.startAt.position,e.startAt.inclusive):null;return T0(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function um(e,t){const n=e.filters.concat([t]);return new sl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function cm(e,t,n){return new sl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Uc(e,t){return sg(Mn(e),Mn(t))&&e.limitType===t.limitType}function ZT(e){return`${rg(Mn(e))}|lt:${e.limitType}`}function Vs(e){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>XT(o)).join(", ")}]`),Pc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Ys(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Ys(o)).join(",")),`Target(${s})`}(Mn(e))}; limitType=${e.limitType})`}function Lc(e,t){return t.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):W.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(e,t)&&function(s,o){for(const l of Ao(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(e,t)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(e,t)&&function(s,o){return!(s.startAt&&!function(c,m,d){const g=v0(c,m,d);return c.inclusive?g<=0:g<0}(s.startAt,Ao(s),o)||s.endAt&&!function(c,m,d){const g=v0(c,m,d);return c.inclusive?g>=0:g>0}(s.endAt,Ao(s),o))}(e,t)}function L2(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function JT(e){return(t,n)=>{let s=!1;for(const o of Ao(e)){const l=k2(o,t,n);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function k2(e,t,n){const s=e.field.isKeyField()?W.comparator(t.key,n.key):function(l,c,m){const d=c.data.field(l),g=m.data.field(l);return d!==null&&g!==null?Ks(d,g):at()}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return at()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],t))return void(o[l]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Kr(this.inner,(n,s)=>{for(const[o,l]of s)t(o,l)})}isEmpty(){return qT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new Ht(W.comparator);function hi(){return j2}const tA=new Ht(W.comparator);function yo(...e){let t=tA;for(const n of e)t=t.insert(n.key,n);return t}function eA(e){let t=tA;return e.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Ur(){return So()}function nA(){return So()}function So(){return new sa(e=>e.toString(),(e,t)=>e.isEqual(t))}const z2=new Ht(W.comparator),B2=new Te(W.comparator);function _t(...e){let t=B2;for(const n of e)t=t.add(n);return t}const q2=new Te(It);function H2(){return q2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(t)?"-0":t}}function rA(e){return{integerValue:""+e}}function F2(e,t){return T2(t)?rA(t):iA(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(){this._=void 0}}function G2(e,t,n){return e instanceof rc?function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&eg(l)&&(l=ng(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(n,t):e instanceof Fo?aA(e,t):e instanceof Go?oA(e,t):function(o,l){const c=sA(o,l),m=S0(c)+S0(o.Ie);return am(c)&&am(o.Ie)?rA(m):iA(o.serializer,m)}(e,t)}function Q2(e,t,n){return e instanceof Fo?aA(e,t):e instanceof Go?oA(e,t):n}function sA(e,t){return e instanceof sc?function(s){return am(s)||function(l){return!!l&&"doubleValue"in l}(s)}(t)?t:{integerValue:0}:null}class rc extends kc{}class Fo extends kc{constructor(t){super(),this.elements=t}}function aA(e,t){const n=lA(t);for(const s of e.elements)n.some(o=>Ln(o,s))||n.push(s);return{arrayValue:{values:n}}}class Go extends kc{constructor(t){super(),this.elements=t}}function oA(e,t){let n=lA(t);for(const s of e.elements)n=n.filter(o=>!Ln(o,s));return{arrayValue:{values:n}}}class sc extends kc{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function S0(e){return ee(e.integerValue||e.doubleValue)}function lA(e){return ig(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function K2(e,t){return e.field.isEqual(t.field)&&function(s,o){return s instanceof Fo&&o instanceof Fo||s instanceof Go&&o instanceof Go?Qs(s.elements,o.elements,Ln):s instanceof sc&&o instanceof sc?Ln(s.Ie,o.Ie):s instanceof rc&&o instanceof rc}(e.transform,t.transform)}class Y2{constructor(t,n){this.version=t,this.transformResults=n}}class dn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new dn}static exists(t){return new dn(void 0,t)}static updateTime(t){return new dn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class jc{}function uA(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new og(e.key,dn.none()):new al(e.key,e.data,dn.none());{const n=e.data,s=qe.empty();let o=new Te(ve.comparator);for(let l of t.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new ar(e.key,s,new $e(o.toArray()),dn.none())}}function X2(e,t,n){e instanceof al?function(o,l,c){const m=o.value.clone(),d=R0(o.fieldTransforms,l,c.transformResults);m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(e,t,n):e instanceof ar?function(o,l,c){if(!zu(o.precondition,l))return void l.convertToUnknownDocument(c.version);const m=R0(o.fieldTransforms,l,c.transformResults),d=l.data;d.setAll(cA(o)),d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(e,t,n):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,n)}function wo(e,t,n,s){return e instanceof al?function(l,c,m,d){if(!zu(l.precondition,c))return m;const g=l.value.clone(),y=b0(l.fieldTransforms,d,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(e,t,n,s):e instanceof ar?function(l,c,m,d){if(!zu(l.precondition,c))return m;const g=b0(l.fieldTransforms,d,c),y=c.data;return y.setAll(cA(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(v=>v.field))}(e,t,n,s):function(l,c,m){return zu(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m}(e,t,n)}function $2(e,t){let n=null;for(const s of e.fieldTransforms){const o=t.data.field(s.field),l=sA(s.transform,o||null);l!=null&&(n===null&&(n=qe.empty()),n.set(s.field,l))}return n||null}function w0(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Qs(s,o,(l,c)=>K2(l,c))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class al extends jc{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ar extends jc{constructor(t,n,s,o,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function cA(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}}),t}function R0(e,t,n){const s=new Map;Ut(e.length===n.length);for(let o=0;o<n.length;o++){const l=e[o],c=l.transform,m=t.data.field(l.field);s.set(l.field,Q2(c,m,n[o]))}return s}function b0(e,t,n){const s=new Map;for(const o of e){const l=o.transform,c=n.data.field(o.field);s.set(o.field,G2(l,c,t))}return s}class og extends jc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W2 extends jc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(t.key)&&X2(l,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=wo(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=wo(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=nA();return this.mutations.forEach(o=>{const l=t.get(o.key),c=l.overlayedDocument;let m=this.applyToLocalView(c,l.mutatedFields);m=n.has(o.key)?null:m;const d=uA(c,m);d!==null&&s.set(o.key,d),c.isValidDocument()||c.convertToNoDocument(ut.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),_t())}isEqual(t){return this.batchId===t.batchId&&Qs(this.mutations,t.mutations,(n,s)=>w0(n,s))&&Qs(this.baseMutations,t.baseMutations,(n,s)=>w0(n,s))}}class lg{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ut(t.mutations.length===s.length);let o=function(){return z2}();const l=t.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new lg(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te,St;function eD(e){switch(e){default:return at();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function hA(e){if(e===void 0)return ci("GRPC error has no .code"),P.UNKNOWN;switch(e){case te.OK:return P.OK;case te.CANCELLED:return P.CANCELLED;case te.UNKNOWN:return P.UNKNOWN;case te.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case te.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case te.INTERNAL:return P.INTERNAL;case te.UNAVAILABLE:return P.UNAVAILABLE;case te.UNAUTHENTICATED:return P.UNAUTHENTICATED;case te.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case te.NOT_FOUND:return P.NOT_FOUND;case te.ALREADY_EXISTS:return P.ALREADY_EXISTS;case te.PERMISSION_DENIED:return P.PERMISSION_DENIED;case te.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case te.ABORTED:return P.ABORTED;case te.OUT_OF_RANGE:return P.OUT_OF_RANGE;case te.UNIMPLEMENTED:return P.UNIMPLEMENTED;case te.DATA_LOSS:return P.DATA_LOSS;default:return at()}}(St=te||(te={}))[St.OK=0]="OK",St[St.CANCELLED=1]="CANCELLED",St[St.UNKNOWN=2]="UNKNOWN",St[St.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",St[St.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",St[St.NOT_FOUND=5]="NOT_FOUND",St[St.ALREADY_EXISTS=6]="ALREADY_EXISTS",St[St.PERMISSION_DENIED=7]="PERMISSION_DENIED",St[St.UNAUTHENTICATED=16]="UNAUTHENTICATED",St[St.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",St[St.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",St[St.ABORTED=10]="ABORTED",St[St.OUT_OF_RANGE=11]="OUT_OF_RANGE",St[St.UNIMPLEMENTED=12]="UNIMPLEMENTED",St[St.INTERNAL=13]="INTERNAL",St[St.UNAVAILABLE=14]="UNAVAILABLE",St[St.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=new zs([4294967295,4294967295],0);function I0(e){const t=nD().encode(e),n=new a2;return n.update(t),new Uint8Array(n.digest())}function C0(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new zs([n,s],0),new zs([o,l],0)]}class ug{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new _o(`Invalid padding: ${n}`);if(s<0)throw new _o(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new _o(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new _o(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=zs.fromNumber(this.Te)}de(t,n,s){let o=t.add(n.multiply(zs.fromNumber(s)));return o.compare(iD)===1&&(o=new zs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=I0(t),[s,o]=C0(n);for(let l=0;l<this.hashCount;l++){const c=this.de(s,o,l);if(!this.Ae(c))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new ug(l,o,n);return s.forEach(m=>c.insert(m)),c}insert(t){if(this.Te===0)return;const n=I0(t),[s,o]=C0(n);for(let l=0;l<this.hashCount;l++){const c=this.de(s,o,l);this.Re(c)}}Re(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class _o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,n,s,o,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,ol.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new zc(ut.min(),o,new Ht(It),hi(),_t())}}class ol{constructor(t,n,s,o,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new ol(s,n,_t(),_t(),_t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(t,n,s,o){this.Ve=t,this.removedTargetIds=n,this.key=s,this.me=o}}class fA{constructor(t,n){this.targetId=t,this.fe=n}}class dA{constructor(t,n,s=Oe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class D0{constructor(){this.ge=0,this.pe=O0(),this.ye=Oe.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=_t(),n=_t(),s=_t();return this.pe.forEach((o,l)=>{switch(l){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:at()}}),new ol(this.ye,this.we,t,n,s)}Fe(){this.Se=!1,this.pe=O0()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ut(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class rD{constructor(t){this.Le=t,this.ke=new Map,this.qe=hi(),this.Qe=N0(),this.Ke=new Ht(It)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const s=this.ze(n);switch(t.state){case 0:this.je(n)&&s.Ce(t.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(t.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(n);break;case 3:this.je(n)&&(s.Be(),s.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.Ce(t.resumeToken));break;default:at()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((s,o)=>{this.je(o)&&n(o)})}Je(t){const n=t.targetId,s=t.fe.count,o=this.Ye(n);if(o){const l=o.target;if(lm(l))if(s===0){const c=new W(l.path);this.We(n,c,Ie.newNoDocument(c,ut.min()))}else Ut(s===1);else{const c=this.Ze(n);if(c!==s){const m=this.Xe(t),d=m?this.et(m,t,c):1;if(d!==0){this.He(n);const g=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=n;let c,m;try{c=qr(s).toUint8Array()}catch(d){if(d instanceof HT)return jo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{m=new ug(c,o,l)}catch(d){return jo(d instanceof _o?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return m.Te===0?null:m}et(t,n,s){return n.fe.count===s-this.rt(t,n.targetId)?0:2}rt(t,n){const s=this.Le.getRemoteKeysForTarget(n);let o=0;return s.forEach(l=>{const c=this.Le.nt(),m=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(m)||(this.We(n,l,null),o++)}),o}it(t){const n=new Map;this.ke.forEach((l,c)=>{const m=this.Ye(c);if(m){if(l.current&&lm(m.target)){const d=new W(m.target.path);this.qe.get(d)!==null||this.st(c,d)||this.We(c,d,Ie.newNoDocument(d,t))}l.De&&(n.set(c,l.ve()),l.Fe())}});let s=_t();this.Qe.forEach((l,c)=>{let m=!0;c.forEachWhile(d=>{const g=this.Ye(d);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(l))}),this.qe.forEach((l,c)=>c.setReadTime(t));const o=new zc(t,n,this.Ke,this.qe,s);return this.qe=hi(),this.Qe=N0(),this.Ke=new Ht(It),o}Ue(t,n){if(!this.je(t))return;const s=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,s),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,s){if(!this.je(t))return;const o=this.ze(t);this.st(t,n)?o.Me(n,1):o.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),s&&(this.qe=this.qe.insert(n,s))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new D0,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new Te(It),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new D0),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function N0(){return new Ht(W.comparator)}function O0(){return new Ht(W.comparator)}const sD={asc:"ASCENDING",desc:"DESCENDING"},aD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oD={and:"AND",or:"OR"};class lD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function hm(e,t){return e.useProto3Json||Pc(t)?t:{value:t}}function ac(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function mA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function uD(e,t){return ac(e,t.toTimestamp())}function Vn(e){return Ut(!!e),ut.fromTimestamp(function(n){const s=tr(n);return new se(s.seconds,s.nanos)}(e))}function cg(e,t){return function(s){return new jt(["projects",s.projectId,"databases",s.database])}(e).child("documents").child(t).canonicalString()}function gA(e){const t=jt.fromString(e);return Ut(vA(t)),t}function fm(e,t){return cg(e.databaseId,t.path)}function Od(e,t){const n=gA(t);if(n.get(1)!==e.databaseId.projectId)throw new H(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new H(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new W(pA(n))}function dm(e,t){return cg(e.databaseId,t)}function cD(e){const t=gA(e);return t.length===4?jt.emptyPath():pA(t)}function mm(e){return new jt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function pA(e){return Ut(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function x0(e,t,n){return{name:fm(e,t),fields:n.value.mapValue.fields}}function hD(e,t){let n;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:at()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],l=function(g,y){return g.useProto3Json?(Ut(y===void 0||typeof y=="string"),Oe.fromBase64String(y||"")):(Ut(y===void 0||y instanceof Uint8Array),Oe.fromUint8Array(y||new Uint8Array))}(e,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&function(g){const y=g.code===void 0?P.UNKNOWN:hA(g.code);return new H(y,g.message||"")}(c);n=new dA(s,o,l,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Od(e,s.document.name),l=Vn(s.document.updateTime),c=s.document.createTime?Vn(s.document.createTime):ut.min(),m=new qe({mapValue:{fields:s.document.fields}}),d=Ie.newFoundDocument(o,l,c,m),g=s.targetIds||[],y=s.removedTargetIds||[];n=new Bu(g,y,d.key,d)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Od(e,s.document),l=s.readTime?Vn(s.readTime):ut.min(),c=Ie.newNoDocument(o,l),m=s.removedTargetIds||[];n=new Bu([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Od(e,s.document),l=s.removedTargetIds||[];n=new Bu([],l,o,null)}else{if(!("filter"in t))return at();{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new tD(o,l),m=s.targetId;n=new fA(m,c)}}return n}function fD(e,t){let n;if(t instanceof al)n={update:x0(e,t.key,t.value)};else if(t instanceof og)n={delete:fm(e,t.key)};else if(t instanceof ar)n={update:x0(e,t.key,t.data),updateMask:TD(t.fieldMask)};else{if(!(t instanceof W2))return at();n={verify:fm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(l,c){const m=c.transform;if(m instanceof rc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Fo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Go)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof sc)return{fieldPath:c.field.canonicalString(),increment:m.Ie};throw at()}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:uD(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:at()}(e,t.precondition)),n}function dD(e,t){return e&&e.length>0?(Ut(t!==void 0),e.map(n=>function(o,l){let c=o.updateTime?Vn(o.updateTime):Vn(l);return c.isEqual(ut.min())&&(c=Vn(l)),new Y2(c,o.transformResults||[])}(n,t))):[]}function mD(e,t){return{documents:[dm(e,t.path)]}}function gD(e,t){const n={structuredQuery:{}},s=t.path;t.collectionGroup!==null?(n.parent=dm(e,s),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=dm(e,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const o=function(d){if(d.length!==0)return _A(En.create(d,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const l=function(d){if(d.length!==0)return d.map(g=>function(v){return{field:Ps(v.field),direction:_D(v.dir)}}(g))}(t.orderBy);l&&(n.structuredQuery.orderBy=l);const c=hm(e,t.limit);return c!==null&&(n.structuredQuery.limit=c),t.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),n}function pD(e){let t=cD(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ut(s===1);const y=n.from[0];y.allDescendants?o=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=function(v){const T=yA(v);return T instanceof En&&KT(T)?T.getFilters():[T]}(n.where));let c=[];n.orderBy&&(c=function(v){return v.map(T=>function(U){return new ic(Us(U.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(T))}(n.orderBy));let m=null;n.limit&&(m=function(v){let T;return T=typeof v=="object"?v.value:v,Pc(T)?null:T}(n.limit));let d=null;n.startAt&&(d=function(v){const T=!!v.before,I=v.values||[];return new nc(I,T)}(n.startAt));let g=null;return n.endAt&&(g=function(v){const T=!v.before,I=v.values||[];return new nc(I,T)}(n.endAt)),P2(t,o,c,l,m,"F",d,g)}function yD(e,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return at()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function yA(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Us(n.unaryFilter.field);return ne.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Us(n.unaryFilter.field);return ne.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Us(n.unaryFilter.field);return ne.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Us(n.unaryFilter.field);return ne.create(c,"!=",{nullValue:"NULL_VALUE"});default:return at()}}(e):e.fieldFilter!==void 0?function(n){return ne.create(Us(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return En.create(n.compositeFilter.filters.map(s=>yA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return at()}}(n.compositeFilter.op))}(e):at()}function _D(e){return sD[e]}function vD(e){return aD[e]}function ED(e){return oD[e]}function Ps(e){return{fieldPath:e.canonicalString()}}function Us(e){return ve.fromServerFormat(e.fieldPath)}function _A(e){return e instanceof ne?function(n){if(n.op==="=="){if(_0(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NAN"}};if(y0(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_0(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NAN"}};if(y0(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(n.field),op:vD(n.op),value:n.value}}}(e):e instanceof En?function(n){const s=n.getFilters().map(o=>_A(o));return s.length===1?s[0]:{compositeFilter:{op:ED(n.op),filters:s}}}(e):at()}function TD(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function vA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(t,n,s,o,l=ut.min(),c=ut.min(),m=Oe.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=d}withSequenceNumber(t){return new Ki(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(t){this.ut=t}}function SD(e){const t=pD({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?cm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.on=new RD}addToCollectionParentIndex(t,n){return this.on.add(n),k.resolve()}getCollectionParents(t,n){return k.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return k.resolve()}deleteFieldIndex(t,n){return k.resolve()}deleteAllFieldIndexes(t){return k.resolve()}createTargetIndexes(t,n){return k.resolve()}getDocumentsMatchingTarget(t,n){return k.resolve(null)}getIndexType(t,n){return k.resolve(0)}getFieldIndexes(t,n){return k.resolve([])}getNextCollectionGroupToUpdate(t){return k.resolve(null)}getMinOffset(t,n){return k.resolve(Ji.min())}getMinOffsetFromCollectionGroup(t,n){return k.resolve(Ji.min())}updateCollectionGroup(t,n,s){return k.resolve()}updateIndexEntries(t,n){return k.resolve()}}class RD{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Te(jt.comparator),l=!o.has(s);return this.index[n]=o.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Te(jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Xs(0)}static Nn(){return new Xs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.changes=new sa(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ie.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?k.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&wo(s.mutation,o,$e.empty(),se.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,_t()).next(()=>s))}getLocalViewOfDocuments(t,n,s=_t()){const o=Ur();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(l=>{let c=yo();return l.forEach((m,d)=>{c=c.insert(m,d.overlayedDocument)}),c}))}getOverlayedDocuments(t,n){const s=Ur();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,_t()))}populateOverlays(t,n,s){const o=[];return s.forEach(l=>{n.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(t,o).next(l=>{l.forEach((c,m)=>{n.set(c,m)})})}computeViews(t,n,s,o){let l=hi();const c=So(),m=function(){return So()}();return n.forEach((d,g)=>{const y=s.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof ar)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),wo(y.mutation,g,y.mutation.getFieldMask(),se.now())):c.set(g.key,$e.empty())}),this.recalculateAndSaveOverlays(t,l).next(d=>(d.forEach((g,y)=>c.set(g,y)),n.forEach((g,y)=>{var v;return m.set(g,new ID(y,(v=c.get(g))!==null&&v!==void 0?v:null))}),m))}recalculateAndSaveOverlays(t,n){const s=So();let o=new Ht((c,m)=>c-m),l=_t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(c=>{for(const m of c)m.keys().forEach(d=>{const g=n.get(d);if(g===null)return;let y=s.get(d)||$e.empty();y=m.applyToLocalView(g,y),s.set(d,y);const v=(o.get(m.batchId)||_t()).add(d);o=o.insert(m.batchId,v)})}).next(()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const d=m.getNext(),g=d.key,y=d.value,v=nA();y.forEach(T=>{if(!l.has(T)){const I=uA(n.get(T),s.get(T));I!==null&&v.set(T,I),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(t,g,v))}return k.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(c){return W.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):WT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-l.size):k.resolve(Ur());let m=-1,d=l;return c.next(g=>k.forEach(g,(y,v)=>(m<v.largestBatchId&&(m=v.largestBatchId),l.get(y)?k.resolve():this.remoteDocumentCache.getEntry(t,y).next(T=>{d=d.insert(y,T)}))).next(()=>this.populateOverlays(t,g,l)).next(()=>this.computeViews(t,d,g,_t())).next(y=>({batchId:m,changes:eA(y)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new W(n)).next(s=>{let o=yo();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const l=n.collectionGroup;let c=yo();return this.indexManager.getCollectionParents(t,l).next(m=>k.forEach(m,d=>{const g=function(v,T){return new sl(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(y=>{y.forEach((v,T)=>{c=c.insert(v,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,n,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,o))).next(c=>{l.forEach((d,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,Ie.newInvalidDocument(y)))});let m=yo();return c.forEach((d,g)=>{const y=l.get(d);y!==void 0&&wo(y.mutation,g,$e.empty(),se.now()),Lc(n,g)&&(m=m.insert(d,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return k.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Vn(o.createTime)}}(n)),k.resolve()}getNamedQuery(t,n){return k.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(o){return{name:o.name,query:SD(o.bundledQuery),readTime:Vn(o.readTime)}}(n)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.overlays=new Ht(W.comparator),this.lr=new Map}getOverlay(t,n){return k.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ur();return k.forEach(n,o=>this.getOverlay(t,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,l)=>{this.lt(t,n,l)}),k.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.lr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.lr.delete(s)),k.resolve()}getOverlaysForCollection(t,n,s){const o=Ur(),l=n.length+1,c=new W(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const d=m.getNext().value,g=d.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&d.largestBatchId>s&&o.set(d.getKey(),d)}return k.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let l=new Ht((g,y)=>g-y);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=Ur(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const m=Ur(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((g,y)=>m.set(g,y)),!(m.size()>=o)););return k.resolve(m)}lt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.lr.get(o.largestBatchId).delete(s.key);this.lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new J2(n,s));let l=this.lr.get(n);l===void 0&&(l=_t(),this.lr.set(n,l)),this.lr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(){this.hr=new Te(ce.Pr),this.Ir=new Te(ce.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const s=new ce(t,n);this.hr=this.hr.add(s),this.Ir=this.Ir.add(s)}Er(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.dr(new ce(t,n))}Ar(t,n){t.forEach(s=>this.removeReference(s,n))}Rr(t){const n=new W(new jt([])),s=new ce(n,t),o=new ce(n,t+1),l=[];return this.Ir.forEachInRange([s,o],c=>{this.dr(c),l.push(c.key)}),l}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new W(new jt([])),s=new ce(n,t),o=new ce(n,t+1);let l=_t();return this.Ir.forEachInRange([s,o],c=>{l=l.add(c.key)}),l}containsKey(t){const n=new ce(t,0),s=this.hr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class ce{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return W.comparator(t.key,n.key)||It(t.gr,n.gr)}static Tr(t,n){return It(t.gr,n.gr)||W.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Te(ce.Pr)}checkEmpty(t){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const l=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Z2(l,n,s,o);this.mutationQueue.push(c);for(const m of o)this.yr=this.yr.add(new ce(m.key,l)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return k.resolve(c)}lookupMutationBatch(t,n){return k.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Sr(s),l=o<0?0:o;return k.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new ce(n,0),o=new ce(n,Number.POSITIVE_INFINITY),l=[];return this.yr.forEachInRange([s,o],c=>{const m=this.wr(c.gr);l.push(m)}),k.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Te(It);return n.forEach(o=>{const l=new ce(o,0),c=new ce(o,Number.POSITIVE_INFINITY);this.yr.forEachInRange([l,c],m=>{s=s.add(m.gr)})}),k.resolve(this.br(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let l=s;W.isDocumentKey(l)||(l=l.child(""));const c=new ce(new W(l),0);let m=new Te(It);return this.yr.forEachWhile(d=>{const g=d.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(d.gr)),!0)},c),k.resolve(this.br(m))}br(t){const n=[];return t.forEach(s=>{const o=this.wr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Ut(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.yr;return k.forEach(n.mutations,o=>{const l=new ce(o.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.yr=s})}Fn(t){}containsKey(t,n){const s=new ce(n,0),o=this.yr.firstAfterOrEqual(s);return k.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,k.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t){this.Cr=t,this.docs=function(){return new Ht(W.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),l=o?o.size:0,c=this.Cr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return k.resolve(s?s.document.mutableCopy():Ie.newInvalidDocument(n))}getEntries(t,n){let s=hi();return n.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Ie.newInvalidDocument(o))}),k.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let l=hi();const c=n.path,m=new W(c.child("")),d=this.docs.getIteratorFrom(m);for(;d.hasNext();){const{key:g,value:{document:y}}=d.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||_2(y2(y),s)<=0||(o.has(y.key)||Lc(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return k.resolve(l)}getAllFromCollectionGroup(t,n,s,o){at()}vr(t,n){return k.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new MD(this)}getSize(t){return k.resolve(this.size)}}class MD extends bD{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this._r.addEntry(t,o)):this._r.removeEntry(s)}),k.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(t){this.persistence=t,this.Fr=new sa(n=>rg(n),sg),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.Mr=0,this.Or=new hg,this.targetCount=0,this.Nr=Xs.On()}forEachTarget(t,n){return this.Fr.forEach((s,o)=>n(o)),k.resolve()}getLastRemoteSnapshotVersion(t){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return k.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Mr&&(this.Mr=n),k.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new Xs(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,k.resolve()}updateTargetData(t,n){return this.kn(n),k.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(t,n,s){let o=0;const l=[];return this.Fr.forEach((c,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Fr.delete(c),l.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),k.waitFor(l).next(()=>o)}getTargetCount(t){return k.resolve(this.targetCount)}getTargetData(t,n){const s=this.Fr.get(n)||null;return k.resolve(s)}addMatchingKeys(t,n,s){return this.Or.Er(n,s),k.resolve()}removeMatchingKeys(t,n,s){this.Or.Ar(n,s);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach(c=>{l.push(o.markPotentiallyOrphaned(t,c))}),k.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),k.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Or.mr(n);return k.resolve(s)}containsKey(t,n){return k.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(t,n){this.Br={},this.overlays={},this.Lr=new tg(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new VD(this),this.indexManager=new wD,this.remoteDocumentCache=function(o){return new xD(o)}(s=>this.referenceDelegate.Qr(s)),this.serializer=new AD(n),this.Kr=new DD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new ND,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Br[t.toKey()];return s||(s=new OD(n,this.referenceDelegate),this.Br[t.toKey()]=s),s}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,s){Q("MemoryPersistence","Starting transaction:",t);const o=new UD(this.Lr.next());return this.referenceDelegate.$r(),s(o).next(l=>this.referenceDelegate.Ur(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Wr(t,n){return k.or(Object.values(this.Br).map(s=>()=>s.containsKey(t,n)))}}class UD extends E2{constructor(t){super(),this.currentSequenceNumber=t}}class fg{constructor(t){this.persistence=t,this.Gr=new hg,this.zr=null}static jr(t){return new fg(t)}get Hr(){if(this.zr)return this.zr;throw at()}addReference(t,n,s){return this.Gr.addReference(s,n),this.Hr.delete(s.toString()),k.resolve()}removeReference(t,n,s){return this.Gr.removeReference(s,n),this.Hr.add(s.toString()),k.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),k.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(o=>this.Hr.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(l=>this.Hr.add(l.toString()))}).next(()=>s.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Hr,s=>{const o=W.fromPath(s);return this.Jr(t,o).next(l=>{l||n.removeEntry(o,ut.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(s=>{s?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return k.or([()=>k.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.ki=s,this.qi=o}static Qi(t,n){let s=_t(),o=_t();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new dg(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,s,o){const l={result:null};return this.zi(t,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ji(t,n,o,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new LD;return this.Hi(t,n,c).next(m=>{if(l.result=m,this.$i)return this.Ji(t,n,c,m.size)})}).next(()=>l.result)}Ji(t,n,s,o){return s.documentReadCount<this.Ui?(ho()<=Et.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Vs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),k.resolve()):(ho()<=Et.DEBUG&&Q("QueryEngine","Query:",Vs(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Wi*o?(ho()<=Et.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Vs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mn(n))):k.resolve())}zi(t,n){if(A0(n))return k.resolve(null);let s=Mn(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=cm(n,null,"F"),s=Mn(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(l=>{const c=_t(...l);return this.Gi.getDocuments(t,c).next(m=>this.indexManager.getMinOffset(t,s).next(d=>{const g=this.Yi(n,m);return this.Zi(n,g,c,d.readTime)?this.zi(t,cm(n,null,"F")):this.Xi(t,g,n,d)}))})))}ji(t,n,s,o){return A0(n)||o.isEqual(ut.min())?k.resolve(null):this.Gi.getDocuments(t,s).next(l=>{const c=this.Yi(n,l);return this.Zi(n,c,s,o)?k.resolve(null):(ho()<=Et.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Vs(n)),this.Xi(t,c,n,p2(o,-1)).next(m=>m))})}Yi(t,n){let s=new Te(JT(t));return n.forEach((o,l)=>{Lc(t,l)&&(s=s.add(l))}),s}Zi(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Hi(t,n,s){return ho()<=Et.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Vs(n)),this.Gi.getDocumentsMatchingQuery(t,n,Ji.min(),s)}Xi(t,n,s,o){return this.Gi.getDocumentsMatchingQuery(t,s,o).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t,n,s,o){this.persistence=t,this.es=n,this.serializer=o,this.ts=new Ht(It),this.ns=new sa(l=>rg(l),sg),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(s)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new CD(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function zD(e,t,n,s){return new jD(e,t,n,s)}async function EA(e,t){const n=ht(e);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,n.os(t),n.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],m=[];let d=_t();for(const g of o){c.push(g.batchId);for(const y of g.mutations)d=d.add(y.key)}for(const g of l){m.push(g.batchId);for(const y of g.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(s,d).next(g=>({_s:g,removedBatchIds:c,addedBatchIds:m}))})})}function BD(e,t){const n=ht(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),l=n.ss.newChangeBuffer({trackRemovals:!0});return function(m,d,g,y){const v=g.batch,T=v.keys();let I=k.resolve();return T.forEach(U=>{I=I.next(()=>y.getEntry(d,U)).next(j=>{const O=g.docVersions.get(U);Ut(O!==null),j.version.compareTo(O)<0&&(v.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),y.addEntry(j)))})}),I.next(()=>m.mutationQueue.removeMutationBatch(d,v))}(n,s,t,l).next(()=>l.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let d=_t();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(d=d.add(m.batch.mutations[g].key));return d}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function TA(e){const t=ht(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function qD(e,t){const n=ht(e),s=t.snapshotVersion;let o=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.ss.newChangeBuffer({trackRemovals:!0});o=n.ts;const m=[];t.targetChanges.forEach((y,v)=>{const T=o.get(v);if(!T)return;m.push(n.qr.removeMatchingKeys(l,y.removedDocuments,v).next(()=>n.qr.addMatchingKeys(l,y.addedDocuments,v)));let I=T.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?I=I.withResumeToken(Oe.EMPTY_BYTE_STRING,ut.min()).withLastLimboFreeSnapshotVersion(ut.min()):y.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(y.resumeToken,s)),o=o.insert(v,I),function(j,O,Y){return j.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(T,I,y)&&m.push(n.qr.updateTargetData(l,I))});let d=hi(),g=_t();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),m.push(HD(l,c,t.documentUpdates).next(y=>{d=y.us,g=y.cs})),!s.isEqual(ut.min())){const y=n.qr.getLastRemoteSnapshotVersion(l).next(v=>n.qr.setTargetsMetadata(l,l.currentSequenceNumber,s));m.push(y)}return k.waitFor(m).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,d,g)).next(()=>d)}).then(l=>(n.ts=o,l))}function HD(e,t,n){let s=_t(),o=_t();return n.forEach(l=>s=s.add(l)),t.getEntries(e,s).next(l=>{let c=hi();return n.forEach((m,d)=>{const g=l.get(m);d.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),d.isNoDocument()&&d.version.isEqual(ut.min())?(t.removeEntry(m,d.readTime),c=c.insert(m,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(d),c=c.insert(m,d)):Q("LocalStore","Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",d.version)}),{us:c,cs:o}})}function FD(e,t){const n=ht(e);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function GD(e,t){const n=ht(e);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.qr.getTargetData(s,t).next(l=>l?(o=l,k.resolve(o)):n.qr.allocateTargetId(s).next(c=>(o=new Ki(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.qr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.ts=n.ts.insert(s.targetId,s),n.ns.set(t,s.targetId)),s})}async function gm(e,t,n){const s=ht(e),o=s.ts.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!rl(c))throw c;Q("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}s.ts=s.ts.remove(t),s.ns.delete(o.target)}function M0(e,t,n){const s=ht(e);let o=ut.min(),l=_t();return s.persistence.runTransaction("Execute query","readwrite",c=>function(d,g,y){const v=ht(d),T=v.ns.get(y);return T!==void 0?k.resolve(v.ts.get(T)):v.qr.getTargetData(g,y)}(s,c,Mn(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.qr.getMatchingKeysForTargetId(c,m.targetId).next(d=>{l=d})}).next(()=>s.es.getDocumentsMatchingQuery(c,t,n?o:ut.min(),n?l:_t())).next(m=>(QD(s,L2(t),m),{documents:m,ls:l})))}function QD(e,t,n){let s=e.rs.get(t)||ut.min();n.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),e.rs.set(t,s)}class V0{constructor(){this.activeTargetIds=H2()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class KD{constructor(){this.eo=new V0,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,s){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new V0,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uu=null;function xd(){return Uu===null?Uu=function(){return 268435456+Math.round(2147483648*Math.random())}():Uu++,"0x"+Uu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be="WebChannelConnection";class WD extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.mo=s+"://"+n.host,this.fo=`projects/${o}/databases/${l}`,this.po=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}get yo(){return!1}wo(n,s,o,l,c){const m=xd(),d=this.So(n,s);Q("RestConnection",`Sending RPC '${n}' ${m}:`,d,o);const g={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(g,l,c),this.Do(n,d,g,o).then(y=>(Q("RestConnection",`Received RPC '${n}' ${m}: `,y),y),y=>{throw jo("RestConnection",`RPC '${n}' ${m} failed with error: `,y,"url: ",d,"request:",o),y})}Co(n,s,o,l,c,m){return this.wo(n,s,o,l,c)}bo(n,s,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ra}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((l,c)=>n[c]=l),o&&o.headers.forEach((l,c)=>n[c]=l)}So(n,s){const o=XD[n];return`${this.mo}/v1/${s}:${o}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,s,o){const l=xd();return new Promise((c,m)=>{const d=new s2;d.setWithCredentials(!0),d.listenOnce(i2.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Nd.NO_ERROR:const y=d.getResponseJson();Q(be,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(y)),c(y);break;case Nd.TIMEOUT:Q(be,`RPC '${t}' ${l} timed out`),m(new H(P.DEADLINE_EXCEEDED,"Request time out"));break;case Nd.HTTP_ERROR:const v=d.getStatus();if(Q(be,`RPC '${t}' ${l} failed with status:`,v,"response text:",d.getResponseText()),v>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const I=T==null?void 0:T.error;if(I&&I.status&&I.message){const U=function(O){const Y=O.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(Y)>=0?Y:P.UNKNOWN}(I.status);m(new H(U,I.message))}else m(new H(P.UNKNOWN,"Server responded with status "+d.getStatus()))}else m(new H(P.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{Q(be,`RPC '${t}' ${l} completed.`)}});const g=JSON.stringify(o);Q(be,`RPC '${t}' ${l} sending request:`,o),d.send(n,"POST",g,s,15)})}vo(t,n,s){const o=xd(),l=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=e2(),m=n2(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.bo(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const y=l.join("");Q(be,`Creating RPC '${t}' stream ${o}: ${y}`,d);const v=c.createWebChannel(y,d);let T=!1,I=!1;const U=new $D({co:O=>{I?Q(be,`Not sending because RPC '${t}' stream ${o} is closed:`,O):(T||(Q(be,`Opening RPC '${t}' stream ${o} transport.`),v.open(),T=!0),Q(be,`RPC '${t}' stream ${o} sending:`,O),v.send(O))},lo:()=>v.close()}),j=(O,Y,J)=>{O.listen(Y,nt=>{try{J(nt)}catch(bt){setTimeout(()=>{throw bt},0)}})};return j(v,Mu.EventType.OPEN,()=>{I||Q(be,`RPC '${t}' stream ${o} transport opened.`)}),j(v,Mu.EventType.CLOSE,()=>{I||(I=!0,Q(be,`RPC '${t}' stream ${o} transport closed`),U.Ro())}),j(v,Mu.EventType.ERROR,O=>{I||(I=!0,jo(be,`RPC '${t}' stream ${o} transport errored:`,O),U.Ro(new H(P.UNAVAILABLE,"The operation could not be completed")))}),j(v,Mu.EventType.MESSAGE,O=>{var Y;if(!I){const J=O.data[0];Ut(!!J);const nt=J,bt=nt.error||((Y=nt[0])===null||Y===void 0?void 0:Y.error);if(bt){Q(be,`RPC '${t}' stream ${o} received error:`,bt);const rt=bt.status;let Lt=function($){const yt=te[$];if(yt!==void 0)return hA(yt)}(rt),Ae=bt.message;Lt===void 0&&(Lt=P.INTERNAL,Ae="Unknown error status: "+rt+" with message "+bt.message),I=!0,U.Ro(new H(Lt,Ae)),v.close()}else Q(be,`RPC '${t}' stream ${o} received:`,J),U.Vo(J)}}),j(m,r2.STAT_EVENT,O=>{O.stat===h0.PROXY?Q(be,`RPC '${t}' stream ${o} detected buffering proxy`):O.stat===h0.NOPROXY&&Q(be,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.Ao()},0),U}}function Md(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(e){return new lD(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(t,n,s=1e3,o=1.5,l=6e4){this.si=t,this.timerId=n,this.Fo=s,this.Mo=o,this.xo=l,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),s=Math.max(0,Date.now()-this.Bo),o=Math.max(0,n-s);o>0&&Q("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,o,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(t,n,s,o,l,c,m,d){this.si=t,this.Ko=s,this.$o=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=d,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new AA(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(ci(n.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Uo===n&&this.s_(s,o)},s=>{t(()=>{const o=new H(P.UNKNOWN,"Fetching auth token failed: "+s.message);return this.o_(o)})})}s_(t,n){const s=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{s(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(o=>{s(()=>this.o_(o))}),this.stream.onMessage(o=>{s(()=>this.onMessage(o))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return Q("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZD extends SA{constructor(t,n,s,o,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=hD(this.serializer,t),s=function(l){if(!("targetChange"in l))return ut.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ut.min():c.readTime?Vn(c.readTime):ut.min()}(t);return this.listener.a_(n,s)}u_(t){const n={};n.database=mm(this.serializer),n.addTarget=function(l,c){let m;const d=c.target;if(m=lm(d)?{documents:mD(l,d)}:{query:gD(l,d)},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=mA(l,c.resumeToken);const g=hm(l,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(ut.min())>0){m.readTime=ac(l,c.snapshotVersion.toTimestamp());const g=hm(l,c.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const s=yD(this.serializer,t);s&&(n.labels=s),this.e_(n)}c_(t){const n={};n.database=mm(this.serializer),n.removeTarget=t,this.e_(n)}}class JD extends SA{constructor(t,n,s,o,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,n){return this.connection.vo("Write",t,n)}onMessage(t){if(Ut(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const n=dD(t.writeResults,t.commitTime),s=Vn(t.commitTime);return this.listener.I_(s,n)}return Ut(!t.writeResults||t.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=mm(this.serializer),this.e_(t)}P_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>fD(this.serializer,s))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN extends class{}{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.d_=!1}A_(){if(this.d_)throw new H(P.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.wo(t,n,s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(P.UNKNOWN,o.toString())})}Co(t,n,s,o){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(t,n,s,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new H(P.UNKNOWN,l.toString())})}terminate(){this.d_=!0}}class eN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ci(n),this.f_=!1):Q("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(t,n,s,o,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=l,this.F_.ro(c=>{s.enqueueAndForget(async()=>{Yr(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(d){const g=ht(d);g.C_.add(4),await ll(g),g.M_.set("Unknown"),g.C_.delete(4),await qc(g)}(this))})}),this.M_=new eN(s,o)}}async function qc(e){if(Yr(e))for(const t of e.v_)await t(!0)}async function ll(e){for(const t of e.v_)await t(!1)}function wA(e,t){const n=ht(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),pg(n)?gg(n):aa(n).Ho()&&mg(n,t))}function RA(e,t){const n=ht(e),s=aa(n);n.D_.delete(t),s.Ho()&&bA(n,t),n.D_.size===0&&(s.Ho()?s.Zo():Yr(n)&&n.M_.set("Unknown"))}function mg(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ut.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}aa(e).u_(t)}function bA(e,t){e.x_.Oe(t),aa(e).c_(t)}function gg(e){e.x_=new rD({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),aa(e).start(),e.M_.g_()}function pg(e){return Yr(e)&&!aa(e).jo()&&e.D_.size>0}function Yr(e){return ht(e).C_.size===0}function IA(e){e.x_=void 0}async function iN(e){e.D_.forEach((t,n)=>{mg(e,t)})}async function rN(e,t){IA(e),pg(e)?(e.M_.w_(t),gg(e)):e.M_.set("Unknown")}async function sN(e,t,n){if(e.M_.set("Online"),t instanceof dA&&t.state===2&&t.cause)try{await async function(o,l){const c=l.cause;for(const m of l.targetIds)o.D_.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.D_.delete(m),o.x_.removeTarget(m))}(e,t)}catch(s){Q("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),s),await oc(e,s)}else if(t instanceof Bu?e.x_.$e(t):t instanceof fA?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(ut.min()))try{const s=await TA(e.localStore);n.compareTo(s)>=0&&await function(l,c){const m=l.x_.it(c);return m.targetChanges.forEach((d,g)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.D_.get(g);y&&l.D_.set(g,y.withResumeToken(d.resumeToken,c))}}),m.targetMismatches.forEach((d,g)=>{const y=l.D_.get(d);if(!y)return;l.D_.set(d,y.withResumeToken(Oe.EMPTY_BYTE_STRING,y.snapshotVersion)),bA(l,d);const v=new Ki(y.target,d,g,y.sequenceNumber);mg(l,v)}),l.remoteSyncer.applyRemoteEvent(m)}(e,n)}catch(s){Q("RemoteStore","Failed to raise snapshot:",s),await oc(e,s)}}async function oc(e,t,n){if(!rl(t))throw t;e.C_.add(1),await ll(e),e.M_.set("Offline"),n||(n=()=>TA(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await qc(e)})}function CA(e,t){return t().catch(n=>oc(e,n,t))}async function Hc(e){const t=ht(e),n=er(t);let s=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;aN(t);)try{const o=await FD(t.localStore,s);if(o===null){t.b_.length===0&&n.Zo();break}s=o.batchId,oN(t,o)}catch(o){await oc(t,o)}DA(t)&&NA(t)}function aN(e){return Yr(e)&&e.b_.length<10}function oN(e,t){e.b_.push(t);const n=er(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function DA(e){return Yr(e)&&!er(e).jo()&&e.b_.length>0}function NA(e){er(e).start()}async function lN(e){er(e).E_()}async function uN(e){const t=er(e);for(const n of e.b_)t.P_(n.mutations)}async function cN(e,t,n){const s=e.b_.shift(),o=lg.from(s,t,n);await CA(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await Hc(e)}async function hN(e,t){t&&er(e).h_&&await async function(s,o){if(function(c){return eD(c)&&c!==P.ABORTED}(o.code)){const l=s.b_.shift();er(s).Yo(),await CA(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Hc(s)}}(e,t),DA(e)&&NA(e)}async function U0(e,t){const n=ht(e);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const s=Yr(n);n.C_.add(3),await ll(n),s&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await qc(n)}async function fN(e,t){const n=ht(e);t?(n.C_.delete(2),await qc(n)):t||(n.C_.add(2),await ll(n),n.M_.set("Unknown"))}function aa(e){return e.O_||(e.O_=function(n,s,o){const l=ht(n);return l.A_(),new ZD(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(e.datastore,e.asyncQueue,{ho:iN.bind(null,e),Io:rN.bind(null,e),a_:sN.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),pg(e)?gg(e):e.M_.set("Unknown")):(await e.O_.stop(),IA(e))})),e.O_}function er(e){return e.N_||(e.N_=function(n,s,o){const l=ht(n);return l.A_(),new JD(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(e.datastore,e.asyncQueue,{ho:lN.bind(null,e),Io:hN.bind(null,e),T_:uN.bind(null,e),I_:cN.bind(null,e)}),e.v_.push(async t=>{t?(e.N_.Yo(),await Hc(e)):(await e.N_.stop(),e.b_.length>0&&(Q("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))})),e.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t,n,s,o,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,l){const c=Date.now()+s,m=new yg(t,n,c,o,l);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(P.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(e,t){if(ci("AsyncQueue",`${t}: ${e}`),rl(e))return new H(P.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(t){this.comparator=t?(n,s)=>t(n,s)||W.comparator(n.key,s.key):(n,s)=>W.comparator(n.key,s.key),this.keyedMap=yo(),this.sortedSet=new Ht(this.comparator)}static emptySet(t){return new Bs(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Bs)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Bs;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(){this.B_=new Ht(W.comparator)}track(t){const n=t.doc.key,s=this.B_.get(n);s?t.type!==0&&s.type===3?this.B_=this.B_.insert(n,t):t.type===3&&s.type!==1?this.B_=this.B_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.B_=this.B_.remove(n):t.type===1&&s.type===2?this.B_=this.B_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):at():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,s)=>{t.push(s)}),t}}class $s{constructor(t,n,s,o,l,c,m,d,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=d,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,l){const c=[];return n.forEach(m=>{c.push({type:0,doc:m})}),new $s(t,n,Bs.emptySet(n),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Uc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.k_=void 0,this.listeners=[]}}class mN{constructor(){this.queries=new sa(t=>ZT(t),Uc),this.onlineState="Unknown",this.q_=new Set}}async function OA(e,t){const n=ht(e),s=t.query;let o=!1,l=n.queries.get(s);if(l||(o=!0,l=new dN),o)try{l.k_=await n.onListen(s)}catch(c){const m=_g(c,`Initialization of query '${Vs(t.query)}' failed`);return void t.onError(m)}n.queries.set(s,l),l.listeners.push(t),t.Q_(n.onlineState),l.k_&&t.K_(l.k_)&&vg(n)}async function xA(e,t){const n=ht(e),s=t.query;let o=!1;const l=n.queries.get(s);if(l){const c=l.listeners.indexOf(t);c>=0&&(l.listeners.splice(c,1),o=l.listeners.length===0)}if(o)return n.queries.delete(s),n.onUnlisten(s)}function gN(e,t){const n=ht(e);let s=!1;for(const o of t){const l=o.query,c=n.queries.get(l);if(c){for(const m of c.listeners)m.K_(o)&&(s=!0);c.k_=o}}s&&vg(n)}function pN(e,t,n){const s=ht(e),o=s.queries.get(t);if(o)for(const l of o.listeners)l.onError(n);s.queries.delete(t)}function vg(e){e.q_.forEach(t=>{t.next()})}class MA{constructor(t,n,s){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=s||{}}K_(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new $s(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const s=n!=="Offline";return(!this.options.J_||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=$s.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(t){this.key=t}}class PA{constructor(t){this.key=t}}class yN{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=_t(),this.mutatedKeys=_t(),this._a=JT(t),this.aa=new Bs(this._a)}get ua(){return this.ia}ca(t,n){const s=n?n.la:new L0,o=n?n.aa:this.aa;let l=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const d=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((y,v)=>{const T=o.get(y),I=Lc(this.query,v)?v:null,U=!!T&&this.mutatedKeys.has(T.key),j=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let O=!1;T&&I?T.data.isEqual(I.data)?U!==j&&(s.track({type:3,doc:I}),O=!0):this.ha(T,I)||(s.track({type:2,doc:I}),O=!0,(d&&this._a(I,d)>0||g&&this._a(I,g)<0)&&(m=!0)):!T&&I?(s.track({type:0,doc:I}),O=!0):T&&!I&&(s.track({type:1,doc:T}),O=!0,(d||g)&&(m=!0)),O&&(I?(c=c.add(I),l=j?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{aa:c,la:s,Zi:m,mutatedKeys:l}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const l=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const c=t.la.L_();c.sort((y,v)=>function(I,U){const j=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return j(I)-j(U)}(y.type,v.type)||this._a(y.doc,v.doc)),this.Pa(s),o=o!=null&&o;const m=n&&!o?this.Ia():[],d=this.oa.size===0&&this.current&&!o?1:0,g=d!==this.sa;return this.sa=d,c.length!==0||g?{snapshot:new $s(this.query,t.aa,l,c,t.mutatedKeys,d===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ta:m}:{Ta:m}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new L0,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=_t(),this.aa.forEach(s=>{this.Ea(s.key)&&(this.oa=this.oa.add(s.key))});const n=[];return t.forEach(s=>{this.oa.has(s)||n.push(new PA(s))}),this.oa.forEach(s=>{t.has(s)||n.push(new VA(s))}),n}da(t){this.ia=t.ls,this.oa=_t();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return $s.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class _N{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class vN{constructor(t){this.key=t,this.Ra=!1}}class EN{constructor(t,n,s,o,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Va={},this.ma=new sa(m=>ZT(m),Uc),this.fa=new Map,this.ga=new Set,this.pa=new Ht(W.comparator),this.ya=new Map,this.wa=new hg,this.Sa={},this.ba=new Map,this.Da=Xs.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function TN(e,t){const n=ON(e);let s,o;const l=n.ma.get(t);if(l)s=l.targetId,n.sharedClientState.addLocalQueryTarget(s),o=l.view.Aa();else{const c=await GD(n.localStore,Mn(t)),m=n.sharedClientState.addLocalQueryTarget(c.targetId);s=c.targetId,o=await AN(n,t,s,m==="current",c.resumeToken),n.isPrimaryClient&&wA(n.remoteStore,c)}return o}async function AN(e,t,n,s,o){e.va=(v,T,I)=>async function(j,O,Y,J){let nt=O.view.ca(Y);nt.Zi&&(nt=await M0(j.localStore,O.query,!1).then(({documents:Ae})=>O.view.ca(Ae,nt)));const bt=J&&J.targetChanges.get(O.targetId),rt=J&&J.targetMismatches.get(O.targetId)!=null,Lt=O.view.applyChanges(nt,j.isPrimaryClient,bt,rt);return j0(j,O.targetId,Lt.Ta),Lt.snapshot}(e,v,T,I);const l=await M0(e.localStore,t,!0),c=new yN(t,l.ls),m=c.ca(l.documents),d=ol.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",o),g=c.applyChanges(m,e.isPrimaryClient,d);j0(e,n,g.Ta);const y=new _N(t,n,c);return e.ma.set(t,y),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),g.snapshot}async function SN(e,t){const n=ht(e),s=n.ma.get(t),o=n.fa.get(s.targetId);if(o.length>1)return n.fa.set(s.targetId,o.filter(l=>!Uc(l,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await gm(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),RA(n.remoteStore,s.targetId),pm(n,s.targetId)}).catch(il)):(pm(n,s.targetId),await gm(n.localStore,s.targetId,!0))}async function wN(e,t,n){const s=xN(e);try{const o=await function(c,m){const d=ht(c),g=se.now(),y=m.reduce((I,U)=>I.add(U.key),_t());let v,T;return d.persistence.runTransaction("Locally write mutations","readwrite",I=>{let U=hi(),j=_t();return d.ss.getEntries(I,y).next(O=>{U=O,U.forEach((Y,J)=>{J.isValidDocument()||(j=j.add(Y))})}).next(()=>d.localDocuments.getOverlayedDocuments(I,U)).next(O=>{v=O;const Y=[];for(const J of m){const nt=$2(J,v.get(J.key).overlayedDocument);nt!=null&&Y.push(new ar(J.key,nt,FT(nt.value.mapValue),dn.exists(!0)))}return d.mutationQueue.addMutationBatch(I,g,Y,m)}).next(O=>{T=O;const Y=O.applyToLocalDocumentSet(v,j);return d.documentOverlayCache.saveOverlays(I,O.batchId,Y)})}).then(()=>({batchId:T.batchId,changes:eA(v)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(c,m,d){let g=c.Sa[c.currentUser.toKey()];g||(g=new Ht(It)),g=g.insert(m,d),c.Sa[c.currentUser.toKey()]=g}(s,o.batchId,n),await ul(s,o.changes),await Hc(s.remoteStore)}catch(o){const l=_g(o,"Failed to persist write");n.reject(l)}}async function UA(e,t){const n=ht(e);try{const s=await qD(n.localStore,t);t.targetChanges.forEach((o,l)=>{const c=n.ya.get(l);c&&(Ut(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Ra=!0:o.modifiedDocuments.size>0?Ut(c.Ra):o.removedDocuments.size>0&&(Ut(c.Ra),c.Ra=!1))}),await ul(n,s,t)}catch(s){await il(s)}}function k0(e,t,n){const s=ht(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ma.forEach((l,c)=>{const m=c.view.Q_(t);m.snapshot&&o.push(m.snapshot)}),function(c,m){const d=ht(c);d.onlineState=m;let g=!1;d.queries.forEach((y,v)=>{for(const T of v.listeners)T.Q_(m)&&(g=!0)}),g&&vg(d)}(s.eventManager,t),o.length&&s.Va.a_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function RN(e,t,n){const s=ht(e);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.ya.get(t),l=o&&o.key;if(l){let c=new Ht(W.comparator);c=c.insert(l,Ie.newNoDocument(l,ut.min()));const m=_t().add(l),d=new zc(ut.min(),new Map,new Ht(It),c,m);await UA(s,d),s.pa=s.pa.remove(l),s.ya.delete(t),Eg(s)}else await gm(s.localStore,t,!1).then(()=>pm(s,t,n)).catch(il)}async function bN(e,t){const n=ht(e),s=t.batch.batchId;try{const o=await BD(n.localStore,t);kA(n,s,null),LA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ul(n,o)}catch(o){await il(o)}}async function IN(e,t,n){const s=ht(e);try{const o=await function(c,m){const d=ht(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return d.mutationQueue.lookupMutationBatch(g,m).next(v=>(Ut(v!==null),y=v.keys(),d.mutationQueue.removeMutationBatch(g,v))).next(()=>d.mutationQueue.performConsistencyCheck(g)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(g,y,m)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>d.localDocuments.getDocuments(g,y))})}(s.localStore,t);kA(s,t,n),LA(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await ul(s,o)}catch(o){await il(o)}}function LA(e,t){(e.ba.get(t)||[]).forEach(n=>{n.resolve()}),e.ba.delete(t)}function kA(e,t,n){const s=ht(e);let o=s.Sa[s.currentUser.toKey()];if(o){const l=o.get(t);l&&(n?l.reject(n):l.resolve(),o=o.remove(t)),s.Sa[s.currentUser.toKey()]=o}}function pm(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.fa.get(t))e.ma.delete(s),n&&e.Va.Fa(s,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(s=>{e.wa.containsKey(s)||jA(e,s)})}function jA(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(RA(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),Eg(e))}function j0(e,t,n){for(const s of n)s instanceof VA?(e.wa.addReference(s.key,t),CN(e,s)):s instanceof PA?(Q("SyncEngine","Document no longer in limbo: "+s.key),e.wa.removeReference(s.key,t),e.wa.containsKey(s.key)||jA(e,s.key)):at()}function CN(e,t){const n=t.key,s=n.path.canonicalString();e.pa.get(n)||e.ga.has(s)||(Q("SyncEngine","New document in limbo: "+n),e.ga.add(s),Eg(e))}function Eg(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new W(jt.fromString(t)),s=e.Da.next();e.ya.set(s,new vN(n)),e.pa=e.pa.insert(n,s),wA(e.remoteStore,new Ki(Mn(ag(n.path)),s,"TargetPurposeLimboResolution",tg._e))}}async function ul(e,t,n){const s=ht(e),o=[],l=[],c=[];s.ma.isEmpty()||(s.ma.forEach((m,d)=>{c.push(s.va(d,t,n).then(g=>{if((g||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(d.targetId,g!=null&&g.fromCache?"not-current":"current"),g){o.push(g);const y=dg.Qi(d.targetId,g);l.push(y)}}))}),await Promise.all(c),s.Va.a_(o),await async function(d,g){const y=ht(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>k.forEach(g,T=>k.forEach(T.ki,I=>y.persistence.referenceDelegate.addReference(v,T.targetId,I)).next(()=>k.forEach(T.qi,I=>y.persistence.referenceDelegate.removeReference(v,T.targetId,I)))))}catch(v){if(!rl(v))throw v;Q("LocalStore","Failed to update sequence numbers: "+v)}for(const v of g){const T=v.targetId;if(!v.fromCache){const I=y.ts.get(T),U=I.snapshotVersion,j=I.withLastLimboFreeSnapshotVersion(U);y.ts=y.ts.insert(T,j)}}}(s.localStore,l))}async function DN(e,t){const n=ht(e);if(!n.currentUser.isEqual(t)){Q("SyncEngine","User change. New user:",t.toKey());const s=await EA(n.localStore,t);n.currentUser=t,function(l,c){l.ba.forEach(m=>{m.forEach(d=>{d.reject(new H(P.CANCELLED,c))})}),l.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await ul(n,s._s)}}function NN(e,t){const n=ht(e),s=n.ya.get(t);if(s&&s.Ra)return _t().add(s.key);{let o=_t();const l=n.fa.get(t);if(!l)return o;for(const c of l){const m=n.ma.get(c);o=o.unionWith(m.view.ua)}return o}}function ON(e){const t=ht(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=UA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=NN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=RN.bind(null,t),t.Va.a_=gN.bind(null,t.eventManager),t.Va.Fa=pN.bind(null,t.eventManager),t}function xN(e){const t=ht(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=IN.bind(null,t),t}class z0{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Bc(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return zD(this.persistence,new kD,t.initialUser,this.serializer)}createPersistence(t){return new PD(fg.jr,this.serializer)}createSharedClientState(t){return new KD}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class MN{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>k0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=DN.bind(null,this.syncEngine),await fN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new mN}()}createDatastore(t){const n=Bc(t.databaseInfo.databaseId),s=function(l){return new WD(l)}(t.databaseInfo);return function(l,c,m,d){return new tN(l,c,m,d)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,l,c,m){return new nN(s,o,l,c,m)}(this.localStore,this.datastore,t.asyncQueue,n=>k0(this.syncEngine,n,0),function(){return P0.D()?new P0:new YD}())}createSyncEngine(t,n){return function(o,l,c,m,d,g,y){const v=new EN(o,l,c,m,d,g);return y&&(v.Ca=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const s=ht(n);Q("RemoteStore","RemoteStore shutting down."),s.C_.add(5),await ll(s),s.F_.shutdown(),s.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):ci("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(t,n,s,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Be.UNAUTHENTICATED,this.clientId=BT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async l=>{Q("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(s,l=>(Q("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=_g(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Vd(e,t){e.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener(async o=>{s.isEqual(o)||(await EA(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function B0(e,t){e.asyncQueue.verifyOperationInProgress();const n=await UN(e);Q("FirestoreClient","Initializing OnlineComponentProvider");const s=await e.getConfiguration();await t.initialize(n,s),e.setCredentialChangeListener(o=>U0(t.remoteStore,o)),e.setAppCheckTokenChangeListener((o,l)=>U0(t.remoteStore,l)),e._onlineComponents=t}function PN(e){return e.name==="FirebaseError"?e.code===P.FAILED_PRECONDITION||e.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function UN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Vd(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!PN(n))throw n;jo("Error using user provided cache. Falling back to memory cache: "+n),await Vd(e,new z0)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await Vd(e,new z0);return e._offlineComponents}async function BA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await B0(e,e._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await B0(e,new MN))),e._onlineComponents}function LN(e){return BA(e).then(t=>t.syncEngine)}async function qA(e){const t=await BA(e),n=t.eventManager;return n.onListen=TN.bind(null,t.syncEngine),n.onUnlisten=SN.bind(null,t.syncEngine),n}function kN(e,t,n={}){const s=new li;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,m,d,g){const y=new zA({next:T=>{c.enqueueAndForget(()=>xA(l,v));const I=T.docs.has(m);!I&&T.fromCache?g.reject(new H(P.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&T.fromCache&&d&&d.source==="server"?g.reject(new H(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),v=new MA(ag(m.path),y,{includeMetadataChanges:!0,J_:!0});return OA(l,v)}(await qA(e),e.asyncQueue,t,n,s)),s.promise}function jN(e,t,n={}){const s=new li;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,m,d,g){const y=new zA({next:T=>{c.enqueueAndForget(()=>xA(l,v)),T.fromCache&&d.source==="server"?g.reject(new H(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),v=new MA(m,y,{includeMetadataChanges:!0,J_:!0});return OA(l,v)}(await qA(e),e.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(e,t,n){if(!n)throw new H(P.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function zN(e,t,n,s){if(t===!0&&s===!0)throw new H(P.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function H0(e){if(!W.isDocumentKey(e))throw new H(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function F0(e){if(W.isDocumentKey(e))throw new H(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Fc(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":at()}function kn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new H(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fc(e);throw new H(P.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new H(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new H(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}zN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HA((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Tg{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new H(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G0(t),t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new l2;switch(s.type){case"firstParty":return new h2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new H(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=q0.get(n);s&&(Q("ComponentProvider","Removing Datastore"),q0.delete(n),s.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new oa(this.firestore,t,this._query)}}class Ue{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ue(this.firestore,t,this._key)}}class Zi extends oa{constructor(t,n,s){super(t,n,ag(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ue(this.firestore,null,new W(t))}withConverter(t){return new Zi(this.firestore,t,this._path)}}function Ag(e,t,...n){if(e=he(e),FA("collection","path",t),e instanceof Tg){const s=jt.fromString(t,...n);return F0(s),new Zi(e,null,s)}{if(!(e instanceof Ue||e instanceof Zi))throw new H(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(jt.fromString(t,...n));return F0(s),new Zi(e.firestore,null,s)}}function la(e,t,...n){if(e=he(e),arguments.length===1&&(t=BT.newId()),FA("doc","path",t),e instanceof Tg){const s=jt.fromString(t,...n);return H0(s),new Ue(e,null,new W(s))}{if(!(e instanceof Ue||e instanceof Zi))throw new H(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(jt.fromString(t,...n));return H0(s),new Ue(e.firestore,e instanceof Zi?e.converter:null,new W(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new AA(this,"async_queue_retry"),this.iu=()=>{const n=Md();n&&Q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=Md();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=Md();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new li;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!rl(t))throw t;Q("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(s=>{this.eu=s,this.tu=!1;const o=function(c){let m=c.message||"";return c.stack&&(m=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),m}(s);throw ci("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.tu=!1,s))));return this.Ja=n,n}enqueueAfterDelay(t,n,s){this.su(),this.ru.indexOf(t)>-1&&(n=0);const o=yg.createAndSchedule(this,t,n,s,l=>this.au(l));return this.Xa.push(o),o}su(){this.eu&&at()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}class Xr extends Tg{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=function(){return new BN}(),this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||GA(this),this._firestoreClient.terminate()}}function qN(e,t,n){n||(n="(default)");const s=Om(e,"firestore");if(s.isInitialized(n)){const o=s.getImmediate({identifier:n}),l=s.getOptions(n);if(Do(l,t))return o;throw new H(P.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new H(P.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new H(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return s.initialize({options:t,instanceIdentifier:n})}function Sg(e){return e._firestoreClient||GA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function GA(e){var t,n,s;const o=e._freezeSettings(),l=function(m,d,g,y){return new S2(m,d,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,HA(y.experimentalLongPollingOptions),y.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,o);e._firestoreClient=new VN(e._authCredentials,e._appCheckCredentials,e._queue,l),!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.localCache.kind,_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ws(Oe.fromBase64String(t))}catch(n){throw new H(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ws(Oe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new H(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ve(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new H(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new H(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=/^__.*__$/;class FN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ar(t,this.data,this.fieldMask,n,this.fieldTransforms):new al(t,this.data,n,this.fieldTransforms)}}class QA{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new ar(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function KA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class bg{constructor(t,n,s,o,l,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Pu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new bg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Tu({path:s,du:!1});return o.Au(t),o}Ru(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Tu({path:s,du:!1});return o.Pu(),o}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return lc(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(KA(this.Iu)&&HN.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class GN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Bc(t)}pu(t,n,s,o=!1){return new bg({Iu:t,methodName:n,gu:s,path:ve.emptyPath(),du:!1,fu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qc(e){const t=e._freezeSettings(),n=Bc(e._databaseId);return new GN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function YA(e,t,n,s,o,l={}){const c=e.pu(l.merge||l.mergeFields?2:0,t,n,o);Ig("Data must be an object, but it was:",c,s);const m=XA(s,c);let d,g;if(l.merge)d=new $e(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const T=ym(t,v,n);if(!c.contains(T))throw new H(P.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);WA(y,T)||y.push(T)}d=new $e(y),g=c.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,g=c.fieldTransforms;return new FN(new qe(m),d,g)}class Kc extends wg{_toFieldTransform(t){if(t.Iu!==2)throw t.Iu===1?t.mu(`${this._methodName}() can only appear at the top level of your update data`):t.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Kc}}function QN(e,t,n,s){const o=e.pu(1,t,n);Ig("Data must be an object, but it was:",o,s);const l=[],c=qe.empty();Kr(s,(d,g)=>{const y=Cg(t,d,n);g=he(g);const v=o.Ru(y);if(g instanceof Kc)l.push(y);else{const T=cl(g,v);T!=null&&(l.push(y),c.set(y,T))}});const m=new $e(l);return new QA(c,m,o.fieldTransforms)}function KN(e,t,n,s,o,l){const c=e.pu(1,t,n),m=[ym(t,s,n)],d=[o];if(l.length%2!=0)throw new H(P.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)m.push(ym(t,l[T])),d.push(l[T+1]);const g=[],y=qe.empty();for(let T=m.length-1;T>=0;--T)if(!WA(g,m[T])){const I=m[T];let U=d[T];U=he(U);const j=c.Ru(I);if(U instanceof Kc)g.push(I);else{const O=cl(U,j);O!=null&&(g.push(I),y.set(I,O))}}const v=new $e(g);return new QA(y,v,c.fieldTransforms)}function YN(e,t,n,s=!1){return cl(n,e.pu(s?4:3,t))}function cl(e,t){if($A(e=he(e)))return Ig("Unsupported field value:",t,e),XA(e,t);if(e instanceof wg)return function(s,o){if(!KA(o.Iu))throw o.mu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.mu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(s,o){const l=[];let c=0;for(const m of s){let d=cl(m,o.Vu(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}}(e,t)}return function(s,o){if((s=he(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return F2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=se.fromDate(s);return{timestampValue:ac(o.serializer,l)}}if(s instanceof se){const l=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ac(o.serializer,l)}}if(s instanceof Rg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ws)return{bytesValue:mA(o.serializer,s._byteString)};if(s instanceof Ue){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.mu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:cg(s.firestore._databaseId||o.databaseId,s._key.path)}}throw o.mu(`Unsupported field value: ${Fc(s)}`)}(e,t)}function XA(e,t){const n={};return qT(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Kr(e,(s,o)=>{const l=cl(o,t.Eu(s));l!=null&&(n[s]=l)}),{mapValue:{fields:n}}}function $A(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof se||e instanceof Rg||e instanceof Ws||e instanceof Ue||e instanceof wg)}function Ig(e,t,n){if(!$A(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Fc(n);throw s==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+s)}}function ym(e,t,n){if((t=he(t))instanceof Gc)return t._internalPath;if(typeof t=="string")return Cg(e,t);throw lc("Field path arguments must be of type string or ",e,!1,void 0,n)}const XN=new RegExp("[~\\*/\\[\\]]");function Cg(e,t,n){if(t.search(XN)>=0)throw lc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Gc(...t.split("."))._internalPath}catch{throw lc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function lc(e,t,n,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${s}`),c&&(d+=` in document ${o}`),d+=")"),new H(P.INVALID_ARGUMENT,m+e+d)}function WA(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(t,n,s,o,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new $N(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Dg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $N extends ZA{data(){return super.data()}}function Dg(e,t){return typeof t=="string"?Cg(e,t):t instanceof Gc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new H(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ng{}class ZN extends Ng{}function JN(e,t,...n){let s=[];t instanceof Ng&&s.push(t),s=s.concat(n),function(l){const c=l.filter(d=>d instanceof Og).length,m=l.filter(d=>d instanceof Yc).length;if(c>1||c>0&&m>0)throw new H(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)e=o._apply(e);return e}class Yc extends ZN{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Yc(t,n,s)}_apply(t){const n=this._parse(t);return JA(t._query,n),new oa(t.firestore,t.converter,um(t._query,n))}_parse(t){const n=Qc(t.firestore);return function(l,c,m,d,g,y,v){let T;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new H(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){K0(v,y);const I=[];for(const U of v)I.push(Q0(d,l,U));T={arrayValue:{values:I}}}else T=Q0(d,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||K0(v,y),T=YN(m,c,v,y==="in"||y==="not-in");return ne.create(g,y,T)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function tO(e,t,n){const s=t,o=Dg("where",e);return Yc._create(o,s,n)}class Og extends Ng{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Og(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:En.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,l){let c=o;const m=l.getFlattenedFilters();for(const d of m)JA(c,d),c=um(c,d)}(t._query,n),new oa(t.firestore,t.converter,um(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Q0(e,t,n){if(typeof(n=he(n))=="string"){if(n==="")throw new H(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WT(t)&&n.indexOf("/")!==-1)throw new H(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(jt.fromString(n));if(!W.isDocumentKey(s))throw new H(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return p0(e,new W(s))}if(n instanceof Ue)return p0(e,n._key);throw new H(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fc(n)}.`)}function K0(e,t){if(!Array.isArray(e)||e.length===0)throw new H(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function JA(e,t){const n=function(o,l){for(const c of o)for(const m of c.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null}(e.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new H(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new H(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class eO{convertValue(t,n="none"){switch(Hr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(qr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw at()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Kr(t,(o,l)=>{s[o]=this.convertValue(l,n)}),s}convertGeoPoint(t){return new Rg(ee(t.latitude),ee(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=ng(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Bo(t));default:return null}}convertTimestamp(t){const n=tr(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=jt.fromString(t);Ut(vA(s));const o=new qo(s.get(1),s.get(3)),l=new W(s.popFirst(5));return o.isEqual(n)||ci(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(e,t,n){let s;return s=e?e.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class eS extends ZA{constructor(t,n,s,o,l,c){super(t,n,s,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new qu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Dg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class qu extends eS{data(t={}){return super.data(t)}}class nO{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new vo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new qu(this._firestore,this._userDataWriter,s.key,s,new vo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(m=>{const d=new qu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new vo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>l||m.type!==3).map(m=>{const d=new qu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new vo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,y=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),y=c.indexOf(m.doc.key)),{type:iO(m.type),doc:d,oldIndex:g,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function iO(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(e){e=kn(e,Ue);const t=kn(e.firestore,Xr);return kN(Sg(t),e._key).then(n=>lO(t,e,n))}class nS extends eO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ws(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ue(this.firestore,null,n)}}function iS(e){e=kn(e,oa);const t=kn(e.firestore,Xr),n=Sg(t),s=new nS(t);return WN(e._query),jN(n,e._query).then(o=>new nO(t,s,e,o))}function sO(e,t,n){e=kn(e,Ue);const s=kn(e.firestore,Xr),o=tS(e.converter,t);return Xc(s,[YA(Qc(s),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,dn.none())])}function aO(e,t,n,...s){e=kn(e,Ue);const o=kn(e.firestore,Xr),l=Qc(o);let c;return c=typeof(t=he(t))=="string"||t instanceof Gc?KN(l,"updateDoc",e._key,t,n,s):QN(l,"updateDoc",e._key,t),Xc(o,[c.toMutation(e._key,dn.exists(!0))])}function rS(e){return Xc(kn(e.firestore,Xr),[new og(e._key,dn.none())])}function oO(e,t){const n=kn(e.firestore,Xr),s=la(e),o=tS(e.converter,t);return Xc(n,[YA(Qc(e.firestore),"addDoc",s._key,o,e.converter!==null,{}).toMutation(s._key,dn.exists(!1))]).then(()=>s)}function Xc(e,t){return function(s,o){const l=new li;return s.asyncQueue.enqueueAndForget(async()=>wN(await LN(s),o,l)),l.promise}(Sg(e),t)}function lO(e,t,n){const s=n.docs.get(t._key),o=new nS(e);return new eS(e,o,t._key,s,new vo(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){ra=o})(ea),Fs(new jr("firestore",(s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),m=new Xr(new u2(s.getProvider("auth-internal")),new d2(s.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new H(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qo(g.options.projectId,y)}(c,o),c);return l=Object.assign({useFetchStreams:n},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),Wi(f0,"4.4.0",t),Wi(f0,"4.4.0","esm2017")})();function xg(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]]);return n}function sS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uO=sS,aS=new Xo("auth","Firebase",sS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new Dm("@firebase/auth");function cO(e,...t){uc.logLevel<=Et.WARN&&uc.warn(`Auth (${ea}): ${e}`,...t)}function Hu(e,...t){uc.logLevel<=Et.ERROR&&uc.error(`Auth (${ea}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(e,...t){throw Mg(e,...t)}function Pn(e,...t){return Mg(e,...t)}function hO(e,t,n){const s=Object.assign(Object.assign({},uO()),{[t]:n});return new Xo("auth","Firebase",s).create(t,{appName:e.name})}function Mg(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return aS.create(e,...t)}function st(e,t,...n){if(!e)throw Mg(t,...n)}function si(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Hu(t),new Error(t)}function fi(e,t){e||si(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function fO(){return Y0()==="http:"||Y0()==="https:"}function Y0(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fO()||Ub()||"connection"in navigator)?navigator.onLine:!0}function mO(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(t,n){this.shortDelay=t,this.longDelay=n,fi(n>t,"Short delay should be less than long delay!"),this.isMobile=Pb()||Lb()}get(){return dO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(e,t){fi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=new hl(3e4,6e4);function or(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function mi(e,t,n,s,o={}){return lS(e,o,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const m=$o(Object.assign({key:e.config.apiKey},c)).slice(1),d=await e._getAdditionalHeaders();return d["Content-Type"]="application/json",e.languageCode&&(d["X-Firebase-Locale"]=e.languageCode),oS.fetch()(uS(e,e.config.apiHost,n,m),Object.assign({method:t,headers:d,referrerPolicy:"no-referrer"},l))})}async function lS(e,t,n){e._canInitEmulator=!1;const s=Object.assign(Object.assign({},gO),t);try{const o=new _O(e),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Lu(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const m=l.ok?c.errorMessage:c.error.message,[d,g]=m.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lu(e,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Lu(e,"email-already-in-use",c);if(d==="USER_DISABLED")throw Lu(e,"user-disabled",c);const y=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw hO(e,y,g);Tn(e,y)}}catch(o){if(o instanceof di)throw o;Tn(e,"network-request-failed",{message:String(o)})}}async function fl(e,t,n,s,o={}){const l=await mi(e,t,n,s,o);return"mfaPendingCredential"in l&&Tn(e,"multi-factor-auth-required",{_serverResponse:l}),l}function uS(e,t,n,s){const o=`${t}${n}?${s}`;return e.config.emulator?Vg(e.config,o):`${e.config.apiScheme}://${o}`}function yO(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _O{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Pn(this.auth,"network-request-failed")),pO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Lu(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Pn(e,t,s);return o.customData._tokenResponse=n,o}function X0(e){return e!==void 0&&e.enterprise!==void 0}class vO{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return yO(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function EO(e,t){return mi(e,"GET","/v2/recaptchaConfig",or(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO(e,t){return mi(e,"POST","/v1/accounts:delete",t)}async function AO(e,t){return mi(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function SO(e,t=!1){const n=he(e),s=await n.getIdToken(t),o=Pg(s);st(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:Ro(Pd(o.auth_time)),issuedAtTime:Ro(Pd(o.iat)),expirationTime:Ro(Pd(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Pd(e){return Number(e)*1e3}function Pg(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return Hu("JWT malformed, contained fewer than 3 sections"),null;try{const o=OE(n);return o?JSON.parse(o):(Hu("Failed to decode base64 JWT payload"),null)}catch(o){return Hu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function wO(e){const t=Pg(e);return st(t,"internal-error"),st(typeof t.exp<"u","internal-error"),st(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zs(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof di&&RO(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function RO({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ro(this.lastLoginAt),this.creationTime=Ro(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(e){var t;const n=e.auth,s=await e.getIdToken(),o=await Zs(e,AO(n,{idToken:s}));st(o==null?void 0:o.users.length,n,"internal-error");const l=o.users[0];e._notifyReloadListener(l);const c=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?DO(l.providerUserInfo):[],m=CO(e.providerData,c),d=e.isAnonymous,g=!(e.email&&l.passwordHash)&&!(m!=null&&m.length),y=d?g:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new cS(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(e,v)}async function IO(e){const t=he(e);await cc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function CO(e,t){return[...e.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function DO(e){return e.map(t=>{var{providerId:n}=t,s=xg(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(e,t){const n=await lS(e,{},async()=>{const s=$o({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:l}=e.config,c=uS(e,o,"/v1/token",`key=${l}`),m=await e._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",oS.fetch()(c,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function OO(e,t){return mi(e,"POST","/v2/accounts:revokeToken",or(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){st(t.idToken,"internal-error"),st(typeof t.idToken<"u","internal-error"),st(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):wO(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return st(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:l}=await NO(t,n);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:l}=n,c=new Qo;return s&&(st(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),o&&(st(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),l&&(st(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Qo,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(e,t){st(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class kr{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,l=xg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new cS(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Zs(this,this.stsTokenManager.getToken(this.auth,t));return st(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return SO(this,t)}reload(){return IO(this)}_assign(t){this!==t&&(st(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new kr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){st(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await cc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Zs(this,TO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,l,c,m,d,g,y;const v=(s=n.displayName)!==null&&s!==void 0?s:void 0,T=(o=n.email)!==null&&o!==void 0?o:void 0,I=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,U=(c=n.photoURL)!==null&&c!==void 0?c:void 0,j=(m=n.tenantId)!==null&&m!==void 0?m:void 0,O=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,Y=(g=n.createdAt)!==null&&g!==void 0?g:void 0,J=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:nt,emailVerified:bt,isAnonymous:rt,providerData:Lt,stsTokenManager:Ae}=n;st(nt&&Ae,t,"internal-error");const mn=Qo.fromJSON(this.name,Ae);st(typeof nt=="string",t,"internal-error"),ji(v,t.name),ji(T,t.name),st(typeof bt=="boolean",t,"internal-error"),st(typeof rt=="boolean",t,"internal-error"),ji(I,t.name),ji(U,t.name),ji(j,t.name),ji(O,t.name),ji(Y,t.name),ji(J,t.name);const $=new kr({uid:nt,auth:t,email:T,emailVerified:bt,displayName:v,isAnonymous:rt,photoURL:U,phoneNumber:I,tenantId:j,stsTokenManager:mn,createdAt:Y,lastLoginAt:J});return Lt&&Array.isArray(Lt)&&($.providerData=Lt.map(yt=>Object.assign({},yt))),O&&($._redirectEventId=O),$}static async _fromIdTokenResponse(t,n,s=!1){const o=new Qo;o.updateFromServerResponse(n);const l=new kr({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await cc(l),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=new Map;function ai(e){fi(e instanceof Function,"Expected a class definition");let t=$0.get(e);return t?(fi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,$0.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}hS.type="NONE";const W0=hS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(e,t,n){return`firebase:${e}:${t}:${n}`}class qs{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Fu(this.userKey,o.apiKey,l),this.fullPersistenceKey=Fu("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?kr._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new qs(ai(W0),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||ai(W0);const c=Fu(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const y=await g._get(c);if(y){const v=kr._fromJSON(t,y);g!==l&&(m=v),l=g;break}}catch{}const d=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new qs(l,t,s):(l=d[0],m&&await l._set(c,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new qs(l,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pS(t))return"Blackberry";if(yS(t))return"Webos";if(Ug(t))return"Safari";if((t.includes("chrome/")||dS(t))&&!t.includes("edge/"))return"Chrome";if(gS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function fS(e=Ne()){return/firefox\//i.test(e)}function Ug(e=Ne()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function dS(e=Ne()){return/crios\//i.test(e)}function mS(e=Ne()){return/iemobile/i.test(e)}function gS(e=Ne()){return/android/i.test(e)}function pS(e=Ne()){return/blackberry/i.test(e)}function yS(e=Ne()){return/webos/i.test(e)}function $c(e=Ne()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function xO(e=Ne()){var t;return $c(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function MO(){return kb()&&document.documentMode===10}function _S(e=Ne()){return $c(e)||gS(e)||yS(e)||pS(e)||/windows phone/i.test(e)||mS(e)}function VO(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(e,t=[]){let n;switch(e){case"Browser":n=Z0(Ne());break;case"Worker":n=`${Z0(Ne())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ea}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=l=>new Promise((c,m)=>{try{const d=t(l);c(d)}catch(d){m(d)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(e,t={}){return mi(e,"GET","/v2/passwordPolicy",or(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=6;class kO{constructor(t){var n,s,o,l;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:LO,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,l,c,m;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,d),this.validatePasswordCharacterOptions(t,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(s=d.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsLowercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(m=d.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),d}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J0(this),this.idTokenSubscription=new J0(this),this.beforeStateQueue=new PO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ai(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await qs.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,d=await this.tryRedirectSignIn(t);(!c||c===m)&&(d!=null&&d.user)&&(o=d.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return st(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await cc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=mO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?he(t):null;return n&&st(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&st(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ai(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await UO(this),n=new kO(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Xo("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await OO(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ai(t)||this._popupRedirectResolver;st(n,this,"argument-error"),this.redirectPersistenceManager=await qs.create(this,[ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(st(m,this,"internal-error"),m.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const d=t.addObserver(n,s,o);return()=>{c=!0,d()}}else{const d=t.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return st(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=vS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&cO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $r(e){return he(e)}class J0{constructor(t){this.auth=t,this.observer=null,this.addObserver=Gb(n=>this.observer=n)}get next(){return st(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function ES(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=o=>{const l=Pn("internal-error");l.customData=o,n(l)},s.type="text/javascript",s.charset="UTF-8",zO().appendChild(s)})}function BO(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const qO="https://www.google.com/recaptcha/enterprise.js?render=",HO="recaptcha-enterprise",FO="NO_RECAPTCHA";class GO{constructor(t){this.type=HO,this.auth=$r(t)}async verify(t="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,m)=>{EO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new vO(d);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(d=>{m(d)})})}function o(l,c,m){const d=window.grecaptcha;X0(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:t}).then(g=>{c(g)}).catch(()=>{c(FO)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((l,c)=>{s(this.auth).then(m=>{if(!n&&X0(window.grecaptcha))o(m,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}ES(qO+m).then(()=>{o(m,l,c)}).catch(d=>{c(d)})}}).catch(m=>{c(m)})})}}async function tE(e,t,n,s=!1){const o=new GO(e);let l;try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const c=Object.assign({},t);return s?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function vm(e,t,n,s){var o;if(!((o=e._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await tE(e,t,n,n==="getOobCode");return s(e,l)}else return s(e,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await tE(e,t,n,n==="getOobCode");return s(e,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(e,t){const n=Om(e,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(Do(l,t??{}))return o;Tn(o,"already-initialized")}return n.initialize({options:t})}function KO(e,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ai);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function YO(e,t,n){const s=$r(e);st(s._canInitEmulator,s,"emulator-config-failed"),st(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,l=TS(t),{host:c,port:m}=XO(t),d=m===null?"":`:${m}`;s.config.emulator={url:`${l}//${c}${d}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:c,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),$O()}function TS(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function XO(e){const t=TS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:eE(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:eE(c)}}}function eE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function $O(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return si("not implemented")}_getIdTokenResponse(t){return si("not implemented")}_linkToIdToken(t,n){return si("not implemented")}_getReauthenticationResolver(t){return si("not implemented")}}async function WO(e,t){return mi(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(e,t){return fl(e,"POST","/v1/accounts:signInWithPassword",or(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(e,t){return fl(e,"POST","/v1/accounts:signInWithEmailLink",or(e,t))}async function t4(e,t){return fl(e,"POST","/v1/accounts:signInWithEmailLink",or(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends Lg{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Ko(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Ko(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vm(t,n,"signInWithPassword",ZO);case"emailLink":return JO(t,{email:this._email,oobCode:this._password});default:Tn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vm(t,s,"signUpPassword",WO);case"emailLink":return t4(t,{idToken:n,email:this._email,oobCode:this._password});default:Tn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hs(e,t){return fl(e,"POST","/v1/accounts:signInWithIdp",or(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4="http://localhost";class Fr extends Lg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Fr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,l=xg(n,["providerId","signInMethod"]);if(!s||!o)return null;const c=new Fr(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Hs(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Hs(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Hs(t,n)}buildRequest(){const t={requestUri:e4,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=$o(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function i4(e){const t=fo(mo(e)).link,n=t?fo(mo(t)).deep_link_id:null,s=fo(mo(e)).deep_link_id;return(s?fo(mo(s)).link:null)||s||n||t||e}class kg{constructor(t){var n,s,o,l,c,m;const d=fo(mo(t)),g=(n=d.apiKey)!==null&&n!==void 0?n:null,y=(s=d.oobCode)!==null&&s!==void 0?s:null,v=n4((o=d.mode)!==null&&o!==void 0?o:null);st(g&&y&&v,"argument-error"),this.apiKey=g,this.operation=v,this.code=y,this.continueUrl=(l=d.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=d.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(m=d.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const n=i4(t);try{return new kg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.providerId=ua.PROVIDER_ID}static credential(t,n){return Ko._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=kg.parseLink(n);return st(s,"argument-error"),Ko._fromEmailAndCode(t,s.code,s.tenantId)}}ua.PROVIDER_ID="password";ua.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ua.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends AS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends dl{constructor(){super("facebook.com")}static credential(t){return Fr._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qi.credentialFromTaggedObject(t)}static credentialFromError(t){return qi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qi.credential(t.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends dl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Fr._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Hi.credentialFromTaggedObject(t)}static credentialFromError(t){return Hi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Hi.credential(n,s)}catch{return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends dl{constructor(){super("github.com")}static credential(t){return Fr._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fi.credentialFromTaggedObject(t)}static credentialFromError(t){return Fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fi.credential(t.oauthAccessToken)}catch{return null}}}Fi.GITHUB_SIGN_IN_METHOD="github.com";Fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends dl{constructor(){super("twitter.com")}static credential(t,n){return Fr._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Gi.credentialFromTaggedObject(t)}static credentialFromError(t){return Gi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Gi.credential(n,s)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r4(e,t){return fl(e,"POST","/v1/accounts:signUp",or(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const l=await kr._fromIdTokenResponse(t,s,o),c=nE(s);return new Gr({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=nE(s);return new Gr({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function nE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends di{constructor(t,n,s,o){var l;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,hc.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new hc(t,n,s,o)}}function SS(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?hc._fromErrorAndOperation(e,l,t,s):l})}async function s4(e,t,n=!1){const s=await Zs(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Gr._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4(e,t,n=!1){const{auth:s}=e,o="reauthenticate";try{const l=await Zs(e,SS(s,o,t,e),n);st(l.idToken,s,"internal-error");const c=Pg(l.idToken);st(c,s,"internal-error");const{sub:m}=c;return st(e.uid===m,s,"user-mismatch"),Gr._forOperation(e,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Tn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wS(e,t,n=!1){const s="signIn",o=await SS(e,s,t),l=await Gr._fromIdTokenResponse(e,s,o);return n||await e._updateCurrentUser(l.user),l}async function o4(e,t){return wS($r(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RS(e){const t=$r(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function l4(e,t,n){const s=$r(e),c=await vm(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",r4).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&RS(e),d}),m=await Gr._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(m.user),m}function u4(e,t,n){return o4(he(e),ua.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&RS(e),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(e,t){return mi(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iE(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const s=he(e),l={idToken:await s.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},c=await Zs(s,c4(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const m=s.providerData.find(({providerId:d})=>d==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function h4(e,t,n,s){return he(e).onIdTokenChanged(t,n,s)}function f4(e,t,n){return he(e).beforeAuthStateChanged(t,n)}function d4(e,t,n,s){return he(e).onAuthStateChanged(t,n,s)}const fc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fc,"1"),this.storage.removeItem(fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(){const e=Ne();return Ug(e)||$c(e)}const g4=1e3,p4=10;class IS extends bS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=m4()&&VO(),this.fallbackToPolling=_S(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,m,d)=>{this.notifyListeners(c,d)});return}const s=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const c=this.storage.getItem(s);if(t.newValue!==c)t.newValue!==null?this.storage.setItem(s,t.newValue):this.storage.removeItem(s);else if(this.localCache[s]===t.newValue&&!n)return}const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);MO()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,p4):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},g4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}IS.type="LOCAL";const y4=IS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS extends bS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}CS.type="SESSION";const DS=CS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Wc(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:l}=n.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async g=>g(n.origin,l)),d=await _4(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:d})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((m,d)=>{const g=jg("",20);o.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(v){const T=v;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(T.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function E4(e){Un().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function T4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function A4(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function S4(){return NS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="firebaseLocalStorageDb",w4=1,dc="firebaseLocalStorage",xS="fbase_key";class ml{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zc(e,t){return e.transaction([dc],t?"readwrite":"readonly").objectStore(dc)}function R4(){const e=indexedDB.deleteDatabase(OS);return new ml(e).toPromise()}function Em(){const e=indexedDB.open(OS,w4);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(dc,{keyPath:xS})}catch(o){n(o)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(dc)?t(s):(s.close(),await R4(),t(await Em()))})})}async function rE(e,t,n){const s=Zc(e,!0).put({[xS]:t,value:n});return new ml(s).toPromise()}async function b4(e,t){const n=Zc(e,!1).get(t),s=await new ml(n).toPromise();return s===void 0?null:s.value}function sE(e,t){const n=Zc(e,!0).delete(t);return new ml(n).toPromise()}const I4=800,C4=3;class MS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>C4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wc._getInstance(S4()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await T4(),!this.activeServiceWorker)return;this.sender=new v4(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||A4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Em();return await rE(t,fc,"1"),await sE(t,fc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>rE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>b4(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>sE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const l=Zc(o,!1).getAll();return new ml(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:l}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),I4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MS.type="LOCAL";const D4=MS;new hl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(e,t){return t?ai(t):(st(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg extends Lg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Hs(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Hs(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Hs(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function O4(e){return wS(e.auth,new zg(e),e.bypassAuthState)}function x4(e){const{auth:t,user:n}=e;return st(n,t,"internal-error"),a4(n,new zg(e),e.bypassAuthState)}async function M4(e){const{auth:t,user:n}=e;return st(n,t,"internal-error"),s4(n,new zg(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(t,n,s,o,l=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:l,error:c,type:m}=t;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(d))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return O4;case"linkViaPopup":case"linkViaRedirect":return M4;case"reauthViaPopup":case"reauthViaRedirect":return x4;default:Tn(this.auth,"internal-error")}}resolve(t){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=new hl(2e3,1e4);class ks extends VS{constructor(t,n,s,o,l){super(t,n,o,l),this.provider=s,this.authWindow=null,this.pollId=null,ks.currentPopupAction&&ks.currentPopupAction.cancel(),ks.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return st(t,this.auth,"internal-error"),t}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const t=jg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ks.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,V4.get())};t()}}ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4="pendingRedirect",Gu=new Map;class U4 extends VS{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Gu.get(this.auth._key());if(!t){try{const s=await L4(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Gu.set(this.auth._key(),t)}return this.bypassAuthState||Gu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function L4(e,t){const n=z4(t),s=j4(e);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function k4(e,t){Gu.set(e._key(),t)}function j4(e){return ai(e._redirectPersistence)}function z4(e){return Fu(P4,e.config.apiKey,e.name)}async function B4(e,t,n=!1){const s=$r(e),o=N4(s,t),c=await new U4(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=10*60*1e3;class H4{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!F4(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!PS(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Pn(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=q4&&this.cachedEventUids.clear(),this.cachedEventUids.has(aE(t))}saveEventToCache(t){this.cachedEventUids.add(aE(t)),this.lastProcessedEventTime=Date.now()}}function aE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function PS({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function F4(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PS(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(e,t={}){return mi(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,K4=/^https?/;async function Y4(e){if(e.config.emulator)return;const{authorizedDomains:t}=await G4(e);for(const n of t)try{if(X4(n))return}catch{}Tn(e,"unauthorized-domain")}function X4(e){const t=_m(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!K4.test(n))return!1;if(Q4.test(e))return s===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=new hl(3e4,6e4);function oE(){const e=Un().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function W4(e){return new Promise((t,n)=>{var s,o,l;function c(){oE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{oE(),n(Pn(e,"network-request-failed"))},timeout:$4.get()})}if(!((o=(s=Un().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((l=Un().gapi)===null||l===void 0)&&l.load)c();else{const m=BO("iframefcb");return Un()[m]=()=>{gapi.load?c():n(Pn(e,"network-request-failed"))},ES(`https://apis.google.com/js/api.js?onload=${m}`).catch(d=>n(d))}}).catch(t=>{throw Qu=null,t})}let Qu=null;function Z4(e){return Qu=Qu||W4(e),Qu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=new hl(5e3,15e3),tx="__/auth/iframe",ex="emulator/auth/iframe",nx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ix=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rx(e){const t=e.config;st(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Vg(t,ex):`https://${e.config.authDomain}/${tx}`,s={apiKey:t.apiKey,appName:e.name,v:ea},o=ix.get(e.config.apiHost);o&&(s.eid=o);const l=e._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${$o(s).slice(1)}`}async function sx(e){const t=await Z4(e),n=Un().gapi;return st(n,e,"internal-error"),t.open({where:document.body,url:rx(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nx,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=Pn(e,"network-request-failed"),m=Un().setTimeout(()=>{l(c)},J4.get());function d(){Un().clearTimeout(m),o(s)}s.ping(d).then(d,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ox=500,lx=600,ux="_blank",cx="http://localhost";class lE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hx(e,t,n,s=ox,o=lx){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const d=Object.assign(Object.assign({},ax),{width:s.toString(),height:o.toString(),top:l,left:c}),g=Ne().toLowerCase();n&&(m=dS(g)?ux:n),fS(g)&&(t=t||cx,d.scrollbars="yes");const y=Object.entries(d).reduce((T,[I,U])=>`${T}${I}=${U},`,"");if(xO(g)&&m!=="_self")return fx(t||"",m),new lE(null);const v=window.open(t||"",m,y);st(v,e,"popup-blocked");try{v.focus()}catch{}return new lE(v)}function fx(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="__/auth/handler",mx="emulator/auth/handler",gx=encodeURIComponent("fac");async function uE(e,t,n,s,o,l){st(e.config.authDomain,e,"auth-domain-config-required"),st(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:ea,eventId:o};if(t instanceof AS){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",Fb(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(t instanceof dl){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const m=c;for(const y of Object.keys(m))m[y]===void 0&&delete m[y];const d=await e._getAppCheckToken(),g=d?`#${gx}=${encodeURIComponent(d)}`:"";return`${px(e)}?${$o(m).slice(1)}${g}`}function px({config:e}){return e.emulator?Vg(e,mx):`https://${e.authDomain}/${dx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="webStorageSupport";class yx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DS,this._completeRedirectFn=B4,this._overrideRedirectResult=k4}async _openPopup(t,n,s,o){var l;fi((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await uE(t,n,s,_m(),o);return hx(t,c,jg())}async _openRedirect(t,n,s,o){await this._originValidation(t);const l=await uE(t,n,s,_m(),o);return E4(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(fi(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await sx(t),s=new H4(t);return n.register("authEvent",o=>(st(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Ud,{type:Ud},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Ud];c!==void 0&&n(!!c),Tn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Y4(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return _S()||Ug()||$c()}}const _x=yx;var cE="@firebase/auth",hE="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){st(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Tx(e){Fs(new jr("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;st(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:c,authDomain:m,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vS(e)},g=new jO(s,o,l,d);return KO(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Fs(new jr("auth-internal",t=>{const n=$r(t.getProvider("auth").getImmediate());return(s=>new vx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(cE,hE,Ex(e)),Wi(cE,hE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=5*60,Sx=ME("authIdTokenMaxAge")||Ax;let fE=null;const wx=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Sx)return;const o=n==null?void 0:n.token;fE!==o&&(fE=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Rx(e=FI()){const t=Om(e,"auth");if(t.isInitialized())return t.getImmediate();const n=QO(e,{popupRedirectResolver:_x,persistence:[D4,y4,DS]}),s=ME("authTokenSyncURL");if(s){const l=wx(s);f4(n,l,()=>l(n.currentUser)),h4(n,c=>l(c))}const o=Mb("auth");return o&&YO(n,`http://${o}`),n}Tx("Browser");const bx={apiKey:"AIzaSyCcrGeP8uj0LlZ9CQJFwF5YpJ43rO6EByU",authDomain:"rein-firebase-test.firebaseapp.com",databaseURL:"https://rein-firebase-test-default-rtdb.europe-west1.firebasedatabase.app",projectId:"rein-firebase-test",storageBucket:"rein-firebase-test.appspot.com",messagingSenderId:"270166841798",appId:"1:270166841798:web:2d2c7a5f4bee100f387ac7"},US=UE(bx),zi=Rx(US),lr=qN(US,{experimentalForceLongPolling:!0}),dE=()=>`https://picsum.photos/id/${Math.floor(Math.random()*500)}/200/300`,ur=M.createContext(null),Ix=({children:e})=>{const[t,n]=M.useState(null),[s,o]=M.useState(!0);console.log("user",t);const l=async(y,v)=>{try{const T=await u4(zi,y,v);return n(T.user),!0}catch(T){throw console.error("Error signing in:",T),T}},c=async()=>{await zi.signOut(),n(null)},m=async(y,v)=>{const T=y.split("@")[0],I=dE();try{const U=await l4(zi,y,v);T&&await iE(U.user,{displayName:T,photoURL:I}),n({...U.user,displayName:T,photoURL:I})}catch(U){throw console.error("Error creating user:",U.code,U.message),U}},d=async({displayName:y})=>{if(!zi.currentUser)return!1;const v=y??zi.currentUser.displayName,T=zi.currentUser.photoURL??dE();try{return await iE(zi.currentUser,{displayName:v,photoURL:T}),n(I=>I?{...I,displayName:v,photoURL:T}:null),!0}catch(I){return console.error("Error updating profile:",I),!1}};M.useEffect(()=>{o(!0);const y=d4(zi,v=>{console.log("onAuthStateChanged!!"),n(v),o(!1)});return()=>y()},[]);const g=M.useMemo(()=>({isLoading:s,user:t,signOut:c,signIn:l,createUser:m,updateUser:d}),[s,t]);return A.jsx(ur.Provider,{value:g,children:e})},LS=e=>{const{user:t,signIn:n,signOut:s}=M.useContext(ur),o=()=>{t?s():n("test@test.no","123456"),e.onClickAction&&e.onClickAction()};return A.jsx("div",{children:A.jsx("span",{style:{display:"flex",alignItems:"center"},onClick:o,children:t?"Logout":"Login"})})},Cx=()=>A.jsxs("div",{children:[A.jsx("h1",{children:"content"}),A.jsx(Co,{to:"/magicitems",children:"Magic Items"}),A.jsx(LS,{})]}),Dx=()=>{const{user:e,signIn:t,signOut:n}=M.useContext(ur),[s,o]=M.useState(""),[l,c]=M.useState(""),[m,d]=M.useState(""),[g,y]=M.useState(!1),v=async T=>{var I;if(T.preventDefault(),e){n();return}if(!s||!l){alert("Please enter username and password");return}y(!0),d("");try{let U;s==="admin"&&l==="admin"?U=await t("test@test.no","123456"):U=await t(s,l),console.log(U),((I=U==null?void 0:U.error)==null?void 0:I.length)>0&&d(U.error[1])}catch(U){console.error(U),d("An unexpected error occurred.")}finally{y(!1)}};return g?A.jsx("div",{className:"flex justify-center align-center mt-[10vh]",children:A.jsx("div",{className:"bg-white p-4 shadow-md rounded-md max-w-[300px]",children:A.jsx("p",{children:"Loading..."})})}):A.jsx("div",{className:"flex justify-center align-center mt-[10vh]",children:A.jsxs("form",{className:"bg-white p-4 shadow-md rounded-md max-w-[300px]",onSubmit:v,children:[A.jsx("label",{htmlFor:"username",children:"Username:"}),A.jsx("input",{type:"text",id:"username",className:"w-full p-4 mb-4 bg-gray-200 rounded-md",value:s,onChange:T=>o(T.target.value),required:!0}),A.jsx("label",{htmlFor:"password",children:"Password:"}),A.jsx("input",{type:"password",id:"password",className:"w-full p-4 mb-4 bg-gray-200 rounded-md",value:l,onChange:T=>c(T.target.value),required:!0}),m.length>0&&A.jsx("div",{children:m}),A.jsxs("div",{className:"flex justify-between align-center",children:[A.jsx("button",{className:"bg-blue-500 text-white p-2 rounded-sm hover:bg-blue-800",type:"submit",children:"Login"}),A.jsx("div",{className:"flex flex-col justify-center",children:A.jsx(Co,{to:"/register",children:"Register"})})]})]})})},Nx=()=>{const{createUser:e}=M.useContext(ur),[t,n]=M.useState(""),[s,o]=M.useState(""),[l,c]=M.useState(""),m=async d=>{if(d.preventDefault(),!t||!s||!l){alert("Please fill in all fields");return}if(s.length<6){alert("Password must be at least 6 characters long");return}if(s!==l){alert("Passwords do not match");return}await e(t,s)};return A.jsx("div",{className:"flex justify-center align-center mt-[10vh]",children:A.jsxs("form",{className:"flex flex-col justify-center align-center p-4 bg-white rounded-sm shadow-md",onSubmit:m,children:[A.jsx("label",{htmlFor:"email",children:"Email:"}),A.jsx("input",{className:"w-full p-4 mb-4 bg-gray-200 rounded-md",type:"email",id:"email",value:t,onChange:d=>n(d.target.value),required:!0}),A.jsx("label",{htmlFor:"password",children:"Password:"}),A.jsx("input",{className:"w-full p-4 mb-4 bg-gray-200 rounded-md",type:"password",id:"password",value:s,onChange:d=>o(d.target.value),required:!0}),A.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password:"}),A.jsx("input",{className:"w-full p-4 mb-4 bg-gray-200 rounded-md",type:"password",id:"confirmPassword",value:l,onChange:d=>c(d.target.value),required:!0}),A.jsx("button",{className:"bg-green-600 p-2 rounded-sm text-white self-end",type:"submit",children:"Register"})]})})},Ox=e=>{const[t,n]=M.useState(""),[s,o]=M.useState(""),l=c=>{if(c.preventDefault(),t!==s){alert("Passwords do not match");return}};return A.jsxs("div",{className:"pt-4 ",children:[A.jsx("div",{className:"text-start border-b-2 border-gray-200 mb-3",children:"Password:"}),A.jsx("form",{className:"w-full",onSubmit:l,children:A.jsx("table",{className:"w-full",children:A.jsxs("tbody",{children:[A.jsxs("tr",{children:[A.jsx("th",{className:"text-start",children:A.jsx("label",{htmlFor:"password",children:"Password:"})}),A.jsx("th",{children:A.jsx("input",{type:"password",id:"password",defaultValue:"",placeholder:"*****",onChange:c=>n(c.target.value),required:!0,disabled:!0})})]}),A.jsxs("tr",{children:[A.jsx("th",{className:"text-start",children:A.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password:"})}),A.jsx("th",{children:A.jsx("input",{type:"password",id:"confirmPassword",value:"",placeholder:"*****",onChange:c=>o(c.target.value),required:!0,disabled:!0})})]}),A.jsx("tr",{children:A.jsx("th",{colSpan:2,children:A.jsx("div",{className:"w-full flex justify-end",children:A.jsx("button",{className:"bg-green-500 disabled:bg-gray-300 rounded-sm p-1",type:"submit",disabled:!0,children:"Disabled"})})})})]})})})]})},xx=e=>{const[t,n]=M.useState(""),s=M.useRef(null);let o=e.user.displayName,l=e.user.email;const c=async d=>{if(d.preventDefault(),t.length<3){alert("Name is too short");return}e.setIsUpdating(!0),await e.handleUpdateUser(t)&&e.setIsUpdating(!1)},m=d=>{d.preventDefault(),n(e.user.displayName),s.current.value=e.user.displayName};return A.jsxs("div",{className:"pt-4",children:[A.jsx("div",{className:"text-start border-b-2 border-gray-200 mb-3",children:"User Info:"}),A.jsx("form",{className:"w-full",onSubmit:c,children:A.jsx("table",{className:"w-full",children:A.jsxs("tbody",{children:[A.jsxs("tr",{children:[A.jsx("th",{className:"text-start",children:A.jsx("label",{htmlFor:"name",children:"Name:"})}),A.jsx("th",{className:"w-[50%]",children:A.jsx("input",{type:"text",id:"name",className:"w-full",defaultValue:o,ref:s,onChange:d=>n(d.target.value),required:!0})})]}),A.jsxs("tr",{children:[A.jsx("th",{className:"text-start",children:A.jsx("label",{htmlFor:"email",children:"Email:"})}),A.jsx("th",{children:A.jsx("input",{type:"text",id:"email",value:l,required:!0,disabled:!0})})]}),A.jsx("tr",{children:A.jsx("th",{colSpan:2,children:A.jsxs("div",{className:"w-full flex justify-end",children:[t!==""&&t!==o&&A.jsx("button",{className:"bg-blue-500 disabled:bg-gray-300 rounded-sm p-1",type:"reset",onClick:m,children:"Reset"}),A.jsx("button",{className:"bg-green-500 disabled:bg-gray-300 rounded-sm p-1 ml-2",type:"submit",disabled:t===""||t===o,children:"Update"})]})})})]})})})]})},Mx=e=>A.jsxs("div",{className:"justify-center p-4 bg-white rounded-md shadow-md m-4 text-center",children:[A.jsx("div",{className:"semi-bold",children:"Edit User"}),A.jsx(xx,{...e}),A.jsx(Ox,{})]}),kS=()=>{const{user:e,updateUser:t}=M.useContext(ur),[n,s]=M.useState(!1);if(!e)return A.jsx("div",{children:A.jsx("span",{children:"Fetching User"})});const o=async l=>await t({displayName:l});return n?A.jsx("div",{className:"flex flex-col justify-center items-center w-full",children:A.jsx("div",{className:"justify-center p-4 bg-white rounded-md shadow-md m-4 text-center",children:A.jsx("span",{children:"Updating User"})})}):A.jsx("div",{className:"flex flex-col justify-center items-center w-full",children:A.jsx(Mx,{user:e,setIsUpdating:s,handleUpdateUser:o})})},jS=e=>{const t=e.item.mi_title,n=e.item.mi_type,s=e.item.mi_attunement,o=e.item.mi_description,l=()=>{e.getModalItem(e.item)};return A.jsxs("div",{className:"flex flex-col justify-start p-4 bg-white hover:bg-green-50 rounded-md drop-shadow-md cursor-pointer mt-2",onClick:l,children:[A.jsx("div",{className:"font-semibold",children:t}),A.jsxs("div",{className:"text-gray-500 text-sm",children:[n,s?" Requires Attunement":""]}),A.jsx("div",{className:"text-sm mt-3 max-h-[200px] overflow-y-hidden",children:o})]})},Vx=M.forwardRef(({modalItem:e,onEditSaved:t},n)=>{const[s,o]=M.useState(e.mi_title),[l,c]=M.useState(e.mi_type),[m,d]=M.useState(e.mi_attunement),[g,y]=M.useState(e.mi_description),v=T=>{T.preventDefault(),t({mi_title:s,mi_type:l,mi_attunement:m,mi_description:g})};return M.useImperativeHandle(n,()=>({submit:v})),A.jsx(A.Fragment,{children:A.jsxs("form",{onSubmit:v,children:[A.jsx("input",{className:"w-full p-2 bg-gray-200 rounded-md",name:"title",value:s,type:"text",onChange:T=>o(T.target.value)}),A.jsx("input",{className:"w-full p-2 bg-gray-200 rounded-md mt-1",name:"type",value:l,type:"text",onChange:T=>c(T.target.value)}),A.jsxs("div",{className:"flex flex-row items-center justify-start gap-2",children:[A.jsx("div",{className:"text-sm text-gray-500",children:"requires attunement? "}),A.jsx("input",{name:"attunement",type:"checkbox",checked:m,onChange:T=>d(T.target.checked)})]}),A.jsx("textarea",{className:"w-full p-2 bg-gray-200 rounded-md mt-1",rows:5,name:"description",value:g,onChange:T=>y(T.target.value)})]})})}),Px=async e=>(await iS(Ag(lr,e))).docs.map(n=>({id:n.id,...n.data()})),Ux=async(e,t)=>{try{const n=await rS(la(lr,t,e));return console.log(`Deleted item with ID: ${e} from collection: ${t}`," dockref: ",n),!0}catch(n){return console.log("Error Deleting: ",n),!1}},Lx=async(e,t)=>{try{const n=await oO(Ag(lr,t),{...e});return console.log("Document written with ID: ",n.id),{id:n.id,...e}}catch(n){return console.error("Error adding document: ",n),!1}},kx=async(e,t,n)=>{try{const s=await aO(la(lr,n,t),{...e});return console.log("Document updated with ID: ",t," docref: ",s),!0}catch(s){return console.error("Error updating document: ",s),!1}},jx=async(e,t,n,s,o)=>{if(await zS(e,t,n))return console.log("Relation already exists"),!1;const c=`${t}-${n}`,m={value1:t,value2:n,semantic1:s,semantic2:o,createdAt:new Date};try{return await sO(la(lr,e,c),m),console.log("Relation added with ID: ",c),c}catch(d){return console.error("Error adding relation: ",d),!1}},zx=async(e,t)=>{const n=JN(Ag(lr,e),tO("value1","==",t));return(await iS(n)).docs.map(o=>({id:o.id,...o.data()}))},Bx=async(e,t,n)=>{const s=`${t}-${n}`;try{if(!await zS(e,t,n))return console.log("Relation does not exist"),!0}catch(o){return console.error("Error checking relation: ",o),!1}try{return await rS(la(lr,e,s)),console.log("Relation deleted with ID: ",s),!0}catch(o){return console.error("Error deleting relation: ",o),!1}},zS=async(e,t,n)=>{const s=`${t}-${n}`,o=la(lr,e,s);return(await rO(o)).exists()},BS=()=>{const e=M.useContext(ur);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Jc=()=>BS().user,Ld="magic_item_favorites",Bg=()=>{const{user:e}=BS(),[t,n]=M.useState([]),[s,o]=M.useState(!0),l=e==null?void 0:e.uid,c=M.useCallback(async()=>{if(!l)return;o(!0);const T=(await zx(Ld,l)).map(I=>I.value2);n(T),o(!1)},[l]),m=v=>t.includes(v),d=async(v,T)=>{l&&(m(v)||(await jx(Ld,l,v,(e==null?void 0:e.displayName)||"",T||""),n(I=>[...I,v])))},g=async v=>{l&&(await Bx(Ld,l,v),n(T=>T.filter(I=>I!==v)))},y=async(v,T)=>{m(v)?await g(v):await d(v,T||void 0)};return M.useEffect(()=>{c()},[c]),{favoriteItemIds:t,isFavorited:m,addFavorite:d,removeFavorite:g,toggleFavorite:y,loadingFavourites:s}};var qS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Tm=oi.createContext&&oi.createContext(qS),qx=["attr","size","title"];function Hx(e,t){if(e==null)return{};var n=Fx(e,t),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)s=l[o],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Fx(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function mc(){return mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mc.apply(this,arguments)}function mE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,s)}return n}function gc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mE(Object(n),!0).forEach(function(s){Gx(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Gx(e,t,n){return t=Qx(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qx(e){var t=Kx(e,"string");return typeof t=="symbol"?t:t+""}function Kx(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HS(e){return e&&e.map((t,n)=>oi.createElement(t.tag,gc({key:n},t.attr),HS(t.child)))}function cr(e){return t=>oi.createElement(Yx,mc({attr:gc({},e.attr)},t),HS(e.child))}function Yx(e){var t=n=>{var{attr:s,size:o,title:l}=e,c=Hx(e,qx),m=o||n.size||"1em",d;return n.className&&(d=n.className),e.className&&(d=(d?d+" ":"")+e.className),oi.createElement("svg",mc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,c,{className:d,style:gc(gc({color:e.color||n.color},n.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),l&&oi.createElement("title",null,l),e.children)};return Tm!==void 0?oi.createElement(Tm.Consumer,null,n=>t(n)):t(qS)}function Xx(e){return cr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9l2.6-2.4C267.2 438.6 256 404.6 256 368c0-97.2 78.8-176 176-176c28.3 0 55 6.7 78.7 18.5c.9-6.5 1.3-13 1.3-19.6l0-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1l0 5.8c0 41.5 17.2 81.2 47.6 109.5zM432 512a144 144 0 1 0 0-288 144 144 0 1 0 0 288zm16-208l0 48 48 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-48 0 0 48c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-48-48 0c-8.8 0-16-7.2-16-16s7.2-16 16-16l48 0 0-48c0-8.8 7.2-16 16-16s16 7.2 16 16z"},child:[]}]})(e)}function $x(e){return cr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9l2.6-2.4C267.2 438.6 256 404.6 256 368c0-97.2 78.8-176 176-176c28.3 0 55 6.7 78.7 18.5c.9-6.5 1.3-13 1.3-19.6l0-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1l0 5.8c0 41.5 17.2 81.2 47.6 109.5zM432 512a144 144 0 1 0 0-288 144 144 0 1 0 0 288zm59.3-180.7L454.6 368l36.7 36.7c6.2 6.2 6.2 16.4 0 22.6s-16.4 6.2-22.6 0L432 390.6l-36.7 36.7c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6L409.4 368l-36.7-36.7c-6.2-6.2-6.2-16.4 0-22.6s16.4-6.2 22.6 0L432 345.4l36.7-36.7c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"},child:[]}]})(e)}function FS(e){return cr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"},child:[]}]})(e)}function Wx(e){return cr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"},child:[]}]})(e)}function Zx(e){return cr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(e)}function Jx(e){return cr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function tM(e){return cr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function qg(e){return cr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}const eM=({modalItem:e})=>A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"text-lg font-semibold",children:e.mi_title}),A.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:[e.mi_type," ",e.mi_attunement?"requires attunement":""]}),A.jsx("div",{className:"mim-description",children:e.mi_description})]}),nM=e=>{const[t,n]=M.useState(!1),[s,o]=M.useState(!1),l=M.useRef(null),{addFavorite:c,removeFavorite:m,isFavorited:d}=Bg(),g=O=>{O.preventDefault(),c(e.modalItem.id,e.modalItem.mi_title)},y=O=>{O.preventDefault(),m(e.modalItem.id)};M.useEffect(()=>{n(!0)},[]);const v=O=>{var Y;O.preventDefault(),(Y=l.current)==null||Y.submit(O)},T=()=>{o(!1),e.onClose()},I=()=>{o(O=>!O)},U=()=>{window.confirm(`Are you sure you want to delete ${e.modalItem.mi_title}?`)&&(o(!1),e.onDelete(e.modalItem.id))},j=O=>{e.onEditSaved(O,e.modalItem.id),T()};return e.modalItem==null||!t?null:IR.createPortal(A.jsx("div",{className:"fixed top-0 left-0 w-full h-full flex justify-center z-1000 bg-[#00000080]",onClick:T,children:A.jsxs("div",{className:"bg-white rounded-md p-4 m-4 w-full max-w-[800px]",onClick:O=>O.stopPropagation(),children:[s?A.jsx(Vx,{ref:l,modalItem:e.modalItem,onEditSaved:j}):A.jsx(eM,{modalItem:e.modalItem}),A.jsxs("div",{className:"flex flex-row justify-end items-center mt-2",children:[s&&A.jsx("button",{className:"p-2 bg-green-400 hover:bg-green-800 text-white ml-1 rounded-sm",onClick:v,children:A.jsx(Jx,{})}),A.jsx("button",{className:`p-2 bg-${s?"red":"blue"}-400 text-white ml-1 rounded-sm 
              hover:bg-${s?"red":"blue"}-800 `,onClick:I,children:s?A.jsx(qg,{}):A.jsx(FS,{})}),d(e.modalItem.id)?A.jsx("button",{className:"p-2 bg-blue-400 hover:bg-blue-800 text-white ml-1 rounded-sm",onClick:y,children:A.jsx($x,{})}):A.jsx("button",{className:"p-2 bg-blue-400 hover:bg-blue-800 text-white ml-1 rounded-sm",onClick:g,children:A.jsx(Xx,{})}),A.jsx("button",{className:"p-2 bg-red-400 hover:bg-red-800 text-white ml-1 rounded-sm",onClick:U,children:A.jsx(Wx,{})})]})]})}),document.getElementById("modal"))},iM=e=>{const[t,n]=M.useState(!0),[s,o]=M.useState(""),[l,c]=M.useState(""),[m,d]=M.useState(!1),[g,y]=M.useState(""),[v,T]=M.useState(null),I=async j=>{if(j.preventDefault(),s===""||l===""||g===""){T("Please fill in all fields");return}const O={mi_title:s,mi_type:l,mi_attunement:m,mi_description:g};await e.addMagicItem(O)?(o(""),d(!1),c(""),y(""),T(null)):T("Error adding item")},U=()=>{n(j=>!j)};return A.jsxs("div",{className:"flex flex-col justify-start p-4 bg-white drop-shadow-md rounded-md my-2",children:[A.jsxs("div",{className:"flex flex-row justify-between items-center",children:[A.jsx("div",{className:"text-lg font-semibold",children:"Add New Item"}),A.jsx("button",{className:"p-2 bg-gray-200 rounded-sm",type:"button",onClick:U,children:t?A.jsx(FS,{}):A.jsx(qg,{})})]}),A.jsx("div",{className:t?"hidden":"block",children:A.jsxs("div",{className:"flex flex-col justify-between items-center w-full min-w-[200px]",children:[A.jsxs("form",{className:"w-full",onSubmit:I,children:[A.jsx("input",{className:"w-full bg-gray-100 my-1 p-1 rounded-sm",name:"title",placeholder:"Title",value:s,type:"text",onChange:j=>o(j.target.value)}),A.jsx("input",{className:"w-full bg-gray-100 my-1 p-1 rounded-sm",name:"type",placeholder:"Type",value:l,type:"text",onChange:j=>c(j.target.value)}),A.jsxs("div",{className:"flex flex-row w-full justify-between",children:[A.jsx("div",{className:"",children:"Requires Attunement?"}),A.jsx("input",{className:"",type:"checkbox",checked:m,onChange:j=>d(j.target.checked)})]}),A.jsx("div",{className:"mt-1 w-full",children:A.jsx("textarea",{rows:5,className:"w-full p-1 bg-gray-100 rounded-sm",name:"description",placeholder:"Description",value:g,onChange:j=>y(j.target.value)})}),A.jsx("div",{className:"w-full mt-1",children:A.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white cursor-pointer",children:"Add Item"})})]}),v&&A.jsx("div",{className:"w-full bg-red-100 mt-1 text-center",children:v})]})})]})};function gE(){const{innerWidth:e,innerHeight:t}=window;return{width:e,height:t}}function rM(){const[e,t]=M.useState(gE());return M.useEffect(()=>{function n(){t(gE())}return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}const sM=({children:e})=>A.jsx("div",{className:"fex flex-col p-1 w-[440px] min-h-1 justify-top align-center",children:e}),aM=({children:e})=>{const{width:t}=rM();let n=0,s=[];e=e.flat(),t<1e3?n=1:n=Math.floor(t/432);for(let o=0;o<n;o++){let l=[];for(let c=o;c<e.length;c+=n)l.push(e[c]);s.push({key:o,childrenItems:l})}return A.jsx(A.Fragment,{children:s.map(o=>A.jsx(sM,{children:o.childrenItems},o.key))})},oM=e=>{const t=s=>{s.preventDefault(),e.searchText.trim()},n=s=>{s.preventDefault(),e.setSearchText("")};return A.jsxs("div",{className:"flex flex-col my-2",children:[A.jsxs("div",{className:"flex flex-row p-4 bg-white drop-shadow-md rounded-md z-2",children:[A.jsx("input",{className:"block m-0 p-0 px-2 mr-1 w-full bg-gray-200 rounded-sm",name:"search_text",type:"text",placeholder:"Search title...",value:e.searchText,onChange:s=>e.setSearchText(s.target.value)}),A.jsx("button",{className:"p-2 bg-green-600 text-white rounded-sm",onClick:t,children:A.jsx(tM,{})})]}),e.searchText!==""&&A.jsxs("div",{className:"flex flex-row items-center z-1 bg-amber-50 p-4 rounded-b-md drop-shadow-md mt-[-4px]",children:[A.jsxs("span",{className:"w-full",children:['Filtering for: "',e.searchText,'"']}),A.jsx("button",{className:"p-2 bg-blue-600 text-white rounded-sm",onClick:n,children:A.jsx(Zx,{})})]})]})},ku="magic_items",GS=()=>{const e=Jc(),[t,n]=M.useState([]),[s,o]=M.useState(!0),{favoriteItemIds:l}=Bg(),c=e==null?void 0:e.uid,m=M.useCallback(async()=>{if(!c)return;o(!0);const v=new Set(l),I=(await Px(ku)).map(U=>({...U,is_favorite:v.has(U.id)}));n(I),console.log("Merged Items",I),o(!1)},[l,c]),d=async v=>{const T=await Lx(v,ku);return T?(n(I=>[...I,T]),T):(alert("Error adding item"),null)},g=async v=>{n(I=>I.filter(U=>U.id!==v));const T=await Ux(v,ku);return T||alert("Error deleting item"),!!T},y=async(v,T)=>{delete v.is_favorite;const I=await kx(v,T,ku);return I?n(U=>U.map(j=>j.id===T?v:j)):alert("Error updating item"),!!I};return M.useEffect(()=>{console.log("Refreshing magic items"),m()},[m]),{magicItems:t,addMagicItem:d,deleteMagicItem:g,updateMagicItem:y,refreshMagicItemsHook:m,loading:s}},lM=()=>{const{user:e}=M.useContext(ur),{magicItems:t,addMagicItem:n,deleteMagicItem:s,updateMagicItem:o,loading:l}=GS(),[c,m]=M.useState(null),[d,g]=M.useState(""),y=M.useMemo(()=>d?t.filter(T=>T.mi_title.toLowerCase().includes(d.toLowerCase())):t,[t,d]),v=async T=>{m(null),await s(T)};return e?l?A.jsx("div",{children:A.jsx("span",{children:"Loading..."})}):A.jsxs(A.Fragment,{children:[A.jsx(nM,{modalItem:c,onClose:()=>m(null),onDelete:v,onEditSaved:o}),A.jsx("div",{className:"flex items-start justify-center",children:A.jsxs(aM,{children:[A.jsx(oM,{searchText:d,setSearchText:g},"magic_item_search"),A.jsx(iM,{addMagicItem:n},"add_magic_item_form"),y.map(T=>A.jsx(jS,{item:T,getModalItem:m},T.id)),y.length===0&&A.jsx("p",{children:"No magic items found."},"no_magic_items_found")]})})]}):A.jsx("div",{children:A.jsx("span",{children:"Fetching User"})})},uM=()=>{const e=Jc(),{magicItems:t,loading:n}=GS(),{favoriteItemIds:s}=Bg(),o=M.useMemo(()=>t.filter(l=>s.includes(l.id)),[t,s]);return e?n?A.jsx("div",{children:A.jsx("span",{children:"Loading..."})}):A.jsxs("div",{children:[A.jsx("h1",{children:"Player Page"}),A.jsx("div",{children:"List of player characters"}),A.jsx("div",{children:"List of campaigns"}),A.jsx("div",{children:o.map(l=>A.jsx(jS,{item:l,getModalItem:()=>l},l.id))})]}):A.jsx("div",{children:A.jsx("span",{children:"Fetching User"})})},QS=[{name:"home",path:"/home",element:A.jsx(Cx,{})},{name:"Profile",path:"/profile",element:A.jsx(kS,{})},{name:"Player",path:"/player",element:A.jsx(uM,{})},{name:"Magic items",path:"/magicitems",element:A.jsx(lM,{})}],cM=()=>{const{isLoading:e,user:t}=M.useContext(ur);return e?A.jsx("div",{children:"Loading..."}):t?t.displayName?A.jsxs(_d,{children:[QS.map(n=>A.jsx(Bi,{path:n.path,element:n.element},n.name)),A.jsx(Bi,{path:"*",element:A.jsx(yd,{replace:!0,to:"/magicitems"})})]}):A.jsxs(_d,{children:[A.jsx(Bi,{path:"/profile",element:A.jsx(kS,{})}),A.jsx(Bi,{path:"*",element:A.jsx(yd,{replace:!0,to:"/profile"})})]}):A.jsxs(_d,{children:[A.jsx(Bi,{path:"/login",element:A.jsx(Dx,{})}),A.jsx(Bi,{path:"/register",element:A.jsx(Nx,{})}),A.jsx(Bi,{path:"*",element:A.jsx(yd,{replace:!0,to:"/login"})})]})},hM="/assets/fatrat_logo-CrDK9lAO.png",fM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAAAKklEQVQ4T2NgGGjACHTAf0ocwUSJZpBeig2g1AGU6x8NRMrDkGE0EBkYAOpQAw2SH5GVAAAAAElFTkSuQmCC",dM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAABM0lEQVQ4T8WTv0uCURSGvwrMBKMhJ8c2Rf8EaygIgmxwqanBrc2tIWiWlramNhcHx9YMIgiK5qIQiiaxHAJryHreODdudkmcuvB4zz0/3nP47jWK/mnFXd+JEQeYIn8F8nANfVe/jLE5RExdt63ww+xp1ejnGOS8hWJAKIlvFx4tT50PIK3cRXNKwHGJPW9Cc+xbXuwFW/EMTCpnDHbgNSB0gu8Iul6shp0NTBklcO4FRPzJ9olrovGQgPOlrKtf6Gx1n/2rWNeag1PQhwqJyFcFTfxjxTjpw51boQSeQWM3A2I9fGVfYYPDhZd4g13xEhawrwaE6orrgZSgDe+W8MBegJnBMTmvwR10QC/y6xqX4MmKz9jXYdgzX1WxS7rHfoMWHELDxAIDfLv0X/i1dIUjrU811FzYdVWZZwAAAABJRU5ErkJggg==",kd="flex flex-row text-black cursor-pointer no-underline hover:text-gray-800 hover:text-shadow-sm p-2",mM=e=>{const t=Jc();return A.jsxs("div",{className:"absolute top-0 right-0 min-w-[300px] bg-white flex flex-col items-stretch shadow-lg z-1000 h-screen",children:[A.jsx("div",{onClick:()=>e.setShowUserMenu(!1),children:A.jsx(Tm.Provider,{value:{color:"black",size:"20px"},children:A.jsx("div",{className:"p-4 cursor-pointer flex flex-row justify-end",children:A.jsx(qg,{})})})}),A.jsxs("div",{className:"flex flex-col justify-start items-start",children:[A.jsxs("div",{className:"flex flex-row items-end justify-start gap-2 p-2 border-b-1 border-gray-300 w-full",children:[" ",t?t.photoURL&&A.jsx("img",{src:t.photoURL,alt:"user",className:"w-[40px] h-[40px] rounded-sm"}):null,A.jsx("div",{className:"text-gray-700",children:t?t.displayName??"UserName":"No User"})]}),!!e.user&&QS.map(n=>n.name==="home"?null:A.jsx(Co,{className:kd,to:n.path,onClick:()=>e.setShowUserMenu(!1),children:n.name},n.name)),!!e.user&&A.jsx("div",{className:kd,children:A.jsx(LS,{onClickAction:()=>e.setShowUserMenu(!1)})}),!e.user&&A.jsx(Co,{className:kd,to:"login",onClick:()=>e.setShowUserMenu(!1),children:"Log in"})]})]})},gM=()=>{const e=Jc(),[t,n]=M.useState(!1);return A.jsxs("header",{className:"w-full flex items-center justify-between px-5 py-1 bg-white shadow-md",children:[A.jsx(Co,{to:"/home",children:A.jsx("img",{src:hM,alt:"Fat Rat Logo",className:"w-[60px] h-[60px]"})}),A.jsx("div",{className:"flex items-center gap-1",onClick:()=>n(!0),children:A.jsx("div",{className:"flex items-center cursor-pointer ml-3",children:A.jsx("img",{src:t?dM:fM,alt:"burger_menu"})})}),t&&A.jsx(mM,{user:e,showUserMenu:t,setShowUserMenu:n})]})};function pM(){return A.jsxs(Ab,{children:[A.jsx("div",{id:"modal"}),A.jsx("div",{className:"w-full h-screen",children:A.jsxs(Ix,{children:[A.jsx(gM,{}),A.jsx(cM,{})]})})]})}bR.createRoot(document.getElementById("root")).render(A.jsx(oi.StrictMode,{children:A.jsx(pM,{})}));
