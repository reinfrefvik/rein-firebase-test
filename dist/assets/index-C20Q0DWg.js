function Db(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function bE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _d={exports:{}},uo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function Nb(){if(Vv)return uo;Vv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var m in o)m!=="key"&&(l[m]=o[m])}else l=o;return o=l.ref,{$$typeof:t,type:s,key:c,ref:o!==void 0?o:null,props:l}}return uo.Fragment=e,uo.jsx=n,uo.jsxs=n,uo}var Pv;function xb(){return Pv||(Pv=1,_d.exports=Nb()),_d.exports}var E=xb(),vd={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function Ob(){if(Uv)return fe;Uv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function T(w){return w===null||typeof w!="object"?null:(w=v&&w[v]||w["@@iterator"],typeof w=="function"?w:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,P={};function x(w,z,te){this.props=w,this.context=z,this.refs=P,this.updater=te||R}x.prototype.isReactComponent={},x.prototype.setState=function(w,z){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,z,"setState")},x.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function K(){}K.prototype=x.prototype;function J(w,z,te){this.props=w,this.context=z,this.refs=P,this.updater=te||R}var ne=J.prototype=new K;ne.constructor=J,V(ne,x.prototype),ne.isPureReactComponent=!0;var Re=Array.isArray,re={H:null,A:null,T:null,S:null},Le=Object.prototype.hasOwnProperty;function At(w,z,te,Z,F,Te){return te=Te.ref,{$$typeof:t,type:w,key:z,ref:te!==void 0?te:null,props:Te}}function mn(w,z){return At(w.type,z,void 0,void 0,void 0,w.props)}function $(w){return typeof w=="object"&&w!==null&&w.$$typeof===t}function ye(w){var z={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(te){return z[te]})}var Zt=/\/+/g;function jn(w,z){return typeof w=="object"&&w!==null&&w.key!=null?ye(""+w.key):z.toString(36)}function An(){}function zn(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(An,An):(w.status="pending",w.then(function(z){w.status==="pending"&&(w.status="fulfilled",w.value=z)},function(z){w.status==="pending"&&(w.status="rejected",w.reason=z)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function Lt(w,z,te,Z,F){var Te=typeof w;(Te==="undefined"||Te==="boolean")&&(w=null);var de=!1;if(w===null)de=!0;else switch(Te){case"bigint":case"string":case"number":de=!0;break;case"object":switch(w.$$typeof){case t:case e:de=!0;break;case y:return de=w._init,Lt(de(w._payload),z,te,Z,F)}}if(de)return F=F(w),de=Z===""?"."+jn(w,0):Z,Re(F)?(te="",de!=null&&(te=de.replace(Zt,"$&/")+"/"),Lt(F,z,te,"",function($e){return $e})):F!=null&&($(F)&&(F=mn(F,te+(F.key==null||w&&w.key===F.key?"":(""+F.key).replace(Zt,"$&/")+"/")+de)),z.push(F)),1;de=0;var Ot=Z===""?".":Z+":";if(Re(w))for(var Ce=0;Ce<w.length;Ce++)Z=w[Ce],Te=Ot+jn(Z,Ce),de+=Lt(Z,z,te,Te,F);else if(Ce=T(w),typeof Ce=="function")for(w=Ce.call(w),Ce=0;!(Z=w.next()).done;)Z=Z.value,Te=Ot+jn(Z,Ce++),de+=Lt(Z,z,te,Te,F);else if(Te==="object"){if(typeof w.then=="function")return Lt(zn(w),z,te,Z,F);throw z=String(w),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return de}function q(w,z,te){if(w==null)return w;var Z=[],F=0;return Lt(w,Z,"","",function(Te){return z.call(te,Te,F++)}),Z}function ce(w){if(w._status===-1){var z=w._result;z=z(),z.then(function(te){(w._status===0||w._status===-1)&&(w._status=1,w._result=te)},function(te){(w._status===0||w._status===-1)&&(w._status=2,w._result=te)}),w._status===-1&&(w._status=0,w._result=z)}if(w._status===1)return w._result.default;throw w._result}var ie=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function Me(){}return fe.Children={map:q,forEach:function(w,z,te){q(w,function(){z.apply(this,arguments)},te)},count:function(w){var z=0;return q(w,function(){z++}),z},toArray:function(w){return q(w,function(z){return z})||[]},only:function(w){if(!$(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},fe.Component=x,fe.Fragment=n,fe.Profiler=o,fe.PureComponent=J,fe.StrictMode=s,fe.Suspense=d,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,fe.act=function(){throw Error("act(...) is not supported in production builds of React.")},fe.cache=function(w){return function(){return w.apply(null,arguments)}},fe.cloneElement=function(w,z,te){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var Z=V({},w.props),F=w.key,Te=void 0;if(z!=null)for(de in z.ref!==void 0&&(Te=void 0),z.key!==void 0&&(F=""+z.key),z)!Le.call(z,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&z.ref===void 0||(Z[de]=z[de]);var de=arguments.length-2;if(de===1)Z.children=te;else if(1<de){for(var Ot=Array(de),Ce=0;Ce<de;Ce++)Ot[Ce]=arguments[Ce+2];Z.children=Ot}return At(w.type,F,void 0,void 0,Te,Z)},fe.createContext=function(w){return w={$$typeof:c,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:l,_context:w},w},fe.createElement=function(w,z,te){var Z,F={},Te=null;if(z!=null)for(Z in z.key!==void 0&&(Te=""+z.key),z)Le.call(z,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(F[Z]=z[Z]);var de=arguments.length-2;if(de===1)F.children=te;else if(1<de){for(var Ot=Array(de),Ce=0;Ce<de;Ce++)Ot[Ce]=arguments[Ce+2];F.children=Ot}if(w&&w.defaultProps)for(Z in de=w.defaultProps,de)F[Z]===void 0&&(F[Z]=de[Z]);return At(w,Te,void 0,void 0,null,F)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(w){return{$$typeof:m,render:w}},fe.isValidElement=$,fe.lazy=function(w){return{$$typeof:y,_payload:{_status:-1,_result:w},_init:ce}},fe.memo=function(w,z){return{$$typeof:g,type:w,compare:z===void 0?null:z}},fe.startTransition=function(w){var z=re.T,te={};re.T=te;try{var Z=w(),F=re.S;F!==null&&F(te,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Me,ie)}catch(Te){ie(Te)}finally{re.T=z}},fe.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},fe.use=function(w){return re.H.use(w)},fe.useActionState=function(w,z,te){return re.H.useActionState(w,z,te)},fe.useCallback=function(w,z){return re.H.useCallback(w,z)},fe.useContext=function(w){return re.H.useContext(w)},fe.useDebugValue=function(){},fe.useDeferredValue=function(w,z){return re.H.useDeferredValue(w,z)},fe.useEffect=function(w,z){return re.H.useEffect(w,z)},fe.useId=function(){return re.H.useId()},fe.useImperativeHandle=function(w,z,te){return re.H.useImperativeHandle(w,z,te)},fe.useInsertionEffect=function(w,z){return re.H.useInsertionEffect(w,z)},fe.useLayoutEffect=function(w,z){return re.H.useLayoutEffect(w,z)},fe.useMemo=function(w,z){return re.H.useMemo(w,z)},fe.useOptimistic=function(w,z){return re.H.useOptimistic(w,z)},fe.useReducer=function(w,z,te){return re.H.useReducer(w,z,te)},fe.useRef=function(w){return re.H.useRef(w)},fe.useState=function(w){return re.H.useState(w)},fe.useSyncExternalStore=function(w,z,te){return re.H.useSyncExternalStore(w,z,te)},fe.useTransition=function(){return re.H.useTransition()},fe.version="19.0.0",fe}var Lv;function Nm(){return Lv||(Lv=1,vd.exports=Ob()),vd.exports}var N=Nm();const oi=bE(N),Mb=Db({__proto__:null,default:oi},[N]);var Ed={exports:{}},co={},Td={exports:{}},Ad={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function Vb(){return kv||(kv=1,function(t){function e(q,ce){var ie=q.length;q.push(ce);e:for(;0<ie;){var Me=ie-1>>>1,w=q[Me];if(0<o(w,ce))q[Me]=ce,q[ie]=w,ie=Me;else break e}}function n(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var ce=q[0],ie=q.pop();if(ie!==ce){q[0]=ie;e:for(var Me=0,w=q.length,z=w>>>1;Me<z;){var te=2*(Me+1)-1,Z=q[te],F=te+1,Te=q[F];if(0>o(Z,ie))F<w&&0>o(Te,Z)?(q[Me]=Te,q[F]=ie,Me=F):(q[Me]=Z,q[te]=ie,Me=te);else if(F<w&&0>o(Te,ie))q[Me]=Te,q[F]=ie,Me=F;else break e}}return ce}function o(q,ce){var ie=q.sortIndex-ce.sortIndex;return ie!==0?ie:q.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,m=c.now();t.unstable_now=function(){return c.now()-m}}var d=[],g=[],y=1,v=null,T=3,R=!1,V=!1,P=!1,x=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ne(q){for(var ce=n(g);ce!==null;){if(ce.callback===null)s(g);else if(ce.startTime<=q)s(g),ce.sortIndex=ce.expirationTime,e(d,ce);else break;ce=n(g)}}function Re(q){if(P=!1,ne(q),!V)if(n(d)!==null)V=!0,zn();else{var ce=n(g);ce!==null&&Lt(Re,ce.startTime-q)}}var re=!1,Le=-1,At=5,mn=-1;function $(){return!(t.unstable_now()-mn<At)}function ye(){if(re){var q=t.unstable_now();mn=q;var ce=!0;try{e:{V=!1,P&&(P=!1,K(Le),Le=-1),R=!0;var ie=T;try{t:{for(ne(q),v=n(d);v!==null&&!(v.expirationTime>q&&$());){var Me=v.callback;if(typeof Me=="function"){v.callback=null,T=v.priorityLevel;var w=Me(v.expirationTime<=q);if(q=t.unstable_now(),typeof w=="function"){v.callback=w,ne(q),ce=!0;break t}v===n(d)&&s(d),ne(q)}else s(d);v=n(d)}if(v!==null)ce=!0;else{var z=n(g);z!==null&&Lt(Re,z.startTime-q),ce=!1}}break e}finally{v=null,T=ie,R=!1}ce=void 0}}finally{ce?Zt():re=!1}}}var Zt;if(typeof J=="function")Zt=function(){J(ye)};else if(typeof MessageChannel<"u"){var jn=new MessageChannel,An=jn.port2;jn.port1.onmessage=ye,Zt=function(){An.postMessage(null)}}else Zt=function(){x(ye,0)};function zn(){re||(re=!0,Zt())}function Lt(q,ce){Le=x(function(){q(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){V||R||(V=!0,zn())},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):At=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(q){switch(T){case 1:case 2:case 3:var ce=3;break;default:ce=T}var ie=T;T=ce;try{return q()}finally{T=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,ce){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ie=T;T=q;try{return ce()}finally{T=ie}},t.unstable_scheduleCallback=function(q,ce,ie){var Me=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Me+ie:Me):ie=Me,q){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=ie+w,q={id:y++,callback:ce,priorityLevel:q,startTime:ie,expirationTime:w,sortIndex:-1},ie>Me?(q.sortIndex=ie,e(g,q),n(d)===null&&q===n(g)&&(P?(K(Le),Le=-1):P=!0,Lt(Re,ie-Me))):(q.sortIndex=w,e(d,q),V||R||(V=!0,zn())),q},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(q){var ce=T;return function(){var ie=T;T=ce;try{return q.apply(this,arguments)}finally{T=ie}}}}(Ad)),Ad}var jv;function Pb(){return jv||(jv=1,Td.exports=Vb()),Td.exports}var wd={exports:{}},bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function Ub(){if(zv)return bt;zv=1;var t=Nm();function e(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(d,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:d,containerInfo:g,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,bt.createPortal=function(d,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(d,g,null,y)},bt.flushSync=function(d){var g=c.T,y=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=g,s.p=y,s.d.f()}},bt.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(d,g))},bt.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},bt.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var y=g.as,v=m(y,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:R}):y==="script"&&s.d.X(d,{crossOrigin:v,integrity:T,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},bt.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=m(g.as,g.crossOrigin);s.d.M(d,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(d)},bt.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=m(y,g.crossOrigin);s.d.L(d,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},bt.preloadModule=function(d,g){if(typeof d=="string")if(g){var y=m(g.as,g.crossOrigin);s.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(d)},bt.requestFormReset=function(d){s.d.r(d)},bt.unstable_batchedUpdates=function(d,g){return d(g)},bt.useFormState=function(d,g,y){return c.H.useFormState(d,g,y)},bt.useFormStatus=function(){return c.H.useHostTransitionStatus()},bt.version="19.0.0",bt}var Bv;function RE(){if(Bv)return wd.exports;Bv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wd.exports=Ub(),wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function Lb(){if(qv)return co;qv=1;var t=Pb(),e=Nm(),n=RE();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),R=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),Re=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function Le(i){return i===null||typeof i!="object"?null:(i=re&&i[re]||i["@@iterator"],typeof i=="function"?i:null)}var At=Symbol.for("react.client.reference");function mn(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===At?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case d:return"Fragment";case m:return"Portal";case y:return"Profiler";case g:return"StrictMode";case P:return"Suspense";case x:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case R:return(i.displayName||"Context")+".Provider";case T:return(i._context.displayName||"Context")+".Consumer";case V:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case K:return r=i.displayName||null,r!==null?r:mn(i.type)||"Memo";case J:r=i._payload,i=i._init;try{return mn(i(r))}catch{}}return null}var $=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye=Object.assign,Zt,jn;function An(i){if(Zt===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Zt=r&&r[1]||"",jn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zt+i+jn}var zn=!1;function Lt(i,r){if(!i||zn)return"";zn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(O){var D=O}Reflect.construct(i,[],k)}else{try{k.call()}catch(O){D=O}i.call(k.prototype)}}else{try{throw Error()}catch(O){D=O}(k=i())&&typeof k.catch=="function"&&k.catch(function(){})}}catch(O){if(O&&D&&typeof O.stack=="string")return[O.stack,D.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=u.DetermineComponentFrameRoot(),p=f[0],_=f[1];if(p&&_){var A=p.split(`
`),b=_.split(`
`);for(h=u=0;u<A.length&&!A[u].includes("DetermineComponentFrameRoot");)u++;for(;h<b.length&&!b[h].includes("DetermineComponentFrameRoot");)h++;if(u===A.length||h===b.length)for(u=A.length-1,h=b.length-1;1<=u&&0<=h&&A[u]!==b[h];)h--;for(;1<=u&&0<=h;u--,h--)if(A[u]!==b[h]){if(u!==1||h!==1)do if(u--,h--,0>h||A[u]!==b[h]){var M=`
`+A[u].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=u&&0<=h);break}}}finally{zn=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?An(a):""}function q(i){switch(i.tag){case 26:case 27:case 5:return An(i.type);case 16:return An("Lazy");case 13:return An("Suspense");case 19:return An("SuspenseList");case 0:case 15:return i=Lt(i.type,!1),i;case 11:return i=Lt(i.type.render,!1),i;case 1:return i=Lt(i.type,!0),i;default:return""}}function ce(i){try{var r="";do r+=q(i),i=i.return;while(i);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ie(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function Me(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function w(i){if(ie(i)!==i)throw Error(s(188))}function z(i){var r=i.alternate;if(!r){if(r=ie(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,u=r;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(u=h.return,u!==null){a=u;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return w(h),i;if(f===u)return w(h),r;f=f.sibling}throw Error(s(188))}if(a.return!==u.return)a=h,u=f;else{for(var p=!1,_=h.child;_;){if(_===a){p=!0,a=h,u=f;break}if(_===u){p=!0,u=h,a=f;break}_=_.sibling}if(!p){for(_=f.child;_;){if(_===a){p=!0,a=f,u=h;break}if(_===u){p=!0,u=f,a=h;break}_=_.sibling}if(!p)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function te(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=te(i),r!==null)return r;i=i.sibling}return null}var Z=Array.isArray,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},de=[],Ot=-1;function Ce(i){return{current:i}}function $e(i){0>Ot||(i.current=de[Ot],de[Ot]=null,Ot--)}function ze(i,r){Ot++,de[Ot]=i.current,i.current=r}var wn=Ce(null),fa=Ce(null),pi=Ce(null),_l=Ce(null);function vl(i,r){switch(ze(pi,r),ze(fa,i),ze(wn,null),i=r.nodeType,i){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?uv(r):0;break;default:if(i=i===8?r.parentNode:r,r=i.tagName,i=i.namespaceURI)i=uv(i),r=cv(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}$e(wn),ze(wn,r)}function Jr(){$e(wn),$e(fa),$e(pi)}function lh(i){i.memoizedState!==null&&ze(_l,i);var r=wn.current,a=cv(r,i.type);r!==a&&(ze(fa,i),ze(wn,a))}function El(i){fa.current===i&&($e(wn),$e(fa)),_l.current===i&&($e(_l),ro._currentValue=Te)}var uh=Object.prototype.hasOwnProperty,ch=t.unstable_scheduleCallback,hh=t.unstable_cancelCallback,oS=t.unstable_shouldYield,lS=t.unstable_requestPaint,Sn=t.unstable_now,uS=t.unstable_getCurrentPriorityLevel,Zg=t.unstable_ImmediatePriority,Jg=t.unstable_UserBlockingPriority,Tl=t.unstable_NormalPriority,cS=t.unstable_LowPriority,ep=t.unstable_IdlePriority,hS=t.log,fS=t.unstable_setDisableYieldValue,da=null,Ht=null;function dS(i){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(da,i,void 0,(i.current.flags&128)===128)}catch{}}function yi(i){if(typeof hS=="function"&&fS(i),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(da,i)}catch{}}var Ft=Math.clz32?Math.clz32:pS,mS=Math.log,gS=Math.LN2;function pS(i){return i>>>=0,i===0?32:31-(mS(i)/gS|0)|0}var Al=128,wl=4194304;function dr(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Sl(i,r){var a=i.pendingLanes;if(a===0)return 0;var u=0,h=i.suspendedLanes,f=i.pingedLanes,p=i.warmLanes;i=i.finishedLanes!==0;var _=a&134217727;return _!==0?(a=_&~h,a!==0?u=dr(a):(f&=_,f!==0?u=dr(f):i||(p=_&~p,p!==0&&(u=dr(p))))):(_=a&~h,_!==0?u=dr(_):f!==0?u=dr(f):i||(p=a&~p,p!==0&&(u=dr(p)))),u===0?0:r!==0&&r!==u&&(r&h)===0&&(h=u&-u,p=r&-r,h>=p||h===32&&(p&4194176)!==0)?r:u}function ma(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function yS(i,r){switch(i){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tp(){var i=Al;return Al<<=1,(Al&4194176)===0&&(Al=128),i}function np(){var i=wl;return wl<<=1,(wl&62914560)===0&&(wl=4194304),i}function fh(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function ga(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function _S(i,r,a,u,h,f){var p=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var _=i.entanglements,A=i.expirationTimes,b=i.hiddenUpdates;for(a=p&~a;0<a;){var M=31-Ft(a),k=1<<M;_[M]=0,A[M]=-1;var D=b[M];if(D!==null)for(b[M]=null,M=0;M<D.length;M++){var O=D[M];O!==null&&(O.lane&=-536870913)}a&=~k}u!==0&&ip(i,u,0),f!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=f&~(p&~r))}function ip(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Ft(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|a&4194218}function rp(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var u=31-Ft(a),h=1<<u;h&r|i[u]&r&&(i[u]|=r),a&=~h}}function sp(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ap(){var i=F.p;return i!==0?i:(i=window.event,i===void 0?32:Cv(i.type))}function vS(i,r){var a=F.p;try{return F.p=i,r()}finally{F.p=a}}var _i=Math.random().toString(36).slice(2),wt="__reactFiber$"+_i,kt="__reactProps$"+_i,es="__reactContainer$"+_i,dh="__reactEvents$"+_i,ES="__reactListeners$"+_i,TS="__reactHandles$"+_i,op="__reactResources$"+_i,pa="__reactMarker$"+_i;function mh(i){delete i[wt],delete i[kt],delete i[dh],delete i[ES],delete i[TS]}function mr(i){var r=i[wt];if(r)return r;for(var a=i.parentNode;a;){if(r=a[es]||a[wt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=dv(i);i!==null;){if(a=i[wt])return a;i=dv(i)}return r}i=a,a=i.parentNode}return null}function ts(i){if(i=i[wt]||i[es]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function ya(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ns(i){var r=i[op];return r||(r=i[op]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function at(i){i[pa]=!0}var lp=new Set,up={};function gr(i,r){is(i,r),is(i+"Capture",r)}function is(i,r){for(up[i]=r,i=0;i<r.length;i++)lp.add(r[i])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),AS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cp={},hp={};function wS(i){return uh.call(hp,i)?!0:uh.call(cp,i)?!1:AS.test(i)?hp[i]=!0:(cp[i]=!0,!1)}function bl(i,r,a){if(wS(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function Rl(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function qn(i,r,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+u)}}function Jt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function fp(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function SS(i){var r=fp(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return h.call(this)},set:function(p){u=""+p,f.call(this,p)}}),Object.defineProperty(i,r,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(p){u=""+p},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Il(i){i._valueTracker||(i._valueTracker=SS(i))}function dp(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return i&&(u=fp(i)?i.checked?"true":"false":i.value),i=u,i!==a?(r.setValue(i),!0):!1}function Cl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var bS=/[\n"\\]/g;function en(i){return i.replace(bS,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function gh(i,r,a,u,h,f,p,_){i.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?i.type=p:i.removeAttribute("type"),r!=null?p==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Jt(r)):i.value!==""+Jt(r)&&(i.value=""+Jt(r)):p!=="submit"&&p!=="reset"||i.removeAttribute("value"),r!=null?ph(i,p,Jt(r)):a!=null?ph(i,p,Jt(a)):u!=null&&i.removeAttribute("value"),h==null&&f!=null&&(i.defaultChecked=!!f),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.name=""+Jt(_):i.removeAttribute("name")}function mp(i,r,a,u,h,f,p,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(i.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null))return;a=a!=null?""+Jt(a):"",r=r!=null?""+Jt(r):a,_||r===i.value||(i.value=r),i.defaultValue=r}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=_?i.checked:!!u,i.defaultChecked=!!u,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.name=p)}function ph(i,r,a){r==="number"&&Cl(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function rs(i,r,a,u){if(i=i.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<i.length;a++)h=r.hasOwnProperty("$"+i[a].value),i[a].selected!==h&&(i[a].selected=h),h&&u&&(i[a].defaultSelected=!0)}else{for(a=""+Jt(a),r=null,h=0;h<i.length;h++){if(i[h].value===a){i[h].selected=!0,u&&(i[h].defaultSelected=!0);return}r!==null||i[h].disabled||(r=i[h])}r!==null&&(r.selected=!0)}}function gp(i,r,a){if(r!=null&&(r=""+Jt(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+Jt(a):""}function pp(i,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(Z(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=Jt(r),i.defaultValue=a,u=i.textContent,u===a&&u!==""&&u!==null&&(i.value=u)}function ss(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var RS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yp(i,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,a):typeof a!="number"||a===0||RS.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function _p(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var h in r)u=r[h],r.hasOwnProperty(h)&&a[h]!==u&&yp(i,h,u)}else for(var f in r)r.hasOwnProperty(f)&&yp(i,f,r[f])}function yh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var IS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),CS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dl(i){return CS.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var _h=null;function vh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var as=null,os=null;function vp(i){var r=ts(i);if(r&&(i=r.stateNode)){var a=i[kt]||null;e:switch(i=r.stateNode,r.type){case"input":if(gh(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+en(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==i&&u.form===i.form){var h=u[kt]||null;if(!h)throw Error(s(90));gh(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===i.form&&dp(u)}break e;case"textarea":gp(i,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&rs(i,!!a.multiple,r,!1)}}}var Eh=!1;function Ep(i,r,a){if(Eh)return i(r,a);Eh=!0;try{var u=i(r);return u}finally{if(Eh=!1,(as!==null||os!==null)&&(fu(),as&&(r=as,i=os,os=as=null,vp(r),i)))for(r=0;r<i.length;r++)vp(i[r])}}function _a(i,r){var a=i.stateNode;if(a===null)return null;var u=a[kt]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Th=!1;if(Bn)try{var va={};Object.defineProperty(va,"passive",{get:function(){Th=!0}}),window.addEventListener("test",va,va),window.removeEventListener("test",va,va)}catch{Th=!1}var vi=null,Ah=null,Nl=null;function Tp(){if(Nl)return Nl;var i,r=Ah,a=r.length,u,h="value"in vi?vi.value:vi.textContent,f=h.length;for(i=0;i<a&&r[i]===h[i];i++);var p=a-i;for(u=1;u<=p&&r[a-u]===h[f-u];u++);return Nl=h.slice(i,1<u?1-u:void 0)}function xl(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ol(){return!0}function Ap(){return!1}function jt(i){function r(a,u,h,f,p){this._reactName=a,this._targetInst=h,this.type=u,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var _ in i)i.hasOwnProperty(_)&&(a=i[_],this[_]=a?a(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ol:Ap,this.isPropagationStopped=Ap,this}return ye(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ol)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ol)},persist:function(){},isPersistent:Ol}),r}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ml=jt(pr),Ea=ye({},pr,{view:0,detail:0}),DS=jt(Ea),wh,Sh,Ta,Vl=ye({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ta&&(Ta&&i.type==="mousemove"?(wh=i.screenX-Ta.screenX,Sh=i.screenY-Ta.screenY):Sh=wh=0,Ta=i),wh)},movementY:function(i){return"movementY"in i?i.movementY:Sh}}),wp=jt(Vl),NS=ye({},Vl,{dataTransfer:0}),xS=jt(NS),OS=ye({},Ea,{relatedTarget:0}),bh=jt(OS),MS=ye({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),VS=jt(MS),PS=ye({},pr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),US=jt(PS),LS=ye({},pr,{data:0}),Sp=jt(LS),kS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BS(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=zS[i])?!!r[i]:!1}function Rh(){return BS}var qS=ye({},Ea,{key:function(i){if(i.key){var r=kS[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=xl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?jS[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rh,charCode:function(i){return i.type==="keypress"?xl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?xl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),HS=jt(qS),FS=ye({},Vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bp=jt(FS),GS=ye({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rh}),QS=jt(GS),KS=ye({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),YS=jt(KS),XS=ye({},Vl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$S=jt(XS),WS=ye({},pr,{newState:0,oldState:0}),ZS=jt(WS),JS=[9,13,27,32],Ih=Bn&&"CompositionEvent"in window,Aa=null;Bn&&"documentMode"in document&&(Aa=document.documentMode);var e1=Bn&&"TextEvent"in window&&!Aa,Rp=Bn&&(!Ih||Aa&&8<Aa&&11>=Aa),Ip=" ",Cp=!1;function Dp(i,r){switch(i){case"keyup":return JS.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Np(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ls=!1;function t1(i,r){switch(i){case"compositionend":return Np(r);case"keypress":return r.which!==32?null:(Cp=!0,Ip);case"textInput":return i=r.data,i===Ip&&Cp?null:i;default:return null}}function n1(i,r){if(ls)return i==="compositionend"||!Ih&&Dp(i,r)?(i=Tp(),Nl=Ah=vi=null,ls=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Rp&&r.locale!=="ko"?null:r.data;default:return null}}var i1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xp(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!i1[i.type]:r==="textarea"}function Op(i,r,a,u){as?os?os.push(u):os=[u]:as=u,r=yu(r,"onChange"),0<r.length&&(a=new Ml("onChange","change",null,a,u),i.push({event:a,listeners:r}))}var wa=null,Sa=null;function r1(i){rv(i,0)}function Pl(i){var r=ya(i);if(dp(r))return i}function Mp(i,r){if(i==="change")return r}var Vp=!1;if(Bn){var Ch;if(Bn){var Dh="oninput"in document;if(!Dh){var Pp=document.createElement("div");Pp.setAttribute("oninput","return;"),Dh=typeof Pp.oninput=="function"}Ch=Dh}else Ch=!1;Vp=Ch&&(!document.documentMode||9<document.documentMode)}function Up(){wa&&(wa.detachEvent("onpropertychange",Lp),Sa=wa=null)}function Lp(i){if(i.propertyName==="value"&&Pl(Sa)){var r=[];Op(r,Sa,i,vh(i)),Ep(r1,r)}}function s1(i,r,a){i==="focusin"?(Up(),wa=r,Sa=a,wa.attachEvent("onpropertychange",Lp)):i==="focusout"&&Up()}function a1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Pl(Sa)}function o1(i,r){if(i==="click")return Pl(r)}function l1(i,r){if(i==="input"||i==="change")return Pl(r)}function u1(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Gt=typeof Object.is=="function"?Object.is:u1;function ba(i,r){if(Gt(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var h=a[u];if(!uh.call(r,h)||!Gt(i[h],r[h]))return!1}return!0}function kp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function jp(i,r){var a=kp(i);i=0;for(var u;a;){if(a.nodeType===3){if(u=i+a.textContent.length,i<=r&&u>=r)return{node:a,offset:r-i};i=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kp(a)}}function zp(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?zp(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Bp(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Cl(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=Cl(i.document)}return r}function Nh(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}function c1(i,r){var a=Bp(r);r=i.focusedElem;var u=i.selectionRange;if(a!==r&&r&&r.ownerDocument&&zp(r.ownerDocument.documentElement,r)){if(u!==null&&Nh(r)){if(i=u.start,a=u.end,a===void 0&&(a=i),"selectionStart"in r)r.selectionStart=i,r.selectionEnd=Math.min(a,r.value.length);else if(a=(i=r.ownerDocument||document)&&i.defaultView||window,a.getSelection){a=a.getSelection();var h=r.textContent.length,f=Math.min(u.start,h);u=u.end===void 0?f:Math.min(u.end,h),!a.extend&&f>u&&(h=u,u=f,f=h),h=jp(r,f);var p=jp(r,u);h&&p&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==p.node||a.focusOffset!==p.offset)&&(i=i.createRange(),i.setStart(h.node,h.offset),a.removeAllRanges(),f>u?(a.addRange(i),a.extend(p.node,p.offset)):(i.setEnd(p.node,p.offset),a.addRange(i)))}}for(i=[],a=r;a=a.parentNode;)a.nodeType===1&&i.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<i.length;r++)a=i[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var h1=Bn&&"documentMode"in document&&11>=document.documentMode,us=null,xh=null,Ra=null,Oh=!1;function qp(i,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Oh||us==null||us!==Cl(u)||(u=us,"selectionStart"in u&&Nh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ra&&ba(Ra,u)||(Ra=u,u=yu(xh,"onSelect"),0<u.length&&(r=new Ml("onSelect","select",null,r,a),i.push({event:r,listeners:u}),r.target=us)))}function yr(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var cs={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionrun:yr("Transition","TransitionRun"),transitionstart:yr("Transition","TransitionStart"),transitioncancel:yr("Transition","TransitionCancel"),transitionend:yr("Transition","TransitionEnd")},Mh={},Hp={};Bn&&(Hp=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function _r(i){if(Mh[i])return Mh[i];if(!cs[i])return i;var r=cs[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in Hp)return Mh[i]=r[a];return i}var Fp=_r("animationend"),Gp=_r("animationiteration"),Qp=_r("animationstart"),f1=_r("transitionrun"),d1=_r("transitionstart"),m1=_r("transitioncancel"),Kp=_r("transitionend"),Yp=new Map,Xp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function gn(i,r){Yp.set(i,r),gr(r,[i])}var tn=[],hs=0,Vh=0;function Ul(){for(var i=hs,r=Vh=hs=0;r<i;){var a=tn[r];tn[r++]=null;var u=tn[r];tn[r++]=null;var h=tn[r];tn[r++]=null;var f=tn[r];if(tn[r++]=null,u!==null&&h!==null){var p=u.pending;p===null?h.next=h:(h.next=p.next,p.next=h),u.pending=h}f!==0&&$p(a,h,f)}}function Ll(i,r,a,u){tn[hs++]=i,tn[hs++]=r,tn[hs++]=a,tn[hs++]=u,Vh|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Ph(i,r,a,u){return Ll(i,r,a,u),kl(i)}function Ei(i,r){return Ll(i,null,null,r),kl(i)}function $p(i,r,a){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a);for(var h=!1,f=i.return;f!==null;)f.childLanes|=a,u=f.alternate,u!==null&&(u.childLanes|=a),f.tag===22&&(i=f.stateNode,i===null||i._visibility&1||(h=!0)),i=f,f=f.return;h&&r!==null&&i.tag===3&&(f=i.stateNode,h=31-Ft(a),f=f.hiddenUpdates,i=f[h],i===null?f[h]=[r]:i.push(r),r.lane=a|536870912)}function kl(i){if(50<Wa)throw Wa=0,qf=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var fs={},Wp=new WeakMap;function nn(i,r){if(typeof i=="object"&&i!==null){var a=Wp.get(i);return a!==void 0?a:(r={value:i,source:r,stack:ce(r)},Wp.set(i,r),r)}return{value:i,source:r,stack:ce(r)}}var ds=[],ms=0,jl=null,zl=0,rn=[],sn=0,vr=null,Hn=1,Fn="";function Er(i,r){ds[ms++]=zl,ds[ms++]=jl,jl=i,zl=r}function Zp(i,r,a){rn[sn++]=Hn,rn[sn++]=Fn,rn[sn++]=vr,vr=i;var u=Hn;i=Fn;var h=32-Ft(u)-1;u&=~(1<<h),a+=1;var f=32-Ft(r)+h;if(30<f){var p=h-h%5;f=(u&(1<<p)-1).toString(32),u>>=p,h-=p,Hn=1<<32-Ft(r)+h|a<<h|u,Fn=f+i}else Hn=1<<f|a<<h|u,Fn=i}function Uh(i){i.return!==null&&(Er(i,1),Zp(i,1,0))}function Lh(i){for(;i===jl;)jl=ds[--ms],ds[ms]=null,zl=ds[--ms],ds[ms]=null;for(;i===vr;)vr=rn[--sn],rn[sn]=null,Fn=rn[--sn],rn[sn]=null,Hn=rn[--sn],rn[sn]=null}var Mt=null,mt=null,Se=!1,pn=null,bn=!1,kh=Error(s(519));function Tr(i){var r=Error(s(418,""));throw Da(nn(r,i)),kh}function Jp(i){var r=i.stateNode,a=i.type,u=i.memoizedProps;switch(r[wt]=i,r[kt]=u,a){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(a=0;a<Ja.length;a++)ve(Ja[a],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":ve("invalid",r),mp(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Il(r);break;case"select":ve("invalid",r);break;case"textarea":ve("invalid",r),pp(r,u.value,u.defaultValue,u.children),Il(r)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||lv(r.textContent,a)?(u.popover!=null&&(ve("beforetoggle",r),ve("toggle",r)),u.onScroll!=null&&ve("scroll",r),u.onScrollEnd!=null&&ve("scrollend",r),u.onClick!=null&&(r.onclick=_u),r=!0):r=!1,r||Tr(i)}function ey(i){for(Mt=i.return;Mt;)switch(Mt.tag){case 3:case 27:bn=!0;return;case 5:case 13:bn=!1;return;default:Mt=Mt.return}}function Ia(i){if(i!==Mt)return!1;if(!Se)return ey(i),Se=!0,!1;var r=!1,a;if((a=i.tag!==3&&i.tag!==27)&&((a=i.tag===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||sd(i.type,i.memoizedProps)),a=!a),a&&(r=!0),r&&mt&&Tr(i),ey(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(r===0){mt=_n(i.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;i=i.nextSibling}mt=null}}else mt=Mt?_n(i.stateNode.nextSibling):null;return!0}function Ca(){mt=Mt=null,Se=!1}function Da(i){pn===null?pn=[i]:pn.push(i)}var Na=Error(s(460)),ty=Error(s(474)),jh={then:function(){}};function ny(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Bl(){}function iy(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(Bl,Bl),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===Na?Error(s(483)):i;default:if(typeof r.status=="string")r.then(Bl,Bl);else{if(i=Ve,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=u}},function(u){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===Na?Error(s(483)):i}throw xa=r,Na}}var xa=null;function ry(){if(xa===null)throw Error(s(459));var i=xa;return xa=null,i}var gs=null,Oa=0;function ql(i){var r=Oa;return Oa+=1,gs===null&&(gs=[]),iy(gs,i,r)}function Ma(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Hl(i,r){throw r.$$typeof===l?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function sy(i){var r=i._init;return r(i._payload)}function ay(i){function r(I,S){if(i){var C=I.deletions;C===null?(I.deletions=[S],I.flags|=16):C.push(S)}}function a(I,S){if(!i)return null;for(;S!==null;)r(I,S),S=S.sibling;return null}function u(I){for(var S=new Map;I!==null;)I.key!==null?S.set(I.key,I):S.set(I.index,I),I=I.sibling;return S}function h(I,S){return I=Oi(I,S),I.index=0,I.sibling=null,I}function f(I,S,C){return I.index=C,i?(C=I.alternate,C!==null?(C=C.index,C<S?(I.flags|=33554434,S):C):(I.flags|=33554434,S)):(I.flags|=1048576,S)}function p(I){return i&&I.alternate===null&&(I.flags|=33554434),I}function _(I,S,C,U){return S===null||S.tag!==6?(S=Vf(C,I.mode,U),S.return=I,S):(S=h(S,C),S.return=I,S)}function A(I,S,C,U){var G=C.type;return G===d?M(I,S,C.props.children,U,C.key):S!==null&&(S.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===J&&sy(G)===S.type)?(S=h(S,C.props),Ma(S,C),S.return=I,S):(S=ou(C.type,C.key,C.props,null,I.mode,U),Ma(S,C),S.return=I,S)}function b(I,S,C,U){return S===null||S.tag!==4||S.stateNode.containerInfo!==C.containerInfo||S.stateNode.implementation!==C.implementation?(S=Pf(C,I.mode,U),S.return=I,S):(S=h(S,C.children||[]),S.return=I,S)}function M(I,S,C,U,G){return S===null||S.tag!==7?(S=xr(C,I.mode,U,G),S.return=I,S):(S=h(S,C),S.return=I,S)}function k(I,S,C){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Vf(""+S,I.mode,C),S.return=I,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case c:return C=ou(S.type,S.key,S.props,null,I.mode,C),Ma(C,S),C.return=I,C;case m:return S=Pf(S,I.mode,C),S.return=I,S;case J:var U=S._init;return S=U(S._payload),k(I,S,C)}if(Z(S)||Le(S))return S=xr(S,I.mode,C,null),S.return=I,S;if(typeof S.then=="function")return k(I,ql(S),C);if(S.$$typeof===R)return k(I,ru(I,S),C);Hl(I,S)}return null}function D(I,S,C,U){var G=S!==null?S.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return G!==null?null:_(I,S,""+C,U);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case c:return C.key===G?A(I,S,C,U):null;case m:return C.key===G?b(I,S,C,U):null;case J:return G=C._init,C=G(C._payload),D(I,S,C,U)}if(Z(C)||Le(C))return G!==null?null:M(I,S,C,U,null);if(typeof C.then=="function")return D(I,S,ql(C),U);if(C.$$typeof===R)return D(I,S,ru(I,C),U);Hl(I,C)}return null}function O(I,S,C,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return I=I.get(C)||null,_(S,I,""+U,G);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case c:return I=I.get(U.key===null?C:U.key)||null,A(S,I,U,G);case m:return I=I.get(U.key===null?C:U.key)||null,b(S,I,U,G);case J:var ge=U._init;return U=ge(U._payload),O(I,S,C,U,G)}if(Z(U)||Le(U))return I=I.get(C)||null,M(S,I,U,G,null);if(typeof U.then=="function")return O(I,S,C,ql(U),G);if(U.$$typeof===R)return O(I,S,C,ru(S,U),G);Hl(S,U)}return null}function Y(I,S,C,U){for(var G=null,ge=null,X=S,ee=S=0,ut=null;X!==null&&ee<C.length;ee++){X.index>ee?(ut=X,X=null):ut=X.sibling;var be=D(I,X,C[ee],U);if(be===null){X===null&&(X=ut);break}i&&X&&be.alternate===null&&r(I,X),S=f(be,S,ee),ge===null?G=be:ge.sibling=be,ge=be,X=ut}if(ee===C.length)return a(I,X),Se&&Er(I,ee),G;if(X===null){for(;ee<C.length;ee++)X=k(I,C[ee],U),X!==null&&(S=f(X,S,ee),ge===null?G=X:ge.sibling=X,ge=X);return Se&&Er(I,ee),G}for(X=u(X);ee<C.length;ee++)ut=O(X,I,ee,C[ee],U),ut!==null&&(i&&ut.alternate!==null&&X.delete(ut.key===null?ee:ut.key),S=f(ut,S,ee),ge===null?G=ut:ge.sibling=ut,ge=ut);return i&&X.forEach(function(ji){return r(I,ji)}),Se&&Er(I,ee),G}function le(I,S,C,U){if(C==null)throw Error(s(151));for(var G=null,ge=null,X=S,ee=S=0,ut=null,be=C.next();X!==null&&!be.done;ee++,be=C.next()){X.index>ee?(ut=X,X=null):ut=X.sibling;var ji=D(I,X,be.value,U);if(ji===null){X===null&&(X=ut);break}i&&X&&ji.alternate===null&&r(I,X),S=f(ji,S,ee),ge===null?G=ji:ge.sibling=ji,ge=ji,X=ut}if(be.done)return a(I,X),Se&&Er(I,ee),G;if(X===null){for(;!be.done;ee++,be=C.next())be=k(I,be.value,U),be!==null&&(S=f(be,S,ee),ge===null?G=be:ge.sibling=be,ge=be);return Se&&Er(I,ee),G}for(X=u(X);!be.done;ee++,be=C.next())be=O(X,I,ee,be.value,U),be!==null&&(i&&be.alternate!==null&&X.delete(be.key===null?ee:be.key),S=f(be,S,ee),ge===null?G=be:ge.sibling=be,ge=be);return i&&X.forEach(function(Cb){return r(I,Cb)}),Se&&Er(I,ee),G}function Qe(I,S,C,U){if(typeof C=="object"&&C!==null&&C.type===d&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case c:e:{for(var G=C.key;S!==null;){if(S.key===G){if(G=C.type,G===d){if(S.tag===7){a(I,S.sibling),U=h(S,C.props.children),U.return=I,I=U;break e}}else if(S.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===J&&sy(G)===S.type){a(I,S.sibling),U=h(S,C.props),Ma(U,C),U.return=I,I=U;break e}a(I,S);break}else r(I,S);S=S.sibling}C.type===d?(U=xr(C.props.children,I.mode,U,C.key),U.return=I,I=U):(U=ou(C.type,C.key,C.props,null,I.mode,U),Ma(U,C),U.return=I,I=U)}return p(I);case m:e:{for(G=C.key;S!==null;){if(S.key===G)if(S.tag===4&&S.stateNode.containerInfo===C.containerInfo&&S.stateNode.implementation===C.implementation){a(I,S.sibling),U=h(S,C.children||[]),U.return=I,I=U;break e}else{a(I,S);break}else r(I,S);S=S.sibling}U=Pf(C,I.mode,U),U.return=I,I=U}return p(I);case J:return G=C._init,C=G(C._payload),Qe(I,S,C,U)}if(Z(C))return Y(I,S,C,U);if(Le(C)){if(G=Le(C),typeof G!="function")throw Error(s(150));return C=G.call(C),le(I,S,C,U)}if(typeof C.then=="function")return Qe(I,S,ql(C),U);if(C.$$typeof===R)return Qe(I,S,ru(I,C),U);Hl(I,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,S!==null&&S.tag===6?(a(I,S.sibling),U=h(S,C),U.return=I,I=U):(a(I,S),U=Vf(C,I.mode,U),U.return=I,I=U),p(I)):a(I,S)}return function(I,S,C,U){try{Oa=0;var G=Qe(I,S,C,U);return gs=null,G}catch(X){if(X===Na)throw X;var ge=un(29,X,null,I.mode);return ge.lanes=U,ge.return=I,ge}finally{}}}var Ar=ay(!0),oy=ay(!1),ps=Ce(null),Fl=Ce(0);function ly(i,r){i=ti,ze(Fl,i),ze(ps,r),ti=i|r.baseLanes}function zh(){ze(Fl,ti),ze(ps,ps.current)}function Bh(){ti=Fl.current,$e(ps),$e(Fl)}var an=Ce(null),Rn=null;function Ti(i){var r=i.alternate;ze(it,it.current&1),ze(an,i),Rn===null&&(r===null||ps.current!==null||r.memoizedState!==null)&&(Rn=i)}function uy(i){if(i.tag===22){if(ze(it,it.current),ze(an,i),Rn===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Rn=i)}}else Ai()}function Ai(){ze(it,it.current),ze(an,an.current)}function Gn(i){$e(an),Rn===i&&(Rn=null),$e(it)}var it=Ce(0);function Gl(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var g1=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},p1=t.unstable_scheduleCallback,y1=t.unstable_NormalPriority,rt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qh(){return{controller:new g1,data:new Map,refCount:0}}function Va(i){i.refCount--,i.refCount===0&&p1(y1,function(){i.controller.abort()})}var Pa=null,Hh=0,ys=0,_s=null;function _1(i,r){if(Pa===null){var a=Pa=[];Hh=0,ys=$f(),_s={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Hh++,r.then(cy,cy),r}function cy(){if(--Hh===0&&Pa!==null){_s!==null&&(_s.status="fulfilled");var i=Pa;Pa=null,ys=0,_s=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function v1(i,r){var a=[],u={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(u.status="rejected",u.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),u}var hy=$.S;$.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&_1(i,r),hy!==null&&hy(i,r)};var wr=Ce(null);function Fh(){var i=wr.current;return i!==null?i:Ve.pooledCache}function Ql(i,r){r===null?ze(wr,wr.current):ze(wr,r.pool)}function fy(){var i=Fh();return i===null?null:{parent:rt._currentValue,pool:i}}var wi=0,me=null,Ne=null,We=null,Kl=!1,vs=!1,Sr=!1,Yl=0,Ua=0,Es=null,E1=0;function Ye(){throw Error(s(321))}function Gh(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!Gt(i[a],r[a]))return!1;return!0}function Qh(i,r,a,u,h,f){return wi=f,me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=i===null||i.memoizedState===null?br:Si,Sr=!1,f=a(u,h),Sr=!1,vs&&(f=my(r,a,u,h)),dy(i),f}function dy(i){$.H=In;var r=Ne!==null&&Ne.next!==null;if(wi=0,We=Ne=me=null,Kl=!1,Ua=0,Es=null,r)throw Error(s(300));i===null||ot||(i=i.dependencies,i!==null&&iu(i)&&(ot=!0))}function my(i,r,a,u){me=i;var h=0;do{if(vs&&(Es=null),Ua=0,vs=!1,25<=h)throw Error(s(301));if(h+=1,We=Ne=null,i.updateQueue!=null){var f=i.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}$.H=Rr,f=r(a,u)}while(vs);return f}function T1(){var i=$.H,r=i.useState()[0];return r=typeof r.then=="function"?La(r):r,i=i.useState()[0],(Ne!==null?Ne.memoizedState:null)!==i&&(me.flags|=1024),r}function Kh(){var i=Yl!==0;return Yl=0,i}function Yh(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function Xh(i){if(Kl){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Kl=!1}wi=0,We=Ne=me=null,vs=!1,Ua=Yl=0,Es=null}function zt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?me.memoizedState=We=i:We=We.next=i,We}function Ze(){if(Ne===null){var i=me.alternate;i=i!==null?i.memoizedState:null}else i=Ne.next;var r=We===null?me.memoizedState:We.next;if(r!==null)We=r,Ne=i;else{if(i===null)throw me.alternate===null?Error(s(467)):Error(s(310));Ne=i,i={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},We===null?me.memoizedState=We=i:We=We.next=i}return We}var Xl;Xl=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function La(i){var r=Ua;return Ua+=1,Es===null&&(Es=[]),i=iy(Es,i,r),r=me,(We===null?r.memoizedState:We.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?br:Si),i}function $l(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return La(i);if(i.$$typeof===R)return St(i)}throw Error(s(438,String(i)))}function $h(i){var r=null,a=me.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=me.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Xl(),me.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),u=0;u<i;u++)a[u]=Re;return r.index++,a}function Qn(i,r){return typeof r=="function"?r(i):r}function Wl(i){var r=Ze();return Wh(r,Ne,i)}function Wh(i,r,a){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var h=i.baseQueue,f=u.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}r.baseQueue=h=f,u.pending=null}if(f=i.baseState,h===null)i.memoizedState=f;else{r=h.next;var _=p=null,A=null,b=r,M=!1;do{var k=b.lane&-536870913;if(k!==b.lane?(Ae&k)===k:(wi&k)===k){var D=b.revertLane;if(D===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),k===ys&&(M=!0);else if((wi&D)===D){b=b.next,D===ys&&(M=!0);continue}else k={lane:0,revertLane:b.revertLane,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},A===null?(_=A=k,p=f):A=A.next=k,me.lanes|=D,Mi|=D;k=b.action,Sr&&a(f,k),f=b.hasEagerState?b.eagerState:a(f,k)}else D={lane:k,revertLane:b.revertLane,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},A===null?(_=A=D,p=f):A=A.next=D,me.lanes|=k,Mi|=k;b=b.next}while(b!==null&&b!==r);if(A===null?p=f:A.next=_,!Gt(f,i.memoizedState)&&(ot=!0,M&&(a=_s,a!==null)))throw a;i.memoizedState=f,i.baseState=p,i.baseQueue=A,u.lastRenderedState=f}return h===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Zh(i){var r=Ze(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var u=a.dispatch,h=a.pending,f=r.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=i(f,p.action),p=p.next;while(p!==h);Gt(f,r.memoizedState)||(ot=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,u]}function gy(i,r,a){var u=me,h=Ze(),f=Se;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var p=!Gt((Ne||h).memoizedState,a);if(p&&(h.memoizedState=a,ot=!0),h=h.queue,tf(_y.bind(null,u,h,i),[i]),h.getSnapshot!==r||p||We!==null&&We.memoizedState.tag&1){if(u.flags|=2048,Ts(9,yy.bind(null,u,h,a,r),{destroy:void 0},null),Ve===null)throw Error(s(349));f||(wi&60)!==0||py(u,r,a)}return a}function py(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=me.updateQueue,r===null?(r=Xl(),me.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function yy(i,r,a,u){r.value=a,r.getSnapshot=u,vy(r)&&Ey(i)}function _y(i,r,a){return a(function(){vy(r)&&Ey(i)})}function vy(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!Gt(i,a)}catch{return!0}}function Ey(i){var r=Ei(i,2);r!==null&&Vt(r,i,2)}function Jh(i){var r=zt();if(typeof i=="function"){var a=i;if(i=a(),Sr){yi(!0);try{a()}finally{yi(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:i},r}function Ty(i,r,a,u){return i.baseState=a,Wh(i,Ne,typeof u=="function"?u:Qn)}function A1(i,r,a,u,h){if(eu(i))throw Error(s(485));if(i=r.action,i!==null){var f={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};$.T!==null?a(!0):f.isTransition=!1,u(f),a=r.pending,a===null?(f.next=r.pending=f,Ay(r,f)):(f.next=a.next,r.pending=a.next=f)}}function Ay(i,r){var a=r.action,u=r.payload,h=i.state;if(r.isTransition){var f=$.T,p={};$.T=p;try{var _=a(h,u),A=$.S;A!==null&&A(p,_),wy(i,r,_)}catch(b){ef(i,r,b)}finally{$.T=f}}else try{f=a(h,u),wy(i,r,f)}catch(b){ef(i,r,b)}}function wy(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Sy(i,r,u)},function(u){return ef(i,r,u)}):Sy(i,r,a)}function Sy(i,r,a){r.status="fulfilled",r.value=a,by(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,Ay(i,a)))}function ef(i,r,a){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,by(r),r=r.next;while(r!==u)}i.action=null}function by(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Ry(i,r){return r}function Iy(i,r){if(Se){var a=Ve.formState;if(a!==null){e:{var u=me;if(Se){if(mt){t:{for(var h=mt,f=bn;h.nodeType!==8;){if(!f){h=null;break t}if(h=_n(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){mt=_n(h.nextSibling),u=h.data==="F!";break e}}Tr(u)}u=!1}u&&(r=a[0])}}return a=zt(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ry,lastRenderedState:r},a.queue=u,a=Gy.bind(null,me,u),u.dispatch=a,u=Jh(!1),f=of.bind(null,me,!1,u.queue),u=zt(),h={state:r,dispatch:null,action:i,pending:null},u.queue=h,a=A1.bind(null,me,h,f,a),h.dispatch=a,u.memoizedState=i,[r,a,!1]}function Cy(i){var r=Ze();return Dy(r,Ne,i)}function Dy(i,r,a){r=Wh(i,r,Ry)[0],i=Wl(Qn)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?La(r):r;var u=Ze(),h=u.queue,f=h.dispatch;return a!==u.memoizedState&&(me.flags|=2048,Ts(9,w1.bind(null,h,a),{destroy:void 0},null)),[r,f,i]}function w1(i,r){i.action=r}function Ny(i){var r=Ze(),a=Ne;if(a!==null)return Dy(r,a,i);Ze(),r=r.memoizedState,a=Ze();var u=a.queue.dispatch;return a.memoizedState=i,[r,u,!1]}function Ts(i,r,a,u){return i={tag:i,create:r,inst:a,deps:u,next:null},r=me.updateQueue,r===null&&(r=Xl(),me.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(u=a.next,a.next=i,i.next=u,r.lastEffect=i),i}function xy(){return Ze().memoizedState}function Zl(i,r,a,u){var h=zt();me.flags|=i,h.memoizedState=Ts(1|r,a,{destroy:void 0},u===void 0?null:u)}function Jl(i,r,a,u){var h=Ze();u=u===void 0?null:u;var f=h.memoizedState.inst;Ne!==null&&u!==null&&Gh(u,Ne.memoizedState.deps)?h.memoizedState=Ts(r,a,f,u):(me.flags|=i,h.memoizedState=Ts(1|r,a,f,u))}function Oy(i,r){Zl(8390656,8,i,r)}function tf(i,r){Jl(2048,8,i,r)}function My(i,r){return Jl(4,2,i,r)}function Vy(i,r){return Jl(4,4,i,r)}function Py(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Uy(i,r,a){a=a!=null?a.concat([i]):null,Jl(4,4,Py.bind(null,r,i),a)}function nf(){}function Ly(i,r){var a=Ze();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&Gh(r,u[1])?u[0]:(a.memoizedState=[i,r],i)}function ky(i,r){var a=Ze();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&Gh(r,u[1]))return u[0];if(u=i(),Sr){yi(!0);try{i()}finally{yi(!1)}}return a.memoizedState=[u,r],u}function rf(i,r,a){return a===void 0||(wi&1073741824)!==0?i.memoizedState=r:(i.memoizedState=a,i=z_(),me.lanes|=i,Mi|=i,a)}function jy(i,r,a,u){return Gt(a,r)?a:ps.current!==null?(i=rf(i,a,u),Gt(i,r)||(ot=!0),i):(wi&42)===0?(ot=!0,i.memoizedState=a):(i=z_(),me.lanes|=i,Mi|=i,r)}function zy(i,r,a,u,h){var f=F.p;F.p=f!==0&&8>f?f:8;var p=$.T,_={};$.T=_,of(i,!1,r,a);try{var A=h(),b=$.S;if(b!==null&&b(_,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var M=v1(A,u);ka(i,r,M,Xt(i))}else ka(i,r,u,Xt(i))}catch(k){ka(i,r,{then:function(){},status:"rejected",reason:k},Xt())}finally{F.p=f,$.T=p}}function S1(){}function sf(i,r,a,u){if(i.tag!==5)throw Error(s(476));var h=By(i).queue;zy(i,h,r,Te,a===null?S1:function(){return qy(i),a(u)})}function By(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:Te},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function qy(i){var r=By(i).next.queue;ka(i,r,{},Xt())}function af(){return St(ro)}function Hy(){return Ze().memoizedState}function Fy(){return Ze().memoizedState}function b1(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=Xt();i=Ii(a);var u=Ci(r,i,a);u!==null&&(Vt(u,r,a),Ba(u,r,a)),r={cache:qh()},i.payload=r;return}r=r.return}}function R1(i,r,a){var u=Xt();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},eu(i)?Qy(r,a):(a=Ph(i,r,a,u),a!==null&&(Vt(a,i,u),Ky(a,r,u)))}function Gy(i,r,a){var u=Xt();ka(i,r,a,u)}function ka(i,r,a,u){var h={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(eu(i))Qy(r,h);else{var f=i.alternate;if(i.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var p=r.lastRenderedState,_=f(p,a);if(h.hasEagerState=!0,h.eagerState=_,Gt(_,p))return Ll(i,r,h,0),Ve===null&&Ul(),!1}catch{}finally{}if(a=Ph(i,r,h,u),a!==null)return Vt(a,i,u),Ky(a,r,u),!0}return!1}function of(i,r,a,u){if(u={lane:2,revertLane:$f(),action:u,hasEagerState:!1,eagerState:null,next:null},eu(i)){if(r)throw Error(s(479))}else r=Ph(i,a,u,2),r!==null&&Vt(r,i,2)}function eu(i){var r=i.alternate;return i===me||r!==null&&r===me}function Qy(i,r){vs=Kl=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function Ky(i,r,a){if((a&4194176)!==0){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,rp(i,a)}}var In={readContext:St,use:$l,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye};In.useCacheRefresh=Ye,In.useMemoCache=Ye,In.useHostTransitionStatus=Ye,In.useFormState=Ye,In.useActionState=Ye,In.useOptimistic=Ye;var br={readContext:St,use:$l,useCallback:function(i,r){return zt().memoizedState=[i,r===void 0?null:r],i},useContext:St,useEffect:Oy,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,Zl(4194308,4,Py.bind(null,r,i),a)},useLayoutEffect:function(i,r){return Zl(4194308,4,i,r)},useInsertionEffect:function(i,r){Zl(4,2,i,r)},useMemo:function(i,r){var a=zt();r=r===void 0?null:r;var u=i();if(Sr){yi(!0);try{i()}finally{yi(!1)}}return a.memoizedState=[u,r],u},useReducer:function(i,r,a){var u=zt();if(a!==void 0){var h=a(r);if(Sr){yi(!0);try{a(r)}finally{yi(!1)}}}else h=r;return u.memoizedState=u.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},u.queue=i,i=i.dispatch=R1.bind(null,me,i),[u.memoizedState,i]},useRef:function(i){var r=zt();return i={current:i},r.memoizedState=i},useState:function(i){i=Jh(i);var r=i.queue,a=Gy.bind(null,me,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:nf,useDeferredValue:function(i,r){var a=zt();return rf(a,i,r)},useTransition:function(){var i=Jh(!1);return i=zy.bind(null,me,i.queue,!0,!1),zt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var u=me,h=zt();if(Se){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Ve===null)throw Error(s(349));(Ae&60)!==0||py(u,r,a)}h.memoizedState=a;var f={value:a,getSnapshot:r};return h.queue=f,Oy(_y.bind(null,u,f,i),[i]),u.flags|=2048,Ts(9,yy.bind(null,u,f,a,r),{destroy:void 0},null),a},useId:function(){var i=zt(),r=Ve.identifierPrefix;if(Se){var a=Fn,u=Hn;a=(u&~(1<<32-Ft(u)-1)).toString(32)+a,r=":"+r+"R"+a,a=Yl++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=E1++,r=":"+r+"r"+a.toString(32)+":";return i.memoizedState=r},useCacheRefresh:function(){return zt().memoizedState=b1.bind(null,me)}};br.useMemoCache=$h,br.useHostTransitionStatus=af,br.useFormState=Iy,br.useActionState=Iy,br.useOptimistic=function(i){var r=zt();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=of.bind(null,me,!0,a),a.dispatch=r,[i,r]};var Si={readContext:St,use:$l,useCallback:Ly,useContext:St,useEffect:tf,useImperativeHandle:Uy,useInsertionEffect:My,useLayoutEffect:Vy,useMemo:ky,useReducer:Wl,useRef:xy,useState:function(){return Wl(Qn)},useDebugValue:nf,useDeferredValue:function(i,r){var a=Ze();return jy(a,Ne.memoizedState,i,r)},useTransition:function(){var i=Wl(Qn)[0],r=Ze().memoizedState;return[typeof i=="boolean"?i:La(i),r]},useSyncExternalStore:gy,useId:Hy};Si.useCacheRefresh=Fy,Si.useMemoCache=$h,Si.useHostTransitionStatus=af,Si.useFormState=Cy,Si.useActionState=Cy,Si.useOptimistic=function(i,r){var a=Ze();return Ty(a,Ne,i,r)};var Rr={readContext:St,use:$l,useCallback:Ly,useContext:St,useEffect:tf,useImperativeHandle:Uy,useInsertionEffect:My,useLayoutEffect:Vy,useMemo:ky,useReducer:Zh,useRef:xy,useState:function(){return Zh(Qn)},useDebugValue:nf,useDeferredValue:function(i,r){var a=Ze();return Ne===null?rf(a,i,r):jy(a,Ne.memoizedState,i,r)},useTransition:function(){var i=Zh(Qn)[0],r=Ze().memoizedState;return[typeof i=="boolean"?i:La(i),r]},useSyncExternalStore:gy,useId:Hy};Rr.useCacheRefresh=Fy,Rr.useMemoCache=$h,Rr.useHostTransitionStatus=af,Rr.useFormState=Ny,Rr.useActionState=Ny,Rr.useOptimistic=function(i,r){var a=Ze();return Ne!==null?Ty(a,Ne,i,r):(a.baseState=i,[i,a.queue.dispatch])};function lf(i,r,a,u){r=i.memoizedState,a=a(u,r),a=a==null?r:ye({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var uf={isMounted:function(i){return(i=i._reactInternals)?ie(i)===i:!1},enqueueSetState:function(i,r,a){i=i._reactInternals;var u=Xt(),h=Ii(u);h.payload=r,a!=null&&(h.callback=a),r=Ci(i,h,u),r!==null&&(Vt(r,i,u),Ba(r,i,u))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var u=Xt(),h=Ii(u);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Ci(i,h,u),r!==null&&(Vt(r,i,u),Ba(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=Xt(),u=Ii(a);u.tag=2,r!=null&&(u.callback=r),r=Ci(i,u,a),r!==null&&(Vt(r,i,a),Ba(r,i,a))}};function Yy(i,r,a,u,h,f,p){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,f,p):r.prototype&&r.prototype.isPureReactComponent?!ba(a,u)||!ba(h,f):!0}function Xy(i,r,a,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==i&&uf.enqueueReplaceState(r,r.state,null)}function Ir(i,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(i=i.defaultProps){a===r&&(a=ye({},a));for(var h in i)a[h]===void 0&&(a[h]=i[h])}return a}var tu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function $y(i){tu(i)}function Wy(i){console.error(i)}function Zy(i){tu(i)}function nu(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Jy(i,r,a){try{var u=i.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function cf(i,r,a){return a=Ii(a),a.tag=3,a.payload={element:null},a.callback=function(){nu(i,r)},a}function e_(i){return i=Ii(i),i.tag=3,i}function t_(i,r,a,u){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=u.value;i.payload=function(){return h(f)},i.callback=function(){Jy(r,a,u)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(i.callback=function(){Jy(r,a,u),typeof h!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var _=u.stack;this.componentDidCatch(u.value,{componentStack:_!==null?_:""})})}function I1(i,r,a,u,h){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&za(r,a,h,!0),a=an.current,a!==null){switch(a.tag){case 13:return Rn===null?Gf():a.alternate===null&&Ge===0&&(Ge=3),a.flags&=-257,a.flags|=65536,a.lanes=h,u===jh?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),Kf(i,u,h)),!1;case 22:return a.flags|=65536,u===jh?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),Kf(i,u,h)),!1}throw Error(s(435,a.tag))}return Kf(i,u,h),Gf(),!1}if(Se)return r=an.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,u!==kh&&(i=Error(s(422),{cause:u}),Da(nn(i,a)))):(u!==kh&&(r=Error(s(423),{cause:u}),Da(nn(r,a))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,u=nn(u,a),h=cf(i.stateNode,u,h),bf(i,h),Ge!==4&&(Ge=2)),!1;var f=Error(s(520),{cause:u});if(f=nn(f,a),Xa===null?Xa=[f]:Xa.push(f),Ge!==4&&(Ge=2),r===null)return!0;u=nn(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=h&-h,a.lanes|=i,i=cf(a.stateNode,u,i),bf(a,i),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Vi===null||!Vi.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=e_(h),t_(h,i,a,u),bf(a,h),!1}a=a.return}while(a!==null);return!1}var n_=Error(s(461)),ot=!1;function gt(i,r,a,u){r.child=i===null?oy(r,null,a,u):Ar(r,i.child,a,u)}function i_(i,r,a,u,h){a=a.render;var f=r.ref;if("ref"in u){var p={};for(var _ in u)_!=="ref"&&(p[_]=u[_])}else p=u;return Dr(r),u=Qh(i,r,a,p,f,h),_=Kh(),i!==null&&!ot?(Yh(i,r,h),Kn(i,r,h)):(Se&&_&&Uh(r),r.flags|=1,gt(i,r,u,h),r.child)}function r_(i,r,a,u,h){if(i===null){var f=a.type;return typeof f=="function"&&!Mf(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,s_(i,r,f,u,h)):(i=ou(a.type,null,u,r,r.mode,h),i.ref=r.ref,i.return=r,r.child=i)}if(f=i.child,!vf(i,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:ba,a(p,u)&&i.ref===r.ref)return Kn(i,r,h)}return r.flags|=1,i=Oi(f,u),i.ref=r.ref,i.return=r,r.child=i}function s_(i,r,a,u,h){if(i!==null){var f=i.memoizedProps;if(ba(f,u)&&i.ref===r.ref)if(ot=!1,r.pendingProps=u=f,vf(i,h))(i.flags&131072)!==0&&(ot=!0);else return r.lanes=i.lanes,Kn(i,r,h)}return hf(i,r,a,u,h)}function a_(i,r,a){var u=r.pendingProps,h=u.children,f=(r.stateNode._pendingVisibility&2)!==0,p=i!==null?i.memoizedState:null;if(ja(i,r),u.mode==="hidden"||f){if((r.flags&128)!==0){if(u=p!==null?p.baseLanes|a:a,i!==null){for(h=r.child=i.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;r.childLanes=f&~u}else r.childLanes=0,r.child=null;return o_(i,r,u,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ql(r,p!==null?p.cachePool:null),p!==null?ly(r,p):zh(),uy(r);else return r.lanes=r.childLanes=536870912,o_(i,r,p!==null?p.baseLanes|a:a,a)}else p!==null?(Ql(r,p.cachePool),ly(r,p),Ai(),r.memoizedState=null):(i!==null&&Ql(r,null),zh(),Ai());return gt(i,r,h,a),r.child}function o_(i,r,a,u){var h=Fh();return h=h===null?null:{parent:rt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},i!==null&&Ql(r,null),zh(),uy(r),i!==null&&za(i,r,u,!0),null}function ja(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=2097664)}}function hf(i,r,a,u,h){return Dr(r),a=Qh(i,r,a,u,void 0,h),u=Kh(),i!==null&&!ot?(Yh(i,r,h),Kn(i,r,h)):(Se&&u&&Uh(r),r.flags|=1,gt(i,r,a,h),r.child)}function l_(i,r,a,u,h,f){return Dr(r),r.updateQueue=null,a=my(r,u,a,h),dy(i),u=Kh(),i!==null&&!ot?(Yh(i,r,f),Kn(i,r,f)):(Se&&u&&Uh(r),r.flags|=1,gt(i,r,a,f),r.child)}function u_(i,r,a,u,h){if(Dr(r),r.stateNode===null){var f=fs,p=a.contextType;typeof p=="object"&&p!==null&&(f=St(p)),f=new a(u,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=uf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=u,f.state=r.memoizedState,f.refs={},wf(r),p=a.contextType,f.context=typeof p=="object"&&p!==null?St(p):fs,f.state=r.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(lf(r,a,p,u),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&uf.enqueueReplaceState(f,f.state,null),Ha(r,u,f,h),qa(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){f=r.stateNode;var _=r.memoizedProps,A=Ir(a,_);f.props=A;var b=f.context,M=a.contextType;p=fs,typeof M=="object"&&M!==null&&(p=St(M));var k=a.getDerivedStateFromProps;M=typeof k=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=r.pendingProps!==_,M||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||b!==p)&&Xy(r,f,u,p),Ri=!1;var D=r.memoizedState;f.state=D,Ha(r,u,f,h),qa(),b=r.memoizedState,_||D!==b||Ri?(typeof k=="function"&&(lf(r,a,k,u),b=r.memoizedState),(A=Ri||Yy(r,a,A,u,D,b,p))?(M||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=b),f.props=u,f.state=b,f.context=p,u=A):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{f=r.stateNode,Sf(i,r),p=r.memoizedProps,M=Ir(a,p),f.props=M,k=r.pendingProps,D=f.context,b=a.contextType,A=fs,typeof b=="object"&&b!==null&&(A=St(b)),_=a.getDerivedStateFromProps,(b=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==k||D!==A)&&Xy(r,f,u,A),Ri=!1,D=r.memoizedState,f.state=D,Ha(r,u,f,h),qa();var O=r.memoizedState;p!==k||D!==O||Ri||i!==null&&i.dependencies!==null&&iu(i.dependencies)?(typeof _=="function"&&(lf(r,a,_,u),O=r.memoizedState),(M=Ri||Yy(r,a,M,u,D,O,A)||i!==null&&i.dependencies!==null&&iu(i.dependencies))?(b||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(u,O,A),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(u,O,A)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===i.memoizedProps&&D===i.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===i.memoizedProps&&D===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=O),f.props=u,f.state=O,f.context=A,u=M):(typeof f.componentDidUpdate!="function"||p===i.memoizedProps&&D===i.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===i.memoizedProps&&D===i.memoizedState||(r.flags|=1024),u=!1)}return f=u,ja(i,r),u=(r.flags&128)!==0,f||u?(f=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,i!==null&&u?(r.child=Ar(r,i.child,null,h),r.child=Ar(r,null,a,h)):gt(i,r,a,h),r.memoizedState=f.state,i=r.child):i=Kn(i,r,h),i}function c_(i,r,a,u){return Ca(),r.flags|=256,gt(i,r,a,u),r.child}var ff={dehydrated:null,treeContext:null,retryLane:0};function df(i){return{baseLanes:i,cachePool:fy()}}function mf(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=cn),i}function h_(i,r,a){var u=r.pendingProps,h=!1,f=(r.flags&128)!==0,p;if((p=f)||(p=i!==null&&i.memoizedState===null?!1:(it.current&2)!==0),p&&(h=!0,r.flags&=-129),p=(r.flags&32)!==0,r.flags&=-33,i===null){if(Se){if(h?Ti(r):Ai(),Se){var _=mt,A;if(A=_){e:{for(A=_,_=bn;A.nodeType!==8;){if(!_){_=null;break e}if(A=_n(A.nextSibling),A===null){_=null;break e}}_=A}_!==null?(r.memoizedState={dehydrated:_,treeContext:vr!==null?{id:Hn,overflow:Fn}:null,retryLane:536870912},A=un(18,null,null,0),A.stateNode=_,A.return=r,r.child=A,Mt=r,mt=null,A=!0):A=!1}A||Tr(r)}if(_=r.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return _.data==="$!"?r.lanes=16:r.lanes=536870912,null;Gn(r)}return _=u.children,u=u.fallback,h?(Ai(),h=r.mode,_=pf({mode:"hidden",children:_},h),u=xr(u,h,a,null),_.return=r,u.return=r,_.sibling=u,r.child=_,h=r.child,h.memoizedState=df(a),h.childLanes=mf(i,p,a),r.memoizedState=ff,u):(Ti(r),gf(r,_))}if(A=i.memoizedState,A!==null&&(_=A.dehydrated,_!==null)){if(f)r.flags&256?(Ti(r),r.flags&=-257,r=yf(i,r,a)):r.memoizedState!==null?(Ai(),r.child=i.child,r.flags|=128,r=null):(Ai(),h=u.fallback,_=r.mode,u=pf({mode:"visible",children:u.children},_),h=xr(h,_,a,null),h.flags|=2,u.return=r,h.return=r,u.sibling=h,r.child=u,Ar(r,i.child,null,a),u=r.child,u.memoizedState=df(a),u.childLanes=mf(i,p,a),r.memoizedState=ff,r=h);else if(Ti(r),_.data==="$!"){if(p=_.nextSibling&&_.nextSibling.dataset,p)var b=p.dgst;p=b,u=Error(s(419)),u.stack="",u.digest=p,Da({value:u,source:null,stack:null}),r=yf(i,r,a)}else if(ot||za(i,r,a,!1),p=(a&i.childLanes)!==0,ot||p){if(p=Ve,p!==null){if(u=a&-a,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(p.suspendedLanes|a))!==0?0:u,u!==0&&u!==A.retryLane)throw A.retryLane=u,Ei(i,u),Vt(p,i,u),n_}_.data==="$?"||Gf(),r=yf(i,r,a)}else _.data==="$?"?(r.flags|=128,r.child=i.child,r=q1.bind(null,i),_._reactRetry=r,r=null):(i=A.treeContext,mt=_n(_.nextSibling),Mt=r,Se=!0,pn=null,bn=!1,i!==null&&(rn[sn++]=Hn,rn[sn++]=Fn,rn[sn++]=vr,Hn=i.id,Fn=i.overflow,vr=r),r=gf(r,u.children),r.flags|=4096);return r}return h?(Ai(),h=u.fallback,_=r.mode,A=i.child,b=A.sibling,u=Oi(A,{mode:"hidden",children:u.children}),u.subtreeFlags=A.subtreeFlags&31457280,b!==null?h=Oi(b,h):(h=xr(h,_,a,null),h.flags|=2),h.return=r,u.return=r,u.sibling=h,r.child=u,u=h,h=r.child,_=i.child.memoizedState,_===null?_=df(a):(A=_.cachePool,A!==null?(b=rt._currentValue,A=A.parent!==b?{parent:b,pool:b}:A):A=fy(),_={baseLanes:_.baseLanes|a,cachePool:A}),h.memoizedState=_,h.childLanes=mf(i,p,a),r.memoizedState=ff,u):(Ti(r),a=i.child,i=a.sibling,a=Oi(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,i!==null&&(p=r.deletions,p===null?(r.deletions=[i],r.flags|=16):p.push(i)),r.child=a,r.memoizedState=null,a)}function gf(i,r){return r=pf({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function pf(i,r){return L_(i,r,0,null)}function yf(i,r,a){return Ar(r,i.child,null,a),i=gf(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function f_(i,r,a){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Tf(i.return,r,a)}function _f(i,r,a,u,h){var f=i.memoizedState;f===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:h}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=u,f.tail=a,f.tailMode=h)}function d_(i,r,a){var u=r.pendingProps,h=u.revealOrder,f=u.tail;if(gt(i,r,u.children,a),u=it.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&f_(i,a,r);else if(i.tag===19)f_(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(ze(it,u),h){case"forwards":for(a=r.child,h=null;a!==null;)i=a.alternate,i!==null&&Gl(i)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),_f(r,!1,h,a,f);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(i=h.alternate,i!==null&&Gl(i)===null){r.child=h;break}i=h.sibling,h.sibling=a,a=h,h=i}_f(r,!0,a,null,f);break;case"together":_f(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Kn(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),Mi|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(za(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=Oi(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=Oi(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function vf(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&iu(i)))}function C1(i,r,a){switch(r.tag){case 3:vl(r,r.stateNode.containerInfo),bi(r,rt,i.memoizedState.cache),Ca();break;case 27:case 5:lh(r);break;case 4:vl(r,r.stateNode.containerInfo);break;case 10:bi(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ti(r),r.flags|=128,null):(a&r.child.childLanes)!==0?h_(i,r,a):(Ti(r),i=Kn(i,r,a),i!==null?i.sibling:null);Ti(r);break;case 19:var h=(i.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(za(i,r,a,!1),u=(a&r.childLanes)!==0),h){if(u)return d_(i,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ze(it,it.current),u)break;return null;case 22:case 23:return r.lanes=0,a_(i,r,a);case 24:bi(r,rt,i.memoizedState.cache)}return Kn(i,r,a)}function m_(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)ot=!0;else{if(!vf(i,a)&&(r.flags&128)===0)return ot=!1,C1(i,r,a);ot=(i.flags&131072)!==0}else ot=!1,Se&&(r.flags&1048576)!==0&&Zp(r,zl,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var u=r.elementType,h=u._init;if(u=h(u._payload),r.type=u,typeof u=="function")Mf(u)?(i=Ir(u,i),r.tag=1,r=u_(null,r,u,i,a)):(r.tag=0,r=hf(null,r,u,i,a));else{if(u!=null){if(h=u.$$typeof,h===V){r.tag=11,r=i_(null,r,u,i,a);break e}else if(h===K){r.tag=14,r=r_(null,r,u,i,a);break e}}throw r=mn(u)||u,Error(s(306,r,""))}}return r;case 0:return hf(i,r,r.type,r.pendingProps,a);case 1:return u=r.type,h=Ir(u,r.pendingProps),u_(i,r,u,h,a);case 3:e:{if(vl(r,r.stateNode.containerInfo),i===null)throw Error(s(387));var f=r.pendingProps;h=r.memoizedState,u=h.element,Sf(i,r),Ha(r,f,null,a);var p=r.memoizedState;if(f=p.cache,bi(r,rt,f),f!==h.cache&&Af(r,[rt],a,!0),qa(),f=p.element,h.isDehydrated)if(h={element:f,isDehydrated:!1,cache:p.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=c_(i,r,f,a);break e}else if(f!==u){u=nn(Error(s(424)),r),Da(u),r=c_(i,r,f,a);break e}else for(mt=_n(r.stateNode.containerInfo.firstChild),Mt=r,Se=!0,pn=null,bn=!0,a=oy(r,null,f,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ca(),f===u){r=Kn(i,r,a);break e}gt(i,r,f,a)}r=r.child}return r;case 26:return ja(i,r),i===null?(a=yv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Se||(a=r.type,i=r.pendingProps,u=vu(pi.current).createElement(a),u[wt]=r,u[kt]=i,pt(u,a,i),at(u),r.stateNode=u):r.memoizedState=yv(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return lh(r),i===null&&Se&&(u=r.stateNode=mv(r.type,r.pendingProps,pi.current),Mt=r,bn=!0,mt=_n(u.firstChild)),u=r.pendingProps.children,i!==null||Se?gt(i,r,u,a):r.child=Ar(r,null,u,a),ja(i,r),r.child;case 5:return i===null&&Se&&((h=u=mt)&&(u=rb(u,r.type,r.pendingProps,bn),u!==null?(r.stateNode=u,Mt=r,mt=_n(u.firstChild),bn=!1,h=!0):h=!1),h||Tr(r)),lh(r),h=r.type,f=r.pendingProps,p=i!==null?i.memoizedProps:null,u=f.children,sd(h,f)?u=null:p!==null&&sd(h,p)&&(r.flags|=32),r.memoizedState!==null&&(h=Qh(i,r,T1,null,null,a),ro._currentValue=h),ja(i,r),gt(i,r,u,a),r.child;case 6:return i===null&&Se&&((i=a=mt)&&(a=sb(a,r.pendingProps,bn),a!==null?(r.stateNode=a,Mt=r,mt=null,i=!0):i=!1),i||Tr(r)),null;case 13:return h_(i,r,a);case 4:return vl(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Ar(r,null,u,a):gt(i,r,u,a),r.child;case 11:return i_(i,r,r.type,r.pendingProps,a);case 7:return gt(i,r,r.pendingProps,a),r.child;case 8:return gt(i,r,r.pendingProps.children,a),r.child;case 12:return gt(i,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,bi(r,r.type,u.value),gt(i,r,u.children,a),r.child;case 9:return h=r.type._context,u=r.pendingProps.children,Dr(r),h=St(h),u=u(h),r.flags|=1,gt(i,r,u,a),r.child;case 14:return r_(i,r,r.type,r.pendingProps,a);case 15:return s_(i,r,r.type,r.pendingProps,a);case 19:return d_(i,r,a);case 22:return a_(i,r,a);case 24:return Dr(r),u=St(rt),i===null?(h=Fh(),h===null&&(h=Ve,f=qh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),r.memoizedState={parent:u,cache:h},wf(r),bi(r,rt,h)):((i.lanes&a)!==0&&(Sf(i,r),Ha(r,null,null,a),qa()),h=i.memoizedState,f=r.memoizedState,h.parent!==u?(h={parent:u,cache:u},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),bi(r,rt,u)):(u=f.cache,bi(r,rt,u),u!==h.cache&&Af(r,[rt],a,!0))),gt(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var Ef=Ce(null),Cr=null,Yn=null;function bi(i,r,a){ze(Ef,r._currentValue),r._currentValue=a}function Xn(i){i._currentValue=Ef.current,$e(Ef)}function Tf(i,r,a){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===a)break;i=i.return}}function Af(i,r,a,u){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=h;for(var A=0;A<r.length;A++)if(_.context===r[A]){f.lanes|=a,_=f.alternate,_!==null&&(_.lanes|=a),Tf(f.return,a,i),u||(p=null);break e}f=_.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(s(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),Tf(p,a,i),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===i){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function za(i,r,a,u){i=null;for(var h=r,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var _=h.type;Gt(h.pendingProps.value,p.value)||(i!==null?i.push(_):i=[_])}}else if(h===_l.current){if(p=h.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(ro):i=[ro])}h=h.return}i!==null&&Af(r,i,a,u),r.flags|=262144}function iu(i){for(i=i.firstContext;i!==null;){if(!Gt(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Dr(i){Cr=i,Yn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function St(i){return g_(Cr,i)}function ru(i,r){return Cr===null&&Dr(i),g_(i,r)}function g_(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Yn===null){if(i===null)throw Error(s(308));Yn=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Yn=Yn.next=r;return a}var Ri=!1;function wf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sf(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ii(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ci(i,r,a){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(qe&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,r=kl(i),$p(i,null,a),r}return Ll(i,u,r,a),kl(i)}function Ba(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,rp(i,a)}}function bf(i,r){var a=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=r:f=f.next=r}else h=f=r;a={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:u.shared,callbacks:u.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var Rf=!1;function qa(){if(Rf){var i=_s;if(i!==null)throw i}}function Ha(i,r,a,u){Rf=!1;var h=i.updateQueue;Ri=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,_=h.shared.pending;if(_!==null){h.shared.pending=null;var A=_,b=A.next;A.next=null,p===null?f=b:p.next=b,p=A;var M=i.alternate;M!==null&&(M=M.updateQueue,_=M.lastBaseUpdate,_!==p&&(_===null?M.firstBaseUpdate=b:_.next=b,M.lastBaseUpdate=A))}if(f!==null){var k=h.baseState;p=0,M=b=A=null,_=f;do{var D=_.lane&-536870913,O=D!==_.lane;if(O?(Ae&D)===D:(u&D)===D){D!==0&&D===ys&&(Rf=!0),M!==null&&(M=M.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var Y=i,le=_;D=r;var Qe=a;switch(le.tag){case 1:if(Y=le.payload,typeof Y=="function"){k=Y.call(Qe,k,D);break e}k=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=le.payload,D=typeof Y=="function"?Y.call(Qe,k,D):Y,D==null)break e;k=ye({},k,D);break e;case 2:Ri=!0}}D=_.callback,D!==null&&(i.flags|=64,O&&(i.flags|=8192),O=h.callbacks,O===null?h.callbacks=[D]:O.push(D))}else O={lane:D,tag:_.tag,payload:_.payload,callback:_.callback,next:null},M===null?(b=M=O,A=k):M=M.next=O,p|=D;if(_=_.next,_===null){if(_=h.shared.pending,_===null)break;O=_,_=O.next,O.next=null,h.lastBaseUpdate=O,h.shared.pending=null}}while(!0);M===null&&(A=k),h.baseState=A,h.firstBaseUpdate=b,h.lastBaseUpdate=M,f===null&&(h.shared.lanes=0),Mi|=p,i.lanes=p,i.memoizedState=k}}function p_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function y_(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)p_(a[i],r)}function Fa(i,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var h=u.next;a=h;do{if((a.tag&i)===i){u=void 0;var f=a.create,p=a.inst;u=f(),p.destroy=u}a=a.next}while(a!==h)}}catch(_){Oe(r,r.return,_)}}function Di(i,r,a){try{var u=r.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var f=h.next;u=f;do{if((u.tag&i)===i){var p=u.inst,_=p.destroy;if(_!==void 0){p.destroy=void 0,h=r;var A=a;try{_()}catch(b){Oe(h,A,b)}}}u=u.next}while(u!==f)}}catch(b){Oe(r,r.return,b)}}function __(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{y_(r,a)}catch(u){Oe(i,i.return,u)}}}function v_(i,r,a){a.props=Ir(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(u){Oe(i,r,u)}}function Nr(i,r){try{var a=i.ref;if(a!==null){var u=i.stateNode;switch(i.tag){case 26:case 27:case 5:var h=u;break;default:h=u}typeof a=="function"?i.refCleanup=a(h):a.current=h}}catch(f){Oe(i,r,f)}}function Qt(i,r){var a=i.ref,u=i.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(h){Oe(i,r,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Oe(i,r,h)}else a.current=null}function E_(i){var r=i.type,a=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(h){Oe(i,i.return,h)}}function T_(i,r,a){try{var u=i.stateNode;J1(u,i.type,a,r),u[kt]=r}catch(h){Oe(i,i.return,h)}}function A_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function If(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||A_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Cf(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(i,r):a.insertBefore(i,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(i,a)):(r=a,r.appendChild(i)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=_u));else if(u!==4&&u!==27&&(i=i.child,i!==null))for(Cf(i,r,a),i=i.sibling;i!==null;)Cf(i,r,a),i=i.sibling}function su(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(u!==4&&u!==27&&(i=i.child,i!==null))for(su(i,r,a),i=i.sibling;i!==null;)su(i,r,a),i=i.sibling}var $n=!1,Fe=!1,Df=!1,w_=typeof WeakSet=="function"?WeakSet:Set,lt=null,S_=!1;function D1(i,r){if(i=i.containerInfo,id=bu,i=Bp(i),Nh(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var h=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var p=0,_=-1,A=-1,b=0,M=0,k=i,D=null;t:for(;;){for(var O;k!==a||h!==0&&k.nodeType!==3||(_=p+h),k!==f||u!==0&&k.nodeType!==3||(A=p+u),k.nodeType===3&&(p+=k.nodeValue.length),(O=k.firstChild)!==null;)D=k,k=O;for(;;){if(k===i)break t;if(D===a&&++b===h&&(_=p),D===f&&++M===u&&(A=p),(O=k.nextSibling)!==null)break;k=D,D=k.parentNode}k=O}a=_===-1||A===-1?null:{start:_,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(rd={focusedElem:i,selectionRange:a},bu=!1,lt=r;lt!==null;)if(r=lt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,lt=i;else for(;lt!==null;){switch(r=lt,f=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&f!==null){i=void 0,a=r,h=f.memoizedProps,f=f.memoizedState,u=a.stateNode;try{var Y=Ir(a.type,h,a.elementType===a.type);i=u.getSnapshotBeforeUpdate(Y,f),u.__reactInternalSnapshotBeforeUpdate=i}catch(le){Oe(a,a.return,le)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)ld(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ld(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,lt=i;break}lt=r.return}return Y=S_,S_=!1,Y}function b_(i,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Zn(i,a),u&4&&Fa(5,a);break;case 1:if(Zn(i,a),u&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(_){Oe(a,a.return,_)}else{var h=Ir(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(h,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){Oe(a,a.return,_)}}u&64&&__(a),u&512&&Nr(a,a.return);break;case 3:if(Zn(i,a),u&64&&(u=a.updateQueue,u!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{y_(u,i)}catch(_){Oe(a,a.return,_)}}break;case 26:Zn(i,a),u&512&&Nr(a,a.return);break;case 27:case 5:Zn(i,a),r===null&&u&4&&E_(a),u&512&&Nr(a,a.return);break;case 12:Zn(i,a);break;case 13:Zn(i,a),u&4&&C_(i,a);break;case 22:if(h=a.memoizedState!==null||$n,!h){r=r!==null&&r.memoizedState!==null||Fe;var f=$n,p=Fe;$n=h,(Fe=r)&&!p?Ni(i,a,(a.subtreeFlags&8772)!==0):Zn(i,a),$n=f,Fe=p}u&512&&(a.memoizedProps.mode==="manual"?Nr(a,a.return):Qt(a,a.return));break;default:Zn(i,a)}}function R_(i){var r=i.alternate;r!==null&&(i.alternate=null,R_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&mh(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Je=null,Kt=!1;function Wn(i,r,a){for(a=a.child;a!==null;)I_(i,r,a),a=a.sibling}function I_(i,r,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(da,a)}catch{}switch(a.tag){case 26:Fe||Qt(a,r),Wn(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Fe||Qt(a,r);var u=Je,h=Kt;for(Je=a.stateNode,Wn(i,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);mh(a),Je=u,Kt=h;break;case 5:Fe||Qt(a,r);case 6:h=Je;var f=Kt;if(Je=null,Wn(i,r,a),Je=h,Kt=f,Je!==null)if(Kt)try{i=Je,u=a.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)}catch(p){Oe(a,r,p)}else try{Je.removeChild(a.stateNode)}catch(p){Oe(a,r,p)}break;case 18:Je!==null&&(Kt?(r=Je,a=a.stateNode,r.nodeType===8?od(r.parentNode,a):r.nodeType===1&&od(r,a),lo(r)):od(Je,a.stateNode));break;case 4:u=Je,h=Kt,Je=a.stateNode.containerInfo,Kt=!0,Wn(i,r,a),Je=u,Kt=h;break;case 0:case 11:case 14:case 15:Fe||Di(2,a,r),Fe||Di(4,a,r),Wn(i,r,a);break;case 1:Fe||(Qt(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&v_(a,r,u)),Wn(i,r,a);break;case 21:Wn(i,r,a);break;case 22:Fe||Qt(a,r),Fe=(u=Fe)||a.memoizedState!==null,Wn(i,r,a),Fe=u;break;default:Wn(i,r,a)}}function C_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{lo(i)}catch(a){Oe(r,r.return,a)}}function N1(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new w_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new w_),r;default:throw Error(s(435,i.tag))}}function Nf(i,r){var a=N1(i);r.forEach(function(u){var h=H1.bind(null,i,u);a.has(u)||(a.add(u),u.then(h,h))})}function on(i,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var h=a[u],f=i,p=r,_=p;e:for(;_!==null;){switch(_.tag){case 27:case 5:Je=_.stateNode,Kt=!1;break e;case 3:Je=_.stateNode.containerInfo,Kt=!0;break e;case 4:Je=_.stateNode.containerInfo,Kt=!0;break e}_=_.return}if(Je===null)throw Error(s(160));I_(f,p,h),Je=null,Kt=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)D_(r,i),r=r.sibling}var yn=null;function D_(i,r){var a=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:on(r,i),ln(i),u&4&&(Di(3,i,i.return),Fa(3,i),Di(5,i,i.return));break;case 1:on(r,i),ln(i),u&512&&(Fe||a===null||Qt(a,a.return)),u&64&&$n&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var h=yn;if(on(r,i),ln(i),u&512&&(Fe||a===null||Qt(a,a.return)),u&4){var f=a!==null?a.memoizedState:null;if(u=i.memoizedState,a===null)if(u===null)if(i.stateNode===null){e:{u=i.type,a=i.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":f=h.getElementsByTagName("title")[0],(!f||f[pa]||f[wt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(u),h.head.insertBefore(f,h.querySelector("head > title"))),pt(f,u,a),f[wt]=i,at(f),u=f;break e;case"link":var p=Ev("link","href",h).get(u+(a.href||""));if(p){for(var _=0;_<p.length;_++)if(f=p[_],f.getAttribute("href")===(a.href==null?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(_,1);break t}}f=h.createElement(u),pt(f,u,a),h.head.appendChild(f);break;case"meta":if(p=Ev("meta","content",h).get(u+(a.content||""))){for(_=0;_<p.length;_++)if(f=p[_],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(_,1);break t}}f=h.createElement(u),pt(f,u,a),h.head.appendChild(f);break;default:throw Error(s(468,u))}f[wt]=i,at(f),u=f}i.stateNode=u}else Tv(h,i.type,i.stateNode);else i.stateNode=vv(h,u,i.memoizedProps);else f!==u?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,u===null?Tv(h,i.type,i.stateNode):vv(h,u,i.memoizedProps)):u===null&&i.stateNode!==null&&T_(i,i.memoizedProps,a.memoizedProps)}break;case 27:if(u&4&&i.alternate===null){h=i.stateNode,f=i.memoizedProps;try{for(var A=h.firstChild;A;){var b=A.nextSibling,M=A.nodeName;A[pa]||M==="HEAD"||M==="BODY"||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&A.rel.toLowerCase()==="stylesheet"||h.removeChild(A),A=b}for(var k=i.type,D=h.attributes;D.length;)h.removeAttributeNode(D[0]);pt(h,k,f),h[wt]=i,h[kt]=f}catch(Y){Oe(i,i.return,Y)}}case 5:if(on(r,i),ln(i),u&512&&(Fe||a===null||Qt(a,a.return)),i.flags&32){h=i.stateNode;try{ss(h,"")}catch(Y){Oe(i,i.return,Y)}}u&4&&i.stateNode!=null&&(h=i.memoizedProps,T_(i,h,a!==null?a.memoizedProps:h)),u&1024&&(Df=!0);break;case 6:if(on(r,i),ln(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,a=i.stateNode;try{a.nodeValue=u}catch(Y){Oe(i,i.return,Y)}}break;case 3:if(Au=null,h=yn,yn=Eu(r.containerInfo),on(r,i),yn=h,ln(i),u&4&&a!==null&&a.memoizedState.isDehydrated)try{lo(r.containerInfo)}catch(Y){Oe(i,i.return,Y)}Df&&(Df=!1,N_(i));break;case 4:u=yn,yn=Eu(i.stateNode.containerInfo),on(r,i),ln(i),yn=u;break;case 12:on(r,i),ln(i);break;case 13:on(r,i),ln(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(jf=Sn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Nf(i,u)));break;case 22:if(u&512&&(Fe||a===null||Qt(a,a.return)),A=i.memoizedState!==null,b=a!==null&&a.memoizedState!==null,M=$n,k=Fe,$n=M||A,Fe=k||b,on(r,i),Fe=k,$n=M,ln(i),r=i.stateNode,r._current=i,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,u&8192&&(r._visibility=A?r._visibility&-2:r._visibility|1,A&&(r=$n||Fe,a===null||b||r||As(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(a=null,r=i;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){b=a=r;try{if(h=b.stateNode,A)f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{p=b.stateNode,_=b.memoizedProps.style;var O=_!=null&&_.hasOwnProperty("display")?_.display:null;p.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(Y){Oe(b,b.return,Y)}}}else if(r.tag===6){if(a===null){b=r;try{b.stateNode.nodeValue=A?"":b.memoizedProps}catch(Y){Oe(b,b.return,Y)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Nf(i,a))));break;case 19:on(r,i),ln(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Nf(i,u)));break;case 21:break;default:on(r,i),ln(i)}}function ln(i){var r=i.flags;if(r&2){try{if(i.tag!==27){e:{for(var a=i.return;a!==null;){if(A_(a)){var u=a;break e}a=a.return}throw Error(s(160))}switch(u.tag){case 27:var h=u.stateNode,f=If(i);su(i,f,h);break;case 5:var p=u.stateNode;u.flags&32&&(ss(p,""),u.flags&=-33);var _=If(i);su(i,_,p);break;case 3:case 4:var A=u.stateNode.containerInfo,b=If(i);Cf(i,b,A);break;default:throw Error(s(161))}}}catch(M){Oe(i,i.return,M)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function N_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;N_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Zn(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)b_(i,r.alternate,r),r=r.sibling}function As(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Di(4,r,r.return),As(r);break;case 1:Qt(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&v_(r,r.return,a),As(r);break;case 26:case 27:case 5:Qt(r,r.return),As(r);break;case 22:Qt(r,r.return),r.memoizedState===null&&As(r);break;default:As(r)}i=i.sibling}}function Ni(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,h=i,f=r,p=f.flags;switch(f.tag){case 0:case 11:case 15:Ni(h,f,a),Fa(4,f);break;case 1:if(Ni(h,f,a),u=f,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(b){Oe(u,u.return,b)}if(u=f,h=u.updateQueue,h!==null){var _=u.stateNode;try{var A=h.shared.hiddenCallbacks;if(A!==null)for(h.shared.hiddenCallbacks=null,h=0;h<A.length;h++)p_(A[h],_)}catch(b){Oe(u,u.return,b)}}a&&p&64&&__(f),Nr(f,f.return);break;case 26:case 27:case 5:Ni(h,f,a),a&&u===null&&p&4&&E_(f),Nr(f,f.return);break;case 12:Ni(h,f,a);break;case 13:Ni(h,f,a),a&&p&4&&C_(h,f);break;case 22:f.memoizedState===null&&Ni(h,f,a),Nr(f,f.return);break;default:Ni(h,f,a)}r=r.sibling}}function xf(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Va(a))}function Of(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Va(i))}function xi(i,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)x_(i,r,a,u),r=r.sibling}function x_(i,r,a,u){var h=r.flags;switch(r.tag){case 0:case 11:case 15:xi(i,r,a,u),h&2048&&Fa(9,r);break;case 3:xi(i,r,a,u),h&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Va(i)));break;case 12:if(h&2048){xi(i,r,a,u),i=r.stateNode;try{var f=r.memoizedProps,p=f.id,_=f.onPostCommit;typeof _=="function"&&_(p,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(A){Oe(r,r.return,A)}}else xi(i,r,a,u);break;case 23:break;case 22:f=r.stateNode,r.memoizedState!==null?f._visibility&4?xi(i,r,a,u):Ga(i,r):f._visibility&4?xi(i,r,a,u):(f._visibility|=4,ws(i,r,a,u,(r.subtreeFlags&10256)!==0)),h&2048&&xf(r.alternate,r);break;case 24:xi(i,r,a,u),h&2048&&Of(r.alternate,r);break;default:xi(i,r,a,u)}}function ws(i,r,a,u,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var f=i,p=r,_=a,A=u,b=p.flags;switch(p.tag){case 0:case 11:case 15:ws(f,p,_,A,h),Fa(8,p);break;case 23:break;case 22:var M=p.stateNode;p.memoizedState!==null?M._visibility&4?ws(f,p,_,A,h):Ga(f,p):(M._visibility|=4,ws(f,p,_,A,h)),h&&b&2048&&xf(p.alternate,p);break;case 24:ws(f,p,_,A,h),h&&b&2048&&Of(p.alternate,p);break;default:ws(f,p,_,A,h)}r=r.sibling}}function Ga(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,u=r,h=u.flags;switch(u.tag){case 22:Ga(a,u),h&2048&&xf(u.alternate,u);break;case 24:Ga(a,u),h&2048&&Of(u.alternate,u);break;default:Ga(a,u)}r=r.sibling}}var Qa=8192;function Ss(i){if(i.subtreeFlags&Qa)for(i=i.child;i!==null;)O_(i),i=i.sibling}function O_(i){switch(i.tag){case 26:Ss(i),i.flags&Qa&&i.memoizedState!==null&&_b(yn,i.memoizedState,i.memoizedProps);break;case 5:Ss(i);break;case 3:case 4:var r=yn;yn=Eu(i.stateNode.containerInfo),Ss(i),yn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Qa,Qa=16777216,Ss(i),Qa=r):Ss(i));break;default:Ss(i)}}function M_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Ka(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];lt=u,P_(u,i)}M_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)V_(i),i=i.sibling}function V_(i){switch(i.tag){case 0:case 11:case 15:Ka(i),i.flags&2048&&Di(9,i,i.return);break;case 3:Ka(i);break;case 12:Ka(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&4&&(i.return===null||i.return.tag!==13)?(r._visibility&=-5,au(i)):Ka(i);break;default:Ka(i)}}function au(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];lt=u,P_(u,i)}M_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Di(8,r,r.return),au(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,au(r));break;default:au(r)}i=i.sibling}}function P_(i,r){for(;lt!==null;){var a=lt;switch(a.tag){case 0:case 11:case 15:Di(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Va(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,lt=u;else e:for(a=i;lt!==null;){u=lt;var h=u.sibling,f=u.return;if(R_(u),u===a){lt=null;break e}if(h!==null){h.return=f,lt=h;break e}lt=f}}}function x1(i,r,a,u){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(i,r,a,u){return new x1(i,r,a,u)}function Mf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Oi(i,r){var a=i.alternate;return a===null?(a=un(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&31457280,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function U_(i,r){i.flags&=31457282;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function ou(i,r,a,u,h,f){var p=0;if(u=i,typeof i=="function")Mf(i)&&(p=1);else if(typeof i=="string")p=pb(i,a,wn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case d:return xr(a.children,h,f,r);case g:p=8,h|=24;break;case y:return i=un(12,a,r,h|2),i.elementType=y,i.lanes=f,i;case P:return i=un(13,a,r,h),i.elementType=P,i.lanes=f,i;case x:return i=un(19,a,r,h),i.elementType=x,i.lanes=f,i;case ne:return L_(a,h,f,r);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case v:case R:p=10;break e;case T:p=9;break e;case V:p=11;break e;case K:p=14;break e;case J:p=16,u=null;break e}p=29,a=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=un(p,a,r,h),r.elementType=i,r.type=u,r.lanes=f,r}function xr(i,r,a,u){return i=un(7,i,u,r),i.lanes=a,i}function L_(i,r,a,u){i=un(22,i,u,r),i.elementType=ne,i.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var p=Ei(f,2);p!==null&&(h._pendingVisibility|=2,Vt(p,f,2))}},attach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var p=Ei(f,2);p!==null&&(h._pendingVisibility&=-3,Vt(p,f,2))}}};return i.stateNode=h,i}function Vf(i,r,a){return i=un(6,i,null,r),i.lanes=a,i}function Pf(i,r,a){return r=un(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}function Jn(i){i.flags|=4}function k_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Av(r)){if(r=an.current,r!==null&&((Ae&4194176)===Ae?Rn!==null:(Ae&62914560)!==Ae&&(Ae&536870912)===0||r!==Rn))throw xa=jh,ty;i.flags|=8192}}function lu(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?np():536870912,i.lanes|=r,Rs|=r)}function Ya(i,r){if(!Se)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Be(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,u=0;if(r)for(var h=i.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags&31457280,u|=h.flags&31457280,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=u,i.childLanes=a,r}function O1(i,r,a){var u=r.pendingProps;switch(Lh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(r),null;case 1:return Be(r),null;case 3:return a=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Xn(rt),Jr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Ia(r)?Jn(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,pn!==null&&(Hf(pn),pn=null))),Be(r),null;case 26:return a=r.memoizedState,i===null?(Jn(r),a!==null?(Be(r),k_(r,a)):(Be(r),r.flags&=-16777217)):a?a!==i.memoizedState?(Jn(r),Be(r),k_(r,a)):(Be(r),r.flags&=-16777217):(i.memoizedProps!==u&&Jn(r),Be(r),r.flags&=-16777217),null;case 27:El(r),a=pi.current;var h=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Jn(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Be(r),null}i=wn.current,Ia(r)?Jp(r):(i=mv(h,u,a),r.stateNode=i,Jn(r))}return Be(r),null;case 5:if(El(r),a=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Jn(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Be(r),null}if(i=wn.current,Ia(r))Jp(r);else{switch(h=vu(pi.current),i){case 1:i=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?h.createElement(a,{is:u.is}):h.createElement(a)}}i[wt]=r,i[kt]=u;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=i;e:switch(pt(i,a,u),a){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Jn(r)}}return Be(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&Jn(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=pi.current,Ia(r)){if(i=r.stateNode,a=r.memoizedProps,u=null,h=Mt,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}i[wt]=r,i=!!(i.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||lv(i.nodeValue,a)),i||Tr(r)}else i=vu(i).createTextNode(u),i[wt]=r,r.stateNode=i}return Be(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=Ia(r),u!==null&&u.dehydrated!==null){if(i===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[wt]=r}else Ca(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Be(r),h=!1}else pn!==null&&(Hf(pn),pn=null),h=!0;if(!h)return r.flags&256?(Gn(r),r):(Gn(r),null)}if(Gn(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=u!==null,i=i!==null&&i.memoizedState!==null,a){u=r.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var f=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(f=u.memoizedState.cachePool.pool),f!==h&&(u.flags|=2048)}return a!==i&&a&&(r.child.flags|=8192),lu(r,r.updateQueue),Be(r),null;case 4:return Jr(),i===null&&ed(r.stateNode.containerInfo),Be(r),null;case 10:return Xn(r.type),Be(r),null;case 19:if($e(it),h=r.memoizedState,h===null)return Be(r),null;if(u=(r.flags&128)!==0,f=h.rendering,f===null)if(u)Ya(h,!1);else{if(Ge!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(f=Gl(i),f!==null){for(r.flags|=128,Ya(h,!1),i=f.updateQueue,r.updateQueue=i,lu(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)U_(a,i),a=a.sibling;return ze(it,it.current&1|2),r.child}i=i.sibling}h.tail!==null&&Sn()>uu&&(r.flags|=128,u=!0,Ya(h,!1),r.lanes=4194304)}else{if(!u)if(i=Gl(f),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,lu(r,i),Ya(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Se)return Be(r),null}else 2*Sn()-h.renderingStartTime>uu&&a!==536870912&&(r.flags|=128,u=!0,Ya(h,!1),r.lanes=4194304);h.isBackwards?(f.sibling=r.child,r.child=f):(i=h.last,i!==null?i.sibling=f:r.child=f,h.last=f)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Sn(),r.sibling=null,i=it.current,ze(it,u?i&1|2:i&1),r):(Be(r),null);case 22:case 23:return Gn(r),Bh(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(Be(r),r.subtreeFlags&6&&(r.flags|=8192)):Be(r),a=r.updateQueue,a!==null&&lu(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),i!==null&&$e(wr),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Xn(rt),Be(r),null;case 25:return null}throw Error(s(156,r.tag))}function M1(i,r){switch(Lh(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Xn(rt),Jr(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return El(r),null;case 13:if(Gn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ca()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return $e(it),null;case 4:return Jr(),null;case 10:return Xn(r.type),null;case 22:case 23:return Gn(r),Bh(),i!==null&&$e(wr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Xn(rt),null;case 25:return null;default:return null}}function j_(i,r){switch(Lh(r),r.tag){case 3:Xn(rt),Jr();break;case 26:case 27:case 5:El(r);break;case 4:Jr();break;case 13:Gn(r);break;case 19:$e(it);break;case 10:Xn(r.type);break;case 22:case 23:Gn(r),Bh(),i!==null&&$e(wr);break;case 24:Xn(rt)}}var V1={getCacheForType:function(i){var r=St(rt),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a}},P1=typeof WeakMap=="function"?WeakMap:Map,qe=0,Ve=null,pe=null,Ae=0,Pe=0,Yt=null,ei=!1,bs=!1,Uf=!1,ti=0,Ge=0,Mi=0,Or=0,Lf=0,cn=0,Rs=0,Xa=null,Cn=null,kf=!1,jf=0,uu=1/0,cu=null,Vi=null,hu=!1,Mr=null,$a=0,zf=0,Bf=null,Wa=0,qf=null;function Xt(){if((qe&2)!==0&&Ae!==0)return Ae&-Ae;if($.T!==null){var i=ys;return i!==0?i:$f()}return ap()}function z_(){cn===0&&(cn=(Ae&536870912)===0||Se?tp():536870912);var i=an.current;return i!==null&&(i.flags|=32),cn}function Vt(i,r,a){(i===Ve&&Pe===2||i.cancelPendingCommit!==null)&&(Is(i,0),ni(i,Ae,cn,!1)),ga(i,a),((qe&2)===0||i!==Ve)&&(i===Ve&&((qe&2)===0&&(Or|=a),Ge===4&&ni(i,Ae,cn,!1)),Dn(i))}function B_(i,r,a){if((qe&6)!==0)throw Error(s(327));var u=!a&&(r&60)===0&&(r&i.expiredLanes)===0||ma(i,r),h=u?k1(i,r):Qf(i,r,!0),f=u;do{if(h===0){bs&&!u&&ni(i,r,0,!1);break}else if(h===6)ni(i,r,0,!ei);else{if(a=i.current.alternate,f&&!U1(a)){h=Qf(i,r,!1),f=!1;continue}if(h===2){if(f=r,i.errorRecoveryDisabledLanes&f)var p=0;else p=i.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){r=p;e:{var _=i;h=Xa;var A=_.current.memoizedState.isDehydrated;if(A&&(Is(_,p).flags|=256),p=Qf(_,p,!1),p!==2){if(Uf&&!A){_.errorRecoveryDisabledLanes|=f,Or|=f,h=4;break e}f=Cn,Cn=h,f!==null&&Hf(f)}h=p}if(f=!1,h!==2)continue}}if(h===1){Is(i,0),ni(i,r,0,!0);break}e:{switch(u=i,h){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){ni(u,r,cn,!ei);break e}break;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=a,u.finishedLanes=r,(r&62914560)===r&&(f=jf+300-Sn(),10<f)){if(ni(u,r,cn,!ei),Sl(u,0)!==0)break e;u.timeoutHandle=hv(q_.bind(null,u,a,Cn,cu,kf,r,cn,Or,Rs,ei,2,-0,0),f);break e}q_(u,a,Cn,cu,kf,r,cn,Or,Rs,ei,0,-0,0)}}break}while(!0);Dn(i)}function Hf(i){Cn===null?Cn=i:Cn.push.apply(Cn,i)}function q_(i,r,a,u,h,f,p,_,A,b,M,k,D){var O=r.subtreeFlags;if((O&8192||(O&16785408)===16785408)&&(io={stylesheets:null,count:0,unsuspend:yb},O_(r),r=vb(),r!==null)){i.cancelPendingCommit=r(X_.bind(null,i,a,u,h,p,_,A,1,k,D)),ni(i,f,p,!b);return}X_(i,a,u,h,p,_,A,M,k,D)}function U1(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var h=a[u],f=h.getSnapshot;h=h.value;try{if(!Gt(f(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ni(i,r,a,u){r&=~Lf,r&=~Or,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var h=r;0<h;){var f=31-Ft(h),p=1<<f;u[f]=-1,h&=~p}a!==0&&ip(i,a,r)}function fu(){return(qe&6)===0?(Za(0),!1):!0}function Ff(){if(pe!==null){if(Pe===0)var i=pe.return;else i=pe,Yn=Cr=null,Xh(i),gs=null,Oa=0,i=pe;for(;i!==null;)j_(i.alternate,i),i=i.return;pe=null}}function Is(i,r){i.finishedWork=null,i.finishedLanes=0;var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,tb(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Ff(),Ve=i,pe=a=Oi(i.current,null),Ae=r,Pe=0,Yt=null,ei=!1,bs=ma(i,r),Uf=!1,Rs=cn=Lf=Or=Mi=Ge=0,Cn=Xa=null,kf=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var h=31-Ft(u),f=1<<h;r|=i[h],u&=~f}return ti=r,Ul(),a}function H_(i,r){me=null,$.H=In,r===Na?(r=ry(),Pe=3):r===ty?(r=ry(),Pe=4):Pe=r===n_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Yt=r,pe===null&&(Ge=1,nu(i,nn(r,i.current)))}function F_(){var i=$.H;return $.H=In,i===null?In:i}function G_(){var i=$.A;return $.A=V1,i}function Gf(){Ge=4,ei||(Ae&4194176)!==Ae&&an.current!==null||(bs=!0),(Mi&134217727)===0&&(Or&134217727)===0||Ve===null||ni(Ve,Ae,cn,!1)}function Qf(i,r,a){var u=qe;qe|=2;var h=F_(),f=G_();(Ve!==i||Ae!==r)&&(cu=null,Is(i,r)),r=!1;var p=Ge;e:do try{if(Pe!==0&&pe!==null){var _=pe,A=Yt;switch(Pe){case 8:Ff(),p=6;break e;case 3:case 2:case 6:an.current===null&&(r=!0);var b=Pe;if(Pe=0,Yt=null,Cs(i,_,A,b),a&&bs){p=0;break e}break;default:b=Pe,Pe=0,Yt=null,Cs(i,_,A,b)}}L1(),p=Ge;break}catch(M){H_(i,M)}while(!0);return r&&i.shellSuspendCounter++,Yn=Cr=null,qe=u,$.H=h,$.A=f,pe===null&&(Ve=null,Ae=0,Ul()),p}function L1(){for(;pe!==null;)Q_(pe)}function k1(i,r){var a=qe;qe|=2;var u=F_(),h=G_();Ve!==i||Ae!==r?(cu=null,uu=Sn()+500,Is(i,r)):bs=ma(i,r);e:do try{if(Pe!==0&&pe!==null){r=pe;var f=Yt;t:switch(Pe){case 1:Pe=0,Yt=null,Cs(i,r,f,1);break;case 2:if(ny(f)){Pe=0,Yt=null,K_(r);break}r=function(){Pe===2&&Ve===i&&(Pe=7),Dn(i)},f.then(r,r);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:ny(f)?(Pe=0,Yt=null,K_(r)):(Pe=0,Yt=null,Cs(i,r,f,7));break;case 5:var p=null;switch(pe.tag){case 26:p=pe.memoizedState;case 5:case 27:var _=pe;if(!p||Av(p)){Pe=0,Yt=null;var A=_.sibling;if(A!==null)pe=A;else{var b=_.return;b!==null?(pe=b,du(b)):pe=null}break t}}Pe=0,Yt=null,Cs(i,r,f,5);break;case 6:Pe=0,Yt=null,Cs(i,r,f,6);break;case 8:Ff(),Ge=6;break e;default:throw Error(s(462))}}j1();break}catch(M){H_(i,M)}while(!0);return Yn=Cr=null,$.H=u,$.A=h,qe=a,pe!==null?0:(Ve=null,Ae=0,Ul(),Ge)}function j1(){for(;pe!==null&&!oS();)Q_(pe)}function Q_(i){var r=m_(i.alternate,i,ti);i.memoizedProps=i.pendingProps,r===null?du(i):pe=r}function K_(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=l_(a,r,r.pendingProps,r.type,void 0,Ae);break;case 11:r=l_(a,r,r.pendingProps,r.type.render,r.ref,Ae);break;case 5:Xh(r);default:j_(a,r),r=pe=U_(r,ti),r=m_(a,r,ti)}i.memoizedProps=i.pendingProps,r===null?du(i):pe=r}function Cs(i,r,a,u){Yn=Cr=null,Xh(r),gs=null,Oa=0;var h=r.return;try{if(I1(i,h,r,a,Ae)){Ge=1,nu(i,nn(a,i.current)),pe=null;return}}catch(f){if(h!==null)throw pe=h,f;Ge=1,nu(i,nn(a,i.current)),pe=null;return}r.flags&32768?(Se||u===1?i=!0:bs||(Ae&536870912)!==0?i=!1:(ei=i=!0,(u===2||u===3||u===6)&&(u=an.current,u!==null&&u.tag===13&&(u.flags|=16384))),Y_(r,i)):du(r)}function du(i){var r=i;do{if((r.flags&32768)!==0){Y_(r,ei);return}i=r.return;var a=O1(r.alternate,r,ti);if(a!==null){pe=a;return}if(r=r.sibling,r!==null){pe=r;return}pe=r=i}while(r!==null);Ge===0&&(Ge=5)}function Y_(i,r){do{var a=M1(i.alternate,i);if(a!==null){a.flags&=32767,pe=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){pe=i;return}pe=i=a}while(i!==null);Ge=6,pe=null}function X_(i,r,a,u,h,f,p,_,A,b){var M=$.T,k=F.p;try{F.p=2,$.T=null,z1(i,r,a,u,k,h,f,p,_,A,b)}finally{$.T=M,F.p=k}}function z1(i,r,a,u,h,f,p,_){do Ds();while(Mr!==null);if((qe&6)!==0)throw Error(s(327));var A=i.finishedWork;if(u=i.finishedLanes,A===null)return null;if(i.finishedWork=null,i.finishedLanes=0,A===i.current)throw Error(s(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var b=A.lanes|A.childLanes;if(b|=Vh,_S(i,u,b,f,p,_),i===Ve&&(pe=Ve=null,Ae=0),(A.subtreeFlags&10256)===0&&(A.flags&10256)===0||hu||(hu=!0,zf=b,Bf=a,F1(Tl,function(){return Ds(),null})),a=(A.flags&15990)!==0,(A.subtreeFlags&15990)!==0||a?(a=$.T,$.T=null,f=F.p,F.p=2,p=qe,qe|=4,D1(i,A),D_(A,i),c1(rd,i.containerInfo),bu=!!id,rd=id=null,i.current=A,b_(i,A.alternate,A),lS(),qe=p,F.p=f,$.T=a):i.current=A,hu?(hu=!1,Mr=i,$a=u):$_(i,b),b=i.pendingLanes,b===0&&(Vi=null),dS(A.stateNode),Dn(i),r!==null)for(h=i.onRecoverableError,A=0;A<r.length;A++)b=r[A],h(b.value,{componentStack:b.stack});return($a&3)!==0&&Ds(),b=i.pendingLanes,(u&4194218)!==0&&(b&42)!==0?i===qf?Wa++:(Wa=0,qf=i):Wa=0,Za(0),null}function $_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Va(r)))}function Ds(){if(Mr!==null){var i=Mr,r=zf;zf=0;var a=sp($a),u=$.T,h=F.p;try{if(F.p=32>a?32:a,$.T=null,Mr===null)var f=!1;else{a=Bf,Bf=null;var p=Mr,_=$a;if(Mr=null,$a=0,(qe&6)!==0)throw Error(s(331));var A=qe;if(qe|=4,V_(p.current),x_(p,p.current,_,a),qe=A,Za(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(da,p)}catch{}f=!0}return f}finally{F.p=h,$.T=u,$_(i,r)}}return!1}function W_(i,r,a){r=nn(a,r),r=cf(i.stateNode,r,2),i=Ci(i,r,2),i!==null&&(ga(i,2),Dn(i))}function Oe(i,r,a){if(i.tag===3)W_(i,i,a);else for(;r!==null;){if(r.tag===3){W_(r,i,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Vi===null||!Vi.has(u))){i=nn(a,i),a=e_(2),u=Ci(r,a,2),u!==null&&(t_(a,u,r,i),ga(u,2),Dn(u));break}}r=r.return}}function Kf(i,r,a){var u=i.pingCache;if(u===null){u=i.pingCache=new P1;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(a)||(Uf=!0,h.add(a),i=B1.bind(null,i,r,a),r.then(i,i))}function B1(i,r,a){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,Ve===i&&(Ae&a)===a&&(Ge===4||Ge===3&&(Ae&62914560)===Ae&&300>Sn()-jf?(qe&2)===0&&Is(i,0):Lf|=a,Rs===Ae&&(Rs=0)),Dn(i)}function Z_(i,r){r===0&&(r=np()),i=Ei(i,r),i!==null&&(ga(i,r),Dn(i))}function q1(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),Z_(i,a)}function H1(i,r){var a=0;switch(i.tag){case 13:var u=i.stateNode,h=i.memoizedState;h!==null&&(a=h.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),Z_(i,a)}function F1(i,r){return ch(i,r)}var mu=null,Ns=null,Yf=!1,gu=!1,Xf=!1,Vr=0;function Dn(i){i!==Ns&&i.next===null&&(Ns===null?mu=Ns=i:Ns=Ns.next=i),gu=!0,Yf||(Yf=!0,Q1(G1))}function Za(i,r){if(!Xf&&gu){Xf=!0;do for(var a=!1,u=mu;u!==null;){if(i!==0){var h=u.pendingLanes;if(h===0)var f=0;else{var p=u.suspendedLanes,_=u.pingedLanes;f=(1<<31-Ft(42|i)+1)-1,f&=h&~(p&~_),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(a=!0,tv(u,f))}else f=Ae,f=Sl(u,u===Ve?f:0),(f&3)===0||ma(u,f)||(a=!0,tv(u,f));u=u.next}while(a);Xf=!1}}function G1(){gu=Yf=!1;var i=0;Vr!==0&&(eb()&&(i=Vr),Vr=0);for(var r=Sn(),a=null,u=mu;u!==null;){var h=u.next,f=J_(u,r);f===0?(u.next=null,a===null?mu=h:a.next=h,h===null&&(Ns=a)):(a=u,(i!==0||(f&3)!==0)&&(gu=!0)),u=h}Za(i)}function J_(i,r){for(var a=i.suspendedLanes,u=i.pingedLanes,h=i.expirationTimes,f=i.pendingLanes&-62914561;0<f;){var p=31-Ft(f),_=1<<p,A=h[p];A===-1?((_&a)===0||(_&u)!==0)&&(h[p]=yS(_,r)):A<=r&&(i.expiredLanes|=_),f&=~_}if(r=Ve,a=Ae,a=Sl(i,i===r?a:0),u=i.callbackNode,a===0||i===r&&Pe===2||i.cancelPendingCommit!==null)return u!==null&&u!==null&&hh(u),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||ma(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(u!==null&&hh(u),sp(a)){case 2:case 8:a=Jg;break;case 32:a=Tl;break;case 268435456:a=ep;break;default:a=Tl}return u=ev.bind(null,i),a=ch(a,u),i.callbackPriority=r,i.callbackNode=a,r}return u!==null&&u!==null&&hh(u),i.callbackPriority=2,i.callbackNode=null,2}function ev(i,r){var a=i.callbackNode;if(Ds()&&i.callbackNode!==a)return null;var u=Ae;return u=Sl(i,i===Ve?u:0),u===0?null:(B_(i,u,r),J_(i,Sn()),i.callbackNode!=null&&i.callbackNode===a?ev.bind(null,i):null)}function tv(i,r){if(Ds())return null;B_(i,r,!0)}function Q1(i){nb(function(){(qe&6)!==0?ch(Zg,i):i()})}function $f(){return Vr===0&&(Vr=tp()),Vr}function nv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Dl(""+i)}function iv(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function K1(i,r,a,u,h){if(r==="submit"&&a&&a.stateNode===h){var f=nv((h[kt]||null).action),p=u.submitter;p&&(r=(r=p[kt]||null)?nv(r.formAction):p.getAttribute("formAction"),r!==null&&(f=r,p=null));var _=new Ml("action","action",null,u,h);i.push({event:_,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Vr!==0){var A=p?iv(h,p):new FormData(h);sf(a,{pending:!0,data:A,method:h.method,action:f},null,A)}}else typeof f=="function"&&(_.preventDefault(),A=p?iv(h,p):new FormData(h),sf(a,{pending:!0,data:A,method:h.method,action:f},f,A))},currentTarget:h}]})}}for(var Wf=0;Wf<Xp.length;Wf++){var Zf=Xp[Wf],Y1=Zf.toLowerCase(),X1=Zf[0].toUpperCase()+Zf.slice(1);gn(Y1,"on"+X1)}gn(Fp,"onAnimationEnd"),gn(Gp,"onAnimationIteration"),gn(Qp,"onAnimationStart"),gn("dblclick","onDoubleClick"),gn("focusin","onFocus"),gn("focusout","onBlur"),gn(f1,"onTransitionRun"),gn(d1,"onTransitionStart"),gn(m1,"onTransitionCancel"),gn(Kp,"onTransitionEnd"),is("onMouseEnter",["mouseout","mouseover"]),is("onMouseLeave",["mouseout","mouseover"]),is("onPointerEnter",["pointerout","pointerover"]),is("onPointerLeave",["pointerout","pointerover"]),gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gr("onBeforeInput",["compositionend","keypress","textInput","paste"]),gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ja));function rv(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var u=i[a],h=u.event;u=u.listeners;e:{var f=void 0;if(r)for(var p=u.length-1;0<=p;p--){var _=u[p],A=_.instance,b=_.currentTarget;if(_=_.listener,A!==f&&h.isPropagationStopped())break e;f=_,h.currentTarget=b;try{f(h)}catch(M){tu(M)}h.currentTarget=null,f=A}else for(p=0;p<u.length;p++){if(_=u[p],A=_.instance,b=_.currentTarget,_=_.listener,A!==f&&h.isPropagationStopped())break e;f=_,h.currentTarget=b;try{f(h)}catch(M){tu(M)}h.currentTarget=null,f=A}}}}function ve(i,r){var a=r[dh];a===void 0&&(a=r[dh]=new Set);var u=i+"__bubble";a.has(u)||(sv(r,i,2,!1),a.add(u))}function Jf(i,r,a){var u=0;r&&(u|=4),sv(a,i,u,r)}var pu="_reactListening"+Math.random().toString(36).slice(2);function ed(i){if(!i[pu]){i[pu]=!0,lp.forEach(function(a){a!=="selectionchange"&&($1.has(a)||Jf(a,!1,i),Jf(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[pu]||(r[pu]=!0,Jf("selectionchange",!1,r))}}function sv(i,r,a,u){switch(Cv(r)){case 2:var h=Ab;break;case 8:h=wb;break;default:h=dd}a=h.bind(null,r,a,i),h=void 0,!Th||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?i.addEventListener(r,a,{capture:!0,passive:h}):i.addEventListener(r,a,!0):h!==void 0?i.addEventListener(r,a,{passive:h}):i.addEventListener(r,a,!1)}function td(i,r,a,u,h){var f=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var p=u.tag;if(p===3||p===4){var _=u.stateNode.containerInfo;if(_===h||_.nodeType===8&&_.parentNode===h)break;if(p===4)for(p=u.return;p!==null;){var A=p.tag;if((A===3||A===4)&&(A=p.stateNode.containerInfo,A===h||A.nodeType===8&&A.parentNode===h))return;p=p.return}for(;_!==null;){if(p=mr(_),p===null)return;if(A=p.tag,A===5||A===6||A===26||A===27){u=f=p;continue e}_=_.parentNode}}u=u.return}Ep(function(){var b=f,M=vh(a),k=[];e:{var D=Yp.get(i);if(D!==void 0){var O=Ml,Y=i;switch(i){case"keypress":if(xl(a)===0)break e;case"keydown":case"keyup":O=HS;break;case"focusin":Y="focus",O=bh;break;case"focusout":Y="blur",O=bh;break;case"beforeblur":case"afterblur":O=bh;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=wp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=xS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=QS;break;case Fp:case Gp:case Qp:O=VS;break;case Kp:O=YS;break;case"scroll":case"scrollend":O=DS;break;case"wheel":O=$S;break;case"copy":case"cut":case"paste":O=US;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=bp;break;case"toggle":case"beforetoggle":O=ZS}var le=(r&4)!==0,Qe=!le&&(i==="scroll"||i==="scrollend"),I=le?D!==null?D+"Capture":null:D;le=[];for(var S=b,C;S!==null;){var U=S;if(C=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||C===null||I===null||(U=_a(S,I),U!=null&&le.push(eo(S,U,C))),Qe)break;S=S.return}0<le.length&&(D=new O(D,Y,null,a,M),k.push({event:D,listeners:le}))}}if((r&7)===0){e:{if(D=i==="mouseover"||i==="pointerover",O=i==="mouseout"||i==="pointerout",D&&a!==_h&&(Y=a.relatedTarget||a.fromElement)&&(mr(Y)||Y[es]))break e;if((O||D)&&(D=M.window===M?M:(D=M.ownerDocument)?D.defaultView||D.parentWindow:window,O?(Y=a.relatedTarget||a.toElement,O=b,Y=Y?mr(Y):null,Y!==null&&(Qe=ie(Y),le=Y.tag,Y!==Qe||le!==5&&le!==27&&le!==6)&&(Y=null)):(O=null,Y=b),O!==Y)){if(le=wp,U="onMouseLeave",I="onMouseEnter",S="mouse",(i==="pointerout"||i==="pointerover")&&(le=bp,U="onPointerLeave",I="onPointerEnter",S="pointer"),Qe=O==null?D:ya(O),C=Y==null?D:ya(Y),D=new le(U,S+"leave",O,a,M),D.target=Qe,D.relatedTarget=C,U=null,mr(M)===b&&(le=new le(I,S+"enter",Y,a,M),le.target=C,le.relatedTarget=Qe,U=le),Qe=U,O&&Y)t:{for(le=O,I=Y,S=0,C=le;C;C=xs(C))S++;for(C=0,U=I;U;U=xs(U))C++;for(;0<S-C;)le=xs(le),S--;for(;0<C-S;)I=xs(I),C--;for(;S--;){if(le===I||I!==null&&le===I.alternate)break t;le=xs(le),I=xs(I)}le=null}else le=null;O!==null&&av(k,D,O,le,!1),Y!==null&&Qe!==null&&av(k,Qe,Y,le,!0)}}e:{if(D=b?ya(b):window,O=D.nodeName&&D.nodeName.toLowerCase(),O==="select"||O==="input"&&D.type==="file")var G=Mp;else if(xp(D))if(Vp)G=l1;else{G=a1;var ge=s1}else O=D.nodeName,!O||O.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?b&&yh(b.elementType)&&(G=Mp):G=o1;if(G&&(G=G(i,b))){Op(k,G,a,M);break e}ge&&ge(i,D,b),i==="focusout"&&b&&D.type==="number"&&b.memoizedProps.value!=null&&ph(D,"number",D.value)}switch(ge=b?ya(b):window,i){case"focusin":(xp(ge)||ge.contentEditable==="true")&&(us=ge,xh=b,Ra=null);break;case"focusout":Ra=xh=us=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,qp(k,a,M);break;case"selectionchange":if(h1)break;case"keydown":case"keyup":qp(k,a,M)}var X;if(Ih)e:{switch(i){case"compositionstart":var ee="onCompositionStart";break e;case"compositionend":ee="onCompositionEnd";break e;case"compositionupdate":ee="onCompositionUpdate";break e}ee=void 0}else ls?Dp(i,a)&&(ee="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(ee="onCompositionStart");ee&&(Rp&&a.locale!=="ko"&&(ls||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&ls&&(X=Tp()):(vi=M,Ah="value"in vi?vi.value:vi.textContent,ls=!0)),ge=yu(b,ee),0<ge.length&&(ee=new Sp(ee,i,null,a,M),k.push({event:ee,listeners:ge}),X?ee.data=X:(X=Np(a),X!==null&&(ee.data=X)))),(X=e1?t1(i,a):n1(i,a))&&(ee=yu(b,"onBeforeInput"),0<ee.length&&(ge=new Sp("onBeforeInput","beforeinput",null,a,M),k.push({event:ge,listeners:ee}),ge.data=X)),K1(k,i,b,a,M)}rv(k,r)})}function eo(i,r,a){return{instance:i,listener:r,currentTarget:a}}function yu(i,r){for(var a=r+"Capture",u=[];i!==null;){var h=i,f=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=_a(i,a),h!=null&&u.unshift(eo(i,h,f)),h=_a(i,r),h!=null&&u.push(eo(i,h,f))),i=i.return}return u}function xs(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function av(i,r,a,u,h){for(var f=r._reactName,p=[];a!==null&&a!==u;){var _=a,A=_.alternate,b=_.stateNode;if(_=_.tag,A!==null&&A===u)break;_!==5&&_!==26&&_!==27||b===null||(A=b,h?(b=_a(a,f),b!=null&&p.unshift(eo(a,b,A))):h||(b=_a(a,f),b!=null&&p.push(eo(a,b,A)))),a=a.return}p.length!==0&&i.push({event:r,listeners:p})}var W1=/\r\n?/g,Z1=/\u0000|\uFFFD/g;function ov(i){return(typeof i=="string"?i:""+i).replace(W1,`
`).replace(Z1,"")}function lv(i,r){return r=ov(r),ov(i)===r}function _u(){}function xe(i,r,a,u,h,f){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||ss(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&ss(i,""+u);break;case"className":Rl(i,"class",u);break;case"tabIndex":Rl(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Rl(i,a,u);break;case"style":_p(i,u,f);break;case"data":if(r!=="object"){Rl(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=Dl(""+u),i.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&xe(i,r,"name",h.name,h,null),xe(i,r,"formEncType",h.formEncType,h,null),xe(i,r,"formMethod",h.formMethod,h,null),xe(i,r,"formTarget",h.formTarget,h,null)):(xe(i,r,"encType",h.encType,h,null),xe(i,r,"method",h.method,h,null),xe(i,r,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=Dl(""+u),i.setAttribute(a,u);break;case"onClick":u!=null&&(i.onclick=_u);break;case"onScroll":u!=null&&ve("scroll",i);break;case"onScrollEnd":u!=null&&ve("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}a=Dl(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""+u):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":u===!0?i.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,u):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(a,u):i.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(a):i.setAttribute(a,u);break;case"popover":ve("beforetoggle",i),ve("toggle",i),bl(i,"popover",u);break;case"xlinkActuate":qn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":bl(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=IS.get(a)||a,bl(i,a,u))}}function nd(i,r,a,u,h,f){switch(a){case"style":_p(i,u,f);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof u=="string"?ss(i,u):(typeof u=="number"||typeof u=="bigint")&&ss(i,""+u);break;case"onScroll":u!=null&&ve("scroll",i);break;case"onScrollEnd":u!=null&&ve("scrollend",i);break;case"onClick":u!=null&&(i.onclick=_u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!up.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),f=i[kt]||null,f=f!=null?f[a]:null,typeof f=="function"&&i.removeEventListener(r,f,h),typeof u=="function")){typeof f!="function"&&f!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,u,h);break e}a in i?i[a]=u:u===!0?i.setAttribute(a,""):bl(i,a,u)}}}function pt(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",i),ve("load",i);var u=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:xe(i,r,f,p,a,null)}}h&&xe(i,r,"srcSet",a.srcSet,a,null),u&&xe(i,r,"src",a.src,a,null);return;case"input":ve("invalid",i);var _=f=p=h=null,A=null,b=null;for(u in a)if(a.hasOwnProperty(u)){var M=a[u];if(M!=null)switch(u){case"name":h=M;break;case"type":p=M;break;case"checked":A=M;break;case"defaultChecked":b=M;break;case"value":f=M;break;case"defaultValue":_=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(137,r));break;default:xe(i,r,u,M,a,null)}}mp(i,f,_,A,b,p,h,!1),Il(i);return;case"select":ve("invalid",i),u=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(_=a[h],_!=null))switch(h){case"value":f=_;break;case"defaultValue":p=_;break;case"multiple":u=_;default:xe(i,r,h,_,a,null)}r=f,a=p,i.multiple=!!u,r!=null?rs(i,!!u,r,!1):a!=null&&rs(i,!!u,a,!0);return;case"textarea":ve("invalid",i),f=h=u=null;for(p in a)if(a.hasOwnProperty(p)&&(_=a[p],_!=null))switch(p){case"value":u=_;break;case"defaultValue":h=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:xe(i,r,p,_,a,null)}pp(i,u,h,f),Il(i);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(u=a[A],u!=null))switch(A){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:xe(i,r,A,u,a,null)}return;case"dialog":ve("cancel",i),ve("close",i);break;case"iframe":case"object":ve("load",i);break;case"video":case"audio":for(u=0;u<Ja.length;u++)ve(Ja[u],i);break;case"image":ve("error",i),ve("load",i);break;case"details":ve("toggle",i);break;case"embed":case"source":case"link":ve("error",i),ve("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(b in a)if(a.hasOwnProperty(b)&&(u=a[b],u!=null))switch(b){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:xe(i,r,b,u,a,null)}return;default:if(yh(r)){for(M in a)a.hasOwnProperty(M)&&(u=a[M],u!==void 0&&nd(i,r,M,u,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(u=a[_],u!=null&&xe(i,r,_,u,a,null))}function J1(i,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,_=null,A=null,b=null,M=null;for(O in a){var k=a[O];if(a.hasOwnProperty(O)&&k!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":A=k;default:u.hasOwnProperty(O)||xe(i,r,O,null,u,k)}}for(var D in u){var O=u[D];if(k=a[D],u.hasOwnProperty(D)&&(O!=null||k!=null))switch(D){case"type":f=O;break;case"name":h=O;break;case"checked":b=O;break;case"defaultChecked":M=O;break;case"value":p=O;break;case"defaultValue":_=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,r));break;default:O!==k&&xe(i,r,D,O,u,k)}}gh(i,p,_,A,b,M,f,h);return;case"select":O=p=_=D=null;for(f in a)if(A=a[f],a.hasOwnProperty(f)&&A!=null)switch(f){case"value":break;case"multiple":O=A;default:u.hasOwnProperty(f)||xe(i,r,f,null,u,A)}for(h in u)if(f=u[h],A=a[h],u.hasOwnProperty(h)&&(f!=null||A!=null))switch(h){case"value":D=f;break;case"defaultValue":_=f;break;case"multiple":p=f;default:f!==A&&xe(i,r,h,f,u,A)}r=_,a=p,u=O,D!=null?rs(i,!!a,D,!1):!!u!=!!a&&(r!=null?rs(i,!!a,r,!0):rs(i,!!a,a?[]:"",!1));return;case"textarea":O=D=null;for(_ in a)if(h=a[_],a.hasOwnProperty(_)&&h!=null&&!u.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:xe(i,r,_,null,u,h)}for(p in u)if(h=u[p],f=a[p],u.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":D=h;break;case"defaultValue":O=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&xe(i,r,p,h,u,f)}gp(i,D,O);return;case"option":for(var Y in a)if(D=a[Y],a.hasOwnProperty(Y)&&D!=null&&!u.hasOwnProperty(Y))switch(Y){case"selected":i.selected=!1;break;default:xe(i,r,Y,null,u,D)}for(A in u)if(D=u[A],O=a[A],u.hasOwnProperty(A)&&D!==O&&(D!=null||O!=null))switch(A){case"selected":i.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:xe(i,r,A,D,u,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in a)D=a[le],a.hasOwnProperty(le)&&D!=null&&!u.hasOwnProperty(le)&&xe(i,r,le,null,u,D);for(b in u)if(D=u[b],O=a[b],u.hasOwnProperty(b)&&D!==O&&(D!=null||O!=null))switch(b){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(137,r));break;default:xe(i,r,b,D,u,O)}return;default:if(yh(r)){for(var Qe in a)D=a[Qe],a.hasOwnProperty(Qe)&&D!==void 0&&!u.hasOwnProperty(Qe)&&nd(i,r,Qe,void 0,u,D);for(M in u)D=u[M],O=a[M],!u.hasOwnProperty(M)||D===O||D===void 0&&O===void 0||nd(i,r,M,D,u,O);return}}for(var I in a)D=a[I],a.hasOwnProperty(I)&&D!=null&&!u.hasOwnProperty(I)&&xe(i,r,I,null,u,D);for(k in u)D=u[k],O=a[k],!u.hasOwnProperty(k)||D===O||D==null&&O==null||xe(i,r,k,D,u,O)}var id=null,rd=null;function vu(i){return i.nodeType===9?i:i.ownerDocument}function uv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cv(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function sd(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ad=null;function eb(){var i=window.event;return i&&i.type==="popstate"?i===ad?!1:(ad=i,!0):(ad=null,!1)}var hv=typeof setTimeout=="function"?setTimeout:void 0,tb=typeof clearTimeout=="function"?clearTimeout:void 0,fv=typeof Promise=="function"?Promise:void 0,nb=typeof queueMicrotask=="function"?queueMicrotask:typeof fv<"u"?function(i){return fv.resolve(null).then(i).catch(ib)}:hv;function ib(i){setTimeout(function(){throw i})}function od(i,r){var a=r,u=0;do{var h=a.nextSibling;if(i.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(u===0){i.removeChild(h),lo(r);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=h}while(a);lo(r)}function ld(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ld(a),mh(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function rb(i,r,a,u){for(;i.nodeType===1;){var h=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[pa])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(f=i.getAttribute("rel"),f==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(f!==h.rel||i.getAttribute("href")!==(h.href==null?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(f=i.getAttribute("src"),(f!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===f)return i}else return i;if(i=_n(i.nextSibling),i===null)break}return null}function sb(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=_n(i.nextSibling),i===null))return null;return i}function _n(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}function dv(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return i;r--}else a==="/$"&&r++}i=i.previousSibling}return null}function mv(i,r,a){switch(r=vu(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}var hn=new Map,gv=new Set;function Eu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var ii=F.d;F.d={f:ab,r:ob,D:lb,C:ub,L:cb,m:hb,X:db,S:fb,M:mb};function ab(){var i=ii.f(),r=fu();return i||r}function ob(i){var r=ts(i);r!==null&&r.tag===5&&r.type==="form"?qy(r):ii.r(i)}var Os=typeof document>"u"?null:document;function pv(i,r,a){var u=Os;if(u&&typeof r=="string"&&r){var h=en(r);h='link[rel="'+i+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),gv.has(h)||(gv.add(h),i={rel:i,crossOrigin:a,href:r},u.querySelector(h)===null&&(r=u.createElement("link"),pt(r,"link",i),at(r),u.head.appendChild(r)))}}function lb(i){ii.D(i),pv("dns-prefetch",i,null)}function ub(i,r){ii.C(i,r),pv("preconnect",i,r)}function cb(i,r,a){ii.L(i,r,a);var u=Os;if(u&&i&&r){var h='link[rel="preload"][as="'+en(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+en(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+en(a.imageSizes)+'"]')):h+='[href="'+en(i)+'"]';var f=h;switch(r){case"style":f=Ms(i);break;case"script":f=Vs(i)}hn.has(f)||(i=ye({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),hn.set(f,i),u.querySelector(h)!==null||r==="style"&&u.querySelector(to(f))||r==="script"&&u.querySelector(no(f))||(r=u.createElement("link"),pt(r,"link",i),at(r),u.head.appendChild(r)))}}function hb(i,r){ii.m(i,r);var a=Os;if(a&&i){var u=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+en(u)+'"][href="'+en(i)+'"]',f=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Vs(i)}if(!hn.has(f)&&(i=ye({rel:"modulepreload",href:i},r),hn.set(f,i),a.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(no(f)))return}u=a.createElement("link"),pt(u,"link",i),at(u),a.head.appendChild(u)}}}function fb(i,r,a){ii.S(i,r,a);var u=Os;if(u&&i){var h=ns(u).hoistableStyles,f=Ms(i);r=r||"default";var p=h.get(f);if(!p){var _={loading:0,preload:null};if(p=u.querySelector(to(f)))_.loading=5;else{i=ye({rel:"stylesheet",href:i,"data-precedence":r},a),(a=hn.get(f))&&ud(i,a);var A=p=u.createElement("link");at(A),pt(A,"link",i),A._p=new Promise(function(b,M){A.onload=b,A.onerror=M}),A.addEventListener("load",function(){_.loading|=1}),A.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Tu(p,r,u)}p={type:"stylesheet",instance:p,count:1,state:_},h.set(f,p)}}}function db(i,r){ii.X(i,r);var a=Os;if(a&&i){var u=ns(a).hoistableScripts,h=Vs(i),f=u.get(h);f||(f=a.querySelector(no(h)),f||(i=ye({src:i,async:!0},r),(r=hn.get(h))&&cd(i,r),f=a.createElement("script"),at(f),pt(f,"link",i),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},u.set(h,f))}}function mb(i,r){ii.M(i,r);var a=Os;if(a&&i){var u=ns(a).hoistableScripts,h=Vs(i),f=u.get(h);f||(f=a.querySelector(no(h)),f||(i=ye({src:i,async:!0,type:"module"},r),(r=hn.get(h))&&cd(i,r),f=a.createElement("script"),at(f),pt(f,"link",i),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},u.set(h,f))}}function yv(i,r,a,u){var h=(h=pi.current)?Eu(h):null;if(!h)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ms(a.href),a=ns(h).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Ms(a.href);var f=ns(h).hoistableStyles,p=f.get(i);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(i,p),(f=h.querySelector(to(i)))&&!f._p&&(p.instance=f,p.state.loading=5),hn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},hn.set(i,a),f||gb(h,i,a,p.state))),r&&u===null)throw Error(s(528,""));return p}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Vs(a),a=ns(h).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Ms(i){return'href="'+en(i)+'"'}function to(i){return'link[rel="stylesheet"]['+i+"]"}function _v(i){return ye({},i,{"data-precedence":i.precedence,precedence:null})}function gb(i,r,a,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),pt(r,"link",a),at(r),i.head.appendChild(r))}function Vs(i){return'[src="'+en(i)+'"]'}function no(i){return"script[async]"+i}function vv(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+en(a.href)+'"]');if(u)return r.instance=u,at(u),u;var h=ye({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),at(u),pt(u,"style",h),Tu(u,a.precedence,i),r.instance=u;case"stylesheet":h=Ms(a.href);var f=i.querySelector(to(h));if(f)return r.state.loading|=4,r.instance=f,at(f),f;u=_v(a),(h=hn.get(h))&&ud(u,h),f=(i.ownerDocument||i).createElement("link"),at(f);var p=f;return p._p=new Promise(function(_,A){p.onload=_,p.onerror=A}),pt(f,"link",u),r.state.loading|=4,Tu(f,a.precedence,i),r.instance=f;case"script":return f=Vs(a.src),(h=i.querySelector(no(f)))?(r.instance=h,at(h),h):(u=a,(h=hn.get(f))&&(u=ye({},a),cd(u,h)),i=i.ownerDocument||i,h=i.createElement("script"),at(h),pt(h,"link",u),i.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Tu(u,a.precedence,i));return r.instance}function Tu(i,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,f=h,p=0;p<u.length;p++){var _=u[p];if(_.dataset.precedence===r)f=_;else if(f!==h)break}f?f.parentNode.insertBefore(i,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function ud(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function cd(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Au=null;function Ev(i,r,a){if(Au===null){var u=new Map,h=Au=new Map;h.set(a,u)}else h=Au,u=h.get(a),u||(u=new Map,h.set(a,u));if(u.has(i))return u;for(u.set(i,null),a=a.getElementsByTagName(i),h=0;h<a.length;h++){var f=a[h];if(!(f[pa]||f[wt]||i==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(r)||"";p=i+p;var _=u.get(p);_?_.push(f):u.set(p,[f])}}return u}function Tv(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function pb(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Av(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var io=null;function yb(){}function _b(i,r,a){if(io===null)throw Error(s(475));var u=io;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ms(a.href),f=i.querySelector(to(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=wu.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=f,at(f);return}f=i.ownerDocument||i,a=_v(a),(h=hn.get(h))&&ud(a,h),f=f.createElement("link"),at(f);var p=f;p._p=new Promise(function(_,A){p.onload=_,p.onerror=A}),pt(f,"link",a),r.instance=f}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=wu.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function vb(){if(io===null)throw Error(s(475));var i=io;return i.stylesheets&&i.count===0&&hd(i,i.stylesheets),0<i.count?function(r){var a=setTimeout(function(){if(i.stylesheets&&hd(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(a)}}:null}function wu(){if(this.count--,this.count===0){if(this.stylesheets)hd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Su=null;function hd(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Su=new Map,r.forEach(Eb,i),Su=null,wu.call(i))}function Eb(i,r){if(!(r.state.loading&4)){var a=Su.get(i);if(a)var u=a.get(null);else{a=new Map,Su.set(i,a);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),u=p)}u&&a.set(null,u)}h=r.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||u,f===u&&a.set(null,h),a.set(p,h),this.count++,u=wu.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),f?f.parentNode.insertBefore(h,f.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),r.state.loading|=4}}var ro={$$typeof:R,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function Tb(i,r,a,u,h,f,p,_){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fh(0),this.hiddenUpdates=fh(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function wv(i,r,a,u,h,f,p,_,A,b,M,k){return i=new Tb(i,r,a,p,_,A,b,k),r=1,f===!0&&(r|=24),f=un(3,null,null,r),i.current=f,f.stateNode=i,r=qh(),r.refCount++,i.pooledCache=r,r.refCount++,f.memoizedState={element:u,isDehydrated:a,cache:r},wf(f),i}function Sv(i){return i?(i=fs,i):fs}function bv(i,r,a,u,h,f){h=Sv(h),u.context===null?u.context=h:u.pendingContext=h,u=Ii(r),u.payload={element:a},f=f===void 0?null:f,f!==null&&(u.callback=f),a=Ci(i,u,r),a!==null&&(Vt(a,i,r),Ba(a,i,r))}function Rv(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function fd(i,r){Rv(i,r),(i=i.alternate)&&Rv(i,r)}function Iv(i){if(i.tag===13){var r=Ei(i,67108864);r!==null&&Vt(r,i,67108864),fd(i,67108864)}}var bu=!0;function Ab(i,r,a,u){var h=$.T;$.T=null;var f=F.p;try{F.p=2,dd(i,r,a,u)}finally{F.p=f,$.T=h}}function wb(i,r,a,u){var h=$.T;$.T=null;var f=F.p;try{F.p=8,dd(i,r,a,u)}finally{F.p=f,$.T=h}}function dd(i,r,a,u){if(bu){var h=md(u);if(h===null)td(i,r,u,Ru,a),Dv(i,u);else if(bb(h,i,r,a,u))u.stopPropagation();else if(Dv(i,u),r&4&&-1<Sb.indexOf(i)){for(;h!==null;){var f=ts(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=dr(f.pendingLanes);if(p!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;p;){var A=1<<31-Ft(p);_.entanglements[1]|=A,p&=~A}Dn(f),(qe&6)===0&&(uu=Sn()+500,Za(0))}}break;case 13:_=Ei(f,2),_!==null&&Vt(_,f,2),fu(),fd(f,2)}if(f=md(u),f===null&&td(i,r,u,Ru,a),f===h)break;h=f}h!==null&&u.stopPropagation()}else td(i,r,u,null,a)}}function md(i){return i=vh(i),gd(i)}var Ru=null;function gd(i){if(Ru=null,i=mr(i),i!==null){var r=ie(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=Me(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Ru=i,null}function Cv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(uS()){case Zg:return 2;case Jg:return 8;case Tl:case cS:return 32;case ep:return 268435456;default:return 32}default:return 32}}var pd=!1,Pi=null,Ui=null,Li=null,so=new Map,ao=new Map,ki=[],Sb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dv(i,r){switch(i){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":so.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(r.pointerId)}}function oo(i,r,a,u,h,f){return i===null||i.nativeEvent!==f?(i={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:f,targetContainers:[h]},r!==null&&(r=ts(r),r!==null&&Iv(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),i)}function bb(i,r,a,u,h){switch(r){case"focusin":return Pi=oo(Pi,i,r,a,u,h),!0;case"dragenter":return Ui=oo(Ui,i,r,a,u,h),!0;case"mouseover":return Li=oo(Li,i,r,a,u,h),!0;case"pointerover":var f=h.pointerId;return so.set(f,oo(so.get(f)||null,i,r,a,u,h)),!0;case"gotpointercapture":return f=h.pointerId,ao.set(f,oo(ao.get(f)||null,i,r,a,u,h)),!0}return!1}function Nv(i){var r=mr(i.target);if(r!==null){var a=ie(r);if(a!==null){if(r=a.tag,r===13){if(r=Me(a),r!==null){i.blockedOn=r,vS(i.priority,function(){if(a.tag===13){var u=Xt(),h=Ei(a,u);h!==null&&Vt(h,a,u),fd(a,u)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Iu(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=md(i.nativeEvent);if(a===null){a=i.nativeEvent;var u=new a.constructor(a.type,a);_h=u,a.target.dispatchEvent(u),_h=null}else return r=ts(a),r!==null&&Iv(r),i.blockedOn=a,!1;r.shift()}return!0}function xv(i,r,a){Iu(i)&&a.delete(r)}function Rb(){pd=!1,Pi!==null&&Iu(Pi)&&(Pi=null),Ui!==null&&Iu(Ui)&&(Ui=null),Li!==null&&Iu(Li)&&(Li=null),so.forEach(xv),ao.forEach(xv)}function Cu(i,r){i.blockedOn===r&&(i.blockedOn=null,pd||(pd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Rb)))}var Du=null;function Ov(i){Du!==i&&(Du=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Du===i&&(Du=null);for(var r=0;r<i.length;r+=3){var a=i[r],u=i[r+1],h=i[r+2];if(typeof u!="function"){if(gd(u||a)===null)continue;break}var f=ts(a);f!==null&&(i.splice(r,3),r-=3,sf(f,{pending:!0,data:h,method:a.method,action:u},u,h))}}))}function lo(i){function r(A){return Cu(A,i)}Pi!==null&&Cu(Pi,i),Ui!==null&&Cu(Ui,i),Li!==null&&Cu(Li,i),so.forEach(r),ao.forEach(r);for(var a=0;a<ki.length;a++){var u=ki[a];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ki.length&&(a=ki[0],a.blockedOn===null);)Nv(a),a.blockedOn===null&&ki.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var h=a[u],f=a[u+1],p=h[kt]||null;if(typeof f=="function")p||Ov(a);else if(p){var _=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[kt]||null)_=p.formAction;else if(gd(h)!==null)continue}else _=p.action;typeof _=="function"?a[u+1]=_:(a.splice(u,3),u-=3),Ov(a)}}}function yd(i){this._internalRoot=i}Nu.prototype.render=yd.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=Xt();bv(a,u,i,r,null,null)},Nu.prototype.unmount=yd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;i.tag===0&&Ds(),bv(i.current,2,null,i,null,null),fu(),r[es]=null}};function Nu(i){this._internalRoot=i}Nu.prototype.unstable_scheduleHydration=function(i){if(i){var r=ap();i={blockedOn:null,target:i,priority:r};for(var a=0;a<ki.length&&r!==0&&r<ki[a].priority;a++);ki.splice(a,0,i),a===0&&Nv(i)}};var Mv=e.version;if(Mv!=="19.0.0")throw Error(s(527,Mv,"19.0.0"));F.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=z(r),i=i!==null?te(i):null,i=i===null?null:i.stateNode,i};var Ib={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:$,findFiberByHostInstance:mr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{da=xu.inject(Ib),Ht=xu}catch{}}return co.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,u="",h=$y,f=Wy,p=Zy,_=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(p=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(_=r.unstable_transitionCallbacks)),r=wv(i,1,!1,null,null,a,u,h,f,p,_,null),i[es]=r.current,ed(i.nodeType===8?i.parentNode:i),new yd(r)},co.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var u=!1,h="",f=$y,p=Wy,_=Zy,A=null,b=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks),a.formState!==void 0&&(b=a.formState)),r=wv(i,1,!0,r,a??null,u,h,f,p,_,A,b),r.context=Sv(null),a=r.current,u=Xt(),h=Ii(u),h.callback=null,Ci(a,h,u),r.current.lanes=u,ga(r,u),Dn(r),i[es]=r.current,ed(i),new Nu(r)},co.version="19.0.0",co}var Hv;function kb(){if(Hv)return Ed.exports;Hv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ed.exports=Lb(),Ed.exports}var jb=kb();const zb=bE(jb);var Bb=RE();/**
 * @remix-run/router v1.14.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Do(){return Do=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Do.apply(this,arguments)}var Ki;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ki||(Ki={}));const Fv="popstate";function qb(t){t===void 0&&(t={});function e(s,o){let{pathname:l,search:c,hash:m}=s.location;return Kd("",{pathname:l,search:c,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Zu(o)}return Fb(e,n,null,t)}function Xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Hb(){return Math.random().toString(36).substr(2,8)}function Gv(t,e){return{usr:t.state,key:t.key,idx:e}}function Kd(t,e,n,s){return n===void 0&&(n=null),Do({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ta(e):e,{state:n,key:e&&e.key||s||Hb()})}function Zu(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function ta(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function Fb(t,e,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,m=Ki.Pop,d=null,g=y();g==null&&(g=0,c.replaceState(Do({},c.state,{idx:g}),""));function y(){return(c.state||{idx:null}).idx}function v(){m=Ki.Pop;let x=y(),K=x==null?null:x-g;g=x,d&&d({action:m,location:P.location,delta:K})}function T(x,K){m=Ki.Push;let J=Kd(P.location,x,K);g=y()+1;let ne=Gv(J,g),Re=P.createHref(J);try{c.pushState(ne,"",Re)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(Re)}l&&d&&d({action:m,location:P.location,delta:1})}function R(x,K){m=Ki.Replace;let J=Kd(P.location,x,K);g=y();let ne=Gv(J,g),Re=P.createHref(J);c.replaceState(ne,"",Re),l&&d&&d({action:m,location:P.location,delta:0})}function V(x){let K=o.location.origin!=="null"?o.location.origin:o.location.href,J=typeof x=="string"?x:Zu(x);return Xe(K,"No window.location.(origin|href) available to create URL for href: "+J),new URL(J,K)}let P={get action(){return m},get location(){return t(o,c)},listen(x){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(Fv,v),d=x,()=>{o.removeEventListener(Fv,v),d=null}},createHref(x){return e(o,x)},createURL:V,encodeLocation(x){let K=V(x);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:T,replace:R,go(x){return c.go(x)}};return P}var Qv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Qv||(Qv={}));function Gb(t,e,n){n===void 0&&(n="/");let s=typeof e=="string"?ta(e):e,o=Om(s.pathname||"/",n);if(o==null)return null;let l=IE(t);Qb(l);let c=null;for(let m=0;c==null&&m<l.length;++m)c=tR(l[m],rR(o));return c}function IE(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(l,c,m)=>{let d={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};d.relativePath.startsWith("/")&&(Xe(d.relativePath.startsWith(s),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(s.length));let g=Xi([s,d.relativePath]),y=n.concat(d);l.children&&l.children.length>0&&(Xe(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),IE(l.children,e,y,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:Jb(g,l.index),routesMeta:y})};return t.forEach((l,c)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))o(l,c);else for(let d of CE(l.path))o(l,c,d)}),e}function CE(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=CE(s.join("/")),m=[];return m.push(...c.map(d=>d===""?l:[l,d].join("/"))),o&&m.push(...c),m.map(d=>t.startsWith("/")&&d===""?"/":d)}function Qb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Kb=/^:\w+$/,Yb=3,Xb=2,$b=1,Wb=10,Zb=-2,Kv=t=>t==="*";function Jb(t,e){let n=t.split("/"),s=n.length;return n.some(Kv)&&(s+=Zb),e&&(s+=Xb),n.filter(o=>!Kv(o)).reduce((o,l)=>o+(Kb.test(l)?Yb:l===""?$b:Wb),s)}function eR(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function tR(t,e){let{routesMeta:n}=t,s={},o="/",l=[];for(let c=0;c<n.length;++c){let m=n[c],d=c===n.length-1,g=o==="/"?e:e.slice(o.length)||"/",y=nR({path:m.relativePath,caseSensitive:m.caseSensitive,end:d},g);if(!y)return null;Object.assign(s,y.params);let v=m.route;l.push({params:s,pathname:Xi([o,y.pathname]),pathnameBase:uR(Xi([o,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(o=Xi([o,y.pathnameBase]))}return l}function nR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=iR(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,y,v)=>{let{paramName:T,isOptional:R}=y;if(T==="*"){let P=m[v]||"";c=l.slice(0,l.length-P.length).replace(/(.)\/+$/,"$1")}const V=m[v];return R&&!V?g[T]=void 0:g[T]=sR(V||"",T),g},{}),pathname:l,pathnameBase:c,pattern:t}}function iR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),xm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(c,m,d)=>(s.push({paramName:m,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function rR(t){try{return decodeURI(t)}catch(e){return xm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function sR(t,e){try{return decodeURIComponent(t)}catch(n){return xm(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Om(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function aR(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:o=""}=typeof t=="string"?ta(t):t;return{pathname:n?n.startsWith("/")?n:oR(n,e):e,search:cR(s),hash:hR(o)}}function oR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Sd(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Mm(t,e){let n=lR(t);return e?n.map((s,o)=>o===t.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Vm(t,e,n,s){s===void 0&&(s=!1);let o;typeof t=="string"?o=ta(t):(o=Do({},t),Xe(!o.pathname||!o.pathname.includes("?"),Sd("?","pathname","search",o)),Xe(!o.pathname||!o.pathname.includes("#"),Sd("#","pathname","hash",o)),Xe(!o.search||!o.search.includes("#"),Sd("#","search","hash",o)));let l=t===""||o.pathname==="",c=l?"/":o.pathname,m;if(c==null)m=n;else if(s){let v=e.length===0?[]:e[e.length-1].replace(/^\//,"").split("/");if(c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),v.pop();o.pathname=T.join("/")}m="/"+v.join("/")}else{let v=e.length-1;if(c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),v-=1;o.pathname=T.join("/")}m=v>=0?e[v]:"/"}let d=aR(o,m),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(g||y)&&(d.pathname+="/"),d}const Xi=t=>t.join("/").replace(/\/\/+/g,"/"),uR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const DE=["post","put","patch","delete"];new Set(DE);const dR=["get",...DE];new Set(dR);/**
 * React Router v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function No(){return No=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},No.apply(this,arguments)}const Pm=N.createContext(null),mR=N.createContext(null),rr=N.createContext(null),wc=N.createContext(null),sr=N.createContext({outlet:null,matches:[],isDataRoute:!1}),NE=N.createContext(null);function gR(t,e){let{relative:n}=e===void 0?{}:e;na()||Xe(!1);let{basename:s,navigator:o}=N.useContext(rr),{hash:l,pathname:c,search:m}=ME(t,{relative:n}),d=c;return s!=="/"&&(d=c==="/"?s:Xi([s,c])),o.createHref({pathname:d,search:m,hash:l})}function na(){return N.useContext(wc)!=null}function Wo(){return na()||Xe(!1),N.useContext(wc).location}function xE(t){N.useContext(rr).static||N.useLayoutEffect(t)}function OE(){let{isDataRoute:t}=N.useContext(sr);return t?CR():pR()}function pR(){na()||Xe(!1);let t=N.useContext(Pm),{basename:e,future:n,navigator:s}=N.useContext(rr),{matches:o}=N.useContext(sr),{pathname:l}=Wo(),c=JSON.stringify(Mm(o,n.v7_relativeSplatPath)),m=N.useRef(!1);return xE(()=>{m.current=!0}),N.useCallback(function(g,y){if(y===void 0&&(y={}),!m.current)return;if(typeof g=="number"){s.go(g);return}let v=Vm(g,JSON.parse(c),l,y.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Xi([e,v.pathname])),(y.replace?s.replace:s.push)(v,y.state,y)},[e,s,c,l,t])}function ME(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=N.useContext(rr),{matches:o}=N.useContext(sr),{pathname:l}=Wo(),c=JSON.stringify(Mm(o,s.v7_relativeSplatPath));return N.useMemo(()=>Vm(t,JSON.parse(c),l,n==="path"),[t,c,l,n])}function yR(t,e){return _R(t,e)}function _R(t,e,n,s){na()||Xe(!1);let{navigator:o}=N.useContext(rr),{matches:l}=N.useContext(sr),c=l[l.length-1],m=c?c.params:{};c&&c.pathname;let d=c?c.pathnameBase:"/";c&&c.route;let g=Wo(),y;if(e){var v;let x=typeof e=="string"?ta(e):e;d==="/"||(v=x.pathname)!=null&&v.startsWith(d)||Xe(!1),y=x}else y=g;let T=y.pathname||"/",R=d==="/"?T:T.slice(d.length)||"/",V=Gb(t,{pathname:R}),P=wR(V&&V.map(x=>Object.assign({},x,{params:Object.assign({},m,x.params),pathname:Xi([d,o.encodeLocation?o.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:Xi([d,o.encodeLocation?o.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),l,n,s);return e&&P?N.createElement(wc.Provider,{value:{location:No({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Ki.Pop}},P):P}function vR(){let t=IR(),e=fR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:o},n):null,null)}const ER=N.createElement(vR,null);class TR extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(sr.Provider,{value:this.props.routeContext},N.createElement(NE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AR(t){let{routeContext:e,match:n,children:s}=t,o=N.useContext(Pm);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(sr.Provider,{value:e},s)}function wR(t,e,n,s){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var l;if((l=n)!=null&&l.errors)t=n.matches;else return null}let c=t,m=(o=n)==null?void 0:o.errors;if(m!=null){let y=c.findIndex(v=>v.route.id&&(m==null?void 0:m[v.route.id]));y>=0||Xe(!1),c=c.slice(0,Math.min(c.length,y+1))}let d=!1,g=-1;if(n&&s&&s.v7_partialHydration)for(let y=0;y<c.length;y++){let v=c[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=y),v.route.loader&&v.route.id&&n.loaderData[v.route.id]===void 0&&(!n.errors||n.errors[v.route.id]===void 0)){d=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}return c.reduceRight((y,v,T)=>{let R,V=!1,P=null,x=null;n&&(R=m&&v.route.id?m[v.route.id]:void 0,P=v.route.errorElement||ER,d&&(g<0&&T===0?(DR("route-fallback"),V=!0,x=null):g===T&&(V=!0,x=v.route.hydrateFallbackElement||null)));let K=e.concat(c.slice(0,T+1)),J=()=>{let ne;return R?ne=P:V?ne=x:v.route.Component?ne=N.createElement(v.route.Component,null):v.route.element?ne=v.route.element:ne=y,N.createElement(AR,{match:v,routeContext:{outlet:y,matches:K,isDataRoute:n!=null},children:ne})};return n&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?N.createElement(TR,{location:n.location,revalidation:n.revalidation,component:P,error:R,children:J(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):J()},null)}var VE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(VE||{}),PE=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(PE||{});function SR(t){let e=N.useContext(Pm);return e||Xe(!1),e}function bR(t){let e=N.useContext(mR);return e||Xe(!1),e}function RR(t){let e=N.useContext(sr);return e||Xe(!1),e}function UE(t){let e=RR(),n=e.matches[e.matches.length-1];return n.route.id||Xe(!1),n.route.id}function IR(){var t;let e=N.useContext(NE),n=bR(),s=UE();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function CR(){let{router:t}=SR(VE.UseNavigateStable),e=UE(PE.UseNavigateStable),n=N.useRef(!1);return xE(()=>{n.current=!0}),N.useCallback(function(o,l){l===void 0&&(l={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,No({fromRouteId:e},l)))},[t,e])}const Yv={};function DR(t,e,n){Yv[t]||(Yv[t]=!0)}function bd(t){let{to:e,replace:n,state:s,relative:o}=t;na()||Xe(!1);let{future:l,static:c}=N.useContext(rr),{matches:m}=N.useContext(sr),{pathname:d}=Wo(),g=OE(),y=Vm(e,Mm(m,l.v7_relativeSplatPath),d,o==="path"),v=JSON.stringify(y);return N.useEffect(()=>g(JSON.parse(v),{replace:n,state:s,relative:o}),[g,v,o,n,s]),null}function qi(t){Xe(!1)}function NR(t){let{basename:e="/",children:n=null,location:s,navigationType:o=Ki.Pop,navigator:l,static:c=!1,future:m}=t;na()&&Xe(!1);let d=e.replace(/^\/*/,"/"),g=N.useMemo(()=>({basename:d,navigator:l,static:c,future:No({v7_relativeSplatPath:!1},m)}),[d,m,l,c]);typeof s=="string"&&(s=ta(s));let{pathname:y="/",search:v="",hash:T="",state:R=null,key:V="default"}=s,P=N.useMemo(()=>{let x=Om(y,d);return x==null?null:{location:{pathname:x,search:v,hash:T,state:R,key:V},navigationType:o}},[d,y,v,T,R,V,o]);return P==null?null:N.createElement(rr.Provider,{value:g},N.createElement(wc.Provider,{children:n,value:P}))}function Rd(t){let{children:e,location:n}=t;return yR(Yd(e),n)}new Promise(()=>{});function Yd(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(s,o)=>{if(!N.isValidElement(s))return;let l=[...e,o];if(s.type===N.Fragment){n.push.apply(n,Yd(s.props.children,l));return}s.type!==qi&&Xe(!1),!s.props.index||!s.props.children||Xe(!1);let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Yd(s.props.children,l)),n.push(c)}),n}/**
 * React Router DOM v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xd(){return Xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Xd.apply(this,arguments)}function xR(t,e){if(t==null)return{};var n={},s=Object.keys(t),o,l;for(l=0;l<s.length;l++)o=s[l],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function OR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MR(t,e){return t.button===0&&(!e||e==="_self")&&!OR(t)}const VR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],PR="startTransition",Xv=Mb[PR];function UR(t){let{basename:e,children:n,future:s,window:o}=t,l=N.useRef();l.current==null&&(l.current=qb({window:o,v5Compat:!0}));let c=l.current,[m,d]=N.useState({action:c.action,location:c.location}),{v7_startTransition:g}=s||{},y=N.useCallback(v=>{g&&Xv?Xv(()=>d(v)):d(v)},[d,g]);return N.useLayoutEffect(()=>c.listen(y),[c,y]),N.createElement(NR,{basename:e,children:n,location:m.location,navigationType:m.action,navigator:c,future:s})}const LR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xo=N.forwardRef(function(e,n){let{onClick:s,relative:o,reloadDocument:l,replace:c,state:m,target:d,to:g,preventScrollReset:y,unstable_viewTransition:v}=e,T=xR(e,VR),{basename:R}=N.useContext(rr),V,P=!1;if(typeof g=="string"&&kR.test(g)&&(V=g,LR))try{let ne=new URL(window.location.href),Re=g.startsWith("//")?new URL(ne.protocol+g):new URL(g),re=Om(Re.pathname,R);Re.origin===ne.origin&&re!=null?g=re+Re.search+Re.hash:P=!0}catch{}let x=gR(g,{relative:o}),K=jR(g,{replace:c,state:m,target:d,preventScrollReset:y,relative:o,unstable_viewTransition:v});function J(ne){s&&s(ne),ne.defaultPrevented||K(ne)}return N.createElement("a",Xd({},T,{href:V||x,onClick:P||l?s:J,ref:n,target:d}))});var $v;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($v||($v={}));var Wv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Wv||(Wv={}));function jR(t,e){let{target:n,replace:s,state:o,preventScrollReset:l,relative:c,unstable_viewTransition:m}=e===void 0?{}:e,d=OE(),g=Wo(),y=ME(t,{relative:c});return N.useCallback(v=>{if(MR(v,n)){v.preventDefault();let T=s!==void 0?s:Zu(g)===Zu(y);d(t,{replace:T,state:o,preventScrollReset:l,relative:c,unstable_viewTransition:m})}},[g,d,y,s,o,n,t,l,c,m])}var Zv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},zR=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const o=t[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],c=t[n++],m=t[n++],d=((o&7)<<18|(l&63)<<12|(c&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},kE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<t.length;o+=3){const l=t[o],c=o+1<t.length,m=c?t[o+1]:0,d=o+2<t.length,g=d?t[o+2]:0,y=l>>2,v=(l&3)<<4|m>>4;let T=(m&15)<<2|g>>6,R=g&63;d||(R=64,c||(T=64)),s.push(n[y],n[v],n[T],n[R])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(LE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],m=o<t.length?n[t.charAt(o)]:0;++o;const g=o<t.length?n[t.charAt(o)]:64;++o;const v=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||m==null||g==null||v==null)throw new BR;const T=l<<2|m>>4;if(s.push(T),g!==64){const R=m<<4&240|g>>2;if(s.push(R),v!==64){const V=g<<6&192|v;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qR=function(t){const e=LE(t);return kE.encodeByteArray(e,!0)},jE=function(t){return qR(t).replace(/\./g,"")},zE=function(t){try{return kE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=()=>HR().__FIREBASE_DEFAULTS__,GR=()=>{if(typeof process>"u"||typeof Zv>"u")return;const t=Zv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zE(t[1]);return e&&JSON.parse(e)},Um=()=>{try{return FR()||GR()||QR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},KR=t=>{var e,n;return(n=(e=Um())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},BE=()=>{var t;return(t=Um())===null||t===void 0?void 0:t.config},qE=t=>{var e;return(e=Um())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function $R(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function WR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZR(){const t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function JR(){try{return typeof indexedDB=="object"}catch{return!1}}function eI(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="FirebaseError";class mi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=tI,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zo.prototype.create)}}class Zo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?nI(l,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new mi(o,m,s)}}function nI(t,e){return t.replace(iI,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const iI=/\{\$([^}]+)}/g;function rI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Oo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const l=t[o],c=e[o];if(Jv(l)&&Jv(c)){if(!Oo(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Jv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function po(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function yo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function sI(t,e){const n=new aI(t,e);return n.subscribe.bind(n)}class aI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");oI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Id),o.error===void 0&&(o.error=Id),o.complete===void 0&&(o.complete=Id);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Id(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t){return t&&t._delegate?t._delegate:t}class Br{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new YR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cI(e))try{this.getOrInitializeService({instanceIdentifier:Pr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Pr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pr){return this.instances.has(e)}getOptions(e=Pr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&c.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:uI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Pr){return this.component?this.component.multipleInstances?e:Pr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uI(t){return t===Pr?void 0:t}function cI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const fI={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},dI=Ee.INFO,mI={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},gI=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),o=mI[e];if(o)console[o](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lm{constructor(e){this.name=e,this._logLevel=dI,this._logHandler=gI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const pI=(t,e)=>e.some(n=>t instanceof n);let e0,t0;function yI(){return e0||(e0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _I(){return t0||(t0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HE=new WeakMap,$d=new WeakMap,FE=new WeakMap,Cd=new WeakMap,km=new WeakMap;function vI(t){const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n($i(t.result)),o()},c=()=>{s(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&HE.set(n,t)}).catch(()=>{}),km.set(e,t),e}function EI(t){if($d.has(t))return;const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});$d.set(t,e)}let Wd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $d.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $i(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TI(t){Wd=t(Wd)}function AI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Dd(this),e,...n);return FE.set(s,e.sort?e.sort():[e]),$i(s)}:_I().includes(t)?function(...e){return t.apply(Dd(this),e),$i(HE.get(this))}:function(...e){return $i(t.apply(Dd(this),e))}}function wI(t){return typeof t=="function"?AI(t):(t instanceof IDBTransaction&&EI(t),pI(t,yI())?new Proxy(t,Wd):t)}function $i(t){if(t instanceof IDBRequest)return vI(t);if(Cd.has(t))return Cd.get(t);const e=wI(t);return e!==t&&(Cd.set(t,e),km.set(e,t)),e}const Dd=t=>km.get(t);function SI(t,e,{blocked:n,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(t,e),m=$i(c);return s&&c.addEventListener("upgradeneeded",d=>{s($i(c.result),d.oldVersion,d.newVersion,$i(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),m.then(d=>{l&&d.addEventListener("close",()=>l()),o&&d.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const bI=["get","getKey","getAll","getAllKeys","count"],RI=["put","add","delete","clear"],Nd=new Map;function n0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nd.get(e))return Nd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=RI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||bI.includes(n)))return;const l=async function(c,...m){const d=this.transaction(c,o?"readwrite":"readonly");let g=d.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&d.done]))[0]};return Nd.set(e,l),l}TI(t=>({...t,get:(e,n,s)=>n0(e,n)||t.get(e,n,s),has:(e,n)=>!!n0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function CI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zd="@firebase/app",i0="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=new Lm("@firebase/app"),DI="@firebase/app-compat",NI="@firebase/analytics-compat",xI="@firebase/analytics",OI="@firebase/app-check-compat",MI="@firebase/app-check",VI="@firebase/auth",PI="@firebase/auth-compat",UI="@firebase/database",LI="@firebase/database-compat",kI="@firebase/functions",jI="@firebase/functions-compat",zI="@firebase/installations",BI="@firebase/installations-compat",qI="@firebase/messaging",HI="@firebase/messaging-compat",FI="@firebase/performance",GI="@firebase/performance-compat",QI="@firebase/remote-config",KI="@firebase/remote-config-compat",YI="@firebase/storage",XI="@firebase/storage-compat",$I="@firebase/firestore",WI="@firebase/firestore-compat",ZI="firebase",JI="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="[DEFAULT]",eC={[Zd]:"fire-core",[DI]:"fire-core-compat",[xI]:"fire-analytics",[NI]:"fire-analytics-compat",[MI]:"fire-app-check",[OI]:"fire-app-check-compat",[VI]:"fire-auth",[PI]:"fire-auth-compat",[UI]:"fire-rtdb",[LI]:"fire-rtdb-compat",[kI]:"fire-fn",[jI]:"fire-fn-compat",[zI]:"fire-iid",[BI]:"fire-iid-compat",[qI]:"fire-fcm",[HI]:"fire-fcm-compat",[FI]:"fire-perf",[GI]:"fire-perf-compat",[QI]:"fire-rc",[KI]:"fire-rc-compat",[YI]:"fire-gcs",[XI]:"fire-gcs-compat",[$I]:"fire-fst",[WI]:"fire-fst-compat","fire-js":"fire-js",[ZI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Map,em=new Map;function tC(t,e){try{t.container.addComponent(e)}catch(n){qr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qs(t){const e=t.name;if(em.has(e))return qr.debug(`There were multiple attempts to register component ${e}.`),!1;em.set(e,t);for(const n of Ju.values())tC(n,t);return!0}function jm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Wi=new Zo("app","Firebase",nC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=JI;function GE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Jd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Wi.create("bad-app-name",{appName:String(o)});if(n||(n=BE()),!n)throw Wi.create("no-options");const l=Ju.get(o);if(l){if(Oo(n,l.options)&&Oo(s,l.config))return l;throw Wi.create("duplicate-app",{appName:o})}const c=new hI(o);for(const d of em.values())c.addComponent(d);const m=new iC(n,s,c);return Ju.set(o,m),m}function rC(t=Jd){const e=Ju.get(t);if(!e&&t===Jd&&BE())return GE();if(!e)throw Wi.create("no-app",{appName:t});return e}function Zi(t,e,n){var s;let o=(s=eC[t])!==null&&s!==void 0?s:t;n&&(o+=`-${n}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const m=[`Unable to register library "${o}" with version "${e}":`];l&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&m.push("and"),c&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qr.warn(m.join(" "));return}Qs(new Br(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="firebase-heartbeat-database",aC=1,Mo="firebase-heartbeat-store";let xd=null;function QE(){return xd||(xd=SI(sC,aC,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Mo)}}}).catch(t=>{throw Wi.create("idb-open",{originalErrorMessage:t.message})})),xd}async function oC(t){try{return await(await QE()).transaction(Mo).objectStore(Mo).get(KE(t))}catch(e){if(e instanceof mi)qr.warn(e.message);else{const n=Wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qr.warn(n.message)}}}async function r0(t,e){try{const s=(await QE()).transaction(Mo,"readwrite");await s.objectStore(Mo).put(e,KE(t)),await s.done}catch(n){if(n instanceof mi)qr.warn(n.message);else{const s=Wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qr.warn(s.message)}}}function KE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=1024,uC=30*24*60*60*1e3;class cC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=s0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)))return this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const m=new Date(c.date).valueOf();return Date.now()-m<=uC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=s0(),{heartbeatsToSend:s,unsentEntries:o}=hC(this._heartbeatsCache.heartbeats),l=jE(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}}function s0(){return new Date().toISOString().substring(0,10)}function hC(t,e=lC){const n=[];let s=t.slice();for(const o of t){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),a0(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),a0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class fC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JR()?eI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return r0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return r0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function a0(t){return jE(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(t){Qs(new Br("platform-logger",e=>new II(e),"PRIVATE")),Qs(new Br("heartbeat",e=>new cC(e),"PRIVATE")),Zi(Zd,i0,t),Zi(Zd,i0,"esm2017"),Zi("fire-js","")}dC("");var mC="firebase",gC="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zi(mC,gC,"app");var pC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B,zm=zm||{},oe=pC||self;function Sc(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function bc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function yC(t,e,n){return t.call.apply(t.bind,arguments)}function _C(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,s),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function Ct(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ct=yC:Ct=_C,Ct.apply(null,arguments)}function Ou(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function dt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(s,o,l){for(var c=Array(arguments.length-2),m=2;m<arguments.length;m++)c[m-2]=arguments[m];return e.prototype[o].apply(s,c)}}function ar(){this.s=this.s,this.o=this.o}var vC=0;ar.prototype.s=!1;ar.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),vC!=0)};ar.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const YE=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Bm(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function o0(t,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(Sc(s)){const o=t.length||0,l=s.length||0;t.length=o+l;for(let c=0;c<l;c++)t[o+c]=s[c]}else t.push(s)}}function Dt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Dt.prototype.h=function(){this.defaultPrevented=!0};var EC=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};oe.addEventListener("test",n,e),oe.removeEventListener("test",n,e)}catch{}return t}();function Vo(t){return/^[\s\xa0]*$/.test(t)}function Rc(){var t=oe.navigator;return t&&(t=t.userAgent)?t:""}function Nn(t){return Rc().indexOf(t)!=-1}function qm(t){return qm[" "](t),t}qm[" "]=function(){};function TC(t,e){var n=m2;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var AC=Nn("Opera"),Ks=Nn("Trident")||Nn("MSIE"),XE=Nn("Edge"),tm=XE||Ks,$E=Nn("Gecko")&&!(Rc().toLowerCase().indexOf("webkit")!=-1&&!Nn("Edge"))&&!(Nn("Trident")||Nn("MSIE"))&&!Nn("Edge"),wC=Rc().toLowerCase().indexOf("webkit")!=-1&&!Nn("Edge");function WE(){var t=oe.document;return t?t.documentMode:void 0}var nm;e:{var Od="",Md=function(){var t=Rc();if($E)return/rv:([^\);]+)(\)|;)/.exec(t);if(XE)return/Edge\/([\d\.]+)/.exec(t);if(Ks)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(wC)return/WebKit\/(\S+)/.exec(t);if(AC)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Md&&(Od=Md?Md[1]:""),Ks){var Vd=WE();if(Vd!=null&&Vd>parseFloat(Od)){nm=String(Vd);break e}}nm=Od}var im;if(oe.document&&Ks){var l0=WE();im=l0||parseInt(nm,10)||void 0}else im=void 0;var SC=im;function Po(t,e){if(Dt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if($E){e:{try{qm(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:bC[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Po.$.h.call(this)}}dt(Po,Dt);var bC={2:"touch",3:"pen",4:"mouse"};Po.prototype.h=function(){Po.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ic="closure_listenable_"+(1e6*Math.random()|0),RC=0;function IC(t,e,n,s,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=o,this.key=++RC,this.fa=this.ia=!1}function Cc(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Hm(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function CC(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function ZE(t){const e={};for(const n in t)e[n]=t[n];return e}const u0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function JE(t,e){let n,s;for(let o=1;o<arguments.length;o++){s=arguments[o];for(n in s)t[n]=s[n];for(let l=0;l<u0.length;l++)n=u0[l],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function Dc(t){this.src=t,this.g={},this.h=0}Dc.prototype.add=function(t,e,n,s,o){var l=t.toString();t=this.g[l],t||(t=this.g[l]=[],this.h++);var c=sm(t,e,s,o);return-1<c?(e=t[c],n||(e.ia=!1)):(e=new IC(e,this.src,l,!!s,o),e.ia=n,t.push(e)),e};function rm(t,e){var n=e.type;if(n in t.g){var s=t.g[n],o=YE(s,e),l;(l=0<=o)&&Array.prototype.splice.call(s,o,1),l&&(Cc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function sm(t,e,n,s){for(var o=0;o<t.length;++o){var l=t[o];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==s)return o}return-1}var Fm="closure_lm_"+(1e6*Math.random()|0),Pd={};function eT(t,e,n,s,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)eT(t,e[l],n,s,o);return null}return n=iT(n),t&&t[Ic]?t.O(e,n,bc(s)?!!s.capture:!1,o):DC(t,e,n,!1,s,o)}function DC(t,e,n,s,o,l){if(!e)throw Error("Invalid event type");var c=bc(o)?!!o.capture:!!o,m=Qm(t);if(m||(t[Fm]=m=new Dc(t)),n=m.add(e,n,s,c,l),n.proxy)return n;if(s=NC(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)EC||(o=c),o===void 0&&(o=!1),t.addEventListener(e.toString(),s,o);else if(t.attachEvent)t.attachEvent(nT(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function NC(){function t(n){return e.call(t.src,t.listener,n)}const e=xC;return t}function tT(t,e,n,s,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)tT(t,e[l],n,s,o);else s=bc(s)?!!s.capture:!!s,n=iT(n),t&&t[Ic]?(t=t.i,e=String(e).toString(),e in t.g&&(l=t.g[e],n=sm(l,n,s,o),-1<n&&(Cc(l[n]),Array.prototype.splice.call(l,n,1),l.length==0&&(delete t.g[e],t.h--)))):t&&(t=Qm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=sm(e,n,s,o)),(n=-1<t?e[t]:null)&&Gm(n))}function Gm(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ic])rm(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(nT(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=Qm(e))?(rm(n,t),n.h==0&&(n.src=null,e[Fm]=null)):Cc(t)}}}function nT(t){return t in Pd?Pd[t]:Pd[t]="on"+t}function xC(t,e){if(t.fa)t=!0;else{e=new Po(e,this);var n=t.listener,s=t.la||t.src;t.ia&&Gm(t),t=n.call(s,e)}return t}function Qm(t){return t=t[Fm],t instanceof Dc?t:null}var Ud="__closure_events_fn_"+(1e9*Math.random()>>>0);function iT(t){return typeof t=="function"?t:(t[Ud]||(t[Ud]=function(e){return t.handleEvent(e)}),t[Ud])}function ft(){ar.call(this),this.i=new Dc(this),this.S=this,this.J=null}dt(ft,ar);ft.prototype[Ic]=!0;ft.prototype.removeEventListener=function(t,e,n,s){tT(this,t,e,n,s)};function Et(t,e){var n,s=t.J;if(s)for(n=[];s;s=s.J)n.push(s);if(t=t.S,s=e.type||e,typeof e=="string")e=new Dt(e,t);else if(e instanceof Dt)e.target=e.target||t;else{var o=e;e=new Dt(s,t),JE(e,o)}if(o=!0,n)for(var l=n.length-1;0<=l;l--){var c=e.g=n[l];o=Mu(c,s,!0,e)&&o}if(c=e.g=t,o=Mu(c,s,!0,e)&&o,o=Mu(c,s,!1,e)&&o,n)for(l=0;l<n.length;l++)c=e.g=n[l],o=Mu(c,s,!1,e)&&o}ft.prototype.N=function(){if(ft.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)Cc(n[s]);delete t.g[e],t.h--}}this.J=null};ft.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};ft.prototype.P=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function Mu(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var c=e[l];if(c&&!c.fa&&c.capture==n){var m=c.listener,d=c.la||c.src;c.ia&&rm(t.i,c),o=m.call(d,s)!==!1&&o}}return o&&!s.defaultPrevented}var Km=oe.JSON.stringify;class OC{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function MC(){var t=Ym;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class VC{constructor(){this.h=this.g=null}add(e,n){const s=rT.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var rT=new OC(()=>new PC,t=>t.reset());class PC{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function UC(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function LC(t){oe.setTimeout(()=>{throw t},0)}let Uo,Lo=!1,Ym=new VC,sT=()=>{const t=oe.Promise.resolve(void 0);Uo=()=>{t.then(kC)}};var kC=()=>{for(var t;t=MC();){try{t.h.call(t.g)}catch(n){LC(n)}var e=rT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Lo=!1};function Nc(t,e){ft.call(this),this.h=t||1,this.g=e||oe,this.j=Ct(this.qb,this),this.l=Date.now()}dt(Nc,ft);B=Nc.prototype;B.ga=!1;B.T=null;B.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Et(this,"tick"),this.ga&&(Xm(this),this.start()))}};B.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Xm(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}B.N=function(){Nc.$.N.call(this),Xm(this),delete this.g};function $m(t,e,n){if(typeof t=="function")n&&(t=Ct(t,n));else if(t&&typeof t.handleEvent=="function")t=Ct(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:oe.setTimeout(t,e||0)}function aT(t){t.g=$m(()=>{t.g=null,t.i&&(t.i=!1,aT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class jC extends ar{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:aT(this)}N(){super.N(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ko(t){ar.call(this),this.h=t,this.g={}}dt(ko,ar);var c0=[];function oT(t,e,n,s){Array.isArray(n)||(n&&(c0[0]=n.toString()),n=c0);for(var o=0;o<n.length;o++){var l=eT(e,n[o],s||t.handleEvent,!1,t.h||t);if(!l)break;t.g[l.key]=l}}function lT(t){Hm(t.g,function(e,n){this.g.hasOwnProperty(n)&&Gm(e)},t),t.g={}}ko.prototype.N=function(){ko.$.N.call(this),lT(this)};ko.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function xc(){this.g=!0}xc.prototype.Ea=function(){this.g=!1};function zC(t,e,n,s,o,l){t.info(function(){if(t.g)if(l)for(var c="",m=l.split("&"),d=0;d<m.length;d++){var g=m[d].split("=");if(1<g.length){var y=g[0];g=g[1];var v=y.split("_");c=2<=v.length&&v[1]=="type"?c+(y+"="+g+"&"):c+(y+"=redacted&")}}else c=null;else c=l;return"XMLHTTP REQ ("+s+") [attempt "+o+"]: "+e+`
`+n+`
`+c})}function BC(t,e,n,s,o,l,c){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+o+"]: "+e+`
`+n+`
`+l+" "+c})}function js(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+HC(t,n)+(s?" "+s:"")})}function qC(t,e){t.info(function(){return"TIMEOUT: "+e})}xc.prototype.info=function(){};function HC(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var o=s[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if(l!="noop"&&l!="stop"&&l!="close")for(var c=1;c<o.length;c++)o[c]=""}}}}return Km(n)}catch{return e}}var Yr={},h0=null;function Oc(){return h0=h0||new ft}Yr.Ta="serverreachability";function uT(t){Dt.call(this,Yr.Ta,t)}dt(uT,Dt);function jo(t){const e=Oc();Et(e,new uT(e))}Yr.STAT_EVENT="statevent";function cT(t,e){Dt.call(this,Yr.STAT_EVENT,t),this.stat=e}dt(cT,Dt);function Pt(t){const e=Oc();Et(e,new cT(e,t))}Yr.Ua="timingevent";function hT(t,e){Dt.call(this,Yr.Ua,t),this.size=e}dt(hT,Dt);function el(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){t()},e)}var Mc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},fT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Wm(){}Wm.prototype.h=null;function f0(t){return t.h||(t.h=t.i())}function dT(){}var tl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Zm(){Dt.call(this,"d")}dt(Zm,Dt);function Jm(){Dt.call(this,"c")}dt(Jm,Dt);var am;function Vc(){}dt(Vc,Wm);Vc.prototype.g=function(){return new XMLHttpRequest};Vc.prototype.i=function(){return{}};am=new Vc;function nl(t,e,n,s){this.l=t,this.j=e,this.m=n,this.W=s||1,this.U=new ko(this),this.P=FC,t=tm?125:void 0,this.V=new Nc(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new mT}function mT(){this.i=null,this.g="",this.h=!1}var FC=45e3,gT={},om={};B=nl.prototype;B.setTimeout=function(t){this.P=t};function lm(t,e,n){t.L=1,t.A=Uc(ui(e)),t.u=n,t.S=!0,pT(t,null)}function pT(t,e){t.G=Date.now(),il(t),t.B=ui(t.A);var n=t.B,s=t.W;Array.isArray(s)||(s=[String(s)]),ST(n.i,"t",s),t.o=0,n=t.l.J,t.h=new mT,t.g=GT(t.l,n?e:null,!t.u),0<t.O&&(t.M=new jC(Ct(t.Pa,t,t.g),t.O)),oT(t.U,t.g,"readystatechange",t.nb),e=t.I?ZE(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),jo(),zC(t.j,t.v,t.B,t.m,t.W,t.u)}B.nb=function(t){t=t.target;const e=this.M;e&&xn(t)==3?e.l():this.Pa(t)};B.Pa=function(t){try{if(t==this.g)e:{const y=xn(this.g);var e=this.g.Ia();const v=this.g.da();if(!(3>y)&&(y!=3||tm||this.g&&(this.h.h||this.g.ja()||p0(this.g)))){this.J||y!=4||e==7||(e==8||0>=v?jo(3):jo(2)),Pc(this);var n=this.g.da();this.ca=n;t:if(yT(this)){var s=p0(this.g);t="";var o=s.length,l=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ur(this),wo(this);var c="";break t}this.h.i=new oe.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:l&&e==o-1});s.length=0,this.h.g+=t,this.o=0,c=this.h.g}else c=this.g.ja();if(this.i=n==200,BC(this.j,this.v,this.B,this.m,this.W,y,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,d=this.g;if((m=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vo(m)){var g=m;break t}}g=null}if(n=g)js(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,um(this,n);else{this.i=!1,this.s=3,Pt(12),Ur(this),wo(this);break e}}this.S?(_T(this,y,c),tm&&this.i&&y==3&&(oT(this.U,this.V,"tick",this.mb),this.V.start())):(js(this.j,this.m,c,null),um(this,c)),y==4&&Ur(this),this.i&&!this.J&&(y==4?BT(this.l,this):(this.i=!1,il(this)))}else h2(this.g),n==400&&0<c.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),Ur(this),wo(this)}}}catch{}finally{}};function yT(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function _T(t,e,n){let s=!0,o;for(;!t.J&&t.o<n.length;)if(o=GC(t,n),o==om){e==4&&(t.s=4,Pt(14),s=!1),js(t.j,t.m,null,"[Incomplete Response]");break}else if(o==gT){t.s=4,Pt(15),js(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else js(t.j,t.m,o,null),um(t,o);yT(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Pt(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),sg(e),e.M=!0,Pt(11))):(js(t.j,t.m,n,"[Invalid Chunked Response]"),Ur(t),wo(t))}B.mb=function(){if(this.g){var t=xn(this.g),e=this.g.ja();this.o<e.length&&(Pc(this),_T(this,t,e),this.i&&t!=4&&il(this))}};function GC(t,e){var n=t.o,s=e.indexOf(`
`,n);return s==-1?om:(n=Number(e.substring(n,s)),isNaN(n)?gT:(s+=1,s+n>e.length?om:(e=e.slice(s,s+n),t.o=s+n,e)))}B.cancel=function(){this.J=!0,Ur(this)};function il(t){t.Y=Date.now()+t.P,vT(t,t.P)}function vT(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=el(Ct(t.lb,t),e)}function Pc(t){t.C&&(oe.clearTimeout(t.C),t.C=null)}B.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(qC(this.j,this.B),this.L!=2&&(jo(),Pt(17)),Ur(this),this.s=2,wo(this)):vT(this,this.Y-t)};function wo(t){t.l.H==0||t.J||BT(t.l,t)}function Ur(t){Pc(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Xm(t.V),lT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function um(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||cm(n.i,t))){if(!t.K&&cm(n.i,t)&&n.H==3){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var o=s;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)nc(n),zc(n);else break e;rg(n),Pt(18)}}else n.Fa=o[1],0<n.Fa-n.V&&37500>o[2]&&n.G&&n.A==0&&!n.v&&(n.v=el(Ct(n.ib,n),6e3));if(1>=IT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Lr(n,11)}else if((t.K||n.g==t)&&nc(n),!Vo(e))for(o=n.Ja.g.parse(e),e=0;e<o.length;e++){let g=o[e];if(n.V=g[0],g=g[1],n.H==2)if(g[0]=="c"){n.K=g[1],n.pa=g[2];const y=g[3];y!=null&&(n.ra=y,n.l.info("VER="+n.ra));const v=g[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));const T=g[5];T!=null&&typeof T=="number"&&0<T&&(s=1.5*T,n.L=s,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const R=t.g;if(R){const V=R.g?R.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(V){var l=s.i;l.g||V.indexOf("spdy")==-1&&V.indexOf("quic")==-1&&V.indexOf("h2")==-1||(l.j=l.l,l.g=new Set,l.h&&(eg(l,l.h),l.h=null))}if(s.F){const P=R.g?R.g.getResponseHeader("X-HTTP-Session-Id"):null;P&&(s.Da=P,ke(s.I,s.F,P))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),s=n;var c=t;if(s.wa=FT(s,s.J?s.pa:null,s.Y),c.K){CT(s.i,c);var m=c,d=s.L;d&&m.setTimeout(d),m.C&&(Pc(m),il(m)),s.g=c}else jT(s);0<n.j.length&&Bc(n)}else g[0]!="stop"&&g[0]!="close"||Lr(n,7);else n.H==3&&(g[0]=="stop"||g[0]=="close"?g[0]=="stop"?Lr(n,7):ig(n):g[0]!="noop"&&n.h&&n.h.Aa(g),n.A=0)}}jo(4)}catch{}}function QC(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Sc(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function KC(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Sc(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const s in t)e[n++]=s;return e}}}function ET(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Sc(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=KC(t),s=QC(t),o=s.length,l=0;l<o;l++)e.call(void 0,s[l],n&&n[l],t)}var TT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function YC(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),o=null;if(0<=s){var l=t[n].substring(0,s);o=t[n].substring(s+1)}else l=t[n];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function jr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof jr){this.h=t.h,ec(this,t.j),this.s=t.s,this.g=t.g,tc(this,t.m),this.l=t.l;var e=t.i,n=new zo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),d0(this,n),this.o=t.o}else t&&(e=String(t).match(TT))?(this.h=!1,ec(this,e[1]||"",!0),this.s=_o(e[2]||""),this.g=_o(e[3]||"",!0),tc(this,e[4]),this.l=_o(e[5]||"",!0),d0(this,e[6]||"",!0),this.o=_o(e[7]||"")):(this.h=!1,this.i=new zo(null,this.h))}jr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(vo(e,m0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(vo(e,m0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(vo(n,n.charAt(0)=="/"?WC:$C,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",vo(n,JC)),t.join("")};function ui(t){return new jr(t)}function ec(t,e,n){t.j=n?_o(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function tc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function d0(t,e,n){e instanceof zo?(t.i=e,e2(t.i,t.h)):(n||(e=vo(e,ZC)),t.i=new zo(e,t.h))}function ke(t,e,n){t.i.set(e,n)}function Uc(t){return ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function _o(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function vo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,XC),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function XC(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var m0=/[#\/\?@]/g,$C=/[#\?:]/g,WC=/[#\?]/g,ZC=/[#\?@]/g,JC=/#/g;function zo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function or(t){t.g||(t.g=new Map,t.h=0,t.i&&YC(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}B=zo.prototype;B.add=function(t,e){or(this),this.i=null,t=ra(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function AT(t,e){or(t),e=ra(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function wT(t,e){return or(t),e=ra(t,e),t.g.has(e)}B.forEach=function(t,e){or(this),this.g.forEach(function(n,s){n.forEach(function(o){t.call(e,o,s,this)},this)},this)};B.ta=function(){or(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const o=t[s];for(let l=0;l<o.length;l++)n.push(e[s])}return n};B.Z=function(t){or(this);let e=[];if(typeof t=="string")wT(this,t)&&(e=e.concat(this.g.get(ra(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};B.set=function(t,e){return or(this),this.i=null,t=ra(this,t),wT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};B.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function ST(t,e,n){AT(t,e),0<n.length&&(t.i=null,t.g.set(ra(t,e),Bm(n)),t.h+=n.length)}B.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const l=encodeURIComponent(String(s)),c=this.Z(s);for(s=0;s<c.length;s++){var o=l;c[s]!==""&&(o+="="+encodeURIComponent(String(c[s]))),t.push(o)}}return this.i=t.join("&")};function ra(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function e2(t,e){e&&!t.j&&(or(t),t.i=null,t.g.forEach(function(n,s){var o=s.toLowerCase();s!=o&&(AT(this,s),ST(this,o,n))},t)),t.j=e}var t2=class{constructor(t,e){this.g=t,this.map=e}};function bT(t){this.l=t||n2,oe.PerformanceNavigationTiming?(t=oe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(oe.g&&oe.g.Ka&&oe.g.Ka()&&oe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var n2=10;function RT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function IT(t){return t.h?1:t.g?t.g.size:0}function cm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function eg(t,e){t.g?t.g.add(e):t.h=e}function CT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}bT.prototype.cancel=function(){if(this.i=DT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function DT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Bm(t.i)}var i2=class{stringify(t){return oe.JSON.stringify(t,void 0)}parse(t){return oe.JSON.parse(t,void 0)}};function r2(){this.g=new i2}function s2(t,e,n){const s=n||"";try{ET(t,function(o,l){let c=o;bc(o)&&(c=Km(o)),e.push(s+l+"="+encodeURIComponent(c))})}catch(o){throw e.push(s+"type="+encodeURIComponent("_badmap")),o}}function a2(t,e){const n=new xc;if(oe.Image){const s=new Image;s.onload=Ou(Vu,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Ou(Vu,n,s,"TestLoadImage: error",!1,e),s.onabort=Ou(Vu,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ou(Vu,n,s,"TestLoadImage: timeout",!1,e),oe.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function Vu(t,e,n,s,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(s)}catch{}}function Lc(t){this.l=t.ec||null,this.j=t.ob||!1}dt(Lc,Wm);Lc.prototype.g=function(){return new kc(this.l,this.j)};Lc.prototype.i=function(t){return function(){return t}}({});function kc(t,e){ft.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=tg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dt(kc,ft);var tg=0;B=kc.prototype;B.open=function(t,e){if(this.readyState!=tg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Bo(this)};B.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||oe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rl(this)),this.readyState=tg};B.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Bo(this)),this.g&&(this.readyState=3,Bo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;NT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function NT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}B.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?rl(this):Bo(this),this.readyState==3&&NT(this)}};B.Za=function(t){this.g&&(this.response=this.responseText=t,rl(this))};B.Ya=function(t){this.g&&(this.response=t,rl(this))};B.ka=function(){this.g&&rl(this)};function rl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Bo(t)}B.setRequestHeader=function(t,e){this.v.append(t,e)};B.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};B.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Bo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(kc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var o2=oe.JSON.parse;function Ke(t){ft.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=xT,this.L=this.M=!1}dt(Ke,ft);var xT="",l2=/^https?$/i,u2=["POST","PUT"];B=Ke.prototype;B.Oa=function(t){this.M=t};B.ha=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():am.g(),this.C=this.u?f0(this.u):f0(am),this.g.onreadystatechange=Ct(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(l){g0(this,l);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var o in s)n.set(o,s[o]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const l of s.keys())n.set(l,s.get(l));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(l=>l.toLowerCase()=="content-type"),o=oe.FormData&&t instanceof oe.FormData,!(0<=YE(u2,e))||s||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,c]of n)this.g.setRequestHeader(l,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{VT(this),0<this.B&&((this.L=c2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ct(this.ua,this)):this.A=$m(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(l){g0(this,l)}};function c2(t){return Ks&&typeof t.timeout=="number"&&t.ontimeout!==void 0}B.ua=function(){typeof zm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Et(this,"timeout"),this.abort(8))};function g0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,OT(t),jc(t)}function OT(t){t.F||(t.F=!0,Et(t,"complete"),Et(t,"error"))}B.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Et(this,"complete"),Et(this,"abort"),jc(this))};B.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jc(this,!0)),Ke.$.N.call(this)};B.La=function(){this.s||(this.G||this.v||this.l?MT(this):this.kb())};B.kb=function(){MT(this)};function MT(t){if(t.h&&typeof zm<"u"&&(!t.C[1]||xn(t)!=4||t.da()!=2)){if(t.v&&xn(t)==4)$m(t.La,0,t);else if(Et(t,"readystatechange"),xn(t)==4){t.h=!1;try{const c=t.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=c===0){var o=String(t.I).match(TT)[1]||null;!o&&oe.self&&oe.self.location&&(o=oe.self.location.protocol.slice(0,-1)),s=!l2.test(o?o.toLowerCase():"")}n=s}if(n)Et(t,"complete"),Et(t,"success");else{t.m=6;try{var l=2<xn(t)?t.g.statusText:""}catch{l=""}t.j=l+" ["+t.da()+"]",OT(t)}}finally{jc(t)}}}}function jc(t,e){if(t.g){VT(t);const n=t.g,s=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Et(t,"ready");try{n.onreadystatechange=s}catch{}}}function VT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(oe.clearTimeout(t.A),t.A=null)}B.isActive=function(){return!!this.g};function xn(t){return t.g?t.g.readyState:0}B.da=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}};B.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};B.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),o2(e)}};function p0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case xT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function h2(t){const e={};t=(t.g&&2<=xn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let s=0;s<t.length;s++){if(Vo(t[s]))continue;var n=UC(t[s]);const o=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const l=e[o]||[];e[o]=l,l.push(n)}CC(e,function(s){return s.join(", ")})}B.Ia=function(){return this.m};B.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function PT(t){let e="";return Hm(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function ng(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=PT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ke(t,e,n))}function ho(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function UT(t){this.Ga=0,this.j=[],this.l=new xc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ho("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ho("baseRetryDelayMs",5e3,t),this.hb=ho("retryDelaySeedMs",1e4,t),this.eb=ho("forwardChannelMaxRetries",2,t),this.xa=ho("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new bT(t&&t.concurrentRequestLimit),this.Ja=new r2,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}B=UT.prototype;B.ra=8;B.H=1;function ig(t){if(LT(t),t.H==3){var e=t.W++,n=ui(t.I);if(ke(n,"SID",t.K),ke(n,"RID",e),ke(n,"TYPE","terminate"),sl(t,n),e=new nl(t,t.l,e),e.L=2,e.A=Uc(ui(n)),n=!1,oe.navigator&&oe.navigator.sendBeacon)try{n=oe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&oe.Image&&(new Image().src=e.A,n=!0),n||(e.g=GT(e.l,null),e.g.ha(e.A)),e.G=Date.now(),il(e)}HT(t)}function zc(t){t.g&&(sg(t),t.g.cancel(),t.g=null)}function LT(t){zc(t),t.u&&(oe.clearTimeout(t.u),t.u=null),nc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&oe.clearTimeout(t.m),t.m=null)}function Bc(t){if(!RT(t.i)&&!t.m){t.m=!0;var e=t.Na;Uo||sT(),Lo||(Uo(),Lo=!0),Ym.add(e,t),t.C=0}}function f2(t,e){return IT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=el(Ct(t.Na,t,e),qT(t,t.C)),t.C++,!0)}B.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const o=new nl(this,this.l,t);let l=this.s;if(this.U&&(l?(l=ZE(l),JE(l,this.U)):l=this.U),this.o!==null||this.O||(o.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var s=this.j[n];if("__data__"in s.map&&(s=s.map.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=kT(this,o,e),n=ui(this.I),ke(n,"RID",t),ke(n,"CVER",22),this.F&&ke(n,"X-HTTP-Session-Id",this.F),sl(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(PT(l)))+"&"+e:this.o&&ng(n,this.o,l)),eg(this.i,o),this.bb&&ke(n,"TYPE","init"),this.P?(ke(n,"$req",e),ke(n,"SID","null"),o.aa=!0,lm(o,n,null)):lm(o,n,e),this.H=2}}else this.H==3&&(t?y0(this,t):this.j.length==0||RT(this.i)||y0(this))};function y0(t,e){var n;e?n=e.m:n=t.W++;const s=ui(t.I);ke(s,"SID",t.K),ke(s,"RID",n),ke(s,"AID",t.V),sl(t,s),t.o&&t.s&&ng(s,t.o,t.s),n=new nl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=kT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),eg(t.i,n),lm(n,s,e)}function sl(t,e){t.na&&Hm(t.na,function(n,s){ke(e,s,n)}),t.h&&ET({},function(n,s){ke(e,s,n)})}function kT(t,e,n){n=Math.min(t.j.length,n);var s=t.h?Ct(t.h.Va,t.h,t):null;e:{var o=t.j;let l=-1;for(;;){const c=["count="+n];l==-1?0<n?(l=o[0].g,c.push("ofs="+l)):l=0:c.push("ofs="+l);let m=!0;for(let d=0;d<n;d++){let g=o[d].g;const y=o[d].map;if(g-=l,0>g)l=Math.max(0,o[d].g-100),m=!1;else try{s2(y,c,"req"+g+"_")}catch{s&&s(y)}}if(m){s=c.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,s}function jT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Uo||sT(),Lo||(Uo(),Lo=!0),Ym.add(e,t),t.A=0}}function rg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=el(Ct(t.Ma,t),qT(t,t.A)),t.A++,!0)}B.Ma=function(){if(this.u=null,zT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=el(Ct(this.jb,this),t)}};B.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Pt(10),zc(this),zT(this))};function sg(t){t.B!=null&&(oe.clearTimeout(t.B),t.B=null)}function zT(t){t.g=new nl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ui(t.wa);ke(e,"RID","rpc"),ke(e,"SID",t.K),ke(e,"AID",t.V),ke(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ke(e,"TO",t.qa),ke(e,"TYPE","xmlhttp"),sl(t,e),t.o&&t.s&&ng(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Uc(ui(e)),n.u=null,n.S=!0,pT(n,t)}B.ib=function(){this.v!=null&&(this.v=null,zc(this),rg(this),Pt(19))};function nc(t){t.v!=null&&(oe.clearTimeout(t.v),t.v=null)}function BT(t,e){var n=null;if(t.g==e){nc(t),sg(t),t.g=null;var s=2}else if(cm(t.i,e))n=e.F,CT(t.i,e),s=1;else return;if(t.H!=0){if(e.i)if(s==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var o=t.C;s=Oc(),Et(s,new hT(s,n)),Bc(t)}else jT(t);else if(o=e.s,o==3||o==0&&0<e.ca||!(s==1&&f2(t,e)||s==2&&rg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:Lr(t,5);break;case 4:Lr(t,10);break;case 3:Lr(t,6);break;default:Lr(t,2)}}}function qT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Lr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var s=Ct(t.pb,t);n||(n=new jr("//www.google.com/images/cleardot.gif"),oe.location&&oe.location.protocol=="http"||ec(n,"https"),Uc(n)),a2(n.toString(),s)}else Pt(2);t.H=0,t.h&&t.h.za(e),HT(t),LT(t)}B.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Pt(2)):(this.l.info("Failed to ping google.com"),Pt(1))};function HT(t){if(t.H=0,t.ma=[],t.h){const e=DT(t.i);(e.length!=0||t.j.length!=0)&&(o0(t.ma,e),o0(t.ma,t.j),t.i.i.length=0,Bm(t.j),t.j.length=0),t.h.ya()}}function FT(t,e,n){var s=n instanceof jr?ui(n):new jr(n);if(s.g!="")e&&(s.g=e+"."+s.g),tc(s,s.m);else{var o=oe.location;s=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var l=new jr(null);s&&ec(l,s),e&&(l.g=e),o&&tc(l,o),n&&(l.l=n),s=l}return n=t.F,e=t.Da,n&&e&&ke(s,n,e),ke(s,"VER",t.ra),sl(t,s),s}function GT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ke(new Lc({ob:n})):new Ke(t.va),e.Oa(t.J),e}B.isActive=function(){return!!this.h&&this.h.isActive(this)};function QT(){}B=QT.prototype;B.Ba=function(){};B.Aa=function(){};B.za=function(){};B.ya=function(){};B.isActive=function(){return!0};B.Va=function(){};function ic(){if(Ks&&!(10<=Number(SC)))throw Error("Environmental error: no available transport.")}ic.prototype.g=function(t,e){return new Wt(t,e)};function Wt(t,e){ft.call(this),this.g=new UT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Vo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new sa(this)}dt(Wt,ft);Wt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Pt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=FT(t,null,t.Y),Bc(t)};Wt.prototype.close=function(){ig(this.g)};Wt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Km(t),t=n);e.j.push(new t2(e.fb++,t)),e.H==3&&Bc(e)};Wt.prototype.N=function(){this.g.h=null,delete this.j,ig(this.g),delete this.g,Wt.$.N.call(this)};function KT(t){Zm.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}dt(KT,Zm);function YT(){Jm.call(this),this.status=1}dt(YT,Jm);function sa(t){this.g=t}dt(sa,QT);sa.prototype.Ba=function(){Et(this.g,"a")};sa.prototype.Aa=function(t){Et(this.g,new KT(t))};sa.prototype.za=function(t){Et(this.g,new YT)};sa.prototype.ya=function(){Et(this.g,"b")};function d2(){this.blockSize=-1}function vn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}dt(vn,d2);vn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ld(t,e,n){n||(n=0);var s=Array(16);if(typeof e=="string")for(var o=0;16>o;++o)s[o]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(o=0;16>o;++o)s[o]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],o=t.g[2];var l=t.g[3],c=e+(l^n&(o^l))+s[0]+3614090360&4294967295;e=n+(c<<7&4294967295|c>>>25),c=l+(o^e&(n^o))+s[1]+3905402710&4294967295,l=e+(c<<12&4294967295|c>>>20),c=o+(n^l&(e^n))+s[2]+606105819&4294967295,o=l+(c<<17&4294967295|c>>>15),c=n+(e^o&(l^e))+s[3]+3250441966&4294967295,n=o+(c<<22&4294967295|c>>>10),c=e+(l^n&(o^l))+s[4]+4118548399&4294967295,e=n+(c<<7&4294967295|c>>>25),c=l+(o^e&(n^o))+s[5]+1200080426&4294967295,l=e+(c<<12&4294967295|c>>>20),c=o+(n^l&(e^n))+s[6]+2821735955&4294967295,o=l+(c<<17&4294967295|c>>>15),c=n+(e^o&(l^e))+s[7]+4249261313&4294967295,n=o+(c<<22&4294967295|c>>>10),c=e+(l^n&(o^l))+s[8]+1770035416&4294967295,e=n+(c<<7&4294967295|c>>>25),c=l+(o^e&(n^o))+s[9]+2336552879&4294967295,l=e+(c<<12&4294967295|c>>>20),c=o+(n^l&(e^n))+s[10]+4294925233&4294967295,o=l+(c<<17&4294967295|c>>>15),c=n+(e^o&(l^e))+s[11]+2304563134&4294967295,n=o+(c<<22&4294967295|c>>>10),c=e+(l^n&(o^l))+s[12]+1804603682&4294967295,e=n+(c<<7&4294967295|c>>>25),c=l+(o^e&(n^o))+s[13]+4254626195&4294967295,l=e+(c<<12&4294967295|c>>>20),c=o+(n^l&(e^n))+s[14]+2792965006&4294967295,o=l+(c<<17&4294967295|c>>>15),c=n+(e^o&(l^e))+s[15]+1236535329&4294967295,n=o+(c<<22&4294967295|c>>>10),c=e+(o^l&(n^o))+s[1]+4129170786&4294967295,e=n+(c<<5&4294967295|c>>>27),c=l+(n^o&(e^n))+s[6]+3225465664&4294967295,l=e+(c<<9&4294967295|c>>>23),c=o+(e^n&(l^e))+s[11]+643717713&4294967295,o=l+(c<<14&4294967295|c>>>18),c=n+(l^e&(o^l))+s[0]+3921069994&4294967295,n=o+(c<<20&4294967295|c>>>12),c=e+(o^l&(n^o))+s[5]+3593408605&4294967295,e=n+(c<<5&4294967295|c>>>27),c=l+(n^o&(e^n))+s[10]+38016083&4294967295,l=e+(c<<9&4294967295|c>>>23),c=o+(e^n&(l^e))+s[15]+3634488961&4294967295,o=l+(c<<14&4294967295|c>>>18),c=n+(l^e&(o^l))+s[4]+3889429448&4294967295,n=o+(c<<20&4294967295|c>>>12),c=e+(o^l&(n^o))+s[9]+568446438&4294967295,e=n+(c<<5&4294967295|c>>>27),c=l+(n^o&(e^n))+s[14]+3275163606&4294967295,l=e+(c<<9&4294967295|c>>>23),c=o+(e^n&(l^e))+s[3]+4107603335&4294967295,o=l+(c<<14&4294967295|c>>>18),c=n+(l^e&(o^l))+s[8]+1163531501&4294967295,n=o+(c<<20&4294967295|c>>>12),c=e+(o^l&(n^o))+s[13]+2850285829&4294967295,e=n+(c<<5&4294967295|c>>>27),c=l+(n^o&(e^n))+s[2]+4243563512&4294967295,l=e+(c<<9&4294967295|c>>>23),c=o+(e^n&(l^e))+s[7]+1735328473&4294967295,o=l+(c<<14&4294967295|c>>>18),c=n+(l^e&(o^l))+s[12]+2368359562&4294967295,n=o+(c<<20&4294967295|c>>>12),c=e+(n^o^l)+s[5]+4294588738&4294967295,e=n+(c<<4&4294967295|c>>>28),c=l+(e^n^o)+s[8]+2272392833&4294967295,l=e+(c<<11&4294967295|c>>>21),c=o+(l^e^n)+s[11]+1839030562&4294967295,o=l+(c<<16&4294967295|c>>>16),c=n+(o^l^e)+s[14]+4259657740&4294967295,n=o+(c<<23&4294967295|c>>>9),c=e+(n^o^l)+s[1]+2763975236&4294967295,e=n+(c<<4&4294967295|c>>>28),c=l+(e^n^o)+s[4]+1272893353&4294967295,l=e+(c<<11&4294967295|c>>>21),c=o+(l^e^n)+s[7]+4139469664&4294967295,o=l+(c<<16&4294967295|c>>>16),c=n+(o^l^e)+s[10]+3200236656&4294967295,n=o+(c<<23&4294967295|c>>>9),c=e+(n^o^l)+s[13]+681279174&4294967295,e=n+(c<<4&4294967295|c>>>28),c=l+(e^n^o)+s[0]+3936430074&4294967295,l=e+(c<<11&4294967295|c>>>21),c=o+(l^e^n)+s[3]+3572445317&4294967295,o=l+(c<<16&4294967295|c>>>16),c=n+(o^l^e)+s[6]+76029189&4294967295,n=o+(c<<23&4294967295|c>>>9),c=e+(n^o^l)+s[9]+3654602809&4294967295,e=n+(c<<4&4294967295|c>>>28),c=l+(e^n^o)+s[12]+3873151461&4294967295,l=e+(c<<11&4294967295|c>>>21),c=o+(l^e^n)+s[15]+530742520&4294967295,o=l+(c<<16&4294967295|c>>>16),c=n+(o^l^e)+s[2]+3299628645&4294967295,n=o+(c<<23&4294967295|c>>>9),c=e+(o^(n|~l))+s[0]+4096336452&4294967295,e=n+(c<<6&4294967295|c>>>26),c=l+(n^(e|~o))+s[7]+1126891415&4294967295,l=e+(c<<10&4294967295|c>>>22),c=o+(e^(l|~n))+s[14]+2878612391&4294967295,o=l+(c<<15&4294967295|c>>>17),c=n+(l^(o|~e))+s[5]+4237533241&4294967295,n=o+(c<<21&4294967295|c>>>11),c=e+(o^(n|~l))+s[12]+1700485571&4294967295,e=n+(c<<6&4294967295|c>>>26),c=l+(n^(e|~o))+s[3]+2399980690&4294967295,l=e+(c<<10&4294967295|c>>>22),c=o+(e^(l|~n))+s[10]+4293915773&4294967295,o=l+(c<<15&4294967295|c>>>17),c=n+(l^(o|~e))+s[1]+2240044497&4294967295,n=o+(c<<21&4294967295|c>>>11),c=e+(o^(n|~l))+s[8]+1873313359&4294967295,e=n+(c<<6&4294967295|c>>>26),c=l+(n^(e|~o))+s[15]+4264355552&4294967295,l=e+(c<<10&4294967295|c>>>22),c=o+(e^(l|~n))+s[6]+2734768916&4294967295,o=l+(c<<15&4294967295|c>>>17),c=n+(l^(o|~e))+s[13]+1309151649&4294967295,n=o+(c<<21&4294967295|c>>>11),c=e+(o^(n|~l))+s[4]+4149444226&4294967295,e=n+(c<<6&4294967295|c>>>26),c=l+(n^(e|~o))+s[11]+3174756917&4294967295,l=e+(c<<10&4294967295|c>>>22),c=o+(e^(l|~n))+s[2]+718787259&4294967295,o=l+(c<<15&4294967295|c>>>17),c=n+(l^(o|~e))+s[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(o+(c<<21&4294967295|c>>>11))&4294967295,t.g[2]=t.g[2]+o&4294967295,t.g[3]=t.g[3]+l&4294967295}vn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,s=this.m,o=this.h,l=0;l<e;){if(o==0)for(;l<=n;)Ld(this,t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<e;)if(s[o++]=t.charCodeAt(l++),o==this.blockSize){Ld(this,s),o=0;break}}else for(;l<e;)if(s[o++]=t[l++],o==this.blockSize){Ld(this,s),o=0;break}}this.h=o,this.i+=e};vn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)t[n++]=this.g[e]>>>s&255;return t};function De(t,e){this.h=e;for(var n=[],s=!0,o=t.length-1;0<=o;o--){var l=t[o]|0;s&&l==e||(n[o]=l,s=!1)}this.g=n}var m2={};function ag(t){return-128<=t&&128>t?TC(t,function(e){return new De([e|0],0>e?-1:0)}):new De([t|0],0>t?-1:0)}function On(t){if(isNaN(t)||!isFinite(t))return Bs;if(0>t)return _t(On(-t));for(var e=[],n=1,s=0;t>=n;s++)e[s]=t/n|0,n*=hm;return new De(e,0)}function XT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return _t(XT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=On(Math.pow(e,8)),s=Bs,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),e);8>l?(l=On(Math.pow(e,l)),s=s.R(l).add(On(c))):(s=s.R(n),s=s.add(On(c)))}return s}var hm=4294967296,Bs=ag(0),fm=ag(1),_0=ag(16777216);B=De.prototype;B.ea=function(){if(fn(this))return-_t(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);t+=(0<=s?s:hm+s)*e,e*=hm}return t};B.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ri(this))return"0";if(fn(this))return"-"+_t(this).toString(t);for(var e=On(Math.pow(t,6)),n=this,s="";;){var o=sc(n,e).g;n=rc(n,o.R(e));var l=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=o,ri(n))return l+s;for(;6>l.length;)l="0"+l;s=l+s}};B.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ri(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function fn(t){return t.h==-1}B.X=function(t){return t=rc(this,t),fn(t)?-1:ri(t)?0:1};function _t(t){for(var e=t.g.length,n=[],s=0;s<e;s++)n[s]=~t.g[s];return new De(n,~t.h).add(fm)}B.abs=function(){return fn(this)?_t(this):this};B.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0,o=0;o<=e;o++){var l=s+(this.D(o)&65535)+(t.D(o)&65535),c=(l>>>16)+(this.D(o)>>>16)+(t.D(o)>>>16);s=c>>>16,l&=65535,c&=65535,n[o]=c<<16|l}return new De(n,n[n.length-1]&-2147483648?-1:0)};function rc(t,e){return t.add(_t(e))}B.R=function(t){if(ri(this)||ri(t))return Bs;if(fn(this))return fn(t)?_t(this).R(_t(t)):_t(_t(this).R(t));if(fn(t))return _t(this.R(_t(t)));if(0>this.X(_0)&&0>t.X(_0))return On(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var o=0;o<t.g.length;o++){var l=this.D(s)>>>16,c=this.D(s)&65535,m=t.D(o)>>>16,d=t.D(o)&65535;n[2*s+2*o]+=c*d,Pu(n,2*s+2*o),n[2*s+2*o+1]+=l*d,Pu(n,2*s+2*o+1),n[2*s+2*o+1]+=c*m,Pu(n,2*s+2*o+1),n[2*s+2*o+2]+=l*m,Pu(n,2*s+2*o+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new De(n,0)};function Pu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function fo(t,e){this.g=t,this.h=e}function sc(t,e){if(ri(e))throw Error("division by zero");if(ri(t))return new fo(Bs,Bs);if(fn(t))return e=sc(_t(t),e),new fo(_t(e.g),_t(e.h));if(fn(e))return e=sc(t,_t(e)),new fo(_t(e.g),e.h);if(30<t.g.length){if(fn(t)||fn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=fm,s=e;0>=s.X(t);)n=v0(n),s=v0(s);var o=Ps(n,1),l=Ps(s,1);for(s=Ps(s,2),n=Ps(n,2);!ri(s);){var c=l.add(s);0>=c.X(t)&&(o=o.add(n),l=c),s=Ps(s,1),n=Ps(n,1)}return e=rc(t,o.R(e)),new fo(o,e)}for(o=Bs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),s=Math.ceil(Math.log(n)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),l=On(n),c=l.R(e);fn(c)||0<c.X(t);)n-=s,l=On(n),c=l.R(e);ri(l)&&(l=fm),o=o.add(l),t=rc(t,c)}return new fo(o,t)}B.gb=function(t){return sc(this,t).h};B.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&t.D(s);return new De(n,this.h&t.h)};B.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|t.D(s);return new De(n,this.h|t.h)};B.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^t.D(s);return new De(n,this.h^t.h)};function v0(t){for(var e=t.g.length+1,n=[],s=0;s<e;s++)n[s]=t.D(s)<<1|t.D(s-1)>>>31;return new De(n,t.h)}function Ps(t,e){var n=e>>5;e%=32;for(var s=t.g.length-n,o=[],l=0;l<s;l++)o[l]=0<e?t.D(l+n)>>>e|t.D(l+n+1)<<32-e:t.D(l+n);return new De(o,t.h)}ic.prototype.createWebChannel=ic.prototype.g;Wt.prototype.send=Wt.prototype.u;Wt.prototype.open=Wt.prototype.m;Wt.prototype.close=Wt.prototype.close;Mc.NO_ERROR=0;Mc.TIMEOUT=8;Mc.HTTP_ERROR=6;fT.COMPLETE="complete";dT.EventType=tl;tl.OPEN="a";tl.CLOSE="b";tl.ERROR="c";tl.MESSAGE="d";ft.prototype.listen=ft.prototype.O;Ke.prototype.listenOnce=Ke.prototype.P;Ke.prototype.getLastError=Ke.prototype.Sa;Ke.prototype.getLastErrorCode=Ke.prototype.Ia;Ke.prototype.getStatus=Ke.prototype.da;Ke.prototype.getResponseJson=Ke.prototype.Wa;Ke.prototype.getResponseText=Ke.prototype.ja;Ke.prototype.send=Ke.prototype.ha;Ke.prototype.setWithCredentials=Ke.prototype.Oa;vn.prototype.digest=vn.prototype.l;vn.prototype.reset=vn.prototype.reset;vn.prototype.update=vn.prototype.j;De.prototype.add=De.prototype.add;De.prototype.multiply=De.prototype.R;De.prototype.modulo=De.prototype.gb;De.prototype.compare=De.prototype.X;De.prototype.toNumber=De.prototype.ea;De.prototype.toString=De.prototype.toString;De.prototype.getBits=De.prototype.D;De.fromNumber=On;De.fromString=XT;var g2=function(){return new ic},p2=function(){return Oc()},kd=Mc,y2=fT,_2=Yr,E0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Uu=dT,v2=Ke,E2=vn,qs=De;const T0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aa="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new Lm("@firebase/firestore");function mo(){return Hr.logLevel}function Q(t,...e){if(Hr.logLevel<=Ee.DEBUG){const n=e.map(og);Hr.debug(`Firestore (${aa}): ${t}`,...n)}}function ci(t,...e){if(Hr.logLevel<=Ee.ERROR){const n=e.map(og);Hr.error(`Firestore (${aa}): ${t}`,...n)}}function qo(t,...e){if(Hr.logLevel<=Ee.WARN){const n=e.map(og);Hr.warn(`Firestore (${aa}): ${t}`,...n)}}function og(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t="Unexpected state"){const e=`FIRESTORE (${aa}) INTERNAL ASSERTION FAILED: `+t;throw ci(e),new Error(e)}function Ue(t,e){t||ae()}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class w2{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const o=d=>this.i!==s?(s=this.i,n(d)):Promise.resolve();let l=new li;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new li,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const d=l;e.enqueueRetryable(async()=>{await d.promise,await o(this.currentUser)})},m=d=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(d=>m(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?m(d):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new li)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ue(typeof s.accessToken=="string"),new T2(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Bt(e)}}class S2{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class b2{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new S2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class R2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class I2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const s=l=>{l.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,Q("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new R2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=C2(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<n&&(s+=e.charAt(o[l]%e.length))}return s}}function Ie(t,e){return t<e?-1:t>e?1:0}function Ys(t,e,n){return t.length===e.length&&t.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new st(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new st(0,0))}static max(){return new ue(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n,s){n===void 0?n=0:n>e.length&&ae(),s===void 0?s=e.length-n:s>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ho.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ho?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const l=e.get(o),c=n.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class je extends Ho{construct(e,n,s){return new je(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new H(L.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new je(n)}static emptyPath(){return new je([])}}const D2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends Ho{construct(e,n,s){return new vt(e,n,s)}static isValidIdentifier(e){return D2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vt(["__name__"])}static fromServerFormat(e){const n=[];let s="",o=0;const l=()=>{if(s.length===0)throw new H(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new H(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new H(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(l(),o++)}if(l(),c)throw new H(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.path=e}static fromPath(e){return new W(je.fromString(e))}static fromName(e){return new W(je.fromString(e).popFirst(5))}static empty(){return new W(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new W(new je(e.slice()))}}function N2(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,o=ue.fromTimestamp(s===1e9?new st(n+1,0):new st(n,s));return new er(o,W.empty(),e)}function x2(t){return new er(t.readTime,t.key,-1)}class er{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new er(ue.min(),W.empty(),-1)}static max(){return new er(ue.max(),W.empty(),-1)}}function O2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==M2)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,s)=>{n(e)})}static reject(e){return new j((n,s)=>{s(e)})}static waitFor(e){return new j((n,s)=>{let o=0,l=0,c=!1;e.forEach(m=>{++o,m.next(()=>{++l,c&&l===o&&n()},d=>s(d))}),c=!0,l===o&&n()})}static or(e){let n=j.resolve(!1);for(const s of e)n=n.next(o=>o?j.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,l)=>{s.push(n.call(this,o,l))}),this.waitFor(s)}static mapArray(e,n){return new j((s,o)=>{const l=e.length,c=new Array(l);let m=0;for(let d=0;d<l;d++){const g=d;n(e[g]).next(y=>{c[g]=y,++m,m===l&&s(c)},y=>o(y))}})}static doWhile(e,n){return new j((s,o)=>{const l=()=>{e()===!0?n().next(()=>{l()},o):s()};l()})}}function ol(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.se(s),this.oe=s=>n.writeSequenceNumber(s))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}lg._e=-1;function qc(t){return t==null}function ac(t){return t===0&&1/t==-1/0}function P2(t){return typeof t=="number"&&Number.isInteger(t)&&!ac(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.comparator=e,this.root=n||yt.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yt.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lu(this.root,e,this.comparator,!0)}}class Lu{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yt{constructor(e,n,s,o,l){this.key=e,this.value=n,this.color=s??yt.RED,this.left=o??yt.EMPTY,this.right=l??yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,l){return new yt(e??this.key,n??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,s),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();const e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}}yt.EMPTY=null,yt.RED=!0,yt.BLACK=!1;yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,s,o,l){return this}insert(e,n,s){return new yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new w0(this.data.getIterator())}getIteratorFrom(e){return new w0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tt(this.comparator);return n.data=e,n}}class w0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new $t([])}unionWith(e){let n=new Tt(vt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new $t(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ys(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ZT("Invalid base64 string: "+l):l}}(e);return new xt(n)}static fromUint8Array(e){const n=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const U2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tr(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=U2.exec(t);if(Ue(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fr(t){return typeof t=="string"?xt.fromBase64String(t):xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function cg(t){const e=t.mapValue.fields.__previous_value__;return ug(e)?cg(e):e}function Fo(t){const e=tr(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n,s,o,l,c,m,d,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=d,this.useFetchStreams=g}}class Go{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Go("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Go&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku={mapValue:{}};function Gr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ug(t)?4:k2(t)?9007199254740991:10:ae()}function Ln(t,e){if(t===e)return!0;const n=Gr(t);if(n!==Gr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fo(t).isEqual(Fo(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=tr(o.timestampValue),m=tr(l.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,l){return Fr(o.bytesValue).isEqual(Fr(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,l){return tt(o.geoPointValue.latitude)===tt(l.geoPointValue.latitude)&&tt(o.geoPointValue.longitude)===tt(l.geoPointValue.longitude)}(t,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return tt(o.integerValue)===tt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=tt(o.doubleValue),m=tt(l.doubleValue);return c===m?ac(c)===ac(m):isNaN(c)&&isNaN(m)}return!1}(t,e);case 9:return Ys(t.arrayValue.values||[],e.arrayValue.values||[],Ln);case 10:return function(o,l){const c=o.mapValue.fields||{},m=l.mapValue.fields||{};if(A0(c)!==A0(m))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(m[d]===void 0||!Ln(c[d],m[d])))return!1;return!0}(t,e);default:return ae()}}function Qo(t,e){return(t.values||[]).find(n=>Ln(n,e))!==void 0}function Xs(t,e){if(t===e)return 0;const n=Gr(t),s=Gr(e);if(n!==s)return Ie(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(l,c){const m=tt(l.integerValue||l.doubleValue),d=tt(c.integerValue||c.doubleValue);return m<d?-1:m>d?1:m===d?0:isNaN(m)?isNaN(d)?0:-1:1}(t,e);case 3:return S0(t.timestampValue,e.timestampValue);case 4:return S0(Fo(t),Fo(e));case 5:return Ie(t.stringValue,e.stringValue);case 6:return function(l,c){const m=Fr(l),d=Fr(c);return m.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const m=l.split("/"),d=c.split("/");for(let g=0;g<m.length&&g<d.length;g++){const y=Ie(m[g],d[g]);if(y!==0)return y}return Ie(m.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const m=Ie(tt(l.latitude),tt(c.latitude));return m!==0?m:Ie(tt(l.longitude),tt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(l,c){const m=l.values||[],d=c.values||[];for(let g=0;g<m.length&&g<d.length;++g){const y=Xs(m[g],d[g]);if(y)return y}return Ie(m.length,d.length)}(t.arrayValue,e.arrayValue);case 10:return function(l,c){if(l===ku.mapValue&&c===ku.mapValue)return 0;if(l===ku.mapValue)return 1;if(c===ku.mapValue)return-1;const m=l.fields||{},d=Object.keys(m),g=c.fields||{},y=Object.keys(g);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const T=Ie(d[v],y[v]);if(T!==0)return T;const R=Xs(m[d[v]],g[y[v]]);if(R!==0)return R}return Ie(d.length,y.length)}(t.mapValue,e.mapValue);default:throw ae()}}function S0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=tr(t),s=tr(e),o=Ie(n.seconds,s.seconds);return o!==0?o:Ie(n.nanos,s.nanos)}function $s(t){return dm(t)}function dm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=tr(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return W.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",o=!0;for(const l of n.values||[])o?o=!1:s+=",",s+=dm(l);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${dm(n.fields[c])}`;return o+"}"}(t.mapValue):ae()}function b0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function mm(t){return!!t&&"integerValue"in t}function hg(t){return!!t&&"arrayValue"in t}function R0(t){return!!t&&"nullValue"in t}function I0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hu(t){return!!t&&"mapValue"in t}function So(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xr(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=So(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=So(t.arrayValue.values[n]);return e}return Object.assign({},t)}function k2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Hu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=So(n)}setAll(e){let n=vt.emptyPath(),s={},o=[];e.forEach((c,m)=>{if(!n.isImmediateParentOf(m)){const d=this.getFieldsMap(n);this.applyChanges(d,s,o),s={},o=[],n=m.popLast()}c?s[m.lastSegment()]=So(c):o.push(m.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,s,o)}delete(e){const n=this.field(e.popLast());Hu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Hu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Xr(n,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new qt(So(this.value))}}function JT(t){const e=[];return Xr(t.fields,(n,s)=>{const o=new vt([n]);if(Hu(s)){const l=JT(s.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new $t(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n,s,o,l,c,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=m}static newInvalidDocument(e){return new It(e,0,ue.min(),ue.min(),ue.min(),qt.empty(),0)}static newFoundDocument(e,n,s,o){return new It(e,1,n,ue.min(),s,o,0)}static newNoDocument(e,n){return new It(e,2,n,ue.min(),ue.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new It(e,3,n,ue.min(),ue.min(),qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n){this.position=e,this.inclusive=n}}function C0(t,e,n){let s=0;for(let o=0;o<t.position.length;o++){const l=e[o],c=t.position[o];if(l.field.isKeyField()?s=W.comparator(W.fromName(c.referenceValue),n.key):s=Xs(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function D0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ln(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n="asc"){this.field=e,this.dir=n}}function j2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{}class nt extends eA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new B2(e,n,s):n==="array-contains"?new F2(e,s):n==="in"?new G2(e,s):n==="not-in"?new Q2(e,s):n==="array-contains-any"?new K2(e,s):new nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new q2(e,s):new H2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xs(n,this.value)):n!==null&&Gr(this.value)===Gr(n)&&this.matchesComparison(Xs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class En extends eA{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new En(e,n)}matches(e){return tA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function tA(t){return t.op==="and"}function nA(t){return z2(t)&&tA(t)}function z2(t){for(const e of t.filters)if(e instanceof En)return!1;return!0}function gm(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+$s(t.value);if(nA(t))return t.filters.map(e=>gm(e)).join(",");{const e=t.filters.map(n=>gm(n)).join(",");return`${t.op}(${e})`}}function iA(t,e){return t instanceof nt?function(s,o){return o instanceof nt&&s.op===o.op&&s.field.isEqual(o.field)&&Ln(s.value,o.value)}(t,e):t instanceof En?function(s,o){return o instanceof En&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,c,m)=>l&&iA(c,o.filters[m]),!0):!1}(t,e):void ae()}function rA(t){return t instanceof nt?function(n){return`${n.field.canonicalString()} ${n.op} ${$s(n.value)}`}(t):t instanceof En?function(n){return n.op.toString()+" {"+n.getFilters().map(rA).join(" ,")+"}"}(t):"Filter"}class B2 extends nt{constructor(e,n,s){super(e,n,s),this.key=W.fromName(s.referenceValue)}matches(e){const n=W.comparator(e.key,this.key);return this.matchesComparison(n)}}class q2 extends nt{constructor(e,n){super(e,"in",n),this.keys=sA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class H2 extends nt{constructor(e,n){super(e,"not-in",n),this.keys=sA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>W.fromName(s.referenceValue))}class F2 extends nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hg(n)&&Qo(n.arrayValue,this.value)}}class G2 extends nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qo(this.value.arrayValue,n)}}class Q2 extends nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Qo(this.value.arrayValue,n)}}class K2 extends nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Qo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n=null,s=[],o=[],l=null,c=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=m,this.ce=null}}function N0(t,e=null,n=[],s=[],o=null,l=null,c=null){return new Y2(t,e,n,s,o,l,c)}function fg(t){const e=he(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>gm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),qc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>$s(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>$s(s)).join(",")),e.ce=n}return e.ce}function dg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!j2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!D0(t.startAt,e.startAt)&&D0(t.endAt,e.endAt)}function pm(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n=null,s=[],o=[],l=null,c="F",m=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=m,this.endAt=d,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function X2(t,e,n,s,o,l,c,m){return new ll(t,e,n,s,o,l,c,m)}function mg(t){return new ll(t)}function x0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aA(t){return t.collectionGroup!==null}function bo(t){const e=he(t);if(e.le===null){e.le=[];const n=new Set;for(const l of e.explicitOrderBy)e.le.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Tt(vt.comparator);return c.filters.forEach(d=>{d.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.le.push(new lc(l,s))}),n.has(vt.keyField().canonicalString())||e.le.push(new lc(vt.keyField(),s))}return e.le}function Mn(t){const e=he(t);return e.he||(e.he=$2(e,bo(t))),e.he}function $2(t,e){if(t.limitType==="F")return N0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new lc(o.field,l)});const n=t.endAt?new oc(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new oc(t.startAt.position,t.startAt.inclusive):null;return N0(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function ym(t,e){const n=t.filters.concat([e]);return new ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function _m(t,e,n){return new ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hc(t,e){return dg(Mn(t),Mn(e))&&t.limitType===e.limitType}function oA(t){return`${fg(Mn(t))}|lt:${t.limitType}`}function Us(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>rA(o)).join(", ")}]`),qc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>$s(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>$s(o)).join(",")),`Target(${s})`}(Mn(t))}; limitType=${t.limitType})`}function Fc(t,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):W.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(t,e)&&function(s,o){for(const l of bo(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(t,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(t,e)&&function(s,o){return!(s.startAt&&!function(c,m,d){const g=C0(c,m,d);return c.inclusive?g<=0:g<0}(s.startAt,bo(s),o)||s.endAt&&!function(c,m,d){const g=C0(c,m,d);return c.inclusive?g>=0:g>0}(s.endAt,bo(s),o))}(t,e)}function W2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lA(t){return(e,n)=>{let s=!1;for(const o of bo(t)){const l=Z2(o,e,n);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function Z2(t,e,n){const s=t.field.isKeyField()?W.comparator(e.key,n.key):function(l,c,m){const d=c.data.field(l),g=m.data.field(l);return d!==null&&g!==null?Xs(d,g):ae()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Xr(this.inner,(n,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return WT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=new He(W.comparator);function hi(){return J2}const uA=new He(W.comparator);function Eo(...t){let e=uA;for(const n of t)e=e.insert(n.key,n);return e}function cA(t){let e=uA;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function kr(){return Ro()}function hA(){return Ro()}function Ro(){return new oa(t=>t.toString(),(t,e)=>t.isEqual(e))}const eD=new He(W.comparator),tD=new Tt(W.comparator);function _e(...t){let e=tD;for(const n of t)e=e.add(n);return e}const nD=new Tt(Ie);function iD(){return nD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ac(e)?"-0":e}}function dA(t){return{integerValue:""+t}}function rD(t,e){return P2(e)?dA(e):fA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(){this._=void 0}}function sD(t,e,n){return t instanceof uc?function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&ug(l)&&(l=cg(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(n,e):t instanceof Ko?gA(t,e):t instanceof Yo?pA(t,e):function(o,l){const c=mA(o,l),m=O0(c)+O0(o.Ie);return mm(c)&&mm(o.Ie)?dA(m):fA(o.serializer,m)}(t,e)}function aD(t,e,n){return t instanceof Ko?gA(t,e):t instanceof Yo?pA(t,e):n}function mA(t,e){return t instanceof cc?function(s){return mm(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class uc extends Gc{}class Ko extends Gc{constructor(e){super(),this.elements=e}}function gA(t,e){const n=yA(e);for(const s of t.elements)n.some(o=>Ln(o,s))||n.push(s);return{arrayValue:{values:n}}}class Yo extends Gc{constructor(e){super(),this.elements=e}}function pA(t,e){let n=yA(e);for(const s of t.elements)n=n.filter(o=>!Ln(o,s));return{arrayValue:{values:n}}}class cc extends Gc{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function O0(t){return tt(t.integerValue||t.doubleValue)}function yA(t){return hg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function oD(t,e){return t.field.isEqual(e.field)&&function(s,o){return s instanceof Ko&&o instanceof Ko||s instanceof Yo&&o instanceof Yo?Ys(s.elements,o.elements,Ln):s instanceof cc&&o instanceof cc?Ln(s.Ie,o.Ie):s instanceof uc&&o instanceof uc}(t.transform,e.transform)}class lD{constructor(e,n){this.version=e,this.transformResults=n}}class dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dn}static exists(e){return new dn(void 0,e)}static updateTime(e){return new dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qc{}function _A(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gg(t.key,dn.none()):new ul(t.key,t.data,dn.none());{const n=t.data,s=qt.empty();let o=new Tt(vt.comparator);for(let l of e.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new lr(t.key,s,new $t(o.toArray()),dn.none())}}function uD(t,e,n){t instanceof ul?function(o,l,c){const m=o.value.clone(),d=V0(o.fieldTransforms,l,c.transformResults);m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(t,e,n):t instanceof lr?function(o,l,c){if(!Fu(o.precondition,l))return void l.convertToUnknownDocument(c.version);const m=V0(o.fieldTransforms,l,c.transformResults),d=l.data;d.setAll(vA(o)),d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function Io(t,e,n,s){return t instanceof ul?function(l,c,m,d){if(!Fu(l.precondition,c))return m;const g=l.value.clone(),y=P0(l.fieldTransforms,d,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(t,e,n,s):t instanceof lr?function(l,c,m,d){if(!Fu(l.precondition,c))return m;const g=P0(l.fieldTransforms,d,c),y=c.data;return y.setAll(vA(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(v=>v.field))}(t,e,n,s):function(l,c,m){return Fu(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m}(t,e,n)}function cD(t,e){let n=null;for(const s of t.fieldTransforms){const o=e.data.field(s.field),l=mA(s.transform,o||null);l!=null&&(n===null&&(n=qt.empty()),n.set(s.field,l))}return n||null}function M0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ys(s,o,(l,c)=>oD(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ul extends Qc{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class lr extends Qc{constructor(e,n,s,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function vA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function V0(t,e,n){const s=new Map;Ue(t.length===n.length);for(let o=0;o<n.length;o++){const l=t[o],c=l.transform,m=e.data.field(l.field);s.set(l.field,aD(c,m,n[o]))}return s}function P0(t,e,n){const s=new Map;for(const o of t){const l=o.transform,c=n.data.field(o.field);s.set(o.field,sD(l,c,e))}return s}class gg extends Qc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hD extends Qc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&uD(l,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Io(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Io(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=hA();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let m=this.applyToLocalView(c,l.mutatedFields);m=n.has(o.key)?null:m;const d=_A(c,m);d!==null&&s.set(o.key,d),c.isValidDocument()||c.convertToNoDocument(ue.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Ys(this.mutations,e.mutations,(n,s)=>M0(n,s))&&Ys(this.baseMutations,e.baseMutations,(n,s)=>M0(n,s))}}class pg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ue(e.mutations.length===s.length);let o=function(){return eD}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new pg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,we;function gD(t){switch(t){default:return ae();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function EA(t){if(t===void 0)return ci("GRPC error has no .code"),L.UNKNOWN;switch(t){case et.OK:return L.OK;case et.CANCELLED:return L.CANCELLED;case et.UNKNOWN:return L.UNKNOWN;case et.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case et.INTERNAL:return L.INTERNAL;case et.UNAVAILABLE:return L.UNAVAILABLE;case et.UNAUTHENTICATED:return L.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case et.NOT_FOUND:return L.NOT_FOUND;case et.ALREADY_EXISTS:return L.ALREADY_EXISTS;case et.PERMISSION_DENIED:return L.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case et.ABORTED:return L.ABORTED;case et.OUT_OF_RANGE:return L.OUT_OF_RANGE;case et.UNIMPLEMENTED:return L.UNIMPLEMENTED;case et.DATA_LOSS:return L.DATA_LOSS;default:return ae()}}(we=et||(et={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=new qs([4294967295,4294967295],0);function U0(t){const e=pD().encode(t),n=new E2;return n.update(e),new Uint8Array(n.digest())}function L0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new qs([n,s],0),new qs([o,l],0)]}class yg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new To(`Invalid padding: ${n}`);if(s<0)throw new To(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new To(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new To(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=qs.fromNumber(this.Te)}de(e,n,s){let o=e.add(n.multiply(qs.fromNumber(s)));return o.compare(yD)===1&&(o=new qs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=U0(e),[s,o]=L0(n);for(let l=0;l<this.hashCount;l++){const c=this.de(s,o,l);if(!this.Ae(c))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new yg(l,o,n);return s.forEach(m=>c.insert(m)),c}insert(e){if(this.Te===0)return;const n=U0(e),[s,o]=L0(n);for(let l=0;l<this.hashCount;l++){const c=this.de(s,o,l);this.Re(c)}}Re(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class To extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n,s,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,cl.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Kc(ue.min(),o,new He(Ie),hi(),_e())}}class cl{constructor(e,n,s,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new cl(s,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n,s,o){this.Ve=e,this.removedTargetIds=n,this.key=s,this.me=o}}class TA{constructor(e,n){this.targetId=e,this.fe=n}}class AA{constructor(e,n,s=xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class k0{constructor(){this.ge=0,this.pe=z0(),this.ye=xt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=_e(),n=_e(),s=_e();return this.pe.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ae()}}),new cl(this.ye,this.we,e,n,s)}Fe(){this.Se=!1,this.pe=z0()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ue(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class _D{constructor(e){this.Le=e,this.ke=new Map,this.qe=hi(),this.Qe=j0(),this.Ke=new He(Ie)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(n);break;case 3:this.je(n)&&(s.Be(),s.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.Ce(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((s,o)=>{this.je(o)&&n(o)})}Je(e){const n=e.targetId,s=e.fe.count,o=this.Ye(n);if(o){const l=o.target;if(pm(l))if(s===0){const c=new W(l.path);this.We(n,c,It.newNoDocument(c,ue.min()))}else Ue(s===1);else{const c=this.Ze(n);if(c!==s){const m=this.Xe(e),d=m?this.et(m,e,c):1;if(d!==0){this.He(n);const g=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=n;let c,m;try{c=Fr(s).toUint8Array()}catch(d){if(d instanceof ZT)return qo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{m=new yg(c,o,l)}catch(d){return qo(d instanceof To?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return m.Te===0?null:m}et(e,n,s){return n.fe.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let o=0;return s.forEach(l=>{const c=this.Le.nt(),m=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.We(n,l,null),o++)}),o}it(e){const n=new Map;this.ke.forEach((l,c)=>{const m=this.Ye(c);if(m){if(l.current&&pm(m.target)){const d=new W(m.target.path);this.qe.get(d)!==null||this.st(c,d)||this.We(c,d,It.newNoDocument(d,e))}l.De&&(n.set(c,l.ve()),l.Fe())}});let s=_e();this.Qe.forEach((l,c)=>{let m=!0;c.forEachWhile(d=>{const g=this.Ye(d);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(l))}),this.qe.forEach((l,c)=>c.setReadTime(e));const o=new Kc(e,n,this.Ke,this.qe,s);return this.qe=hi(),this.Qe=j0(),this.Ke=new He(Ie),o}Ue(e,n){if(!this.je(e))return;const s=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,s),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const o=this.ze(e);this.st(e,n)?o.Me(n,1):o.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),s&&(this.qe=this.qe.insert(n,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new k0,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Tt(Ie),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new k0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function j0(){return new He(W.comparator)}function z0(){return new He(W.comparator)}const vD={asc:"ASCENDING",desc:"DESCENDING"},ED={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TD={and:"AND",or:"OR"};class AD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vm(t,e){return t.useProto3Json||qc(e)?e:{value:e}}function hc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wD(t,e){return hc(t,e.toTimestamp())}function Vn(t){return Ue(!!t),ue.fromTimestamp(function(n){const s=tr(n);return new st(s.seconds,s.nanos)}(t))}function _g(t,e){return function(s){return new je(["projects",s.projectId,"databases",s.database])}(t).child("documents").child(e).canonicalString()}function SA(t){const e=je.fromString(t);return Ue(CA(e)),e}function Em(t,e){return _g(t.databaseId,e.path)}function jd(t,e){const n=SA(e);if(n.get(1)!==t.databaseId.projectId)throw new H(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(bA(n))}function Tm(t,e){return _g(t.databaseId,e)}function SD(t){const e=SA(t);return e.length===4?je.emptyPath():bA(e)}function Am(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bA(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function B0(t,e,n){return{name:Em(t,e),fields:n.value.mapValue.fields}}function bD(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,y){return g.useProto3Json?(Ue(y===void 0||typeof y=="string"),xt.fromBase64String(y||"")):(Ue(y===void 0||y instanceof Uint8Array),xt.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&function(g){const y=g.code===void 0?L.UNKNOWN:EA(g.code);return new H(y,g.message||"")}(c);n=new AA(s,o,l,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=jd(t,s.document.name),l=Vn(s.document.updateTime),c=s.document.createTime?Vn(s.document.createTime):ue.min(),m=new qt({mapValue:{fields:s.document.fields}}),d=It.newFoundDocument(o,l,c,m),g=s.targetIds||[],y=s.removedTargetIds||[];n=new Gu(g,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=jd(t,s.document),l=s.readTime?Vn(s.readTime):ue.min(),c=It.newNoDocument(o,l),m=s.removedTargetIds||[];n=new Gu([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=jd(t,s.document),l=s.removedTargetIds||[];n=new Gu([],l,o,null)}else{if(!("filter"in e))return ae();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new mD(o,l),m=s.targetId;n=new TA(m,c)}}return n}function RD(t,e){let n;if(e instanceof ul)n={update:B0(t,e.key,e.value)};else if(e instanceof gg)n={delete:Em(t,e.key)};else if(e instanceof lr)n={update:B0(t,e.key,e.data),updateMask:PD(e.fieldMask)};else{if(!(e instanceof hD))return ae();n={verify:Em(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const m=c.transform;if(m instanceof uc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ko)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Yo)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof cc)return{fieldPath:c.field.canonicalString(),increment:m.Ie};throw ae()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:wD(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ae()}(t,e.precondition)),n}function ID(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(o,l){let c=o.updateTime?Vn(o.updateTime):Vn(l);return c.isEqual(ue.min())&&(c=Vn(l)),new lD(c,o.transformResults||[])}(n,e))):[]}function CD(t,e){return{documents:[Tm(t,e.path)]}}function DD(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=Tm(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Tm(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const o=function(d){if(d.length!==0)return IA(En.create(d,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const l=function(d){if(d.length!==0)return d.map(g=>function(v){return{field:Ls(v.field),direction:OD(v.dir)}}(g))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=vm(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),n}function ND(t){let e=SD(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ue(s===1);const y=n.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(v){const T=RA(v);return T instanceof En&&nA(T)?T.getFilters():[T]}(n.where));let c=[];n.orderBy&&(c=function(v){return v.map(T=>function(V){return new lc(ks(V.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(T))}(n.orderBy));let m=null;n.limit&&(m=function(v){let T;return T=typeof v=="object"?v.value:v,qc(T)?null:T}(n.limit));let d=null;n.startAt&&(d=function(v){const T=!!v.before,R=v.values||[];return new oc(R,T)}(n.startAt));let g=null;return n.endAt&&(g=function(v){const T=!v.before,R=v.values||[];return new oc(R,T)}(n.endAt)),X2(e,o,c,l,m,"F",d,g)}function xD(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ks(n.unaryFilter.field);return nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ks(n.unaryFilter.field);return nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ks(n.unaryFilter.field);return nt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ks(n.unaryFilter.field);return nt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return nt.create(ks(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return En.create(n.compositeFilter.filters.map(s=>RA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function OD(t){return vD[t]}function MD(t){return ED[t]}function VD(t){return TD[t]}function Ls(t){return{fieldPath:t.canonicalString()}}function ks(t){return vt.fromServerFormat(t.fieldPath)}function IA(t){return t instanceof nt?function(n){if(n.op==="=="){if(I0(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NAN"}};if(R0(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(I0(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NAN"}};if(R0(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ls(n.field),op:MD(n.op),value:n.value}}}(t):t instanceof En?function(n){const s=n.getFilters().map(o=>IA(o));return s.length===1?s[0]:{compositeFilter:{op:VD(n.op),filters:s}}}(t):ae()}function PD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function CA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,s,o,l=ue.min(),c=ue.min(),m=xt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=d}withSequenceNumber(e){return new Yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.ut=e}}function LD(t){const e=ND({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_m(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.on=new jD}addToCollectionParentIndex(e,n){return this.on.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(er.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(er.min())}updateCollectionGroup(e,n,s){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class jD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Tt(je.comparator),l=!o.has(s);return this.index[n]=o.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Tt(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Ws(0)}static Nn(){return new Ws(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.changes=new oa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?j.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Io(s.mutation,o,$t.empty(),st.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,_e()).next(()=>s))}getLocalViewOfDocuments(e,n,s=_e()){const o=kr();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(l=>{let c=Eo();return l.forEach((m,d)=>{c=c.insert(m,d.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const s=kr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,_e()))}populateOverlays(e,n,s){const o=[];return s.forEach(l=>{n.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,m)=>{n.set(c,m)})})}computeViews(e,n,s,o){let l=hi();const c=Ro(),m=function(){return Ro()}();return n.forEach((d,g)=>{const y=s.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof lr)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),Io(y.mutation,g,y.mutation.getFieldMask(),st.now())):c.set(g.key,$t.empty())}),this.recalculateAndSaveOverlays(e,l).next(d=>(d.forEach((g,y)=>c.set(g,y)),n.forEach((g,y)=>{var v;return m.set(g,new BD(y,(v=c.get(g))!==null&&v!==void 0?v:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Ro();let o=new He((c,m)=>c-m),l=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const m of c)m.keys().forEach(d=>{const g=n.get(d);if(g===null)return;let y=s.get(d)||$t.empty();y=m.applyToLocalView(g,y),s.set(d,y);const v=(o.get(m.batchId)||_e()).add(d);o=o.insert(m.batchId,v)})}).next(()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const d=m.getNext(),g=d.key,y=d.value,v=hA();y.forEach(T=>{if(!l.has(T)){const R=_A(n.get(T),s.get(T));R!==null&&v.set(T,R),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,v))}return j.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(c){return W.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-l.size):j.resolve(kr());let m=-1,d=l;return c.next(g=>j.forEach(g,(y,v)=>(m<v.largestBatchId&&(m=v.largestBatchId),l.get(y)?j.resolve():this.remoteDocumentCache.getEntry(e,y).next(T=>{d=d.insert(y,T)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,d,g,_e())).next(y=>({batchId:m,changes:cA(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(s=>{let o=Eo();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const l=n.collectionGroup;let c=Eo();return this.indexManager.getCollectionParents(e,l).next(m=>j.forEach(m,d=>{const g=function(v,T){return new ll(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(y=>{y.forEach((v,T)=>{c=c.insert(v,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,o))).next(c=>{l.forEach((d,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,It.newInvalidDocument(y)))});let m=Eo();return c.forEach((d,g)=>{const y=l.get(d);y!==void 0&&Io(y.mutation,g,$t.empty(),st.now()),Fc(n,g)&&(m=m.insert(d,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return j.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Vn(o.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(o){return{name:o.name,query:LD(o.bundledQuery),readTime:Vn(o.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.overlays=new He(W.comparator),this.lr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const s=kr();return j.forEach(n,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,l)=>{this.lt(e,n,l)}),j.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.lr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.lr.delete(s)),j.resolve()}getOverlaysForCollection(e,n,s){const o=kr(),l=n.length+1,c=new W(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const d=m.getNext().value,g=d.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&d.largestBatchId>s&&o.set(d.getKey(),d)}return j.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let l=new He((g,y)=>g-y);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=kr(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const m=kr(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((g,y)=>m.set(g,y)),!(m.size()>=o)););return j.resolve(m)}lt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.lr.get(o.largestBatchId).delete(s.key);this.lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new dD(n,s));let l=this.lr.get(n);l===void 0&&(l=_e(),this.lr.set(n,l)),this.lr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this.hr=new Tt(ct.Pr),this.Ir=new Tt(ct.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const s=new ct(e,n);this.hr=this.hr.add(s),this.Ir=this.Ir.add(s)}Er(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.dr(new ct(e,n))}Ar(e,n){e.forEach(s=>this.removeReference(s,n))}Rr(e){const n=new W(new je([])),s=new ct(n,e),o=new ct(n,e+1),l=[];return this.Ir.forEachInRange([s,o],c=>{this.dr(c),l.push(c.key)}),l}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new W(new je([])),s=new ct(n,e),o=new ct(n,e+1);let l=_e();return this.Ir.forEachInRange([s,o],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new ct(e,0),s=this.hr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class ct{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return W.comparator(e.key,n.key)||Ie(e.gr,n.gr)}static Tr(e,n){return Ie(e.gr,n.gr)||W.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Tt(ct.Pr)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const l=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new fD(l,n,s,o);this.mutationQueue.push(c);for(const m of o)this.yr=this.yr.add(new ct(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return j.resolve(c)}lookupMutationBatch(e,n){return j.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Sr(s),l=o<0?0:o;return j.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new ct(n,0),o=new ct(n,Number.POSITIVE_INFINITY),l=[];return this.yr.forEachInRange([s,o],c=>{const m=this.wr(c.gr);l.push(m)}),j.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Tt(Ie);return n.forEach(o=>{const l=new ct(o,0),c=new ct(o,Number.POSITIVE_INFINITY);this.yr.forEachInRange([l,c],m=>{s=s.add(m.gr)})}),j.resolve(this.br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let l=s;W.isDocumentKey(l)||(l=l.child(""));const c=new ct(new W(l),0);let m=new Tt(Ie);return this.yr.forEachWhile(d=>{const g=d.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(d.gr)),!0)},c),j.resolve(this.br(m))}br(e){const n=[];return e.forEach(s=>{const o=this.wr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ue(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.yr;return j.forEach(n.mutations,o=>{const l=new ct(o.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.yr=s})}Fn(e){}containsKey(e,n){const s=new ct(n,0),o=this.yr.firstAfterOrEqual(s);return j.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.Cr=e,this.docs=function(){return new He(W.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),l=o?o.size:0,c=this.Cr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return j.resolve(s?s.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let s=hi();return n.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():It.newInvalidDocument(o))}),j.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let l=hi();const c=n.path,m=new W(c.child("")),d=this.docs.getIteratorFrom(m);for(;d.hasNext();){const{key:g,value:{document:y}}=d.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||O2(x2(y),s)<=0||(o.has(y.key)||Fc(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return j.resolve(l)}getAllFromCollectionGroup(e,n,s,o){ae()}vr(e,n){return j.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new KD(this)}getSize(e){return j.resolve(this.size)}}class KD extends zD{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this._r.addEntry(e,o)):this._r.removeEntry(s)}),j.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.persistence=e,this.Fr=new oa(n=>fg(n),dg),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Mr=0,this.Or=new vg,this.targetCount=0,this.Nr=Ws.On()}forEachTarget(e,n){return this.Fr.forEach((s,o)=>n(o)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Mr&&(this.Mr=n),j.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Ws(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.kn(n),j.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,s){let o=0;const l=[];return this.Fr.forEach((c,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Fr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),j.waitFor(l).next(()=>o)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const s=this.Fr.get(n)||null;return j.resolve(s)}addMatchingKeys(e,n,s){return this.Or.Er(n,s),j.resolve()}removeMatchingKeys(e,n,s){this.Or.Ar(n,s);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),j.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Or.mr(n);return j.resolve(s)}containsKey(e,n){return j.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n){this.Br={},this.overlays={},this.Lr=new lg(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new YD(this),this.indexManager=new kD,this.remoteDocumentCache=function(o){return new QD(o)}(s=>this.referenceDelegate.Qr(s)),this.serializer=new UD(n),this.Kr=new HD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Br[e.toKey()];return s||(s=new GD(n,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,s){Q("MemoryPersistence","Starting transaction:",e);const o=new $D(this.Lr.next());return this.referenceDelegate.$r(),s(o).next(l=>this.referenceDelegate.Ur(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Wr(e,n){return j.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,n)))}}class $D extends V2{constructor(e){super(),this.currentSequenceNumber=e}}class Eg{constructor(e){this.persistence=e,this.Gr=new vg,this.zr=null}static jr(e){return new Eg(e)}get Hr(){if(this.zr)return this.zr;throw ae()}addReference(e,n,s){return this.Gr.addReference(s,n),this.Hr.delete(s.toString()),j.resolve()}removeReference(e,n,s){return this.Gr.removeReference(s,n),this.Hr.add(s.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),j.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(o=>this.Hr.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(l=>this.Hr.add(l.toString()))}).next(()=>s.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Hr,s=>{const o=W.fromPath(s);return this.Jr(e,o).next(l=>{l||n.removeEntry(o,ue.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(s=>{s?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return j.or([()=>j.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ki=s,this.qi=o}static Qi(e,n){let s=_e(),o=_e();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Tg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,s,o){const l={result:null};return this.zi(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ji(e,n,o,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new WD;return this.Hi(e,n,c).next(m=>{if(l.result=m,this.$i)return this.Ji(e,n,c,m.size)})}).next(()=>l.result)}Ji(e,n,s,o){return s.documentReadCount<this.Ui?(mo()<=Ee.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Us(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),j.resolve()):(mo()<=Ee.DEBUG&&Q("QueryEngine","Query:",Us(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Wi*o?(mo()<=Ee.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Us(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(n))):j.resolve())}zi(e,n){if(x0(n))return j.resolve(null);let s=Mn(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=_m(n,null,"F"),s=Mn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=_e(...l);return this.Gi.getDocuments(e,c).next(m=>this.indexManager.getMinOffset(e,s).next(d=>{const g=this.Yi(n,m);return this.Zi(n,g,c,d.readTime)?this.zi(e,_m(n,null,"F")):this.Xi(e,g,n,d)}))})))}ji(e,n,s,o){return x0(n)||o.isEqual(ue.min())?j.resolve(null):this.Gi.getDocuments(e,s).next(l=>{const c=this.Yi(n,l);return this.Zi(n,c,s,o)?j.resolve(null):(mo()<=Ee.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Us(n)),this.Xi(e,c,n,N2(o,-1)).next(m=>m))})}Yi(e,n){let s=new Tt(lA(e));return n.forEach((o,l)=>{Fc(e,l)&&(s=s.add(l))}),s}Zi(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Hi(e,n,s){return mo()<=Ee.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Us(n)),this.Gi.getDocumentsMatchingQuery(e,n,er.min(),s)}Xi(e,n,s,o){return this.Gi.getDocumentsMatchingQuery(e,s,o).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n,s,o){this.persistence=e,this.es=n,this.serializer=o,this.ts=new He(Ie),this.ns=new oa(l=>fg(l),dg),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(s)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qD(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function eN(t,e,n,s){return new JD(t,e,n,s)}async function DA(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,n.os(e),n.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],m=[];let d=_e();for(const g of o){c.push(g.batchId);for(const y of g.mutations)d=d.add(y.key)}for(const g of l){m.push(g.batchId);for(const y of g.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(s,d).next(g=>({_s:g,removedBatchIds:c,addedBatchIds:m}))})})}function tN(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=n.ss.newChangeBuffer({trackRemovals:!0});return function(m,d,g,y){const v=g.batch,T=v.keys();let R=j.resolve();return T.forEach(V=>{R=R.next(()=>y.getEntry(d,V)).next(P=>{const x=g.docVersions.get(V);Ue(x!==null),P.version.compareTo(x)<0&&(v.applyToRemoteDocument(P,g),P.isValidDocument()&&(P.setReadTime(g.commitVersion),y.addEntry(P)))})}),R.next(()=>m.mutationQueue.removeMutationBatch(d,v))}(n,s,e,l).next(()=>l.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let d=_e();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(d=d.add(m.batch.mutations[g].key));return d}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function NA(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function nN(t,e){const n=he(t),s=e.snapshotVersion;let o=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.ss.newChangeBuffer({trackRemovals:!0});o=n.ts;const m=[];e.targetChanges.forEach((y,v)=>{const T=o.get(v);if(!T)return;m.push(n.qr.removeMatchingKeys(l,y.removedDocuments,v).next(()=>n.qr.addMatchingKeys(l,y.addedDocuments,v)));let R=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?R=R.withResumeToken(xt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,s)),o=o.insert(v,R),function(P,x,K){return P.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(T,R,y)&&m.push(n.qr.updateTargetData(l,R))});let d=hi(),g=_e();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),m.push(iN(l,c,e.documentUpdates).next(y=>{d=y.us,g=y.cs})),!s.isEqual(ue.min())){const y=n.qr.getLastRemoteSnapshotVersion(l).next(v=>n.qr.setTargetsMetadata(l,l.currentSequenceNumber,s));m.push(y)}return j.waitFor(m).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,d,g)).next(()=>d)}).then(l=>(n.ts=o,l))}function iN(t,e,n){let s=_e(),o=_e();return n.forEach(l=>s=s.add(l)),e.getEntries(t,s).next(l=>{let c=hi();return n.forEach((m,d)=>{const g=l.get(m);d.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),d.isNoDocument()&&d.version.isEqual(ue.min())?(e.removeEntry(m,d.readTime),c=c.insert(m,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(d),c=c.insert(m,d)):Q("LocalStore","Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",d.version)}),{us:c,cs:o}})}function rN(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function sN(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.qr.getTargetData(s,e).next(l=>l?(o=l,j.resolve(o)):n.qr.allocateTargetId(s).next(c=>(o=new Yi(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.qr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.ts=n.ts.insert(s.targetId,s),n.ns.set(e,s.targetId)),s})}async function wm(t,e,n){const s=he(t),o=s.ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!ol(c))throw c;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}s.ts=s.ts.remove(e),s.ns.delete(o.target)}function q0(t,e,n){const s=he(t);let o=ue.min(),l=_e();return s.persistence.runTransaction("Execute query","readwrite",c=>function(d,g,y){const v=he(d),T=v.ns.get(y);return T!==void 0?j.resolve(v.ts.get(T)):v.qr.getTargetData(g,y)}(s,c,Mn(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.qr.getMatchingKeysForTargetId(c,m.targetId).next(d=>{l=d})}).next(()=>s.es.getDocumentsMatchingQuery(c,e,n?o:ue.min(),n?l:_e())).next(m=>(aN(s,W2(e),m),{documents:m,ls:l})))}function aN(t,e,n){let s=t.rs.get(e)||ue.min();n.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),t.rs.set(e,s)}class H0{constructor(){this.activeTargetIds=iD()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oN{constructor(){this.eo=new H0,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,s){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new H0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju=null;function zd(){return ju===null?ju=function(){return 268435456+Math.round(2147483648*Math.random())}():ju++,"0x"+ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class hN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.mo=s+"://"+n.host,this.fo=`projects/${o}/databases/${l}`,this.po=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}get yo(){return!1}wo(n,s,o,l,c){const m=zd(),d=this.So(n,s);Q("RestConnection",`Sending RPC '${n}' ${m}:`,d,o);const g={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(g,l,c),this.Do(n,d,g,o).then(y=>(Q("RestConnection",`Received RPC '${n}' ${m}: `,y),y),y=>{throw qo("RestConnection",`RPC '${n}' ${m} failed with error: `,y,"url: ",d,"request:",o),y})}Co(n,s,o,l,c,m){return this.wo(n,s,o,l,c)}bo(n,s,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+aa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((l,c)=>n[c]=l),o&&o.headers.forEach((l,c)=>n[c]=l)}So(n,s){const o=uN[n];return`${this.mo}/v1/${s}:${o}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,s,o){const l=zd();return new Promise((c,m)=>{const d=new v2;d.setWithCredentials(!0),d.listenOnce(y2.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case kd.NO_ERROR:const y=d.getResponseJson();Q(Rt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case kd.TIMEOUT:Q(Rt,`RPC '${e}' ${l} timed out`),m(new H(L.DEADLINE_EXCEEDED,"Request time out"));break;case kd.HTTP_ERROR:const v=d.getStatus();if(Q(Rt,`RPC '${e}' ${l} failed with status:`,v,"response text:",d.getResponseText()),v>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const R=T==null?void 0:T.error;if(R&&R.status&&R.message){const V=function(x){const K=x.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(K)>=0?K:L.UNKNOWN}(R.status);m(new H(V,R.message))}else m(new H(L.UNKNOWN,"Server responded with status "+d.getStatus()))}else m(new H(L.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{Q(Rt,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(o);Q(Rt,`RPC '${e}' ${l} sending request:`,o),d.send(n,"POST",g,s,15)})}vo(e,n,s){const o=zd(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=g2(),m=p2(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.bo(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const y=l.join("");Q(Rt,`Creating RPC '${e}' stream ${o}: ${y}`,d);const v=c.createWebChannel(y,d);let T=!1,R=!1;const V=new cN({co:x=>{R?Q(Rt,`Not sending because RPC '${e}' stream ${o} is closed:`,x):(T||(Q(Rt,`Opening RPC '${e}' stream ${o} transport.`),v.open(),T=!0),Q(Rt,`RPC '${e}' stream ${o} sending:`,x),v.send(x))},lo:()=>v.close()}),P=(x,K,J)=>{x.listen(K,ne=>{try{J(ne)}catch(Re){setTimeout(()=>{throw Re},0)}})};return P(v,Uu.EventType.OPEN,()=>{R||Q(Rt,`RPC '${e}' stream ${o} transport opened.`)}),P(v,Uu.EventType.CLOSE,()=>{R||(R=!0,Q(Rt,`RPC '${e}' stream ${o} transport closed`),V.Ro())}),P(v,Uu.EventType.ERROR,x=>{R||(R=!0,qo(Rt,`RPC '${e}' stream ${o} transport errored:`,x),V.Ro(new H(L.UNAVAILABLE,"The operation could not be completed")))}),P(v,Uu.EventType.MESSAGE,x=>{var K;if(!R){const J=x.data[0];Ue(!!J);const ne=J,Re=ne.error||((K=ne[0])===null||K===void 0?void 0:K.error);if(Re){Q(Rt,`RPC '${e}' stream ${o} received error:`,Re);const re=Re.status;let Le=function($){const ye=et[$];if(ye!==void 0)return EA(ye)}(re),At=Re.message;Le===void 0&&(Le=L.INTERNAL,At="Unknown error status: "+re+" with message "+Re.message),R=!0,V.Ro(new H(Le,At)),v.close()}else Q(Rt,`RPC '${e}' stream ${o} received:`,J),V.Vo(J)}}),P(m,_2.STAT_EVENT,x=>{x.stat===E0.PROXY?Q(Rt,`RPC '${e}' stream ${o} detected buffering proxy`):x.stat===E0.NOPROXY&&Q(Rt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.Ao()},0),V}}function Bd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t){return new AD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n,s=1e3,o=1.5,l=6e4){this.si=e,this.timerId=n,this.Fo=s,this.Mo=o,this.xo=l,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),s=Math.max(0,Date.now()-this.Bo),o=Math.max(0,n-s);o>0&&Q("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,o,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n,s,o,l,c,m,d){this.si=e,this.Ko=s,this.$o=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=d,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new xA(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(ci(n.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Uo===n&&this.s_(s,o)},s=>{e(()=>{const o=new H(L.UNKNOWN,"Fetching auth token failed: "+s.message);return this.o_(o)})})}s_(e,n){const s=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{s(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(o=>{s(()=>this.o_(o))}),this.stream.onMessage(o=>{s(()=>this.onMessage(o))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fN extends OA{constructor(e,n,s,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=bD(this.serializer,e),s=function(l){if(!("targetChange"in l))return ue.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ue.min():c.readTime?Vn(c.readTime):ue.min()}(e);return this.listener.a_(n,s)}u_(e){const n={};n.database=Am(this.serializer),n.addTarget=function(l,c){let m;const d=c.target;if(m=pm(d)?{documents:CD(l,d)}:{query:DD(l,d)},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=wA(l,c.resumeToken);const g=vm(l,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(ue.min())>0){m.readTime=hc(l,c.snapshotVersion.toTimestamp());const g=vm(l,c.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=xD(this.serializer,e);s&&(n.labels=s),this.e_(n)}c_(e){const n={};n.database=Am(this.serializer),n.removeTarget=e,this.e_(n)}}class dN extends OA{constructor(e,n,s,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=ID(e.writeResults,e.commitTime),s=Vn(e.commitTime);return this.listener.I_(s,n)}return Ue(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Am(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>RD(this.serializer,s))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN extends class{}{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.d_=!1}A_(){if(this.d_)throw new H(L.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.wo(e,n,s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(L.UNKNOWN,o.toString())})}Co(e,n,s,o){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,n,s,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new H(L.UNKNOWN,l.toString())})}terminate(){this.d_=!0}}class gN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ci(n),this.f_=!1):Q("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n,s,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=l,this.F_.ro(c=>{s.enqueueAndForget(async()=>{$r(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(d){const g=he(d);g.C_.add(4),await hl(g),g.M_.set("Unknown"),g.C_.delete(4),await Xc(g)}(this))})}),this.M_=new gN(s,o)}}async function Xc(t){if($r(t))for(const e of t.v_)await e(!0)}async function hl(t){for(const e of t.v_)await e(!1)}function MA(t,e){const n=he(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Sg(n)?wg(n):la(n).Ho()&&Ag(n,e))}function VA(t,e){const n=he(t),s=la(n);n.D_.delete(e),s.Ho()&&PA(n,e),n.D_.size===0&&(s.Ho()?s.Zo():$r(n)&&n.M_.set("Unknown"))}function Ag(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}la(t).u_(e)}function PA(t,e){t.x_.Oe(e),la(t).c_(e)}function wg(t){t.x_=new _D({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),la(t).start(),t.M_.g_()}function Sg(t){return $r(t)&&!la(t).jo()&&t.D_.size>0}function $r(t){return he(t).C_.size===0}function UA(t){t.x_=void 0}async function yN(t){t.D_.forEach((e,n)=>{Ag(t,e)})}async function _N(t,e){UA(t),Sg(t)?(t.M_.w_(e),wg(t)):t.M_.set("Unknown")}async function vN(t,e,n){if(t.M_.set("Online"),e instanceof AA&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const m of l.targetIds)o.D_.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.D_.delete(m),o.x_.removeTarget(m))}(t,e)}catch(s){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await fc(t,s)}else if(e instanceof Gu?t.x_.$e(e):e instanceof TA?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ue.min()))try{const s=await NA(t.localStore);n.compareTo(s)>=0&&await function(l,c){const m=l.x_.it(c);return m.targetChanges.forEach((d,g)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.D_.get(g);y&&l.D_.set(g,y.withResumeToken(d.resumeToken,c))}}),m.targetMismatches.forEach((d,g)=>{const y=l.D_.get(d);if(!y)return;l.D_.set(d,y.withResumeToken(xt.EMPTY_BYTE_STRING,y.snapshotVersion)),PA(l,d);const v=new Yi(y.target,d,g,y.sequenceNumber);Ag(l,v)}),l.remoteSyncer.applyRemoteEvent(m)}(t,n)}catch(s){Q("RemoteStore","Failed to raise snapshot:",s),await fc(t,s)}}async function fc(t,e,n){if(!ol(e))throw e;t.C_.add(1),await hl(t),t.M_.set("Offline"),n||(n=()=>NA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Xc(t)})}function LA(t,e){return e().catch(n=>fc(t,n,e))}async function $c(t){const e=he(t),n=nr(e);let s=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;EN(e);)try{const o=await rN(e.localStore,s);if(o===null){e.b_.length===0&&n.Zo();break}s=o.batchId,TN(e,o)}catch(o){await fc(e,o)}kA(e)&&jA(e)}function EN(t){return $r(t)&&t.b_.length<10}function TN(t,e){t.b_.push(e);const n=nr(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function kA(t){return $r(t)&&!nr(t).jo()&&t.b_.length>0}function jA(t){nr(t).start()}async function AN(t){nr(t).E_()}async function wN(t){const e=nr(t);for(const n of t.b_)e.P_(n.mutations)}async function SN(t,e,n){const s=t.b_.shift(),o=pg.from(s,e,n);await LA(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await $c(t)}async function bN(t,e){e&&nr(t).h_&&await async function(s,o){if(function(c){return gD(c)&&c!==L.ABORTED}(o.code)){const l=s.b_.shift();nr(s).Yo(),await LA(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await $c(s)}}(t,e),kA(t)&&jA(t)}async function G0(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const s=$r(n);n.C_.add(3),await hl(n),s&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Xc(n)}async function RN(t,e){const n=he(t);e?(n.C_.delete(2),await Xc(n)):e||(n.C_.add(2),await hl(n),n.M_.set("Unknown"))}function la(t){return t.O_||(t.O_=function(n,s,o){const l=he(n);return l.A_(),new fN(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(t.datastore,t.asyncQueue,{ho:yN.bind(null,t),Io:_N.bind(null,t),a_:vN.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),Sg(t)?wg(t):t.M_.set("Unknown")):(await t.O_.stop(),UA(t))})),t.O_}function nr(t){return t.N_||(t.N_=function(n,s,o){const l=he(n);return l.A_(),new dN(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(t.datastore,t.asyncQueue,{ho:AN.bind(null,t),Io:bN.bind(null,t),T_:wN.bind(null,t),I_:SN.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await $c(t)):(await t.N_.stop(),t.b_.length>0&&(Q("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n,s,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,l){const c=Date.now()+s,m=new bg(e,n,c,o,l);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rg(t,e){if(ci("AsyncQueue",`${e}: ${t}`),ol(t))return new H(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.comparator=e?(n,s)=>e(n,s)||W.comparator(n.key,s.key):(n,s)=>W.comparator(n.key,s.key),this.keyedMap=Eo(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new Hs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Hs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(){this.B_=new He(W.comparator)}track(e){const n=e.doc.key,s=this.B_.get(n);s?e.type!==0&&s.type===3?this.B_=this.B_.insert(n,e):e.type===3&&s.type!==1?this.B_=this.B_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.B_=this.B_.remove(n):e.type===1&&s.type===2?this.B_=this.B_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):ae():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Zs{constructor(e,n,s,o,l,c,m,d,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=d,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,l){const c=[];return n.forEach(m=>{c.push({type:0,doc:m})}),new Zs(e,n,Hs.emptySet(n),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.k_=void 0,this.listeners=[]}}class CN{constructor(){this.queries=new oa(e=>oA(e),Hc),this.onlineState="Unknown",this.q_=new Set}}async function zA(t,e){const n=he(t),s=e.query;let o=!1,l=n.queries.get(s);if(l||(o=!0,l=new IN),o)try{l.k_=await n.onListen(s)}catch(c){const m=Rg(c,`Initialization of query '${Us(e.query)}' failed`);return void e.onError(m)}n.queries.set(s,l),l.listeners.push(e),e.Q_(n.onlineState),l.k_&&e.K_(l.k_)&&Ig(n)}async function BA(t,e){const n=he(t),s=e.query;let o=!1;const l=n.queries.get(s);if(l){const c=l.listeners.indexOf(e);c>=0&&(l.listeners.splice(c,1),o=l.listeners.length===0)}if(o)return n.queries.delete(s),n.onUnlisten(s)}function DN(t,e){const n=he(t);let s=!1;for(const o of e){const l=o.query,c=n.queries.get(l);if(c){for(const m of c.listeners)m.K_(o)&&(s=!0);c.k_=o}}s&&Ig(n)}function NN(t,e,n){const s=he(t),o=s.queries.get(e);if(o)for(const l of o.listeners)l.onError(n);s.queries.delete(e)}function Ig(t){t.q_.forEach(e=>{e.next()})}class qA{constructor(e,n,s){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=s||{}}K_(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Zs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.J_||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.key=e}}class FA{constructor(e){this.key=e}}class xN{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=_e(),this.mutatedKeys=_e(),this._a=lA(e),this.aa=new Hs(this._a)}get ua(){return this.ia}ca(e,n){const s=n?n.la:new Q0,o=n?n.aa:this.aa;let l=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const d=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((y,v)=>{const T=o.get(y),R=Fc(this.query,v)?v:null,V=!!T&&this.mutatedKeys.has(T.key),P=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let x=!1;T&&R?T.data.isEqual(R.data)?V!==P&&(s.track({type:3,doc:R}),x=!0):this.ha(T,R)||(s.track({type:2,doc:R}),x=!0,(d&&this._a(R,d)>0||g&&this._a(R,g)<0)&&(m=!0)):!T&&R?(s.track({type:0,doc:R}),x=!0):T&&!R&&(s.track({type:1,doc:T}),x=!0,(d||g)&&(m=!0)),x&&(R?(c=c.add(R),l=P?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{aa:c,la:s,Zi:m,mutatedKeys:l}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const l=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const c=e.la.L_();c.sort((y,v)=>function(R,V){const P=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return P(R)-P(V)}(y.type,v.type)||this._a(y.doc,v.doc)),this.Pa(s),o=o!=null&&o;const m=n&&!o?this.Ia():[],d=this.oa.size===0&&this.current&&!o?1:0,g=d!==this.sa;return this.sa=d,c.length!==0||g?{snapshot:new Zs(this.query,e.aa,l,c,e.mutatedKeys,d===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ta:m}:{Ta:m}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Q0,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=_e(),this.aa.forEach(s=>{this.Ea(s.key)&&(this.oa=this.oa.add(s.key))});const n=[];return e.forEach(s=>{this.oa.has(s)||n.push(new FA(s))}),this.oa.forEach(s=>{e.has(s)||n.push(new HA(s))}),n}da(e){this.ia=e.ls,this.oa=_e();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Zs.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class ON{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class MN{constructor(e){this.key=e,this.Ra=!1}}class VN{constructor(e,n,s,o,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Va={},this.ma=new oa(m=>oA(m),Hc),this.fa=new Map,this.ga=new Set,this.pa=new He(W.comparator),this.ya=new Map,this.wa=new vg,this.Sa={},this.ba=new Map,this.Da=Ws.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function PN(t,e){const n=GN(t);let s,o;const l=n.ma.get(e);if(l)s=l.targetId,n.sharedClientState.addLocalQueryTarget(s),o=l.view.Aa();else{const c=await sN(n.localStore,Mn(e)),m=n.sharedClientState.addLocalQueryTarget(c.targetId);s=c.targetId,o=await UN(n,e,s,m==="current",c.resumeToken),n.isPrimaryClient&&MA(n.remoteStore,c)}return o}async function UN(t,e,n,s,o){t.va=(v,T,R)=>async function(P,x,K,J){let ne=x.view.ca(K);ne.Zi&&(ne=await q0(P.localStore,x.query,!1).then(({documents:At})=>x.view.ca(At,ne)));const Re=J&&J.targetChanges.get(x.targetId),re=J&&J.targetMismatches.get(x.targetId)!=null,Le=x.view.applyChanges(ne,P.isPrimaryClient,Re,re);return Y0(P,x.targetId,Le.Ta),Le.snapshot}(t,v,T,R);const l=await q0(t.localStore,e,!0),c=new xN(e,l.ls),m=c.ca(l.documents),d=cl.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",o),g=c.applyChanges(m,t.isPrimaryClient,d);Y0(t,n,g.Ta);const y=new ON(e,n,c);return t.ma.set(e,y),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),g.snapshot}async function LN(t,e){const n=he(t),s=n.ma.get(e),o=n.fa.get(s.targetId);if(o.length>1)return n.fa.set(s.targetId,o.filter(l=>!Hc(l,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await wm(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),VA(n.remoteStore,s.targetId),Sm(n,s.targetId)}).catch(al)):(Sm(n,s.targetId),await wm(n.localStore,s.targetId,!0))}async function kN(t,e,n){const s=QN(t);try{const o=await function(c,m){const d=he(c),g=st.now(),y=m.reduce((R,V)=>R.add(V.key),_e());let v,T;return d.persistence.runTransaction("Locally write mutations","readwrite",R=>{let V=hi(),P=_e();return d.ss.getEntries(R,y).next(x=>{V=x,V.forEach((K,J)=>{J.isValidDocument()||(P=P.add(K))})}).next(()=>d.localDocuments.getOverlayedDocuments(R,V)).next(x=>{v=x;const K=[];for(const J of m){const ne=cD(J,v.get(J.key).overlayedDocument);ne!=null&&K.push(new lr(J.key,ne,JT(ne.value.mapValue),dn.exists(!0)))}return d.mutationQueue.addMutationBatch(R,g,K,m)}).next(x=>{T=x;const K=x.applyToLocalDocumentSet(v,P);return d.documentOverlayCache.saveOverlays(R,x.batchId,K)})}).then(()=>({batchId:T.batchId,changes:cA(v)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(c,m,d){let g=c.Sa[c.currentUser.toKey()];g||(g=new He(Ie)),g=g.insert(m,d),c.Sa[c.currentUser.toKey()]=g}(s,o.batchId,n),await fl(s,o.changes),await $c(s.remoteStore)}catch(o){const l=Rg(o,"Failed to persist write");n.reject(l)}}async function GA(t,e){const n=he(t);try{const s=await nN(n.localStore,e);e.targetChanges.forEach((o,l)=>{const c=n.ya.get(l);c&&(Ue(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Ra=!0:o.modifiedDocuments.size>0?Ue(c.Ra):o.removedDocuments.size>0&&(Ue(c.Ra),c.Ra=!1))}),await fl(n,s,e)}catch(s){await al(s)}}function K0(t,e,n){const s=he(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ma.forEach((l,c)=>{const m=c.view.Q_(e);m.snapshot&&o.push(m.snapshot)}),function(c,m){const d=he(c);d.onlineState=m;let g=!1;d.queries.forEach((y,v)=>{for(const T of v.listeners)T.Q_(m)&&(g=!0)}),g&&Ig(d)}(s.eventManager,e),o.length&&s.Va.a_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function jN(t,e,n){const s=he(t);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.ya.get(e),l=o&&o.key;if(l){let c=new He(W.comparator);c=c.insert(l,It.newNoDocument(l,ue.min()));const m=_e().add(l),d=new Kc(ue.min(),new Map,new He(Ie),c,m);await GA(s,d),s.pa=s.pa.remove(l),s.ya.delete(e),Cg(s)}else await wm(s.localStore,e,!1).then(()=>Sm(s,e,n)).catch(al)}async function zN(t,e){const n=he(t),s=e.batch.batchId;try{const o=await tN(n.localStore,e);KA(n,s,null),QA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await fl(n,o)}catch(o){await al(o)}}async function BN(t,e,n){const s=he(t);try{const o=await function(c,m){const d=he(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return d.mutationQueue.lookupMutationBatch(g,m).next(v=>(Ue(v!==null),y=v.keys(),d.mutationQueue.removeMutationBatch(g,v))).next(()=>d.mutationQueue.performConsistencyCheck(g)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(g,y,m)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>d.localDocuments.getDocuments(g,y))})}(s.localStore,e);KA(s,e,n),QA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await fl(s,o)}catch(o){await al(o)}}function QA(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function KA(t,e,n){const s=he(t);let o=s.Sa[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),s.Sa[s.currentUser.toKey()]=o}}function Sm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.fa.get(e))t.ma.delete(s),n&&t.Va.Fa(s,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(s=>{t.wa.containsKey(s)||YA(t,s)})}function YA(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(VA(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),Cg(t))}function Y0(t,e,n){for(const s of n)s instanceof HA?(t.wa.addReference(s.key,e),qN(t,s)):s instanceof FA?(Q("SyncEngine","Document no longer in limbo: "+s.key),t.wa.removeReference(s.key,e),t.wa.containsKey(s.key)||YA(t,s.key)):ae()}function qN(t,e){const n=e.key,s=n.path.canonicalString();t.pa.get(n)||t.ga.has(s)||(Q("SyncEngine","New document in limbo: "+n),t.ga.add(s),Cg(t))}function Cg(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new W(je.fromString(e)),s=t.Da.next();t.ya.set(s,new MN(n)),t.pa=t.pa.insert(n,s),MA(t.remoteStore,new Yi(Mn(mg(n.path)),s,"TargetPurposeLimboResolution",lg._e))}}async function fl(t,e,n){const s=he(t),o=[],l=[],c=[];s.ma.isEmpty()||(s.ma.forEach((m,d)=>{c.push(s.va(d,e,n).then(g=>{if((g||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(d.targetId,g!=null&&g.fromCache?"not-current":"current"),g){o.push(g);const y=Tg.Qi(d.targetId,g);l.push(y)}}))}),await Promise.all(c),s.Va.a_(o),await async function(d,g){const y=he(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>j.forEach(g,T=>j.forEach(T.ki,R=>y.persistence.referenceDelegate.addReference(v,T.targetId,R)).next(()=>j.forEach(T.qi,R=>y.persistence.referenceDelegate.removeReference(v,T.targetId,R)))))}catch(v){if(!ol(v))throw v;Q("LocalStore","Failed to update sequence numbers: "+v)}for(const v of g){const T=v.targetId;if(!v.fromCache){const R=y.ts.get(T),V=R.snapshotVersion,P=R.withLastLimboFreeSnapshotVersion(V);y.ts=y.ts.insert(T,P)}}}(s.localStore,l))}async function HN(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const s=await DA(n.localStore,e);n.currentUser=e,function(l,c){l.ba.forEach(m=>{m.forEach(d=>{d.reject(new H(L.CANCELLED,c))})}),l.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fl(n,s._s)}}function FN(t,e){const n=he(t),s=n.ya.get(e);if(s&&s.Ra)return _e().add(s.key);{let o=_e();const l=n.fa.get(e);if(!l)return o;for(const c of l){const m=n.ma.get(c);o=o.unionWith(m.view.ua)}return o}}function GN(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=GA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jN.bind(null,e),e.Va.a_=DN.bind(null,e.eventManager),e.Va.Fa=NN.bind(null,e.eventManager),e}function QN(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BN.bind(null,e),e}class X0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Yc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return eN(this.persistence,new ZD,e.initialUser,this.serializer)}createPersistence(e){return new XD(Eg.jr,this.serializer)}createSharedClientState(e){return new oN}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class KN{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>K0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=HN.bind(null,this.syncEngine),await RN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CN}()}createDatastore(e){const n=Yc(e.databaseInfo.databaseId),s=function(l){return new hN(l)}(e.databaseInfo);return function(l,c,m,d){return new mN(l,c,m,d)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,l,c,m){return new pN(s,o,l,c,m)}(this.localStore,this.datastore,e.asyncQueue,n=>K0(this.syncEngine,n,0),function(){return F0.D()?new F0:new lN}())}createSyncEngine(e,n){return function(o,l,c,m,d,g,y){const v=new VN(o,l,c,m,d,g);return y&&(v.Ca=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const s=he(n);Q("RemoteStore","RemoteStore shutting down."),s.C_.add(5),await hl(s),s.F_.shutdown(),s.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Bt.UNAUTHENTICATED,this.clientId=$T.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async l=>{Q("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(s,l=>(Q("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Rg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function qd(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async o=>{s.isEqual(o)||(await DA(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $N(t);Q("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(o=>G0(e.remoteStore,o)),t.setAppCheckTokenChangeListener((o,l)=>G0(e.remoteStore,l)),t._onlineComponents=e}function XN(t){return t.name==="FirebaseError"?t.code===L.FAILED_PRECONDITION||t.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function $N(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await qd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!XN(n))throw n;qo("Error using user provided cache. Falling back to memory cache: "+n),await qd(t,new X0)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await qd(t,new X0);return t._offlineComponents}async function $A(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await $0(t,t._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await $0(t,new KN))),t._onlineComponents}function WN(t){return $A(t).then(e=>e.syncEngine)}async function WA(t){const e=await $A(t),n=e.eventManager;return n.onListen=PN.bind(null,e.syncEngine),n.onUnlisten=LN.bind(null,e.syncEngine),n}function ZN(t,e,n={}){const s=new li;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,m,d,g){const y=new XA({next:T=>{c.enqueueAndForget(()=>BA(l,v));const R=T.docs.has(m);!R&&T.fromCache?g.reject(new H(L.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&d&&d.source==="server"?g.reject(new H(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),v=new qA(mg(m.path),y,{includeMetadataChanges:!0,J_:!0});return zA(l,v)}(await WA(t),t.asyncQueue,e,n,s)),s.promise}function JN(t,e,n={}){const s=new li;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,m,d,g){const y=new XA({next:T=>{c.enqueueAndForget(()=>BA(l,v)),T.fromCache&&d.source==="server"?g.reject(new H(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),v=new qA(m,y,{includeMetadataChanges:!0,J_:!0});return zA(l,v)}(await WA(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(t,e,n){if(!n)throw new H(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ex(t,e,n,s){if(e===!0&&s===!0)throw new H(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Z0(t){if(!W.isDocumentKey(t))throw new H(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function J0(t){if(W.isDocumentKey(t))throw new H(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function kn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wc(t);throw new H(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new H(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ex("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZA((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new H(L.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new H(L.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new H(L.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dg{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new H(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eE(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new A2;switch(s.type){case"firstParty":return new b2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new H(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=W0.get(n);s&&(Q("ComponentProvider","Removing Datastore"),W0.delete(n),s.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ua(this.firestore,e,this._query)}}class Ut{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}}class Ji extends ua{constructor(e,n,s){super(e,n,mg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new W(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function dc(t,e,...n){if(t=ht(t),JA("collection","path",e),t instanceof Dg){const s=je.fromString(e,...n);return J0(s),new Ji(t,null,s)}{if(!(t instanceof Ut||t instanceof Ji))throw new H(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(je.fromString(e,...n));return J0(s),new Ji(t.firestore,null,s)}}function ca(t,e,...n){if(t=ht(t),arguments.length===1&&(e=$T.newId()),JA("doc","path",e),t instanceof Dg){const s=je.fromString(e,...n);return Z0(s),new Ut(t,null,new W(s))}{if(!(t instanceof Ut||t instanceof Ji))throw new H(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(je.fromString(e,...n));return Z0(s),new Ut(t.firestore,t instanceof Ji?t.converter:null,new W(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new xA(this,"async_queue_retry"),this.iu=()=>{const n=Bd();n&&Q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Bd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Bd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new li;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!ol(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(s=>{this.eu=s,this.tu=!1;const o=function(c){let m=c.message||"";return c.stack&&(m=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),m}(s);throw ci("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.tu=!1,s))));return this.Ja=n,n}enqueueAfterDelay(e,n,s){this.su(),this.ru.indexOf(e)>-1&&(n=0);const o=bg.createAndSchedule(this,e,n,s,l=>this.au(l));return this.Xa.push(o),o}su(){this.eu&&ae()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class Wr extends Dg{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=function(){return new tx}(),this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ew(this),this._firestoreClient.terminate()}}function nx(t,e,n){n||(n="(default)");const s=jm(t,"firestore");if(s.isInitialized(n)){const o=s.getImmediate({identifier:n}),l=s.getOptions(n);if(Oo(l,e))return o;throw new H(L.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new H(L.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return s.initialize({options:e,instanceIdentifier:n})}function Ng(t){return t._firestoreClient||ew(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ew(t){var e,n,s;const o=t._freezeSettings(),l=function(m,d,g,y){return new L2(m,d,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,ZA(y.experimentalLongPollingOptions),y.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._firestoreClient=new YN(t._authCredentials,t._appCheckCredentials,t._queue,l),!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.localCache.kind,_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Js(xt.fromBase64String(e))}catch(n){throw new H(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Js(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=/^__.*__$/;class rx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new lr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ul(e,this.data,n,this.fieldTransforms)}}class tw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new lr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function nw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}class Mg{constructor(e,n,s,o,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Pu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Mg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Tu({path:s,du:!1});return o.Au(e),o}Ru(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Tu({path:s,du:!1});return o.Pu(),o}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return mc(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(nw(this.Iu)&&ix.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class sx{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Yc(e)}pu(e,n,s,o=!1){return new Mg({Iu:e,methodName:n,gu:s,path:vt.emptyPath(),du:!1,fu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jc(t){const e=t._freezeSettings(),n=Yc(t._databaseId);return new sx(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iw(t,e,n,s,o,l={}){const c=t.pu(l.merge||l.mergeFields?2:0,e,n,o);Vg("Data must be an object, but it was:",c,s);const m=rw(s,c);let d,g;if(l.merge)d=new $t(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const T=bm(e,v,n);if(!c.contains(T))throw new H(L.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);aw(y,T)||y.push(T)}d=new $t(y),g=c.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,g=c.fieldTransforms;return new rx(new qt(m),d,g)}class eh extends xg{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof eh}}function ax(t,e,n,s){const o=t.pu(1,e,n);Vg("Data must be an object, but it was:",o,s);const l=[],c=qt.empty();Xr(s,(d,g)=>{const y=Pg(e,d,n);g=ht(g);const v=o.Ru(y);if(g instanceof eh)l.push(y);else{const T=dl(g,v);T!=null&&(l.push(y),c.set(y,T))}});const m=new $t(l);return new tw(c,m,o.fieldTransforms)}function ox(t,e,n,s,o,l){const c=t.pu(1,e,n),m=[bm(e,s,n)],d=[o];if(l.length%2!=0)throw new H(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)m.push(bm(e,l[T])),d.push(l[T+1]);const g=[],y=qt.empty();for(let T=m.length-1;T>=0;--T)if(!aw(g,m[T])){const R=m[T];let V=d[T];V=ht(V);const P=c.Ru(R);if(V instanceof eh)g.push(R);else{const x=dl(V,P);x!=null&&(g.push(R),y.set(R,x))}}const v=new $t(g);return new tw(y,v,c.fieldTransforms)}function lx(t,e,n,s=!1){return dl(n,t.pu(s?4:3,e))}function dl(t,e){if(sw(t=ht(t)))return Vg("Unsupported field value:",e,t),rw(t,e);if(t instanceof xg)return function(s,o){if(!nw(o.Iu))throw o.mu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.mu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(s,o){const l=[];let c=0;for(const m of s){let d=dl(m,o.Vu(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}}(t,e)}return function(s,o){if((s=ht(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return rD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=st.fromDate(s);return{timestampValue:hc(o.serializer,l)}}if(s instanceof st){const l=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:hc(o.serializer,l)}}if(s instanceof Og)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Js)return{bytesValue:wA(o.serializer,s._byteString)};if(s instanceof Ut){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.mu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:_g(s.firestore._databaseId||o.databaseId,s._key.path)}}throw o.mu(`Unsupported field value: ${Wc(s)}`)}(t,e)}function rw(t,e){const n={};return WT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xr(t,(s,o)=>{const l=dl(o,e.Eu(s));l!=null&&(n[s]=l)}),{mapValue:{fields:n}}}function sw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof Og||t instanceof Js||t instanceof Ut||t instanceof xg)}function Vg(t,e,n){if(!sw(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Wc(n);throw s==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+s)}}function bm(t,e,n){if((e=ht(e))instanceof Zc)return e._internalPath;if(typeof e=="string")return Pg(t,e);throw mc("Field path arguments must be of type string or ",t,!1,void 0,n)}const ux=new RegExp("[~\\*/\\[\\]]");function Pg(t,e,n){if(e.search(ux)>=0)throw mc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zc(...e.split("."))._internalPath}catch{throw mc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mc(t,e,n,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${s}`),c&&(d+=` in document ${o}`),d+=")"),new H(L.INVALID_ARGUMENT,m+t+d)}function aw(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n,s,o,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ug("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cx extends ow{data(){return super.data()}}function Ug(t,e){return typeof e=="string"?Pg(t,e):e instanceof Zc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lg{}class fx extends Lg{}function dx(t,e,...n){let s=[];e instanceof Lg&&s.push(e),s=s.concat(n),function(l){const c=l.filter(d=>d instanceof kg).length,m=l.filter(d=>d instanceof th).length;if(c>1||c>0&&m>0)throw new H(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)t=o._apply(t);return t}class th extends fx{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new th(e,n,s)}_apply(e){const n=this._parse(e);return lw(e._query,n),new ua(e.firestore,e.converter,ym(e._query,n))}_parse(e){const n=Jc(e.firestore);return function(l,c,m,d,g,y,v){let T;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new H(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){nE(v,y);const R=[];for(const V of v)R.push(tE(d,l,V));T={arrayValue:{values:R}}}else T=tE(d,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||nE(v,y),T=lx(m,c,v,y==="in"||y==="not-in");return nt.create(g,y,T)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function mx(t,e,n){const s=e,o=Ug("where",t);return th._create(o,s,n)}class kg extends Lg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:En.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,l){let c=o;const m=l.getFlattenedFilters();for(const d of m)lw(c,d),c=ym(c,d)}(e._query,n),new ua(e.firestore,e.converter,ym(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function tE(t,e,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new H(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aA(e)&&n.indexOf("/")!==-1)throw new H(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(je.fromString(n));if(!W.isDocumentKey(s))throw new H(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return b0(t,new W(s))}if(n instanceof Ut)return b0(t,n._key);throw new H(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wc(n)}.`)}function nE(t,e){if(!Array.isArray(t)||t.length===0)throw new H(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lw(t,e){const n=function(o,l){for(const c of o)for(const m of c.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null}(t.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class gx{convertValue(e,n="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Xr(e,(o,l)=>{s[o]=this.convertValue(l,n)}),s}convertGeoPoint(e){return new Og(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=cg(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Fo(e));default:return null}}convertTimestamp(e){const n=tr(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=je.fromString(e);Ue(CA(s));const o=new Go(s.get(1),s.get(3)),l=new W(s.popFirst(5));return o.isEqual(n)||ci(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(t,e,n){let s;return s=t?t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cw extends ow{constructor(e,n,s,o,l,c){super(e,n,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ug("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Qu extends cw{data(e={}){return super.data(e)}}class px{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ao(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Qu(this._firestore,this._userDataWriter,s.key,s,new Ao(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(m=>{const d=new Qu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ao(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>l||m.type!==3).map(m=>{const d=new Qu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ao(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,y=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),y=c.indexOf(m.doc.key)),{type:yx(m.type),doc:d,oldIndex:g,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yx(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(t){t=kn(t,Ut);const e=kn(t.firestore,Wr);return ZN(Ng(e),t._key).then(n=>Ax(e,t,n))}class hw extends gx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Js(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}function Rm(t){t=kn(t,ua);const e=kn(t.firestore,Wr),n=Ng(e),s=new hw(e);return hx(t._query),JN(n,t._query).then(o=>new px(e,s,t,o))}function vx(t,e,n){t=kn(t,Ut);const s=kn(t.firestore,Wr),o=uw(t.converter,e);return nh(s,[iw(Jc(s),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,dn.none())])}function Ex(t,e,n,...s){t=kn(t,Ut);const o=kn(t.firestore,Wr),l=Jc(o);let c;return c=typeof(e=ht(e))=="string"||e instanceof Zc?ox(l,"updateDoc",t._key,e,n,s):ax(l,"updateDoc",t._key,e),nh(o,[c.toMutation(t._key,dn.exists(!0))])}function fw(t){return nh(kn(t.firestore,Wr),[new gg(t._key,dn.none())])}function Tx(t,e){const n=kn(t.firestore,Wr),s=ca(t),o=uw(t.converter,e);return nh(n,[iw(Jc(t.firestore),"addDoc",s._key,o,t.converter!==null,{}).toMutation(s._key,dn.exists(!1))]).then(()=>s)}function nh(t,e){return function(s,o){const l=new li;return s.asyncQueue.enqueueAndForget(async()=>kN(await WN(s),o,l)),l.promise}(Ng(t),e)}function Ax(t,e,n){const s=n.docs.get(e._key),o=new hw(t);return new cw(t,o,e._key,s,new Ao(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){aa=o})(ia),Qs(new Br("firestore",(s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),m=new Wr(new w2(s.getProvider("auth-internal")),new I2(s.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new H(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Go(g.options.projectId,y)}(c,o),c);return l=Object.assign({useFetchStreams:n},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),Zi(T0,"4.4.0",e),Zi(T0,"4.4.0","esm2017")})();function jg(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function dw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wx=dw,mw=new Zo("auth","Firebase",dw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new Lm("@firebase/auth");function Sx(t,...e){gc.logLevel<=Ee.WARN&&gc.warn(`Auth (${ia}): ${t}`,...e)}function Ku(t,...e){gc.logLevel<=Ee.ERROR&&gc.error(`Auth (${ia}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t,...e){throw zg(t,...e)}function Pn(t,...e){return zg(t,...e)}function bx(t,e,n){const s=Object.assign(Object.assign({},wx()),{[e]:n});return new Zo("auth","Firebase",s).create(e,{appName:t.name})}function zg(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return mw.create(t,...e)}function se(t,e,...n){if(!t)throw zg(e,...n)}function si(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ku(e),new Error(e)}function fi(t,e){t||si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Rx(){return iE()==="http:"||iE()==="https:"}function iE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Rx()||$R()||"connection"in navigator)?navigator.onLine:!0}function Cx(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n){this.shortDelay=e,this.longDelay=n,fi(n>e,"Short delay should be less than long delay!"),this.isMobile=XR()||WR()}get(){return Ix()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t,e){fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=new ml(3e4,6e4);function ur(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function gi(t,e,n,s,o={}){return pw(t,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const m=Jo(Object.assign({key:t.config.apiKey},c)).slice(1),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode),gw.fetch()(yw(t,t.config.apiHost,n,m),Object.assign({method:e,headers:d,referrerPolicy:"no-referrer"},l))})}async function pw(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},Dx),e);try{const o=new Ox(t),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw zu(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const m=l.ok?c.errorMessage:c.error.message,[d,g]=m.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw zu(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw zu(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw zu(t,"user-disabled",c);const y=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw bx(t,y,g);Tn(t,y)}}catch(o){if(o instanceof mi)throw o;Tn(t,"network-request-failed",{message:String(o)})}}async function gl(t,e,n,s,o={}){const l=await gi(t,e,n,s,o);return"mfaPendingCredential"in l&&Tn(t,"multi-factor-auth-required",{_serverResponse:l}),l}function yw(t,e,n,s){const o=`${e}${n}?${s}`;return t.config.emulator?Bg(t.config,o):`${t.config.apiScheme}://${o}`}function xx(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ox{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Pn(this.auth,"network-request-failed")),Nx.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zu(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Pn(t,e,s);return o.customData._tokenResponse=n,o}function rE(t){return t!==void 0&&t.enterprise!==void 0}class Mx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return xx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Vx(t,e){return gi(t,"GET","/v2/recaptchaConfig",ur(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px(t,e){return gi(t,"POST","/v1/accounts:delete",e)}async function Ux(t,e){return gi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Lx(t,e=!1){const n=ht(t),s=await n.getIdToken(e),o=qg(s);se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:Co(Hd(o.auth_time)),issuedAtTime:Co(Hd(o.iat)),expirationTime:Co(Hd(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Hd(t){return Number(t)*1e3}function qg(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Ku("JWT malformed, contained fewer than 3 sections"),null;try{const o=zE(n);return o?JSON.parse(o):(Ku("Failed to decode base64 JWT payload"),null)}catch(o){return Ku("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function kx(t){const e=qg(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof mi&&jx(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function jx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Co(this.lastLoginAt),this.creationTime=Co(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(t){var e;const n=t.auth,s=await t.getIdToken(),o=await ea(t,Ux(n,{idToken:s}));se(o==null?void 0:o.users.length,n,"internal-error");const l=o.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Hx(l.providerUserInfo):[],m=qx(t.providerData,c),d=t.isAnonymous,g=!(t.email&&l.passwordHash)&&!(m!=null&&m.length),y=d?g:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new _w(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(t,v)}async function Bx(t){const e=ht(t);await pc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qx(t,e){return[...t.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Hx(t){return t.map(e=>{var{providerId:n}=e,s=jg(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(t,e){const n=await pw(t,{},async()=>{const s=Jo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=t.config,c=yw(t,o,"/v1/token",`key=${l}`),m=await t._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",gw.fetch()(c,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Gx(t,e){return gi(t,"POST","/v2/accounts:revokeToken",ur(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return se(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:l}=await Fx(e,n);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:l}=n,c=new Xo;return s&&(se(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(se(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(se(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zr{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,l=jg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new _w(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await ea(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Lx(this,e)}reload(){return Bx(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await pc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ea(this,Px(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,l,c,m,d,g,y;const v=(s=n.displayName)!==null&&s!==void 0?s:void 0,T=(o=n.email)!==null&&o!==void 0?o:void 0,R=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,V=(c=n.photoURL)!==null&&c!==void 0?c:void 0,P=(m=n.tenantId)!==null&&m!==void 0?m:void 0,x=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,K=(g=n.createdAt)!==null&&g!==void 0?g:void 0,J=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:ne,emailVerified:Re,isAnonymous:re,providerData:Le,stsTokenManager:At}=n;se(ne&&At,e,"internal-error");const mn=Xo.fromJSON(this.name,At);se(typeof ne=="string",e,"internal-error"),zi(v,e.name),zi(T,e.name),se(typeof Re=="boolean",e,"internal-error"),se(typeof re=="boolean",e,"internal-error"),zi(R,e.name),zi(V,e.name),zi(P,e.name),zi(x,e.name),zi(K,e.name),zi(J,e.name);const $=new zr({uid:ne,auth:e,email:T,emailVerified:Re,displayName:v,isAnonymous:re,photoURL:V,phoneNumber:R,tenantId:P,stsTokenManager:mn,createdAt:K,lastLoginAt:J});return Le&&Array.isArray(Le)&&($.providerData=Le.map(ye=>Object.assign({},ye))),x&&($._redirectEventId=x),$}static async _fromIdTokenResponse(e,n,s=!1){const o=new Xo;o.updateFromServerResponse(n);const l=new zr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await pc(l),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;function ai(t){fi(t instanceof Function,"Expected a class definition");let e=sE.get(t);return e?(fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vw.type="NONE";const aE=vw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(t,e,n){return`firebase:${t}:${e}:${n}`}class Fs{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Yu(this.userKey,o.apiKey,l),this.fullPersistenceKey=Yu("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Fs(ai(aE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||ai(aE);const c=Yu(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const y=await g._get(c);if(y){const v=zr._fromJSON(e,y);g!==l&&(m=v),l=g;break}}catch{}const d=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new Fs(l,e,s):(l=d[0],m&&await l._set(c,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Fs(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Aw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ew(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Sw(e))return"Blackberry";if(bw(e))return"Webos";if(Hg(e))return"Safari";if((e.includes("chrome/")||Tw(e))&&!e.includes("edge/"))return"Chrome";if(ww(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Ew(t=Nt()){return/firefox\//i.test(t)}function Hg(t=Nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Tw(t=Nt()){return/crios\//i.test(t)}function Aw(t=Nt()){return/iemobile/i.test(t)}function ww(t=Nt()){return/android/i.test(t)}function Sw(t=Nt()){return/blackberry/i.test(t)}function bw(t=Nt()){return/webos/i.test(t)}function ih(t=Nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Qx(t=Nt()){var e;return ih(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Kx(){return ZR()&&document.documentMode===10}function Rw(t=Nt()){return ih(t)||ww(t)||bw(t)||Sw(t)||/windows phone/i.test(t)||Aw(t)}function Yx(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t,e=[]){let n;switch(t){case"Browser":n=oE(Nt());break;case"Worker":n=`${oE(Nt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ia}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,m)=>{try{const d=e(l);c(d)}catch(d){m(d)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $x(t,e={}){return gi(t,"GET","/v2/passwordPolicy",ur(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=6;class Zx{constructor(e){var n,s,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:Wx,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,l,c,m;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(s=d.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsLowercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(m=d.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),d}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new Xx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ai(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Fs.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===m)&&(d!=null&&d.user)&&(o=d.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Cx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ht(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $x(this),n=new Zx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zo("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Gx(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ai(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await Fs.create(this,[ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(m,this,"internal-error"),m.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,s,o);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Iw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Sx(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Zr(t){return ht(t)}class lE{constructor(e){this.auth=e,this.observer=null,this.addObserver=sI(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Cw(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=o=>{const l=Pn("internal-error");l.customData=o,n(l)},s.type="text/javascript",s.charset="UTF-8",eO().appendChild(s)})}function tO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const nO="https://www.google.com/recaptcha/enterprise.js?render=",iO="recaptcha-enterprise",rO="NO_RECAPTCHA";class sO{constructor(e){this.type=iO,this.auth=Zr(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,m)=>{Vx(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new Mx(d);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(d=>{m(d)})})}function o(l,c,m){const d=window.grecaptcha;rE(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(rO)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((l,c)=>{s(this.auth).then(m=>{if(!n&&rE(window.grecaptcha))o(m,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}Cw(nO+m).then(()=>{o(m,l,c)}).catch(d=>{c(d)})}}).catch(m=>{c(m)})})}}async function uE(t,e,n,s=!1){const o=new sO(t);let l;try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const c=Object.assign({},e);return s?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Cm(t,e,n,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await uE(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await uE(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t,e){const n=jm(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(Oo(l,e??{}))return o;Tn(o,"already-initialized")}return n.initialize({options:e})}function oO(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ai);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function lO(t,e,n){const s=Zr(t);se(s._canInitEmulator,s,"emulator-config-failed"),se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=Dw(e),{host:c,port:m}=uO(e),d=m===null?"":`:${m}`;s.config.emulator={url:`${l}//${c}${d}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:c,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),cO()}function Dw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uO(t){const e=Dw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:cE(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:cE(c)}}}function cE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,n){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}}async function hO(t,e){return gi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fO(t,e){return gl(t,"POST","/v1/accounts:signInWithPassword",ur(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dO(t,e){return gl(t,"POST","/v1/accounts:signInWithEmailLink",ur(t,e))}async function mO(t,e){return gl(t,"POST","/v1/accounts:signInWithEmailLink",ur(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends Fg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new $o(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new $o(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cm(e,n,"signInWithPassword",fO);case"emailLink":return dO(e,{email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cm(e,s,"signUpPassword",hO);case"emailLink":return mO(e,{idToken:n,email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gs(t,e){return gl(t,"POST","/v1/accounts:signInWithIdp",ur(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="http://localhost";class Qr extends Fg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,l=jg(n,["providerId","signInMethod"]);if(!s||!o)return null;const c=new Qr(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Gs(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Gs(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Gs(e,n)}buildRequest(){const e={requestUri:gO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yO(t){const e=po(yo(t)).link,n=e?po(yo(e)).deep_link_id:null,s=po(yo(t)).deep_link_id;return(s?po(yo(s)).link:null)||s||n||e||t}class Gg{constructor(e){var n,s,o,l,c,m;const d=po(yo(e)),g=(n=d.apiKey)!==null&&n!==void 0?n:null,y=(s=d.oobCode)!==null&&s!==void 0?s:null,v=pO((o=d.mode)!==null&&o!==void 0?o:null);se(g&&y&&v,"argument-error"),this.apiKey=g,this.operation=v,this.code=y,this.continueUrl=(l=d.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=d.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(m=d.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=yO(e);try{return new Gg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.providerId=ha.PROVIDER_ID}static credential(e,n){return $o._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Gg.parseLink(n);return se(s,"argument-error"),$o._fromEmailAndCode(e,s.code,s.tenantId)}}ha.PROVIDER_ID="password";ha.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ha.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends Nw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends pl{constructor(){super("facebook.com")}static credential(e){return Qr._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends pl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qr._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Fi.credential(n,s)}catch{return null}}}Fi.GOOGLE_SIGN_IN_METHOD="google.com";Fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends pl{constructor(){super("github.com")}static credential(e){return Qr._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.GITHUB_SIGN_IN_METHOD="github.com";Gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends pl{constructor(){super("twitter.com")}static credential(e,n){return Qr._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Qi.credential(n,s)}catch{return null}}}Qi.TWITTER_SIGN_IN_METHOD="twitter.com";Qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(t,e){return gl(t,"POST","/v1/accounts:signUp",ur(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const l=await zr._fromIdTokenResponse(e,s,o),c=hE(s);return new Kr({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=hE(s);return new Kr({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function hE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends mi{constructor(e,n,s,o){var l;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,yc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new yc(e,n,s,o)}}function xw(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?yc._fromErrorAndOperation(t,l,e,s):l})}async function vO(t,e,n=!1){const s=await ea(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Kr._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(t,e,n=!1){const{auth:s}=t,o="reauthenticate";try{const l=await ea(t,xw(s,o,e,t),n);se(l.idToken,s,"internal-error");const c=qg(l.idToken);se(c,s,"internal-error");const{sub:m}=c;return se(t.uid===m,s,"user-mismatch"),Kr._forOperation(t,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Tn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ow(t,e,n=!1){const s="signIn",o=await xw(t,s,e),l=await Kr._fromIdTokenResponse(t,s,o);return n||await t._updateCurrentUser(l.user),l}async function TO(t,e){return Ow(Zr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mw(t){const e=Zr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function AO(t,e,n){const s=Zr(t),c=await Cm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_O).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Mw(t),d}),m=await Kr._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(m.user),m}function wO(t,e,n){return TO(ht(t),ha.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Mw(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(t,e){return gi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fE(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=ht(t),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await ea(s,SO(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const m=s.providerData.find(({providerId:d})=>d==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function bO(t,e,n,s){return ht(t).onIdTokenChanged(e,n,s)}function RO(t,e,n){return ht(t).beforeAuthStateChanged(e,n)}function IO(t,e,n,s){return ht(t).onAuthStateChanged(e,n,s)}const _c="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_c,"1"),this.storage.removeItem(_c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(){const t=Nt();return Hg(t)||ih(t)}const DO=1e3,NO=10;class Pw extends Vw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=CO()&&Yx(),this.fallbackToPolling=Rw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,m,d)=>{this.notifyListeners(c,d)});return}const s=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const c=this.storage.getItem(s);if(e.newValue!==c)e.newValue!==null?this.storage.setItem(s,e.newValue):this.storage.removeItem(s);else if(this.localCache[s]===e.newValue&&!n)return}const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);Kx()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,NO):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},DO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Pw.type="LOCAL";const xO=Pw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw extends Vw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Uw.type="SESSION";const Lw=Uw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new rh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:l}=n.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async g=>g(n.origin,l)),d=await OO(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((m,d)=>{const g=Qg("",20);o.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(v){const T=v;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(T.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function VO(t){Un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function PO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function LO(){return kw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="firebaseLocalStorageDb",kO=1,vc="firebaseLocalStorage",zw="fbase_key";class yl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sh(t,e){return t.transaction([vc],e?"readwrite":"readonly").objectStore(vc)}function jO(){const t=indexedDB.deleteDatabase(jw);return new yl(t).toPromise()}function Dm(){const t=indexedDB.open(jw,kO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(vc,{keyPath:zw})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(vc)?e(s):(s.close(),await jO(),e(await Dm()))})})}async function dE(t,e,n){const s=sh(t,!0).put({[zw]:e,value:n});return new yl(s).toPromise()}async function zO(t,e){const n=sh(t,!1).get(e),s=await new yl(n).toPromise();return s===void 0?null:s.value}function mE(t,e){const n=sh(t,!0).delete(e);return new yl(n).toPromise()}const BO=800,qO=3;class Bw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>qO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rh._getInstance(LO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await PO(),!this.activeServiceWorker)return;this.sender=new MO(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dm();return await dE(e,_c,"1"),await mE(e,_c),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>dE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>zO(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=sh(o,!1).getAll();return new yl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Bw.type="LOCAL";const HO=Bw;new ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t,e){return e?ai(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg extends Fg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Gs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Gs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GO(t){return Ow(t.auth,new Kg(t),t.bypassAuthState)}function QO(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),EO(n,new Kg(t),t.bypassAuthState)}async function KO(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),vO(n,new Kg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,n,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:l,error:c,type:m}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(d))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GO;case"linkViaPopup":case"linkViaRedirect":return KO;case"reauthViaPopup":case"reauthViaRedirect":return QO;default:Tn(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=new ml(2e3,1e4);class zs extends qw{constructor(e,n,s,o,l){super(e,n,o,l),this.provider=s,this.authWindow=null,this.pollId=null,zs.currentPopupAction&&zs.currentPopupAction.cancel(),zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const e=Qg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YO.get())};e()}}zs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO="pendingRedirect",Xu=new Map;class $O extends qw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Xu.get(this.auth._key());if(!e){try{const s=await WO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Xu.set(this.auth._key(),e)}return this.bypassAuthState||Xu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WO(t,e){const n=e4(e),s=JO(t);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function ZO(t,e){Xu.set(t._key(),e)}function JO(t){return ai(t._redirectPersistence)}function e4(t){return Yu(XO,t.config.apiKey,t.name)}async function t4(t,e,n=!1){const s=Zr(t),o=FO(s,e),c=await new $O(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=10*60*1e3;class i4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!r4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Hw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Pn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n4&&this.cachedEventUids.clear(),this.cachedEventUids.has(gE(e))}saveEventToCache(e){this.cachedEventUids.add(gE(e)),this.lastProcessedEventTime=Date.now()}}function gE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Hw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function r4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(t,e={}){return gi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o4=/^https?/;async function l4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await s4(t);for(const n of e)try{if(u4(n))return}catch{}Tn(t,"unauthorized-domain")}function u4(t){const e=Im(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!o4.test(n))return!1;if(a4.test(t))return s===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=new ml(3e4,6e4);function pE(){const t=Un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function h4(t){return new Promise((e,n)=>{var s,o,l;function c(){pE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pE(),n(Pn(t,"network-request-failed"))},timeout:c4.get()})}if(!((o=(s=Un().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Un().gapi)===null||l===void 0)&&l.load)c();else{const m=tO("iframefcb");return Un()[m]=()=>{gapi.load?c():n(Pn(t,"network-request-failed"))},Cw(`https://apis.google.com/js/api.js?onload=${m}`).catch(d=>n(d))}}).catch(e=>{throw $u=null,e})}let $u=null;function f4(t){return $u=$u||h4(t),$u}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=new ml(5e3,15e3),m4="__/auth/iframe",g4="emulator/auth/iframe",p4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _4(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Bg(e,g4):`https://${t.config.authDomain}/${m4}`,s={apiKey:e.apiKey,appName:t.name,v:ia},o=y4.get(t.config.apiHost);o&&(s.eid=o);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Jo(s).slice(1)}`}async function v4(t){const e=await f4(t),n=Un().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:_4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p4,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=Pn(t,"network-request-failed"),m=Un().setTimeout(()=>{l(c)},d4.get());function d(){Un().clearTimeout(m),o(s)}s.ping(d).then(d,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T4=500,A4=600,w4="_blank",S4="http://localhost";class yE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function b4(t,e,n,s=T4,o=A4){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const d=Object.assign(Object.assign({},E4),{width:s.toString(),height:o.toString(),top:l,left:c}),g=Nt().toLowerCase();n&&(m=Tw(g)?w4:n),Ew(g)&&(e=e||S4,d.scrollbars="yes");const y=Object.entries(d).reduce((T,[R,V])=>`${T}${R}=${V},`,"");if(Qx(g)&&m!=="_self")return R4(e||"",m),new yE(null);const v=window.open(e||"",m,y);se(v,t,"popup-blocked");try{v.focus()}catch{}return new yE(v)}function R4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="__/auth/handler",C4="emulator/auth/handler",D4=encodeURIComponent("fac");async function _E(t,e,n,s,o,l){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:ia,eventId:o};if(e instanceof Nw){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",rI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(e instanceof pl){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const m=c;for(const y of Object.keys(m))m[y]===void 0&&delete m[y];const d=await t._getAppCheckToken(),g=d?`#${D4}=${encodeURIComponent(d)}`:"";return`${N4(t)}?${Jo(m).slice(1)}${g}`}function N4({config:t}){return t.emulator?Bg(t,C4):`https://${t.authDomain}/${I4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="webStorageSupport";class x4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lw,this._completeRedirectFn=t4,this._overrideRedirectResult=ZO}async _openPopup(e,n,s,o){var l;fi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await _E(e,n,s,Im(),o);return b4(e,c,Qg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const l=await _E(e,n,s,Im(),o);return VO(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(fi(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await v4(e),s=new i4(e);return n.register("authEvent",o=>(se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fd,{type:Fd},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Fd];c!==void 0&&n(!!c),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=l4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Rw()||Hg()||ih()}}const O4=x4;var vE="@firebase/auth",EE="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function P4(t){Qs(new Br("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;se(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:c,authDomain:m,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Iw(t)},g=new Jx(s,o,l,d);return oO(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Qs(new Br("auth-internal",e=>{const n=Zr(e.getProvider("auth").getImmediate());return(s=>new M4(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zi(vE,EE,V4(t)),Zi(vE,EE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=5*60,L4=qE("authIdTokenMaxAge")||U4;let TE=null;const k4=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>L4)return;const o=n==null?void 0:n.token;TE!==o&&(TE=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function j4(t=rC()){const e=jm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aO(t,{popupRedirectResolver:O4,persistence:[HO,xO,Lw]}),s=qE("authTokenSyncURL");if(s){const l=k4(s);RO(n,l,()=>l(n.currentUser)),bO(n,c=>l(c))}const o=KR("auth");return o&&lO(n,`http://${o}`),n}P4("Browser");const z4={apiKey:"AIzaSyCcrGeP8uj0LlZ9CQJFwF5YpJ43rO6EByU",authDomain:"rein-firebase-test.firebaseapp.com",databaseURL:"https://rein-firebase-test-default-rtdb.europe-west1.firebasedatabase.app",projectId:"rein-firebase-test",storageBucket:"rein-firebase-test.appspot.com",messagingSenderId:"270166841798",appId:"1:270166841798:web:2d2c7a5f4bee100f387ac7"},Fw=GE(z4),Bi=j4(Fw),di=nx(Fw,{experimentalForceLongPolling:!0}),AE=()=>`https://picsum.photos/id/${Math.floor(Math.random()*500)}/200/300`,cr=N.createContext(null),B4=({children:t})=>{const[e,n]=N.useState(null),[s,o]=N.useState(!0);console.log("user",e);const l=async(y,v)=>{try{const T=await wO(Bi,y,v);return n(T.user),!0}catch(T){throw console.error("Error signing in:",T),T}},c=async()=>{await Bi.signOut(),n(null)},m=async(y,v)=>{const T=y.split("@")[0],R=AE();try{const V=await AO(Bi,y,v);T&&await fE(V.user,{displayName:T,photoURL:R}),n({...V.user,displayName:T,photoURL:R})}catch(V){throw console.error("Error creating user:",V.code,V.message),V}},d=async({displayName:y})=>{if(!Bi.currentUser)return!1;const v=y??Bi.currentUser.displayName,T=Bi.currentUser.photoURL??AE();try{return await fE(Bi.currentUser,{displayName:v,photoURL:T}),n(R=>R?{...R,displayName:v,photoURL:T}:null),!0}catch(R){return console.error("Error updating profile:",R),!1}};N.useEffect(()=>{o(!0);const y=IO(Bi,v=>{console.log("onAuthStateChanged!!"),n(v),o(!1)});return()=>y()},[]);const g=N.useMemo(()=>({isLoading:s,user:e,signOut:c,signIn:l,createUser:m,updateUser:d}),[s,e]);return E.jsx(cr.Provider,{value:g,children:t})},Gw=t=>{const{user:e,signIn:n,signOut:s}=N.useContext(cr),o=()=>{e?s():n("test@test.no","123456"),t.onClickAction&&t.onClickAction()};return E.jsx("div",{children:E.jsx("span",{style:{display:"flex",alignItems:"center"},onClick:o,children:e?"Logout":"Login"})})},q4=()=>E.jsxs("div",{children:[E.jsx("h1",{children:"content"}),E.jsx(xo,{to:"/magicitems",children:"Magic Items"}),E.jsx(Gw,{})]}),H4=()=>{const{user:t,signIn:e,signOut:n}=N.useContext(cr),[s,o]=N.useState(""),[l,c]=N.useState(""),[m,d]=N.useState(""),[g,y]=N.useState(!1),v=async T=>{var R;if(T.preventDefault(),t){n();return}if(!s||!l){alert("Please enter username and password");return}y(!0),d("");try{let V;s==="admin"&&l==="admin"?V=await e("test@test.no","123456"):V=await e(s,l),console.log(V),((R=V==null?void 0:V.error)==null?void 0:R.length)>0&&d(V.error[1])}catch(V){console.error(V),d("An unexpected error occurred.")}finally{y(!1)}};return g?E.jsx("div",{className:"flex justify-center align-center mt-[10vh]",children:E.jsx("div",{className:"bg-white p-4 shadow-md rounded-md max-w-[300px]",children:E.jsx("p",{children:"Loading..."})})}):E.jsx("div",{className:"flex justify-center align-center mt-[10vh]",children:E.jsxs("form",{className:"bg-white p-4 shadow-md rounded-md max-w-[300px]",onSubmit:v,children:[E.jsx("label",{htmlFor:"username",children:"Username:"}),E.jsx("input",{type:"text",id:"username",className:"w-full p-4 mb-4 bg-gray-200 rounded-md",value:s,onChange:T=>o(T.target.value),required:!0}),E.jsx("label",{htmlFor:"password",children:"Password:"}),E.jsx("input",{type:"password",id:"password",className:"w-full p-4 mb-4 bg-gray-200 rounded-md",value:l,onChange:T=>c(T.target.value),required:!0}),m.length>0&&E.jsx("div",{children:m}),E.jsxs("div",{className:"flex justify-between align-center",children:[E.jsx("button",{className:"bg-blue-500 text-white p-2 rounded-sm hover:bg-blue-800",type:"submit",children:"Login"}),E.jsx("div",{className:"flex flex-col justify-center",children:E.jsx(xo,{to:"/register",children:"Register"})})]})]})})},F4=()=>{const{createUser:t}=N.useContext(cr),[e,n]=N.useState(""),[s,o]=N.useState(""),[l,c]=N.useState(""),m=async d=>{if(d.preventDefault(),!e||!s||!l){alert("Please fill in all fields");return}if(s.length<6){alert("Password must be at least 6 characters long");return}if(s!==l){alert("Passwords do not match");return}await t(e,s)};return E.jsx("div",{className:"flex justify-center align-center mt-[10vh]",children:E.jsxs("form",{className:"flex flex-col justify-center align-center p-4 bg-white rounded-sm shadow-md",onSubmit:m,children:[E.jsx("label",{htmlFor:"email",children:"Email:"}),E.jsx("input",{className:"w-full p-4 mb-4 bg-gray-200 rounded-md",type:"email",id:"email",value:e,onChange:d=>n(d.target.value),required:!0}),E.jsx("label",{htmlFor:"password",children:"Password:"}),E.jsx("input",{className:"w-full p-4 mb-4 bg-gray-200 rounded-md",type:"password",id:"password",value:s,onChange:d=>o(d.target.value),required:!0}),E.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password:"}),E.jsx("input",{className:"w-full p-4 mb-4 bg-gray-200 rounded-md",type:"password",id:"confirmPassword",value:l,onChange:d=>c(d.target.value),required:!0}),E.jsx("button",{className:"bg-green-600 p-2 rounded-sm text-white self-end",type:"submit",children:"Register"})]})})},G4=t=>{const[e,n]=N.useState(""),[s,o]=N.useState(""),l=c=>{if(c.preventDefault(),e!==s){alert("Passwords do not match");return}};return E.jsxs("div",{className:"pt-4 ",children:[E.jsx("div",{className:"text-start border-b-2 border-gray-200 mb-3",children:"Password:"}),E.jsx("form",{className:"w-full",onSubmit:l,children:E.jsx("table",{className:"w-full",children:E.jsxs("tbody",{children:[E.jsxs("tr",{children:[E.jsx("th",{className:"text-start",children:E.jsx("label",{htmlFor:"password",children:"Password:"})}),E.jsx("th",{children:E.jsx("input",{type:"password",id:"password",defaultValue:"",placeholder:"*****",onChange:c=>n(c.target.value),required:!0,disabled:!0})})]}),E.jsxs("tr",{children:[E.jsx("th",{className:"text-start",children:E.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password:"})}),E.jsx("th",{children:E.jsx("input",{type:"password",id:"confirmPassword",value:"",placeholder:"*****",onChange:c=>o(c.target.value),required:!0,disabled:!0})})]}),E.jsx("tr",{children:E.jsx("th",{colSpan:2,children:E.jsx("div",{className:"w-full flex justify-end",children:E.jsx("button",{className:"bg-green-500 disabled:bg-gray-300 rounded-sm p-1",type:"submit",disabled:!0,children:"Disabled"})})})})]})})})]})},Q4=t=>{const[e,n]=N.useState(""),s=N.useRef(null);let o=t.user.displayName,l=t.user.email;const c=async d=>{if(d.preventDefault(),e.length<3){alert("Name is too short");return}t.setIsUpdating(!0),await t.handleUpdateUser(e)&&t.setIsUpdating(!1)},m=d=>{d.preventDefault(),n(t.user.displayName),s.current.value=t.user.displayName};return E.jsxs("div",{className:"pt-4",children:[E.jsx("div",{className:"text-start border-b-2 border-gray-200 mb-3",children:"User Info:"}),E.jsx("form",{className:"w-full",onSubmit:c,children:E.jsx("table",{className:"w-full",children:E.jsxs("tbody",{children:[E.jsxs("tr",{children:[E.jsx("th",{className:"text-start",children:E.jsx("label",{htmlFor:"name",children:"Name:"})}),E.jsx("th",{className:"w-[50%]",children:E.jsx("input",{type:"text",id:"name",className:"w-full",defaultValue:o,ref:s,onChange:d=>n(d.target.value),required:!0})})]}),E.jsxs("tr",{children:[E.jsx("th",{className:"text-start",children:E.jsx("label",{htmlFor:"email",children:"Email:"})}),E.jsx("th",{children:E.jsx("input",{type:"text",id:"email",value:l,required:!0,disabled:!0})})]}),E.jsx("tr",{children:E.jsx("th",{colSpan:2,children:E.jsxs("div",{className:"w-full flex justify-end",children:[e!==""&&e!==o&&E.jsx("button",{className:"bg-blue-500 disabled:bg-gray-300 rounded-sm p-1",type:"reset",onClick:m,children:"Reset"}),E.jsx("button",{className:"bg-green-500 disabled:bg-gray-300 rounded-sm p-1 ml-2",type:"submit",disabled:e===""||e===o,children:"Update"})]})})})]})})})]})},K4=t=>E.jsxs("div",{className:"justify-center p-4 bg-white rounded-md shadow-md m-4 text-center",children:[E.jsx("div",{className:"semi-bold",children:"Edit User"}),E.jsx(Q4,{...t}),E.jsx(G4,{})]}),Qw=()=>{const{user:t,updateUser:e}=N.useContext(cr),[n,s]=N.useState(!1);if(!t)return E.jsx("div",{children:E.jsx("span",{children:"Fetching User"})});const o=async l=>await e({displayName:l});return n?E.jsx("div",{className:"flex flex-col justify-center items-center w-full",children:E.jsx("div",{className:"justify-center p-4 bg-white rounded-md shadow-md m-4 text-center",children:E.jsx("span",{children:"Updating User"})})}):E.jsx("div",{className:"flex flex-col justify-center items-center w-full",children:E.jsx(K4,{user:t,setIsUpdating:s,handleUpdateUser:o})})},Kw=t=>{const e=t.item.mi_title,n=t.item.mi_type,s=t.item.mi_attunement,o=t.item.mi_description,l=()=>{t.getModalItem(t.item)};return E.jsxs("div",{className:"flex flex-col justify-start p-4 bg-white hover:bg-green-50 rounded-md drop-shadow-md cursor-pointer mt-2",onClick:l,children:[E.jsx("div",{className:"font-semibold",children:e}),E.jsxs("div",{className:"text-gray-500 text-sm",children:[n,s?" Requires Attunement":""]}),E.jsx("div",{className:"text-sm mt-3 max-h-[200px] overflow-y-hidden",children:o})]})},Y4=N.forwardRef(({modalItem:t,onEditSaved:e},n)=>{const[s,o]=N.useState(t.mi_title),[l,c]=N.useState(t.mi_type),[m,d]=N.useState(t.mi_attunement),[g,y]=N.useState(t.mi_description),v=T=>{T.preventDefault(),e({mi_title:s,mi_type:l,mi_attunement:m,mi_description:g})};return N.useImperativeHandle(n,()=>({submit:v})),E.jsx(E.Fragment,{children:E.jsxs("form",{onSubmit:v,children:[E.jsx("label",{className:"text-sm",children:"Title:"}),E.jsx("input",{className:"w-full p-2 bg-gray-200 rounded-md mb-4",name:"title",value:s,type:"text",onChange:T=>o(T.target.value)}),E.jsx("label",{className:"text-sm",children:"Type:"}),E.jsx("input",{className:"w-full p-2 bg-gray-200 rounded-md mt-1 mb-4",name:"type",value:l,type:"text",onChange:T=>c(T.target.value)}),E.jsxs("div",{className:"flex flex-row items-center justify-start gap-2 mb-4",children:[E.jsx("div",{className:"text-sm",children:"requires attunement? "}),E.jsx("input",{name:"attunement",type:"checkbox",checked:m,onChange:T=>d(T.target.checked)})]}),E.jsx("textarea",{className:"w-full p-2 bg-gray-200 rounded-md mt-1",rows:5,name:"description",value:g,onChange:T=>y(T.target.value)})]})})}),Yw=async t=>(await Rm(dc(di,t))).docs.map(n=>({id:n.id,...n.data()})),Xw=async(t,e)=>{try{const n=await fw(ca(di,e,t));return console.log(`Deleted item with ID: ${t} from collection: ${e}`," dockref: ",n),!0}catch(n){return console.log("Error Deleting: ",n),!1}},$w=async(t,e)=>{try{const n=await Tx(dc(di,e),{...t});return console.log("Document written with ID: ",n.id),{id:n.id,...t}}catch(n){return console.error("Error adding document: ",n),!1}},Ww=async(t,e,n)=>{try{const s=await Ex(ca(di,n,e),{...t});return console.log("Document updated with ID: ",e," docref: ",s),!0}catch(s){return console.error("Error updating document: ",s),!1}},Zw=async(t,e,n,s)=>{if(await eS(t,n,s))return console.log("Relation already exists"),!1;const l=`${n}-${s}`;console.log("Relation ID: ",l);try{return await vx(ca(di,t,l),e),console.log("Relation added with ID: ",l),l}catch(c){return console.error("Error adding relation: ",c),!1}},Wu=async(t,e,n)=>{let s;if(!e||!n)s=await Rm(dc(di,t));else{const o=dx(dc(di,t),mx(e,"==",n));s=await Rm(o)}return s.docs.map(o=>({id:o.id,...o.data()}))},Jw=async(t,e,n)=>{const s=`${e}-${n}`;try{if(!await eS(t,e,n))return console.log("Relation does not exist"),!0}catch(o){return console.error("Error checking relation: ",o),!1}try{return await fw(ca(di,t,s)),console.log("Relation deleted with ID: ",s),!0}catch(o){return console.error("Error deleting relation: ",o),!1}},eS=async(t,e,n)=>{const s=`${e}-${n}`,o=ca(di,t,s);return(await _x(o)).exists()},Yg=()=>{const t=N.useContext(cr);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},hr=()=>Yg().user,Gd="magic_item_favorites",Xg=()=>{const{user:t}=Yg(),[e,n]=N.useState([]),[s,o]=N.useState(!0),l=t==null?void 0:t.uid,c=N.useCallback(async()=>{if(!l)return;o(!0);const T=(await Wu(Gd,"uid",l)).map(R=>R.itemId);n(T),o(!1)},[l]),m=v=>e.includes(v),d=async(v,T)=>{if(!l||m(v))return;const R={uid:l,displayName:(t==null?void 0:t.displayName)||"",itemId:v,itemName:T||""};await Zw(Gd,R,l,v),n(V=>[...V,v])},g=async v=>{l&&(await Jw(Gd,l,v),n(T=>T.filter(R=>R!==v)))},y=async(v,T)=>{m(v)?await g(v):await d(v,T||void 0)};return N.useEffect(()=>{c()},[c]),{favoriteItemIds:e,isFavorited:m,addFavorite:d,removeFavorite:g,toggleFavorite:y,loadingFavourites:s}};var tS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ir=oi.createContext&&oi.createContext(tS),X4=["attr","size","title"];function $4(t,e){if(t==null)return{};var n=W4(t,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function W4(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Ec(){return Ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ec.apply(this,arguments)}function wE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function Tc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wE(Object(n),!0).forEach(function(s){Z4(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wE(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Z4(t,e,n){return e=J4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J4(t){var e=eM(t,"string");return typeof e=="symbol"?e:e+""}function eM(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nS(t){return t&&t.map((e,n)=>oi.createElement(e.tag,Tc({key:n},e.attr),nS(e.child)))}function fr(t){return e=>oi.createElement(tM,Ec({attr:Tc({},t.attr)},e),nS(t.child))}function tM(t){var e=n=>{var{attr:s,size:o,title:l}=t,c=$4(t,X4),m=o||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),oi.createElement("svg",Ec({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,c,{className:d,style:Tc(Tc({color:t.color||n.color},n.style),t.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),l&&oi.createElement("title",null,l),t.children)};return ir!==void 0?oi.createElement(ir.Consumer,null,n=>e(n)):e(tS)}function iS(t){return fr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9l2.6-2.4C267.2 438.6 256 404.6 256 368c0-97.2 78.8-176 176-176c28.3 0 55 6.7 78.7 18.5c.9-6.5 1.3-13 1.3-19.6l0-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1l0 5.8c0 41.5 17.2 81.2 47.6 109.5zM432 512a144 144 0 1 0 0-288 144 144 0 1 0 0 288zm16-208l0 48 48 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-48 0 0 48c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-48-48 0c-8.8 0-16-7.2-16-16s7.2-16 16-16l48 0 0-48c0-8.8 7.2-16 16-16s16 7.2 16 16z"},child:[]}]})(t)}function rS(t){return fr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9l2.6-2.4C267.2 438.6 256 404.6 256 368c0-97.2 78.8-176 176-176c28.3 0 55 6.7 78.7 18.5c.9-6.5 1.3-13 1.3-19.6l0-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1l0 5.8c0 41.5 17.2 81.2 47.6 109.5zM432 512a144 144 0 1 0 0-288 144 144 0 1 0 0 288zm59.3-180.7L454.6 368l36.7 36.7c6.2 6.2 6.2 16.4 0 22.6s-16.4 6.2-22.6 0L432 390.6l-36.7 36.7c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6L409.4 368l-36.7-36.7c-6.2-6.2-6.2-16.4 0-22.6s16.4-6.2 22.6 0L432 345.4l36.7-36.7c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"},child:[]}]})(t)}function $g(t){return fr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"},child:[]}]})(t)}function Ac(t){return fr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"},child:[]}]})(t)}function nM(t){return fr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(t)}function Wg(t){return fr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function iM(t){return fr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function ah(t){return fr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(t)}const rM=({modalItem:t})=>E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"text-lg font-semibold",children:t.mi_title}),E.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:[t.mi_type," ",t.mi_attunement?"requires attunement":""]}),E.jsx("div",{className:"mim-description",children:t.mi_description})]}),sM=t=>{const[e,n]=N.useState(!1),[s,o]=N.useState(!1),l=N.useRef(null),{addFavorite:c,removeFavorite:m,isFavorited:d}=Xg(),g=x=>{x.preventDefault(),c(t.modalItem.id,t.modalItem.mi_title)},y=x=>{x.preventDefault(),m(t.modalItem.id)};N.useEffect(()=>{n(!0)},[]);const v=x=>{var K;x.preventDefault(),(K=l.current)==null||K.submit(x)},T=()=>{o(!1),t.onClose()},R=()=>{o(x=>!x)},V=()=>{window.confirm(`Are you sure you want to delete ${t.modalItem.mi_title}?`)&&(o(!1),t.onDelete(t.modalItem.id))},P=x=>{t.onEditSaved(x,t.modalItem.id),T()};return t.modalItem==null||!e?null:Bb.createPortal(E.jsx("div",{className:"fixed top-0 left-0 w-full h-full flex justify-center items-start z-1000 bg-[#00000080]",onClick:T,children:E.jsx("div",{className:"bg-white rounded-md p-4 m-4 w-full max-w-[800px]",onClick:x=>x.stopPropagation(),children:E.jsxs(ir.Provider,{value:{size:"18px"},children:[s?E.jsx(Y4,{ref:l,modalItem:t.modalItem,onEditSaved:P}):E.jsx(rM,{modalItem:t.modalItem}),E.jsxs("div",{className:"flex flex-row justify-end items-center mt-2",children:[s&&E.jsx("button",{className:"p-2 bg-green-400 hover:bg-green-800 text-white ml-1 rounded-sm",onClick:v,children:E.jsx(Wg,{})}),E.jsx("button",{className:`p-2 bg-${s?"red":"blue"}-400 text-white ml-1 rounded-sm 
              hover:bg-${s?"red":"blue"}-800 `,onClick:R,children:s?E.jsx(ah,{}):E.jsx($g,{})}),d(t.modalItem.id)?E.jsx("button",{className:"p-2 bg-blue-400 hover:bg-blue-800 text-white ml-1 rounded-sm",onClick:y,children:E.jsx(rS,{})}):E.jsx("button",{className:"p-2 bg-blue-400 hover:bg-blue-800 text-white ml-1 rounded-sm",onClick:g,children:E.jsx(iS,{})}),E.jsx("button",{className:"p-2 bg-red-400 hover:bg-red-800 text-white ml-1 rounded-sm",onClick:V,children:E.jsx(Ac,{})})]})]})})}),document.getElementById("modal"))},aM=t=>{const[e,n]=N.useState(!0),[s,o]=N.useState(""),[l,c]=N.useState(""),[m,d]=N.useState(!1),[g,y]=N.useState(""),[v,T]=N.useState(null),R=async P=>{if(P.preventDefault(),s===""||l===""||g===""){T("Please fill in all fields");return}const x={mi_title:s,mi_type:l,mi_attunement:m,mi_description:g};await t.addMagicItem(x)?(o(""),d(!1),c(""),y(""),T(null)):T("Error adding item")},V=()=>{n(P=>!P)};return E.jsx(ir.Provider,{value:{size:"18px"},children:E.jsxs("div",{className:"flex flex-col justify-start p-4 bg-white drop-shadow-md rounded-md my-2",children:[E.jsxs("div",{className:"flex flex-row justify-between items-center",children:[E.jsx("div",{className:"text-lg font-semibold",children:"Add New Item"}),E.jsx("button",{className:"p-2 bg-gray-200 rounded-sm",type:"button",onClick:V,children:e?E.jsx($g,{}):E.jsx(ah,{})})]}),E.jsx("div",{className:e?"hidden":"block",children:E.jsxs("div",{className:"flex flex-col justify-between items-center w-full min-w-[200px]",children:[E.jsxs("form",{className:"w-full",onSubmit:R,children:[E.jsx("input",{className:"w-full bg-gray-100 my-1 p-1 rounded-sm",name:"title",placeholder:"Title",value:s,type:"text",onChange:P=>o(P.target.value)}),E.jsx("input",{className:"w-full bg-gray-100 my-1 p-1 rounded-sm",name:"type",placeholder:"Type",value:l,type:"text",onChange:P=>c(P.target.value)}),E.jsxs("div",{className:"flex flex-row w-full justify-between",children:[E.jsx("div",{className:"",children:"Requires Attunement?"}),E.jsx("input",{className:"",type:"checkbox",checked:m,onChange:P=>d(P.target.checked)})]}),E.jsx("div",{className:"mt-1 w-full",children:E.jsx("textarea",{rows:5,className:"w-full p-1 bg-gray-100 rounded-sm",name:"description",placeholder:"Description",value:g,onChange:P=>y(P.target.value)})}),E.jsx("div",{className:"w-full mt-1",children:E.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white cursor-pointer",children:"Add Item"})})]}),v&&E.jsx("div",{className:"w-full bg-red-100 mt-1 text-center",children:v})]})})]})})};function SE(){const{innerWidth:t,innerHeight:e}=window;return{width:t,height:e}}function oM(){const[t,e]=N.useState(SE());return N.useEffect(()=>{function n(){e(SE())}return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}const lM=({children:t})=>E.jsx("div",{className:"fex flex-col p-1 w-[440px] min-h-1 justify-top align-center",children:t}),uM=({children:t})=>{const{width:e}=oM();let n=0,s=[];t=t.flat(),e<1e3?n=1:n=Math.floor(e/432);for(let o=0;o<n;o++){let l=[];for(let c=o;c<t.length;c+=n)l.push(t[c]);s.push({key:o,childrenItems:l})}return E.jsx(E.Fragment,{children:s.map(o=>E.jsx(lM,{children:o.childrenItems},o.key))})},cM=t=>{const e=s=>{s.preventDefault(),t.searchText.trim()},n=s=>{s.preventDefault(),t.setSearchText("")};return E.jsx(ir.Provider,{value:{size:"18px"},children:E.jsxs("div",{className:"flex flex-col my-2",children:[E.jsxs("div",{className:"flex flex-row p-4 bg-white drop-shadow-md rounded-md z-2",children:[E.jsx("input",{className:"block m-0 p-0 px-2 mr-1 w-full bg-gray-200 rounded-sm",name:"search_text",type:"text",placeholder:"Search title...",value:t.searchText,onChange:s=>t.setSearchText(s.target.value)}),E.jsx("button",{className:"p-2 bg-green-600 text-white rounded-sm",onClick:e,children:E.jsx(iM,{})})]}),t.searchText!==""&&E.jsxs("div",{className:"flex flex-row items-center z-1 bg-amber-50 p-4 rounded-b-md drop-shadow-md mt-[-4px]",children:[E.jsxs("span",{className:"w-full",children:['Filtering for: "',t.searchText,'"']}),E.jsx("button",{className:"p-2 bg-blue-600 text-white rounded-sm",onClick:n,children:E.jsx(nM,{})})]})]})})},Bu="magic_items",sS=()=>{const t=hr(),[e,n]=N.useState([]),[s,o]=N.useState(!0),{favoriteItemIds:l}=Xg(),c=t==null?void 0:t.uid,m=N.useCallback(async()=>{if(!c)return;o(!0);const v=new Set(l),R=(await Yw(Bu)).map(V=>({...V,is_favorite:v.has(V.id)}));n(R),console.log("Merged Items",R),o(!1)},[l,c]),d=async v=>{const T=await $w(v,Bu);return T?(n(R=>[...R,T]),T):(alert("Error adding item"),null)},g=async v=>{n(R=>R.filter(V=>V.id!==v));const T=await Xw(v,Bu);return T||alert("Error deleting item"),!!T},y=async(v,T)=>{delete v.is_favorite;const R=await Ww(v,T,Bu);return R?n(V=>V.map(P=>P.id===T?v:P)):alert("Error updating item"),!!R};return N.useEffect(()=>{console.log("Refreshing magic items"),m()},[m]),{magicItems:e,addMagicItem:d,deleteMagicItem:g,updateMagicItem:y,refreshMagicItemsHook:m,loading:s}},hM=()=>{const{user:t}=N.useContext(cr),{magicItems:e,addMagicItem:n,deleteMagicItem:s,updateMagicItem:o,loading:l}=sS(),[c,m]=N.useState(null),[d,g]=N.useState(""),y=N.useMemo(()=>d?e.filter(T=>T.mi_title.toLowerCase().includes(d.toLowerCase())):e,[e,d]),v=async T=>{m(null),await s(T)};return t?l?E.jsx("div",{children:E.jsx("span",{children:"Loading..."})}):E.jsxs(E.Fragment,{children:[E.jsx(sM,{modalItem:c,onClose:()=>m(null),onDelete:v,onEditSaved:o}),E.jsx("div",{className:"flex items-start justify-center",children:E.jsxs(uM,{children:[E.jsx(cM,{searchText:d,setSearchText:g},"magic_item_search"),E.jsx(aM,{addMagicItem:n},"add_magic_item_form"),y.map(T=>E.jsx(Kw,{item:T,getModalItem:m},T.id)),y.length===0&&E.jsx("p",{children:"No magic items found."},"no_magic_items_found")]})})]}):E.jsx("div",{children:E.jsx("span",{children:"Fetching User"})})},go="game_members",oh=()=>{const{user:t}=Yg(),e=t==null?void 0:t.uid;return{fetchGameMembers:async l=>{if(!e)return;let c;return!l.gameId&&!l.uid?c=await Wu(go):l.gameId?c=await Wu(go,"gameId",l.gameId):l.uid&&(c=await Wu(go,"uid",l.uid)),c},addGameMember:async(l,c)=>{if(!e)return;console.log("Adding game member",l.id,c.uid);const m={uid:c.uid,gameId:l.id,displayName:c.displayName||"",gameName:l.name};return!!await Zw(go,m,e,l.id)},removeGameMember:async(l,c)=>{e&&await Jw(go,l,c)}}},fM=()=>{const t=hr(),{magicItems:e,loading:n}=sS(),{favoriteItemIds:s}=Xg(),{fetchGameMembers:o}=oh(),[l,c]=N.useState([]),[m,d]=N.useState(!0),g=N.useMemo(()=>e.filter(y=>s.includes(y.id)),[e,s]);return N.useEffect(()=>{(async()=>{if(!t)return;const v=await o({uid:t.uid});c(v),d(!1)})()},[]),t?n?E.jsx("div",{children:E.jsx("span",{children:"Loading..."})}):E.jsxs("div",{children:[E.jsx("h1",{children:"Player Page"}),E.jsxs("div",{className:"flex flex-row justify-start items-start w-full",children:[E.jsxs("div",{className:"flex flex-col w-[50%]",children:[E.jsx("div",{children:"List of campaigns"}),E.jsxs("div",{className:"w-[400px]",children:[m&&E.jsx("div",{children:"Loading..."}),c.length===0&&E.jsx("div",{children:"No games"}),l.map(y=>E.jsxs("div",{className:"flex flex-row justify-between items-center w-full p-2 bg-white rounded-md drop-shadow-md my-2",children:[E.jsx("span",{children:y.gameName}),E.jsx("button",{className:"bg-red-600 text-white p-2",children:E.jsx(Ac,{})})]},y.id))]})]}),E.jsxs("div",{className:"flex flex-col w-[50%]",children:[E.jsxs("div",{children:[E.jsx("h2",{children:"Favourited Items"}),g.length===0&&E.jsx("div",{children:"No favourited items"})]}),E.jsx("div",{className:"w-[400px]",children:g.map(y=>E.jsx(Kw,{item:y,getModalItem:()=>y},y.id))})]})]})]}):E.jsx("div",{children:E.jsx("span",{children:"Fetching User"})})},dM=t=>{const e=hr(),[n,s]=N.useState(!1),[o,l]=N.useState(t.game.name),[c,m]=N.useState(!1),[d,g]=N.useState(t.game.members),{addGameMember:y,removeGameMember:v}=oh(),T=async P=>{if(P.preventDefault(),m(!0),o==t.game.name)return m(!1),!1;if(o==="")return console.log("No Changes"),m(!1),!0;await t.editAction({...t.game,name:o})&&s(!1),m(!1)},R=async P=>(P.preventDefault(),await y(t.game,e)?(g(K=>[...K,{uid:e.uid,displayName:e.displayName||"",id:e.uid+"-"+t.game.id,gameId:t.game.id,name:t.game.name}]),!0):(alert("Error joining game"),!1)),V=async P=>(P.preventDefault(),v(e.uid,t.game.id),g(x=>x.filter(K=>K.uid!==e.uid)),!0);return!e||!e.uid?E.jsx("div",{children:"No User..."}):c?E.jsx("div",{className:"flex flex-col justify-start items-center w-full min-w-[200px] p-4 bg-white rounded-md drop-shadow-md mt-2 space-y-2",children:E.jsx("div",{className:"w-full text-center text-gray-500",children:"Loading..."})}):(console.log("Game Members",d),E.jsx(ir.Provider,{value:{size:"18px"},children:E.jsxs("div",{className:"flex flex-col justify-start items-start p-4 bg-white rounded-md drop-shadow-md mt-2",children:[E.jsx("div",{className:"w-full text-end text-xs text-gray-500",children:t.game.id}),n?E.jsxs("form",{className:"flex flex-row justify-between items-center w-full mb-2",onSubmit:T,children:[E.jsx("input",{className:"w-full bg-gray-100 my-1 p-1 rounded-sm",type:"text",placeholder:"Game Name",name:"title",defaultValue:t.game.name,onChange:P=>l(P.target.value)}),E.jsx("button",{className:"p-2 bg-green-400 hover:bg-green-800 text-white ml-1 rounded-sm",type:"submit",children:E.jsx(Wg,{})})]}):E.jsx("div",{className:"text-lg mb-2",children:t.game.name}),d.length!==0&&E.jsx("div",{className:"text-sm text-gray-400",children:"Members:"}),d.map(P=>E.jsxs("div",{className:"flex flex-row justify-between items-center w-full",children:[E.jsx("div",{className:"text-sm text-gray-400 pl-2",children:P.displayName}),n&&E.jsx("button",{className:"bg-red-400 text-white p-2 ml-2 rounded-sm cursor-pointer",onClick:x=>V(x),children:E.jsx(Ac,{})})]},P.id)),E.jsxs("div",{className:"flex flex-row justify-end items-center w-full",children:[!n&&(d.some(P=>P.uid===e.uid)?E.jsx("button",{className:"bg-red-400 text-white p-2 ml-2 rounded-sm cursor-pointer",onClick:P=>V(P),children:E.jsx(rS,{})}):E.jsx("button",{className:"bg-blue-400 text-white p-2 ml-2 rounded-sm cursor-pointer",onClick:P=>R(P),children:E.jsx(iS,{})})),E.jsx("button",{className:"bg-blue-400 text-white p-2 ml-2 rounded-sm cursor-pointer",onClick:()=>s(P=>!P),children:n?E.jsx(ah,{}):E.jsx($g,{})}),E.jsx("button",{className:"bg-red-400 text-white p-2 ml-2 rounded-sm cursor-pointer",onClick:()=>t.deleteAction(t.game.id),children:E.jsx(Ac,{})})]})]},t.game.id)}))},qu="games",mM=()=>{const t=hr(),[e,n]=N.useState([]),[s,o]=N.useState(!0),{fetchGameMembers:l}=oh(),c=t==null?void 0:t.uid,m=N.useCallback(async()=>{if(!c)return;o(!0);const v=await Yw(qu);for(const T of v){const R=await l({gameId:T.id});T.members=R}n(v),o(!1)},[]),d=async v=>{const T=await $w({name:v.name},qu);return T?(n(R=>[...R,T]),T):(alert("Error adding game"),null)},g=async v=>{n(R=>R.filter(V=>V.id!==v));const T=await Xw(v,qu);return T||alert("Error deleting game"),!!T},y=async v=>await Ww(v,v.id,qu)?(n(R=>R.map(V=>V.id===v.id?{...V,...v}:V)),!0):(alert("Error updating game"),!1);return N.useEffect(()=>{m()},[m]),{games:e,gamesLoading:s,addGame:d,refreshGames:m,deleteGame:g,editGame:y}},gM=()=>{const t=hr(),[e,n]=N.useState(""),[s,o]=N.useState(!1),{games:l,gamesLoading:c,addGame:m,deleteGame:d,editGame:g}=mM(),y=async T=>{if(T.preventDefault(),e===""){alert("Please enter a game name");return}await m({name:e})?n(""):alert("Error adding game")},v=async T=>{o(!0),await d(T)||alert("Error deleting game"),o(!1)};return t?c||s?E.jsx("div",{children:"Loading..."}):E.jsx("div",{className:"flex flex-col justify-start items-center w-full min-w-[200px]",children:E.jsxs("div",{className:"w-[330px]",children:[E.jsx("div",{className:"p-4 bg-white drop-shadow-md rounded-md my-2",children:E.jsxs("form",{className:"flex flex-row justify-start items-center",onSubmit:y,children:[E.jsx("input",{className:"w-full bg-gray-100 my-1 p-1 rounded-sm",type:"text",placeholder:"Game Name",name:"title",value:e,onChange:T=>n(T.target.value)}),E.jsx(ir.Provider,{value:{size:"18px"},children:E.jsx("button",{className:"bg-green-600 text-white p-2 ml-1 rounded-sm",type:"submit",children:E.jsx(Wg,{})})})]})}),l.map(T=>E.jsx(dM,{game:T,deleteAction:v,editAction:g},T.id))]})}):E.jsx("div",{children:"Please log in to view this page."})},pM=()=>{const{fetchGameMembers:t}=oh(),[e,n]=N.useState([]),[s,o]=N.useState(""),l=hr();return N.useEffect(()=>{(async()=>{const m=await t({uid:l.uid});console.log("Game Members",m),n(m)})()},[]),E.jsxs("div",{children:[E.jsx("div",{children:E.jsx("select",{onChange:c=>o(c.target.value),value:s,children:e.map(c=>E.jsx("option",{value:c.gameId,children:c.gameName},c.gameId))})}),E.jsx("h1",{children:"Notes Page"}),s!==""&&E.jsx("h1",{children:s}),E.jsx("p",{children:"This is the notes page."})]})},aS=[{name:"home",path:"/home",element:E.jsx(q4,{})},{name:"Profile",path:"/profile",element:E.jsx(Qw,{})},{name:"Player",path:"/player",element:E.jsx(fM,{})},{name:"Magic items",path:"/magicitems",element:E.jsx(hM,{})},{name:"Games",path:"/games",element:E.jsx(gM,{})},{name:"Notes",path:"/notes",element:E.jsx(pM,{})}],yM=()=>{const{isLoading:t,user:e}=N.useContext(cr);return t?E.jsx("div",{children:"Loading..."}):e?e.displayName?E.jsxs(Rd,{children:[aS.map(n=>E.jsx(qi,{path:n.path,element:n.element},n.name)),E.jsx(qi,{path:"*",element:E.jsx(bd,{replace:!0,to:"/magicitems"})})]}):E.jsxs(Rd,{children:[E.jsx(qi,{path:"/profile",element:E.jsx(Qw,{})}),E.jsx(qi,{path:"*",element:E.jsx(bd,{replace:!0,to:"/profile"})})]}):E.jsxs(Rd,{children:[E.jsx(qi,{path:"/login",element:E.jsx(H4,{})}),E.jsx(qi,{path:"/register",element:E.jsx(F4,{})}),E.jsx(qi,{path:"*",element:E.jsx(bd,{replace:!0,to:"/login"})})]})},_M="/assets/fatrat_logo-CrDK9lAO.png",vM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAAAKklEQVQ4T2NgGGjACHTAf0ocwUSJZpBeig2g1AGU6x8NRMrDkGE0EBkYAOpQAw2SH5GVAAAAAElFTkSuQmCC",EM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAABM0lEQVQ4T8WTv0uCURSGvwrMBKMhJ8c2Rf8EaygIgmxwqanBrc2tIWiWlramNhcHx9YMIgiK5qIQiiaxHAJryHreODdudkmcuvB4zz0/3nP47jWK/mnFXd+JEQeYIn8F8nANfVe/jLE5RExdt63ww+xp1ejnGOS8hWJAKIlvFx4tT50PIK3cRXNKwHGJPW9Cc+xbXuwFW/EMTCpnDHbgNSB0gu8Iul6shp0NTBklcO4FRPzJ9olrovGQgPOlrKtf6Gx1n/2rWNeag1PQhwqJyFcFTfxjxTjpw51boQSeQWM3A2I9fGVfYYPDhZd4g13xEhawrwaE6orrgZSgDe+W8MBegJnBMTmvwR10QC/y6xqX4MmKz9jXYdgzX1WxS7rHfoMWHELDxAIDfLv0X/i1dIUjrU811FzYdVWZZwAAAABJRU5ErkJggg==",Qd="flex flex-row text-black cursor-pointer no-underline hover:text-gray-800 hover:text-shadow-sm p-2",TM=t=>{const e=hr();return E.jsxs("div",{className:"absolute top-0 right-0 min-w-[300px] bg-white flex flex-col items-stretch shadow-lg z-1000 h-screen",children:[E.jsx("div",{onClick:()=>t.setShowUserMenu(!1),children:E.jsx(ir.Provider,{value:{color:"black",size:"20px"},children:E.jsx("div",{className:"p-4 cursor-pointer flex flex-row justify-end",children:E.jsx(ah,{})})})}),E.jsxs("div",{className:"flex flex-col justify-start items-start",children:[E.jsxs("div",{className:"flex flex-row items-end justify-start gap-2 p-2 border-b-1 border-gray-300 w-full",children:[" ",e?e.photoURL&&E.jsx("img",{src:e.photoURL,alt:"user",className:"w-[40px] h-[40px] rounded-sm"}):null,E.jsx("div",{className:"text-gray-700",children:e?e.displayName??"UserName":"No User"})]}),!!t.user&&aS.map(n=>n.name==="home"?null:E.jsx(xo,{className:Qd,to:n.path,onClick:()=>t.setShowUserMenu(!1),children:n.name},n.name)),!!t.user&&E.jsx("div",{className:Qd,children:E.jsx(Gw,{onClickAction:()=>t.setShowUserMenu(!1)})}),!t.user&&E.jsx(xo,{className:Qd,to:"login",onClick:()=>t.setShowUserMenu(!1),children:"Log in"})]})]})},AM=()=>{const t=hr(),[e,n]=N.useState(!1);return E.jsxs("header",{className:"w-full flex items-center justify-between px-5 py-1 bg-white shadow-md",children:[E.jsx(xo,{to:"/home",children:E.jsx("img",{src:_M,alt:"Fat Rat Logo",className:"w-[60px] h-[60px]"})}),E.jsx("div",{className:"flex items-center gap-1",onClick:()=>n(!0),children:E.jsx("div",{className:"flex items-center cursor-pointer ml-3",children:E.jsx("img",{src:e?EM:vM,alt:"burger_menu"})})}),e&&E.jsx(TM,{user:t,showUserMenu:e,setShowUserMenu:n})]})};function wM(){return E.jsxs(UR,{children:[E.jsx("div",{id:"modal"}),E.jsx("div",{className:"w-full h-screen",children:E.jsxs(B4,{children:[E.jsx(AM,{}),E.jsx(yM,{})]})})]})}zb.createRoot(document.getElementById("root")).render(E.jsx(oi.StrictMode,{children:E.jsx(wM,{})}));
