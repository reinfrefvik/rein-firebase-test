function DR(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function TE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fd={exports:{}},lo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function NR(){if(Nv)return lo;Nv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var m in o)m!=="key"&&(l[m]=o[m])}else l=o;return o=l.ref,{$$typeof:t,type:s,key:c,ref:o!==void 0?o:null,props:l}}return lo.Fragment=e,lo.jsx=n,lo.jsxs=n,lo}var Ov;function OR(){return Ov||(Ov=1,fd.exports=NR()),fd.exports}var T=OR(),dd={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function xR(){if(xv)return fe;xv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function E(w){return w===null||typeof w!="object"?null:(w=v&&w[v]||w["@@iterator"],typeof w=="function"?w:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,k={};function M(w,z,te){this.props=w,this.context=z,this.refs=k,this.updater=te||S}M.prototype.isReactComponent={},M.prototype.setState=function(w,z){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,z,"setState")},M.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function Y(){}Y.prototype=M.prototype;function J(w,z,te){this.props=w,this.context=z,this.refs=k,this.updater=te||S}var ne=J.prototype=new Y;ne.constructor=J,x(ne,M.prototype),ne.isPureReactComponent=!0;var be=Array.isArray,re={H:null,A:null,T:null,S:null},Le=Object.prototype.hasOwnProperty;function At(w,z,te,Z,F,Te){return te=Te.ref,{$$typeof:t,type:w,key:z,ref:te!==void 0?te:null,props:Te}}function mn(w,z){return At(w.type,z,void 0,void 0,void 0,w.props)}function $(w){return typeof w=="object"&&w!==null&&w.$$typeof===t}function ye(w){var z={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(te){return z[te]})}var Zt=/\/+/g;function jn(w,z){return typeof w=="object"&&w!==null&&w.key!=null?ye(""+w.key):z.toString(36)}function An(){}function zn(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(An,An):(w.status="pending",w.then(function(z){w.status==="pending"&&(w.status="fulfilled",w.value=z)},function(z){w.status==="pending"&&(w.status="rejected",w.reason=z)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function Lt(w,z,te,Z,F){var Te=typeof w;(Te==="undefined"||Te==="boolean")&&(w=null);var de=!1;if(w===null)de=!0;else switch(Te){case"bigint":case"string":case"number":de=!0;break;case"object":switch(w.$$typeof){case t:case e:de=!0;break;case y:return de=w._init,Lt(de(w._payload),z,te,Z,F)}}if(de)return F=F(w),de=Z===""?"."+jn(w,0):Z,be(F)?(te="",de!=null&&(te=de.replace(Zt,"$&/")+"/"),Lt(F,z,te,"",function($e){return $e})):F!=null&&($(F)&&(F=mn(F,te+(F.key==null||w&&w.key===F.key?"":(""+F.key).replace(Zt,"$&/")+"/")+de)),z.push(F)),1;de=0;var xt=Z===""?".":Z+":";if(be(w))for(var Ce=0;Ce<w.length;Ce++)Z=w[Ce],Te=xt+jn(Z,Ce),de+=Lt(Z,z,te,Te,F);else if(Ce=E(w),typeof Ce=="function")for(w=Ce.call(w),Ce=0;!(Z=w.next()).done;)Z=Z.value,Te=xt+jn(Z,Ce++),de+=Lt(Z,z,te,Te,F);else if(Te==="object"){if(typeof w.then=="function")return Lt(zn(w),z,te,Z,F);throw z=String(w),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return de}function q(w,z,te){if(w==null)return w;var Z=[],F=0;return Lt(w,Z,"","",function(Te){return z.call(te,Te,F++)}),Z}function ce(w){if(w._status===-1){var z=w._result;z=z(),z.then(function(te){(w._status===0||w._status===-1)&&(w._status=1,w._result=te)},function(te){(w._status===0||w._status===-1)&&(w._status=2,w._result=te)}),w._status===-1&&(w._status=0,w._result=z)}if(w._status===1)return w._result.default;throw w._result}var ie=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function Me(){}return fe.Children={map:q,forEach:function(w,z,te){q(w,function(){z.apply(this,arguments)},te)},count:function(w){var z=0;return q(w,function(){z++}),z},toArray:function(w){return q(w,function(z){return z})||[]},only:function(w){if(!$(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},fe.Component=M,fe.Fragment=n,fe.Profiler=o,fe.PureComponent=J,fe.StrictMode=s,fe.Suspense=d,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,fe.act=function(){throw Error("act(...) is not supported in production builds of React.")},fe.cache=function(w){return function(){return w.apply(null,arguments)}},fe.cloneElement=function(w,z,te){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var Z=x({},w.props),F=w.key,Te=void 0;if(z!=null)for(de in z.ref!==void 0&&(Te=void 0),z.key!==void 0&&(F=""+z.key),z)!Le.call(z,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&z.ref===void 0||(Z[de]=z[de]);var de=arguments.length-2;if(de===1)Z.children=te;else if(1<de){for(var xt=Array(de),Ce=0;Ce<de;Ce++)xt[Ce]=arguments[Ce+2];Z.children=xt}return At(w.type,F,void 0,void 0,Te,Z)},fe.createContext=function(w){return w={$$typeof:c,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:l,_context:w},w},fe.createElement=function(w,z,te){var Z,F={},Te=null;if(z!=null)for(Z in z.key!==void 0&&(Te=""+z.key),z)Le.call(z,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(F[Z]=z[Z]);var de=arguments.length-2;if(de===1)F.children=te;else if(1<de){for(var xt=Array(de),Ce=0;Ce<de;Ce++)xt[Ce]=arguments[Ce+2];F.children=xt}if(w&&w.defaultProps)for(Z in de=w.defaultProps,de)F[Z]===void 0&&(F[Z]=de[Z]);return At(w,Te,void 0,void 0,null,F)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(w){return{$$typeof:m,render:w}},fe.isValidElement=$,fe.lazy=function(w){return{$$typeof:y,_payload:{_status:-1,_result:w},_init:ce}},fe.memo=function(w,z){return{$$typeof:g,type:w,compare:z===void 0?null:z}},fe.startTransition=function(w){var z=re.T,te={};re.T=te;try{var Z=w(),F=re.S;F!==null&&F(te,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Me,ie)}catch(Te){ie(Te)}finally{re.T=z}},fe.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},fe.use=function(w){return re.H.use(w)},fe.useActionState=function(w,z,te){return re.H.useActionState(w,z,te)},fe.useCallback=function(w,z){return re.H.useCallback(w,z)},fe.useContext=function(w){return re.H.useContext(w)},fe.useDebugValue=function(){},fe.useDeferredValue=function(w,z){return re.H.useDeferredValue(w,z)},fe.useEffect=function(w,z){return re.H.useEffect(w,z)},fe.useId=function(){return re.H.useId()},fe.useImperativeHandle=function(w,z,te){return re.H.useImperativeHandle(w,z,te)},fe.useInsertionEffect=function(w,z){return re.H.useInsertionEffect(w,z)},fe.useLayoutEffect=function(w,z){return re.H.useLayoutEffect(w,z)},fe.useMemo=function(w,z){return re.H.useMemo(w,z)},fe.useOptimistic=function(w,z){return re.H.useOptimistic(w,z)},fe.useReducer=function(w,z,te){return re.H.useReducer(w,z,te)},fe.useRef=function(w){return re.H.useRef(w)},fe.useState=function(w){return re.H.useState(w)},fe.useSyncExternalStore=function(w,z,te){return re.H.useSyncExternalStore(w,z,te)},fe.useTransition=function(){return re.H.useTransition()},fe.version="19.0.0",fe}var Mv;function bm(){return Mv||(Mv=1,dd.exports=xR()),dd.exports}var N=bm();const oi=TE(N),MR=DR({__proto__:null,default:oi},[N]);var md={exports:{}},uo={},gd={exports:{}},pd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function VR(){return Vv||(Vv=1,function(t){function e(q,ce){var ie=q.length;q.push(ce);e:for(;0<ie;){var Me=ie-1>>>1,w=q[Me];if(0<o(w,ce))q[Me]=ce,q[ie]=w,ie=Me;else break e}}function n(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var ce=q[0],ie=q.pop();if(ie!==ce){q[0]=ie;e:for(var Me=0,w=q.length,z=w>>>1;Me<z;){var te=2*(Me+1)-1,Z=q[te],F=te+1,Te=q[F];if(0>o(Z,ie))F<w&&0>o(Te,Z)?(q[Me]=Te,q[F]=ie,Me=F):(q[Me]=Z,q[te]=ie,Me=te);else if(F<w&&0>o(Te,ie))q[Me]=Te,q[F]=ie,Me=F;else break e}}return ce}function o(q,ce){var ie=q.sortIndex-ce.sortIndex;return ie!==0?ie:q.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,m=c.now();t.unstable_now=function(){return c.now()-m}}var d=[],g=[],y=1,v=null,E=3,S=!1,x=!1,k=!1,M=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ne(q){for(var ce=n(g);ce!==null;){if(ce.callback===null)s(g);else if(ce.startTime<=q)s(g),ce.sortIndex=ce.expirationTime,e(d,ce);else break;ce=n(g)}}function be(q){if(k=!1,ne(q),!x)if(n(d)!==null)x=!0,zn();else{var ce=n(g);ce!==null&&Lt(be,ce.startTime-q)}}var re=!1,Le=-1,At=5,mn=-1;function $(){return!(t.unstable_now()-mn<At)}function ye(){if(re){var q=t.unstable_now();mn=q;var ce=!0;try{e:{x=!1,k&&(k=!1,Y(Le),Le=-1),S=!0;var ie=E;try{t:{for(ne(q),v=n(d);v!==null&&!(v.expirationTime>q&&$());){var Me=v.callback;if(typeof Me=="function"){v.callback=null,E=v.priorityLevel;var w=Me(v.expirationTime<=q);if(q=t.unstable_now(),typeof w=="function"){v.callback=w,ne(q),ce=!0;break t}v===n(d)&&s(d),ne(q)}else s(d);v=n(d)}if(v!==null)ce=!0;else{var z=n(g);z!==null&&Lt(be,z.startTime-q),ce=!1}}break e}finally{v=null,E=ie,S=!1}ce=void 0}}finally{ce?Zt():re=!1}}}var Zt;if(typeof J=="function")Zt=function(){J(ye)};else if(typeof MessageChannel<"u"){var jn=new MessageChannel,An=jn.port2;jn.port1.onmessage=ye,Zt=function(){An.postMessage(null)}}else Zt=function(){M(ye,0)};function zn(){re||(re=!0,Zt())}function Lt(q,ce){Le=M(function(){q(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){x||S||(x=!0,zn())},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):At=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(q){switch(E){case 1:case 2:case 3:var ce=3;break;default:ce=E}var ie=E;E=ce;try{return q()}finally{E=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,ce){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ie=E;E=q;try{return ce()}finally{E=ie}},t.unstable_scheduleCallback=function(q,ce,ie){var Me=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Me+ie:Me):ie=Me,q){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=ie+w,q={id:y++,callback:ce,priorityLevel:q,startTime:ie,expirationTime:w,sortIndex:-1},ie>Me?(q.sortIndex=ie,e(g,q),n(d)===null&&q===n(g)&&(k?(Y(Le),Le=-1):k=!0,Lt(be,ie-Me))):(q.sortIndex=w,e(d,q),x||S||(x=!0,zn())),q},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(q){var ce=E;return function(){var ie=E;E=ce;try{return q.apply(this,arguments)}finally{E=ie}}}}(pd)),pd}var Pv;function PR(){return Pv||(Pv=1,gd.exports=VR()),gd.exports}var yd={exports:{}},Rt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function UR(){if(Uv)return Rt;Uv=1;var t=bm();function e(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(d,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:d,containerInfo:g,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Rt.createPortal=function(d,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(d,g,null,y)},Rt.flushSync=function(d){var g=c.T,y=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=g,s.p=y,s.d.f()}},Rt.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(d,g))},Rt.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Rt.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var y=g.as,v=m(y,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:S}):y==="script"&&s.d.X(d,{crossOrigin:v,integrity:E,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Rt.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=m(g.as,g.crossOrigin);s.d.M(d,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(d)},Rt.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=m(y,g.crossOrigin);s.d.L(d,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Rt.preloadModule=function(d,g){if(typeof d=="string")if(g){var y=m(g.as,g.crossOrigin);s.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(d)},Rt.requestFormReset=function(d){s.d.r(d)},Rt.unstable_batchedUpdates=function(d,g){return d(g)},Rt.useFormState=function(d,g,y){return c.H.useFormState(d,g,y)},Rt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Rt.version="19.0.0",Rt}var Lv;function AE(){if(Lv)return yd.exports;Lv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yd.exports=UR(),yd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function LR(){if(kv)return uo;kv=1;var t=PR(),e=bm(),n=AE();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),S=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),be=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function Le(i){return i===null||typeof i!="object"?null:(i=re&&i[re]||i["@@iterator"],typeof i=="function"?i:null)}var At=Symbol.for("react.client.reference");function mn(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===At?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case d:return"Fragment";case m:return"Portal";case y:return"Profiler";case g:return"StrictMode";case k:return"Suspense";case M:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case S:return(i.displayName||"Context")+".Provider";case E:return(i._context.displayName||"Context")+".Consumer";case x:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Y:return r=i.displayName||null,r!==null?r:mn(i.type)||"Memo";case J:r=i._payload,i=i._init;try{return mn(i(r))}catch{}}return null}var $=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye=Object.assign,Zt,jn;function An(i){if(Zt===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Zt=r&&r[1]||"",jn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zt+i+jn}var zn=!1;function Lt(i,r){if(!i||zn)return"";zn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(O){var D=O}Reflect.construct(i,[],L)}else{try{L.call()}catch(O){D=O}i.call(L.prototype)}}else{try{throw Error()}catch(O){D=O}(L=i())&&typeof L.catch=="function"&&L.catch(function(){})}}catch(O){if(O&&D&&typeof O.stack=="string")return[O.stack,D.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=u.DetermineComponentFrameRoot(),p=f[0],_=f[1];if(p&&_){var A=p.split(`
`),b=_.split(`
`);for(h=u=0;u<A.length&&!A[u].includes("DetermineComponentFrameRoot");)u++;for(;h<b.length&&!b[h].includes("DetermineComponentFrameRoot");)h++;if(u===A.length||h===b.length)for(u=A.length-1,h=b.length-1;1<=u&&0<=h&&A[u]!==b[h];)h--;for(;1<=u&&0<=h;u--,h--)if(A[u]!==b[h]){if(u!==1||h!==1)do if(u--,h--,0>h||A[u]!==b[h]){var V=`
`+A[u].replace(" at new "," at ");return i.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",i.displayName)),V}while(1<=u&&0<=h);break}}}finally{zn=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?An(a):""}function q(i){switch(i.tag){case 26:case 27:case 5:return An(i.type);case 16:return An("Lazy");case 13:return An("Suspense");case 19:return An("SuspenseList");case 0:case 15:return i=Lt(i.type,!1),i;case 11:return i=Lt(i.type.render,!1),i;case 1:return i=Lt(i.type,!0),i;default:return""}}function ce(i){try{var r="";do r+=q(i),i=i.return;while(i);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ie(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function Me(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function w(i){if(ie(i)!==i)throw Error(s(188))}function z(i){var r=i.alternate;if(!r){if(r=ie(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,u=r;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(u=h.return,u!==null){a=u;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return w(h),i;if(f===u)return w(h),r;f=f.sibling}throw Error(s(188))}if(a.return!==u.return)a=h,u=f;else{for(var p=!1,_=h.child;_;){if(_===a){p=!0,a=h,u=f;break}if(_===u){p=!0,u=h,a=f;break}_=_.sibling}if(!p){for(_=f.child;_;){if(_===a){p=!0,a=f,u=h;break}if(_===u){p=!0,u=f,a=h;break}_=_.sibling}if(!p)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function te(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=te(i),r!==null)return r;i=i.sibling}return null}var Z=Array.isArray,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},de=[],xt=-1;function Ce(i){return{current:i}}function $e(i){0>xt||(i.current=de[xt],de[xt]=null,xt--)}function ze(i,r){xt++,de[xt]=i.current,i.current=r}var wn=Ce(null),ha=Ce(null),gi=Ce(null),pl=Ce(null);function yl(i,r){switch(ze(gi,r),ze(ha,i),ze(wn,null),i=r.nodeType,i){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?sv(r):0;break;default:if(i=i===8?r.parentNode:r,r=i.tagName,i=i.namespaceURI)i=sv(i),r=av(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}$e(wn),ze(wn,r)}function Zr(){$e(wn),$e(ha),$e(gi)}function nh(i){i.memoizedState!==null&&ze(pl,i);var r=wn.current,a=av(r,i.type);r!==a&&(ze(ha,i),ze(wn,a))}function _l(i){ha.current===i&&($e(wn),$e(ha)),pl.current===i&&($e(pl),io._currentValue=Te)}var ih=Object.prototype.hasOwnProperty,rh=t.unstable_scheduleCallback,sh=t.unstable_cancelCallback,oS=t.unstable_shouldYield,lS=t.unstable_requestPaint,Sn=t.unstable_now,uS=t.unstable_getCurrentPriorityLevel,Yg=t.unstable_ImmediatePriority,Xg=t.unstable_UserBlockingPriority,vl=t.unstable_NormalPriority,cS=t.unstable_LowPriority,$g=t.unstable_IdlePriority,hS=t.log,fS=t.unstable_setDisableYieldValue,fa=null,Ht=null;function dS(i){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(fa,i,void 0,(i.current.flags&128)===128)}catch{}}function pi(i){if(typeof hS=="function"&&fS(i),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(fa,i)}catch{}}var Ft=Math.clz32?Math.clz32:pS,mS=Math.log,gS=Math.LN2;function pS(i){return i>>>=0,i===0?32:31-(mS(i)/gS|0)|0}var El=128,Tl=4194304;function hr(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Al(i,r){var a=i.pendingLanes;if(a===0)return 0;var u=0,h=i.suspendedLanes,f=i.pingedLanes,p=i.warmLanes;i=i.finishedLanes!==0;var _=a&134217727;return _!==0?(a=_&~h,a!==0?u=hr(a):(f&=_,f!==0?u=hr(f):i||(p=_&~p,p!==0&&(u=hr(p))))):(_=a&~h,_!==0?u=hr(_):f!==0?u=hr(f):i||(p=a&~p,p!==0&&(u=hr(p)))),u===0?0:r!==0&&r!==u&&(r&h)===0&&(h=u&-u,p=r&-r,h>=p||h===32&&(p&4194176)!==0)?r:u}function da(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function yS(i,r){switch(i){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wg(){var i=El;return El<<=1,(El&4194176)===0&&(El=128),i}function Zg(){var i=Tl;return Tl<<=1,(Tl&62914560)===0&&(Tl=4194304),i}function ah(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function ma(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function _S(i,r,a,u,h,f){var p=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var _=i.entanglements,A=i.expirationTimes,b=i.hiddenUpdates;for(a=p&~a;0<a;){var V=31-Ft(a),L=1<<V;_[V]=0,A[V]=-1;var D=b[V];if(D!==null)for(b[V]=null,V=0;V<D.length;V++){var O=D[V];O!==null&&(O.lane&=-536870913)}a&=~L}u!==0&&Jg(i,u,0),f!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=f&~(p&~r))}function Jg(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Ft(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|a&4194218}function ep(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var u=31-Ft(a),h=1<<u;h&r|i[u]&r&&(i[u]|=r),a&=~h}}function tp(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function np(){var i=F.p;return i!==0?i:(i=window.event,i===void 0?32:Sv(i.type))}function vS(i,r){var a=F.p;try{return F.p=i,r()}finally{F.p=a}}var yi=Math.random().toString(36).slice(2),wt="__reactFiber$"+yi,kt="__reactProps$"+yi,Jr="__reactContainer$"+yi,oh="__reactEvents$"+yi,ES="__reactListeners$"+yi,TS="__reactHandles$"+yi,ip="__reactResources$"+yi,ga="__reactMarker$"+yi;function lh(i){delete i[wt],delete i[kt],delete i[oh],delete i[ES],delete i[TS]}function fr(i){var r=i[wt];if(r)return r;for(var a=i.parentNode;a;){if(r=a[Jr]||a[wt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=uv(i);i!==null;){if(a=i[wt])return a;i=uv(i)}return r}i=a,a=i.parentNode}return null}function es(i){if(i=i[wt]||i[Jr]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function pa(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ts(i){var r=i[ip];return r||(r=i[ip]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function at(i){i[ga]=!0}var rp=new Set,sp={};function dr(i,r){ns(i,r),ns(i+"Capture",r)}function ns(i,r){for(sp[i]=r,i=0;i<r.length;i++)rp.add(r[i])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),AS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ap={},op={};function wS(i){return ih.call(op,i)?!0:ih.call(ap,i)?!1:AS.test(i)?op[i]=!0:(ap[i]=!0,!1)}function wl(i,r,a){if(wS(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function Sl(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function qn(i,r,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+u)}}function Jt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function lp(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function SS(i){var r=lp(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return h.call(this)},set:function(p){u=""+p,f.call(this,p)}}),Object.defineProperty(i,r,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(p){u=""+p},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Rl(i){i._valueTracker||(i._valueTracker=SS(i))}function up(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return i&&(u=lp(i)?i.checked?"true":"false":i.value),i=u,i!==a?(r.setValue(i),!0):!1}function bl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var RS=/[\n"\\]/g;function en(i){return i.replace(RS,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function uh(i,r,a,u,h,f,p,_){i.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?i.type=p:i.removeAttribute("type"),r!=null?p==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Jt(r)):i.value!==""+Jt(r)&&(i.value=""+Jt(r)):p!=="submit"&&p!=="reset"||i.removeAttribute("value"),r!=null?ch(i,p,Jt(r)):a!=null?ch(i,p,Jt(a)):u!=null&&i.removeAttribute("value"),h==null&&f!=null&&(i.defaultChecked=!!f),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.name=""+Jt(_):i.removeAttribute("name")}function cp(i,r,a,u,h,f,p,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(i.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null))return;a=a!=null?""+Jt(a):"",r=r!=null?""+Jt(r):a,_||r===i.value||(i.value=r),i.defaultValue=r}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=_?i.checked:!!u,i.defaultChecked=!!u,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.name=p)}function ch(i,r,a){r==="number"&&bl(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function is(i,r,a,u){if(i=i.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<i.length;a++)h=r.hasOwnProperty("$"+i[a].value),i[a].selected!==h&&(i[a].selected=h),h&&u&&(i[a].defaultSelected=!0)}else{for(a=""+Jt(a),r=null,h=0;h<i.length;h++){if(i[h].value===a){i[h].selected=!0,u&&(i[h].defaultSelected=!0);return}r!==null||i[h].disabled||(r=i[h])}r!==null&&(r.selected=!0)}}function hp(i,r,a){if(r!=null&&(r=""+Jt(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+Jt(a):""}function fp(i,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(Z(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=Jt(r),i.defaultValue=a,u=i.textContent,u===a&&u!==""&&u!==null&&(i.value=u)}function rs(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var bS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dp(i,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,a):typeof a!="number"||a===0||bS.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function mp(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var h in r)u=r[h],r.hasOwnProperty(h)&&a[h]!==u&&dp(i,h,u)}else for(var f in r)r.hasOwnProperty(f)&&dp(i,f,r[f])}function hh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var IS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),CS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Il(i){return CS.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var fh=null;function dh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ss=null,as=null;function gp(i){var r=es(i);if(r&&(i=r.stateNode)){var a=i[kt]||null;e:switch(i=r.stateNode,r.type){case"input":if(uh(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+en(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==i&&u.form===i.form){var h=u[kt]||null;if(!h)throw Error(s(90));uh(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===i.form&&up(u)}break e;case"textarea":hp(i,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&is(i,!!a.multiple,r,!1)}}}var mh=!1;function pp(i,r,a){if(mh)return i(r,a);mh=!0;try{var u=i(r);return u}finally{if(mh=!1,(ss!==null||as!==null)&&(cu(),ss&&(r=ss,i=as,as=ss=null,gp(r),i)))for(r=0;r<i.length;r++)gp(i[r])}}function ya(i,r){var a=i.stateNode;if(a===null)return null;var u=a[kt]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var gh=!1;if(Bn)try{var _a={};Object.defineProperty(_a,"passive",{get:function(){gh=!0}}),window.addEventListener("test",_a,_a),window.removeEventListener("test",_a,_a)}catch{gh=!1}var _i=null,ph=null,Cl=null;function yp(){if(Cl)return Cl;var i,r=ph,a=r.length,u,h="value"in _i?_i.value:_i.textContent,f=h.length;for(i=0;i<a&&r[i]===h[i];i++);var p=a-i;for(u=1;u<=p&&r[a-u]===h[f-u];u++);return Cl=h.slice(i,1<u?1-u:void 0)}function Dl(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Nl(){return!0}function _p(){return!1}function jt(i){function r(a,u,h,f,p){this._reactName=a,this._targetInst=h,this.type=u,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var _ in i)i.hasOwnProperty(_)&&(a=i[_],this[_]=a?a(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Nl:_p,this.isPropagationStopped=_p,this}return ye(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Nl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Nl)},persist:function(){},isPersistent:Nl}),r}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=jt(mr),va=ye({},mr,{view:0,detail:0}),DS=jt(va),yh,_h,Ea,xl=ye({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ea&&(Ea&&i.type==="mousemove"?(yh=i.screenX-Ea.screenX,_h=i.screenY-Ea.screenY):_h=yh=0,Ea=i),yh)},movementY:function(i){return"movementY"in i?i.movementY:_h}}),vp=jt(xl),NS=ye({},xl,{dataTransfer:0}),OS=jt(NS),xS=ye({},va,{relatedTarget:0}),vh=jt(xS),MS=ye({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),VS=jt(MS),PS=ye({},mr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),US=jt(PS),LS=ye({},mr,{data:0}),Ep=jt(LS),kS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BS(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=zS[i])?!!r[i]:!1}function Eh(){return BS}var qS=ye({},va,{key:function(i){if(i.key){var r=kS[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Dl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?jS[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eh,charCode:function(i){return i.type==="keypress"?Dl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Dl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),HS=jt(qS),FS=ye({},xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tp=jt(FS),GS=ye({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eh}),QS=jt(GS),KS=ye({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),YS=jt(KS),XS=ye({},xl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$S=jt(XS),WS=ye({},mr,{newState:0,oldState:0}),ZS=jt(WS),JS=[9,13,27,32],Th=Bn&&"CompositionEvent"in window,Ta=null;Bn&&"documentMode"in document&&(Ta=document.documentMode);var e1=Bn&&"TextEvent"in window&&!Ta,Ap=Bn&&(!Th||Ta&&8<Ta&&11>=Ta),wp=" ",Sp=!1;function Rp(i,r){switch(i){case"keyup":return JS.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bp(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var os=!1;function t1(i,r){switch(i){case"compositionend":return bp(r);case"keypress":return r.which!==32?null:(Sp=!0,wp);case"textInput":return i=r.data,i===wp&&Sp?null:i;default:return null}}function n1(i,r){if(os)return i==="compositionend"||!Th&&Rp(i,r)?(i=yp(),Cl=ph=_i=null,os=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ap&&r.locale!=="ko"?null:r.data;default:return null}}var i1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ip(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!i1[i.type]:r==="textarea"}function Cp(i,r,a,u){ss?as?as.push(u):as=[u]:ss=u,r=gu(r,"onChange"),0<r.length&&(a=new Ol("onChange","change",null,a,u),i.push({event:a,listeners:r}))}var Aa=null,wa=null;function r1(i){ev(i,0)}function Ml(i){var r=pa(i);if(up(r))return i}function Dp(i,r){if(i==="change")return r}var Np=!1;if(Bn){var Ah;if(Bn){var wh="oninput"in document;if(!wh){var Op=document.createElement("div");Op.setAttribute("oninput","return;"),wh=typeof Op.oninput=="function"}Ah=wh}else Ah=!1;Np=Ah&&(!document.documentMode||9<document.documentMode)}function xp(){Aa&&(Aa.detachEvent("onpropertychange",Mp),wa=Aa=null)}function Mp(i){if(i.propertyName==="value"&&Ml(wa)){var r=[];Cp(r,wa,i,dh(i)),pp(r1,r)}}function s1(i,r,a){i==="focusin"?(xp(),Aa=r,wa=a,Aa.attachEvent("onpropertychange",Mp)):i==="focusout"&&xp()}function a1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ml(wa)}function o1(i,r){if(i==="click")return Ml(r)}function l1(i,r){if(i==="input"||i==="change")return Ml(r)}function u1(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Gt=typeof Object.is=="function"?Object.is:u1;function Sa(i,r){if(Gt(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var h=a[u];if(!ih.call(r,h)||!Gt(i[h],r[h]))return!1}return!0}function Vp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Pp(i,r){var a=Vp(i);i=0;for(var u;a;){if(a.nodeType===3){if(u=i+a.textContent.length,i<=r&&u>=r)return{node:a,offset:r-i};i=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Vp(a)}}function Up(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Up(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Lp(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=bl(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=bl(i.document)}return r}function Sh(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}function c1(i,r){var a=Lp(r);r=i.focusedElem;var u=i.selectionRange;if(a!==r&&r&&r.ownerDocument&&Up(r.ownerDocument.documentElement,r)){if(u!==null&&Sh(r)){if(i=u.start,a=u.end,a===void 0&&(a=i),"selectionStart"in r)r.selectionStart=i,r.selectionEnd=Math.min(a,r.value.length);else if(a=(i=r.ownerDocument||document)&&i.defaultView||window,a.getSelection){a=a.getSelection();var h=r.textContent.length,f=Math.min(u.start,h);u=u.end===void 0?f:Math.min(u.end,h),!a.extend&&f>u&&(h=u,u=f,f=h),h=Pp(r,f);var p=Pp(r,u);h&&p&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==p.node||a.focusOffset!==p.offset)&&(i=i.createRange(),i.setStart(h.node,h.offset),a.removeAllRanges(),f>u?(a.addRange(i),a.extend(p.node,p.offset)):(i.setEnd(p.node,p.offset),a.addRange(i)))}}for(i=[],a=r;a=a.parentNode;)a.nodeType===1&&i.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<i.length;r++)a=i[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var h1=Bn&&"documentMode"in document&&11>=document.documentMode,ls=null,Rh=null,Ra=null,bh=!1;function kp(i,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bh||ls==null||ls!==bl(u)||(u=ls,"selectionStart"in u&&Sh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ra&&Sa(Ra,u)||(Ra=u,u=gu(Rh,"onSelect"),0<u.length&&(r=new Ol("onSelect","select",null,r,a),i.push({event:r,listeners:u}),r.target=ls)))}function gr(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var us={animationend:gr("Animation","AnimationEnd"),animationiteration:gr("Animation","AnimationIteration"),animationstart:gr("Animation","AnimationStart"),transitionrun:gr("Transition","TransitionRun"),transitionstart:gr("Transition","TransitionStart"),transitioncancel:gr("Transition","TransitionCancel"),transitionend:gr("Transition","TransitionEnd")},Ih={},jp={};Bn&&(jp=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function pr(i){if(Ih[i])return Ih[i];if(!us[i])return i;var r=us[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in jp)return Ih[i]=r[a];return i}var zp=pr("animationend"),Bp=pr("animationiteration"),qp=pr("animationstart"),f1=pr("transitionrun"),d1=pr("transitionstart"),m1=pr("transitioncancel"),Hp=pr("transitionend"),Fp=new Map,Gp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function gn(i,r){Fp.set(i,r),dr(r,[i])}var tn=[],cs=0,Ch=0;function Vl(){for(var i=cs,r=Ch=cs=0;r<i;){var a=tn[r];tn[r++]=null;var u=tn[r];tn[r++]=null;var h=tn[r];tn[r++]=null;var f=tn[r];if(tn[r++]=null,u!==null&&h!==null){var p=u.pending;p===null?h.next=h:(h.next=p.next,p.next=h),u.pending=h}f!==0&&Qp(a,h,f)}}function Pl(i,r,a,u){tn[cs++]=i,tn[cs++]=r,tn[cs++]=a,tn[cs++]=u,Ch|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Dh(i,r,a,u){return Pl(i,r,a,u),Ul(i)}function vi(i,r){return Pl(i,null,null,r),Ul(i)}function Qp(i,r,a){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a);for(var h=!1,f=i.return;f!==null;)f.childLanes|=a,u=f.alternate,u!==null&&(u.childLanes|=a),f.tag===22&&(i=f.stateNode,i===null||i._visibility&1||(h=!0)),i=f,f=f.return;h&&r!==null&&i.tag===3&&(f=i.stateNode,h=31-Ft(a),f=f.hiddenUpdates,i=f[h],i===null?f[h]=[r]:i.push(r),r.lane=a|536870912)}function Ul(i){if(50<$a)throw $a=0,Uf=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var hs={},Kp=new WeakMap;function nn(i,r){if(typeof i=="object"&&i!==null){var a=Kp.get(i);return a!==void 0?a:(r={value:i,source:r,stack:ce(r)},Kp.set(i,r),r)}return{value:i,source:r,stack:ce(r)}}var fs=[],ds=0,Ll=null,kl=0,rn=[],sn=0,yr=null,Hn=1,Fn="";function _r(i,r){fs[ds++]=kl,fs[ds++]=Ll,Ll=i,kl=r}function Yp(i,r,a){rn[sn++]=Hn,rn[sn++]=Fn,rn[sn++]=yr,yr=i;var u=Hn;i=Fn;var h=32-Ft(u)-1;u&=~(1<<h),a+=1;var f=32-Ft(r)+h;if(30<f){var p=h-h%5;f=(u&(1<<p)-1).toString(32),u>>=p,h-=p,Hn=1<<32-Ft(r)+h|a<<h|u,Fn=f+i}else Hn=1<<f|a<<h|u,Fn=i}function Nh(i){i.return!==null&&(_r(i,1),Yp(i,1,0))}function Oh(i){for(;i===Ll;)Ll=fs[--ds],fs[ds]=null,kl=fs[--ds],fs[ds]=null;for(;i===yr;)yr=rn[--sn],rn[sn]=null,Fn=rn[--sn],rn[sn]=null,Hn=rn[--sn],rn[sn]=null}var Mt=null,mt=null,Se=!1,pn=null,Rn=!1,xh=Error(s(519));function vr(i){var r=Error(s(418,""));throw Ca(nn(r,i)),xh}function Xp(i){var r=i.stateNode,a=i.type,u=i.memoizedProps;switch(r[wt]=i,r[kt]=u,a){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(a=0;a<Za.length;a++)ve(Za[a],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":ve("invalid",r),cp(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Rl(r);break;case"select":ve("invalid",r);break;case"textarea":ve("invalid",r),fp(r,u.value,u.defaultValue,u.children),Rl(r)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||rv(r.textContent,a)?(u.popover!=null&&(ve("beforetoggle",r),ve("toggle",r)),u.onScroll!=null&&ve("scroll",r),u.onScrollEnd!=null&&ve("scrollend",r),u.onClick!=null&&(r.onclick=pu),r=!0):r=!1,r||vr(i)}function $p(i){for(Mt=i.return;Mt;)switch(Mt.tag){case 3:case 27:Rn=!0;return;case 5:case 13:Rn=!1;return;default:Mt=Mt.return}}function ba(i){if(i!==Mt)return!1;if(!Se)return $p(i),Se=!0,!1;var r=!1,a;if((a=i.tag!==3&&i.tag!==27)&&((a=i.tag===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Jf(i.type,i.memoizedProps)),a=!a),a&&(r=!0),r&&mt&&vr(i),$p(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(r===0){mt=_n(i.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;i=i.nextSibling}mt=null}}else mt=Mt?_n(i.stateNode.nextSibling):null;return!0}function Ia(){mt=Mt=null,Se=!1}function Ca(i){pn===null?pn=[i]:pn.push(i)}var Da=Error(s(460)),Wp=Error(s(474)),Mh={then:function(){}};function Zp(i){return i=i.status,i==="fulfilled"||i==="rejected"}function jl(){}function Jp(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(jl,jl),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===Da?Error(s(483)):i;default:if(typeof r.status=="string")r.then(jl,jl);else{if(i=Ve,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=u}},function(u){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===Da?Error(s(483)):i}throw Na=r,Da}}var Na=null;function ey(){if(Na===null)throw Error(s(459));var i=Na;return Na=null,i}var ms=null,Oa=0;function zl(i){var r=Oa;return Oa+=1,ms===null&&(ms=[]),Jp(ms,i,r)}function xa(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Bl(i,r){throw r.$$typeof===l?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function ty(i){var r=i._init;return r(i._payload)}function ny(i){function r(I,R){if(i){var C=I.deletions;C===null?(I.deletions=[R],I.flags|=16):C.push(R)}}function a(I,R){if(!i)return null;for(;R!==null;)r(I,R),R=R.sibling;return null}function u(I){for(var R=new Map;I!==null;)I.key!==null?R.set(I.key,I):R.set(I.index,I),I=I.sibling;return R}function h(I,R){return I=Oi(I,R),I.index=0,I.sibling=null,I}function f(I,R,C){return I.index=C,i?(C=I.alternate,C!==null?(C=C.index,C<R?(I.flags|=33554434,R):C):(I.flags|=33554434,R)):(I.flags|=1048576,R)}function p(I){return i&&I.alternate===null&&(I.flags|=33554434),I}function _(I,R,C,P){return R===null||R.tag!==6?(R=Cf(C,I.mode,P),R.return=I,R):(R=h(R,C),R.return=I,R)}function A(I,R,C,P){var G=C.type;return G===d?V(I,R,C.props.children,P,C.key):R!==null&&(R.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===J&&ty(G)===R.type)?(R=h(R,C.props),xa(R,C),R.return=I,R):(R=su(C.type,C.key,C.props,null,I.mode,P),xa(R,C),R.return=I,R)}function b(I,R,C,P){return R===null||R.tag!==4||R.stateNode.containerInfo!==C.containerInfo||R.stateNode.implementation!==C.implementation?(R=Df(C,I.mode,P),R.return=I,R):(R=h(R,C.children||[]),R.return=I,R)}function V(I,R,C,P,G){return R===null||R.tag!==7?(R=Dr(C,I.mode,P,G),R.return=I,R):(R=h(R,C),R.return=I,R)}function L(I,R,C){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Cf(""+R,I.mode,C),R.return=I,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case c:return C=su(R.type,R.key,R.props,null,I.mode,C),xa(C,R),C.return=I,C;case m:return R=Df(R,I.mode,C),R.return=I,R;case J:var P=R._init;return R=P(R._payload),L(I,R,C)}if(Z(R)||Le(R))return R=Dr(R,I.mode,C,null),R.return=I,R;if(typeof R.then=="function")return L(I,zl(R),C);if(R.$$typeof===S)return L(I,nu(I,R),C);Bl(I,R)}return null}function D(I,R,C,P){var G=R!==null?R.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return G!==null?null:_(I,R,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case c:return C.key===G?A(I,R,C,P):null;case m:return C.key===G?b(I,R,C,P):null;case J:return G=C._init,C=G(C._payload),D(I,R,C,P)}if(Z(C)||Le(C))return G!==null?null:V(I,R,C,P,null);if(typeof C.then=="function")return D(I,R,zl(C),P);if(C.$$typeof===S)return D(I,R,nu(I,C),P);Bl(I,C)}return null}function O(I,R,C,P,G){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return I=I.get(C)||null,_(R,I,""+P,G);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case c:return I=I.get(P.key===null?C:P.key)||null,A(R,I,P,G);case m:return I=I.get(P.key===null?C:P.key)||null,b(R,I,P,G);case J:var ge=P._init;return P=ge(P._payload),O(I,R,C,P,G)}if(Z(P)||Le(P))return I=I.get(C)||null,V(R,I,P,G,null);if(typeof P.then=="function")return O(I,R,C,zl(P),G);if(P.$$typeof===S)return O(I,R,C,nu(R,P),G);Bl(R,P)}return null}function K(I,R,C,P){for(var G=null,ge=null,X=R,ee=R=0,ut=null;X!==null&&ee<C.length;ee++){X.index>ee?(ut=X,X=null):ut=X.sibling;var Re=D(I,X,C[ee],P);if(Re===null){X===null&&(X=ut);break}i&&X&&Re.alternate===null&&r(I,X),R=f(Re,R,ee),ge===null?G=Re:ge.sibling=Re,ge=Re,X=ut}if(ee===C.length)return a(I,X),Se&&_r(I,ee),G;if(X===null){for(;ee<C.length;ee++)X=L(I,C[ee],P),X!==null&&(R=f(X,R,ee),ge===null?G=X:ge.sibling=X,ge=X);return Se&&_r(I,ee),G}for(X=u(X);ee<C.length;ee++)ut=O(X,I,ee,C[ee],P),ut!==null&&(i&&ut.alternate!==null&&X.delete(ut.key===null?ee:ut.key),R=f(ut,R,ee),ge===null?G=ut:ge.sibling=ut,ge=ut);return i&&X.forEach(function(ki){return r(I,ki)}),Se&&_r(I,ee),G}function le(I,R,C,P){if(C==null)throw Error(s(151));for(var G=null,ge=null,X=R,ee=R=0,ut=null,Re=C.next();X!==null&&!Re.done;ee++,Re=C.next()){X.index>ee?(ut=X,X=null):ut=X.sibling;var ki=D(I,X,Re.value,P);if(ki===null){X===null&&(X=ut);break}i&&X&&ki.alternate===null&&r(I,X),R=f(ki,R,ee),ge===null?G=ki:ge.sibling=ki,ge=ki,X=ut}if(Re.done)return a(I,X),Se&&_r(I,ee),G;if(X===null){for(;!Re.done;ee++,Re=C.next())Re=L(I,Re.value,P),Re!==null&&(R=f(Re,R,ee),ge===null?G=Re:ge.sibling=Re,ge=Re);return Se&&_r(I,ee),G}for(X=u(X);!Re.done;ee++,Re=C.next())Re=O(X,I,ee,Re.value,P),Re!==null&&(i&&Re.alternate!==null&&X.delete(Re.key===null?ee:Re.key),R=f(Re,R,ee),ge===null?G=Re:ge.sibling=Re,ge=Re);return i&&X.forEach(function(CR){return r(I,CR)}),Se&&_r(I,ee),G}function Qe(I,R,C,P){if(typeof C=="object"&&C!==null&&C.type===d&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case c:e:{for(var G=C.key;R!==null;){if(R.key===G){if(G=C.type,G===d){if(R.tag===7){a(I,R.sibling),P=h(R,C.props.children),P.return=I,I=P;break e}}else if(R.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===J&&ty(G)===R.type){a(I,R.sibling),P=h(R,C.props),xa(P,C),P.return=I,I=P;break e}a(I,R);break}else r(I,R);R=R.sibling}C.type===d?(P=Dr(C.props.children,I.mode,P,C.key),P.return=I,I=P):(P=su(C.type,C.key,C.props,null,I.mode,P),xa(P,C),P.return=I,I=P)}return p(I);case m:e:{for(G=C.key;R!==null;){if(R.key===G)if(R.tag===4&&R.stateNode.containerInfo===C.containerInfo&&R.stateNode.implementation===C.implementation){a(I,R.sibling),P=h(R,C.children||[]),P.return=I,I=P;break e}else{a(I,R);break}else r(I,R);R=R.sibling}P=Df(C,I.mode,P),P.return=I,I=P}return p(I);case J:return G=C._init,C=G(C._payload),Qe(I,R,C,P)}if(Z(C))return K(I,R,C,P);if(Le(C)){if(G=Le(C),typeof G!="function")throw Error(s(150));return C=G.call(C),le(I,R,C,P)}if(typeof C.then=="function")return Qe(I,R,zl(C),P);if(C.$$typeof===S)return Qe(I,R,nu(I,C),P);Bl(I,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,R!==null&&R.tag===6?(a(I,R.sibling),P=h(R,C),P.return=I,I=P):(a(I,R),P=Cf(C,I.mode,P),P.return=I,I=P),p(I)):a(I,R)}return function(I,R,C,P){try{Oa=0;var G=Qe(I,R,C,P);return ms=null,G}catch(X){if(X===Da)throw X;var ge=un(29,X,null,I.mode);return ge.lanes=P,ge.return=I,ge}finally{}}}var Er=ny(!0),iy=ny(!1),gs=Ce(null),ql=Ce(0);function ry(i,r){i=ti,ze(ql,i),ze(gs,r),ti=i|r.baseLanes}function Vh(){ze(ql,ti),ze(gs,gs.current)}function Ph(){ti=ql.current,$e(gs),$e(ql)}var an=Ce(null),bn=null;function Ei(i){var r=i.alternate;ze(it,it.current&1),ze(an,i),bn===null&&(r===null||gs.current!==null||r.memoizedState!==null)&&(bn=i)}function sy(i){if(i.tag===22){if(ze(it,it.current),ze(an,i),bn===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(bn=i)}}else Ti()}function Ti(){ze(it,it.current),ze(an,an.current)}function Gn(i){$e(an),bn===i&&(bn=null),$e(it)}var it=Ce(0);function Hl(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var g1=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},p1=t.unstable_scheduleCallback,y1=t.unstable_NormalPriority,rt={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uh(){return{controller:new g1,data:new Map,refCount:0}}function Ma(i){i.refCount--,i.refCount===0&&p1(y1,function(){i.controller.abort()})}var Va=null,Lh=0,ps=0,ys=null;function _1(i,r){if(Va===null){var a=Va=[];Lh=0,ps=Ff(),ys={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Lh++,r.then(ay,ay),r}function ay(){if(--Lh===0&&Va!==null){ys!==null&&(ys.status="fulfilled");var i=Va;Va=null,ps=0,ys=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function v1(i,r){var a=[],u={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(u.status="rejected",u.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),u}var oy=$.S;$.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&_1(i,r),oy!==null&&oy(i,r)};var Tr=Ce(null);function kh(){var i=Tr.current;return i!==null?i:Ve.pooledCache}function Fl(i,r){r===null?ze(Tr,Tr.current):ze(Tr,r.pool)}function ly(){var i=kh();return i===null?null:{parent:rt._currentValue,pool:i}}var Ai=0,me=null,Ne=null,We=null,Gl=!1,_s=!1,Ar=!1,Ql=0,Pa=0,vs=null,E1=0;function Ye(){throw Error(s(321))}function jh(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!Gt(i[a],r[a]))return!1;return!0}function zh(i,r,a,u,h,f){return Ai=f,me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=i===null||i.memoizedState===null?wr:wi,Ar=!1,f=a(u,h),Ar=!1,_s&&(f=cy(r,a,u,h)),uy(i),f}function uy(i){$.H=In;var r=Ne!==null&&Ne.next!==null;if(Ai=0,We=Ne=me=null,Gl=!1,Pa=0,vs=null,r)throw Error(s(300));i===null||ot||(i=i.dependencies,i!==null&&tu(i)&&(ot=!0))}function cy(i,r,a,u){me=i;var h=0;do{if(_s&&(vs=null),Pa=0,_s=!1,25<=h)throw Error(s(301));if(h+=1,We=Ne=null,i.updateQueue!=null){var f=i.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}$.H=Sr,f=r(a,u)}while(_s);return f}function T1(){var i=$.H,r=i.useState()[0];return r=typeof r.then=="function"?Ua(r):r,i=i.useState()[0],(Ne!==null?Ne.memoizedState:null)!==i&&(me.flags|=1024),r}function Bh(){var i=Ql!==0;return Ql=0,i}function qh(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function Hh(i){if(Gl){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Gl=!1}Ai=0,We=Ne=me=null,_s=!1,Pa=Ql=0,vs=null}function zt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?me.memoizedState=We=i:We=We.next=i,We}function Ze(){if(Ne===null){var i=me.alternate;i=i!==null?i.memoizedState:null}else i=Ne.next;var r=We===null?me.memoizedState:We.next;if(r!==null)We=r,Ne=i;else{if(i===null)throw me.alternate===null?Error(s(467)):Error(s(310));Ne=i,i={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},We===null?me.memoizedState=We=i:We=We.next=i}return We}var Kl;Kl=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ua(i){var r=Pa;return Pa+=1,vs===null&&(vs=[]),i=Jp(vs,i,r),r=me,(We===null?r.memoizedState:We.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?wr:wi),i}function Yl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ua(i);if(i.$$typeof===S)return St(i)}throw Error(s(438,String(i)))}function Fh(i){var r=null,a=me.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=me.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Kl(),me.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),u=0;u<i;u++)a[u]=be;return r.index++,a}function Qn(i,r){return typeof r=="function"?r(i):r}function Xl(i){var r=Ze();return Gh(r,Ne,i)}function Gh(i,r,a){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var h=i.baseQueue,f=u.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}r.baseQueue=h=f,u.pending=null}if(f=i.baseState,h===null)i.memoizedState=f;else{r=h.next;var _=p=null,A=null,b=r,V=!1;do{var L=b.lane&-536870913;if(L!==b.lane?(Ae&L)===L:(Ai&L)===L){var D=b.revertLane;if(D===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),L===ps&&(V=!0);else if((Ai&D)===D){b=b.next,D===ps&&(V=!0);continue}else L={lane:0,revertLane:b.revertLane,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},A===null?(_=A=L,p=f):A=A.next=L,me.lanes|=D,xi|=D;L=b.action,Ar&&a(f,L),f=b.hasEagerState?b.eagerState:a(f,L)}else D={lane:L,revertLane:b.revertLane,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},A===null?(_=A=D,p=f):A=A.next=D,me.lanes|=L,xi|=L;b=b.next}while(b!==null&&b!==r);if(A===null?p=f:A.next=_,!Gt(f,i.memoizedState)&&(ot=!0,V&&(a=ys,a!==null)))throw a;i.memoizedState=f,i.baseState=p,i.baseQueue=A,u.lastRenderedState=f}return h===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Qh(i){var r=Ze(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var u=a.dispatch,h=a.pending,f=r.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=i(f,p.action),p=p.next;while(p!==h);Gt(f,r.memoizedState)||(ot=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,u]}function hy(i,r,a){var u=me,h=Ze(),f=Se;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var p=!Gt((Ne||h).memoizedState,a);if(p&&(h.memoizedState=a,ot=!0),h=h.queue,Xh(my.bind(null,u,h,i),[i]),h.getSnapshot!==r||p||We!==null&&We.memoizedState.tag&1){if(u.flags|=2048,Es(9,dy.bind(null,u,h,a,r),{destroy:void 0},null),Ve===null)throw Error(s(349));f||(Ai&60)!==0||fy(u,r,a)}return a}function fy(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=me.updateQueue,r===null?(r=Kl(),me.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function dy(i,r,a,u){r.value=a,r.getSnapshot=u,gy(r)&&py(i)}function my(i,r,a){return a(function(){gy(r)&&py(i)})}function gy(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!Gt(i,a)}catch{return!0}}function py(i){var r=vi(i,2);r!==null&&Vt(r,i,2)}function Kh(i){var r=zt();if(typeof i=="function"){var a=i;if(i=a(),Ar){pi(!0);try{a()}finally{pi(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:i},r}function yy(i,r,a,u){return i.baseState=a,Gh(i,Ne,typeof u=="function"?u:Qn)}function A1(i,r,a,u,h){if(Zl(i))throw Error(s(485));if(i=r.action,i!==null){var f={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};$.T!==null?a(!0):f.isTransition=!1,u(f),a=r.pending,a===null?(f.next=r.pending=f,_y(r,f)):(f.next=a.next,r.pending=a.next=f)}}function _y(i,r){var a=r.action,u=r.payload,h=i.state;if(r.isTransition){var f=$.T,p={};$.T=p;try{var _=a(h,u),A=$.S;A!==null&&A(p,_),vy(i,r,_)}catch(b){Yh(i,r,b)}finally{$.T=f}}else try{f=a(h,u),vy(i,r,f)}catch(b){Yh(i,r,b)}}function vy(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Ey(i,r,u)},function(u){return Yh(i,r,u)}):Ey(i,r,a)}function Ey(i,r,a){r.status="fulfilled",r.value=a,Ty(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,_y(i,a)))}function Yh(i,r,a){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,Ty(r),r=r.next;while(r!==u)}i.action=null}function Ty(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Ay(i,r){return r}function wy(i,r){if(Se){var a=Ve.formState;if(a!==null){e:{var u=me;if(Se){if(mt){t:{for(var h=mt,f=Rn;h.nodeType!==8;){if(!f){h=null;break t}if(h=_n(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){mt=_n(h.nextSibling),u=h.data==="F!";break e}}vr(u)}u=!1}u&&(r=a[0])}}return a=zt(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ay,lastRenderedState:r},a.queue=u,a=By.bind(null,me,u),u.dispatch=a,u=Kh(!1),f=ef.bind(null,me,!1,u.queue),u=zt(),h={state:r,dispatch:null,action:i,pending:null},u.queue=h,a=A1.bind(null,me,h,f,a),h.dispatch=a,u.memoizedState=i,[r,a,!1]}function Sy(i){var r=Ze();return Ry(r,Ne,i)}function Ry(i,r,a){r=Gh(i,r,Ay)[0],i=Xl(Qn)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?Ua(r):r;var u=Ze(),h=u.queue,f=h.dispatch;return a!==u.memoizedState&&(me.flags|=2048,Es(9,w1.bind(null,h,a),{destroy:void 0},null)),[r,f,i]}function w1(i,r){i.action=r}function by(i){var r=Ze(),a=Ne;if(a!==null)return Ry(r,a,i);Ze(),r=r.memoizedState,a=Ze();var u=a.queue.dispatch;return a.memoizedState=i,[r,u,!1]}function Es(i,r,a,u){return i={tag:i,create:r,inst:a,deps:u,next:null},r=me.updateQueue,r===null&&(r=Kl(),me.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(u=a.next,a.next=i,i.next=u,r.lastEffect=i),i}function Iy(){return Ze().memoizedState}function $l(i,r,a,u){var h=zt();me.flags|=i,h.memoizedState=Es(1|r,a,{destroy:void 0},u===void 0?null:u)}function Wl(i,r,a,u){var h=Ze();u=u===void 0?null:u;var f=h.memoizedState.inst;Ne!==null&&u!==null&&jh(u,Ne.memoizedState.deps)?h.memoizedState=Es(r,a,f,u):(me.flags|=i,h.memoizedState=Es(1|r,a,f,u))}function Cy(i,r){$l(8390656,8,i,r)}function Xh(i,r){Wl(2048,8,i,r)}function Dy(i,r){return Wl(4,2,i,r)}function Ny(i,r){return Wl(4,4,i,r)}function Oy(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function xy(i,r,a){a=a!=null?a.concat([i]):null,Wl(4,4,Oy.bind(null,r,i),a)}function $h(){}function My(i,r){var a=Ze();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&jh(r,u[1])?u[0]:(a.memoizedState=[i,r],i)}function Vy(i,r){var a=Ze();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&jh(r,u[1]))return u[0];if(u=i(),Ar){pi(!0);try{i()}finally{pi(!1)}}return a.memoizedState=[u,r],u}function Wh(i,r,a){return a===void 0||(Ai&1073741824)!==0?i.memoizedState=r:(i.memoizedState=a,i=U_(),me.lanes|=i,xi|=i,a)}function Py(i,r,a,u){return Gt(a,r)?a:gs.current!==null?(i=Wh(i,a,u),Gt(i,r)||(ot=!0),i):(Ai&42)===0?(ot=!0,i.memoizedState=a):(i=U_(),me.lanes|=i,xi|=i,r)}function Uy(i,r,a,u,h){var f=F.p;F.p=f!==0&&8>f?f:8;var p=$.T,_={};$.T=_,ef(i,!1,r,a);try{var A=h(),b=$.S;if(b!==null&&b(_,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var V=v1(A,u);La(i,r,V,Xt(i))}else La(i,r,u,Xt(i))}catch(L){La(i,r,{then:function(){},status:"rejected",reason:L},Xt())}finally{F.p=f,$.T=p}}function S1(){}function Zh(i,r,a,u){if(i.tag!==5)throw Error(s(476));var h=Ly(i).queue;Uy(i,h,r,Te,a===null?S1:function(){return ky(i),a(u)})}function Ly(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:Te},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function ky(i){var r=Ly(i).next.queue;La(i,r,{},Xt())}function Jh(){return St(io)}function jy(){return Ze().memoizedState}function zy(){return Ze().memoizedState}function R1(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=Xt();i=bi(a);var u=Ii(r,i,a);u!==null&&(Vt(u,r,a),za(u,r,a)),r={cache:Uh()},i.payload=r;return}r=r.return}}function b1(i,r,a){var u=Xt();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Zl(i)?qy(r,a):(a=Dh(i,r,a,u),a!==null&&(Vt(a,i,u),Hy(a,r,u)))}function By(i,r,a){var u=Xt();La(i,r,a,u)}function La(i,r,a,u){var h={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zl(i))qy(r,h);else{var f=i.alternate;if(i.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var p=r.lastRenderedState,_=f(p,a);if(h.hasEagerState=!0,h.eagerState=_,Gt(_,p))return Pl(i,r,h,0),Ve===null&&Vl(),!1}catch{}finally{}if(a=Dh(i,r,h,u),a!==null)return Vt(a,i,u),Hy(a,r,u),!0}return!1}function ef(i,r,a,u){if(u={lane:2,revertLane:Ff(),action:u,hasEagerState:!1,eagerState:null,next:null},Zl(i)){if(r)throw Error(s(479))}else r=Dh(i,a,u,2),r!==null&&Vt(r,i,2)}function Zl(i){var r=i.alternate;return i===me||r!==null&&r===me}function qy(i,r){_s=Gl=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function Hy(i,r,a){if((a&4194176)!==0){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,ep(i,a)}}var In={readContext:St,use:Yl,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye};In.useCacheRefresh=Ye,In.useMemoCache=Ye,In.useHostTransitionStatus=Ye,In.useFormState=Ye,In.useActionState=Ye,In.useOptimistic=Ye;var wr={readContext:St,use:Yl,useCallback:function(i,r){return zt().memoizedState=[i,r===void 0?null:r],i},useContext:St,useEffect:Cy,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,$l(4194308,4,Oy.bind(null,r,i),a)},useLayoutEffect:function(i,r){return $l(4194308,4,i,r)},useInsertionEffect:function(i,r){$l(4,2,i,r)},useMemo:function(i,r){var a=zt();r=r===void 0?null:r;var u=i();if(Ar){pi(!0);try{i()}finally{pi(!1)}}return a.memoizedState=[u,r],u},useReducer:function(i,r,a){var u=zt();if(a!==void 0){var h=a(r);if(Ar){pi(!0);try{a(r)}finally{pi(!1)}}}else h=r;return u.memoizedState=u.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},u.queue=i,i=i.dispatch=b1.bind(null,me,i),[u.memoizedState,i]},useRef:function(i){var r=zt();return i={current:i},r.memoizedState=i},useState:function(i){i=Kh(i);var r=i.queue,a=By.bind(null,me,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:$h,useDeferredValue:function(i,r){var a=zt();return Wh(a,i,r)},useTransition:function(){var i=Kh(!1);return i=Uy.bind(null,me,i.queue,!0,!1),zt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var u=me,h=zt();if(Se){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Ve===null)throw Error(s(349));(Ae&60)!==0||fy(u,r,a)}h.memoizedState=a;var f={value:a,getSnapshot:r};return h.queue=f,Cy(my.bind(null,u,f,i),[i]),u.flags|=2048,Es(9,dy.bind(null,u,f,a,r),{destroy:void 0},null),a},useId:function(){var i=zt(),r=Ve.identifierPrefix;if(Se){var a=Fn,u=Hn;a=(u&~(1<<32-Ft(u)-1)).toString(32)+a,r=":"+r+"R"+a,a=Ql++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=E1++,r=":"+r+"r"+a.toString(32)+":";return i.memoizedState=r},useCacheRefresh:function(){return zt().memoizedState=R1.bind(null,me)}};wr.useMemoCache=Fh,wr.useHostTransitionStatus=Jh,wr.useFormState=wy,wr.useActionState=wy,wr.useOptimistic=function(i){var r=zt();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=ef.bind(null,me,!0,a),a.dispatch=r,[i,r]};var wi={readContext:St,use:Yl,useCallback:My,useContext:St,useEffect:Xh,useImperativeHandle:xy,useInsertionEffect:Dy,useLayoutEffect:Ny,useMemo:Vy,useReducer:Xl,useRef:Iy,useState:function(){return Xl(Qn)},useDebugValue:$h,useDeferredValue:function(i,r){var a=Ze();return Py(a,Ne.memoizedState,i,r)},useTransition:function(){var i=Xl(Qn)[0],r=Ze().memoizedState;return[typeof i=="boolean"?i:Ua(i),r]},useSyncExternalStore:hy,useId:jy};wi.useCacheRefresh=zy,wi.useMemoCache=Fh,wi.useHostTransitionStatus=Jh,wi.useFormState=Sy,wi.useActionState=Sy,wi.useOptimistic=function(i,r){var a=Ze();return yy(a,Ne,i,r)};var Sr={readContext:St,use:Yl,useCallback:My,useContext:St,useEffect:Xh,useImperativeHandle:xy,useInsertionEffect:Dy,useLayoutEffect:Ny,useMemo:Vy,useReducer:Qh,useRef:Iy,useState:function(){return Qh(Qn)},useDebugValue:$h,useDeferredValue:function(i,r){var a=Ze();return Ne===null?Wh(a,i,r):Py(a,Ne.memoizedState,i,r)},useTransition:function(){var i=Qh(Qn)[0],r=Ze().memoizedState;return[typeof i=="boolean"?i:Ua(i),r]},useSyncExternalStore:hy,useId:jy};Sr.useCacheRefresh=zy,Sr.useMemoCache=Fh,Sr.useHostTransitionStatus=Jh,Sr.useFormState=by,Sr.useActionState=by,Sr.useOptimistic=function(i,r){var a=Ze();return Ne!==null?yy(a,Ne,i,r):(a.baseState=i,[i,a.queue.dispatch])};function tf(i,r,a,u){r=i.memoizedState,a=a(u,r),a=a==null?r:ye({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var nf={isMounted:function(i){return(i=i._reactInternals)?ie(i)===i:!1},enqueueSetState:function(i,r,a){i=i._reactInternals;var u=Xt(),h=bi(u);h.payload=r,a!=null&&(h.callback=a),r=Ii(i,h,u),r!==null&&(Vt(r,i,u),za(r,i,u))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var u=Xt(),h=bi(u);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Ii(i,h,u),r!==null&&(Vt(r,i,u),za(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=Xt(),u=bi(a);u.tag=2,r!=null&&(u.callback=r),r=Ii(i,u,a),r!==null&&(Vt(r,i,a),za(r,i,a))}};function Fy(i,r,a,u,h,f,p){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,f,p):r.prototype&&r.prototype.isPureReactComponent?!Sa(a,u)||!Sa(h,f):!0}function Gy(i,r,a,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==i&&nf.enqueueReplaceState(r,r.state,null)}function Rr(i,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(i=i.defaultProps){a===r&&(a=ye({},a));for(var h in i)a[h]===void 0&&(a[h]=i[h])}return a}var Jl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Qy(i){Jl(i)}function Ky(i){console.error(i)}function Yy(i){Jl(i)}function eu(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Xy(i,r,a){try{var u=i.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function rf(i,r,a){return a=bi(a),a.tag=3,a.payload={element:null},a.callback=function(){eu(i,r)},a}function $y(i){return i=bi(i),i.tag=3,i}function Wy(i,r,a,u){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=u.value;i.payload=function(){return h(f)},i.callback=function(){Xy(r,a,u)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(i.callback=function(){Xy(r,a,u),typeof h!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var _=u.stack;this.componentDidCatch(u.value,{componentStack:_!==null?_:""})})}function I1(i,r,a,u,h){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&ja(r,a,h,!0),a=an.current,a!==null){switch(a.tag){case 13:return bn===null?jf():a.alternate===null&&Ge===0&&(Ge=3),a.flags&=-257,a.flags|=65536,a.lanes=h,u===Mh?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),Bf(i,u,h)),!1;case 22:return a.flags|=65536,u===Mh?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),Bf(i,u,h)),!1}throw Error(s(435,a.tag))}return Bf(i,u,h),jf(),!1}if(Se)return r=an.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,u!==xh&&(i=Error(s(422),{cause:u}),Ca(nn(i,a)))):(u!==xh&&(r=Error(s(423),{cause:u}),Ca(nn(r,a))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,u=nn(u,a),h=rf(i.stateNode,u,h),vf(i,h),Ge!==4&&(Ge=2)),!1;var f=Error(s(520),{cause:u});if(f=nn(f,a),Ya===null?Ya=[f]:Ya.push(f),Ge!==4&&(Ge=2),r===null)return!0;u=nn(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=h&-h,a.lanes|=i,i=rf(a.stateNode,u,i),vf(a,i),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Mi===null||!Mi.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=$y(h),Wy(h,i,a,u),vf(a,h),!1}a=a.return}while(a!==null);return!1}var Zy=Error(s(461)),ot=!1;function gt(i,r,a,u){r.child=i===null?iy(r,null,a,u):Er(r,i.child,a,u)}function Jy(i,r,a,u,h){a=a.render;var f=r.ref;if("ref"in u){var p={};for(var _ in u)_!=="ref"&&(p[_]=u[_])}else p=u;return Ir(r),u=zh(i,r,a,p,f,h),_=Bh(),i!==null&&!ot?(qh(i,r,h),Kn(i,r,h)):(Se&&_&&Nh(r),r.flags|=1,gt(i,r,u,h),r.child)}function e_(i,r,a,u,h){if(i===null){var f=a.type;return typeof f=="function"&&!If(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,t_(i,r,f,u,h)):(i=su(a.type,null,u,r,r.mode,h),i.ref=r.ref,i.return=r,r.child=i)}if(f=i.child,!df(i,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Sa,a(p,u)&&i.ref===r.ref)return Kn(i,r,h)}return r.flags|=1,i=Oi(f,u),i.ref=r.ref,i.return=r,r.child=i}function t_(i,r,a,u,h){if(i!==null){var f=i.memoizedProps;if(Sa(f,u)&&i.ref===r.ref)if(ot=!1,r.pendingProps=u=f,df(i,h))(i.flags&131072)!==0&&(ot=!0);else return r.lanes=i.lanes,Kn(i,r,h)}return sf(i,r,a,u,h)}function n_(i,r,a){var u=r.pendingProps,h=u.children,f=(r.stateNode._pendingVisibility&2)!==0,p=i!==null?i.memoizedState:null;if(ka(i,r),u.mode==="hidden"||f){if((r.flags&128)!==0){if(u=p!==null?p.baseLanes|a:a,i!==null){for(h=r.child=i.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;r.childLanes=f&~u}else r.childLanes=0,r.child=null;return i_(i,r,u,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Fl(r,p!==null?p.cachePool:null),p!==null?ry(r,p):Vh(),sy(r);else return r.lanes=r.childLanes=536870912,i_(i,r,p!==null?p.baseLanes|a:a,a)}else p!==null?(Fl(r,p.cachePool),ry(r,p),Ti(),r.memoizedState=null):(i!==null&&Fl(r,null),Vh(),Ti());return gt(i,r,h,a),r.child}function i_(i,r,a,u){var h=kh();return h=h===null?null:{parent:rt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},i!==null&&Fl(r,null),Vh(),sy(r),i!==null&&ja(i,r,u,!0),null}function ka(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=2097664)}}function sf(i,r,a,u,h){return Ir(r),a=zh(i,r,a,u,void 0,h),u=Bh(),i!==null&&!ot?(qh(i,r,h),Kn(i,r,h)):(Se&&u&&Nh(r),r.flags|=1,gt(i,r,a,h),r.child)}function r_(i,r,a,u,h,f){return Ir(r),r.updateQueue=null,a=cy(r,u,a,h),uy(i),u=Bh(),i!==null&&!ot?(qh(i,r,f),Kn(i,r,f)):(Se&&u&&Nh(r),r.flags|=1,gt(i,r,a,f),r.child)}function s_(i,r,a,u,h){if(Ir(r),r.stateNode===null){var f=hs,p=a.contextType;typeof p=="object"&&p!==null&&(f=St(p)),f=new a(u,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=nf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=u,f.state=r.memoizedState,f.refs={},yf(r),p=a.contextType,f.context=typeof p=="object"&&p!==null?St(p):hs,f.state=r.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(tf(r,a,p,u),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&nf.enqueueReplaceState(f,f.state,null),qa(r,u,f,h),Ba(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){f=r.stateNode;var _=r.memoizedProps,A=Rr(a,_);f.props=A;var b=f.context,V=a.contextType;p=hs,typeof V=="object"&&V!==null&&(p=St(V));var L=a.getDerivedStateFromProps;V=typeof L=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=r.pendingProps!==_,V||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||b!==p)&&Gy(r,f,u,p),Ri=!1;var D=r.memoizedState;f.state=D,qa(r,u,f,h),Ba(),b=r.memoizedState,_||D!==b||Ri?(typeof L=="function"&&(tf(r,a,L,u),b=r.memoizedState),(A=Ri||Fy(r,a,A,u,D,b,p))?(V||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=b),f.props=u,f.state=b,f.context=p,u=A):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{f=r.stateNode,_f(i,r),p=r.memoizedProps,V=Rr(a,p),f.props=V,L=r.pendingProps,D=f.context,b=a.contextType,A=hs,typeof b=="object"&&b!==null&&(A=St(b)),_=a.getDerivedStateFromProps,(b=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==L||D!==A)&&Gy(r,f,u,A),Ri=!1,D=r.memoizedState,f.state=D,qa(r,u,f,h),Ba();var O=r.memoizedState;p!==L||D!==O||Ri||i!==null&&i.dependencies!==null&&tu(i.dependencies)?(typeof _=="function"&&(tf(r,a,_,u),O=r.memoizedState),(V=Ri||Fy(r,a,V,u,D,O,A)||i!==null&&i.dependencies!==null&&tu(i.dependencies))?(b||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(u,O,A),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(u,O,A)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===i.memoizedProps&&D===i.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===i.memoizedProps&&D===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=O),f.props=u,f.state=O,f.context=A,u=V):(typeof f.componentDidUpdate!="function"||p===i.memoizedProps&&D===i.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===i.memoizedProps&&D===i.memoizedState||(r.flags|=1024),u=!1)}return f=u,ka(i,r),u=(r.flags&128)!==0,f||u?(f=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,i!==null&&u?(r.child=Er(r,i.child,null,h),r.child=Er(r,null,a,h)):gt(i,r,a,h),r.memoizedState=f.state,i=r.child):i=Kn(i,r,h),i}function a_(i,r,a,u){return Ia(),r.flags|=256,gt(i,r,a,u),r.child}var af={dehydrated:null,treeContext:null,retryLane:0};function of(i){return{baseLanes:i,cachePool:ly()}}function lf(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=cn),i}function o_(i,r,a){var u=r.pendingProps,h=!1,f=(r.flags&128)!==0,p;if((p=f)||(p=i!==null&&i.memoizedState===null?!1:(it.current&2)!==0),p&&(h=!0,r.flags&=-129),p=(r.flags&32)!==0,r.flags&=-33,i===null){if(Se){if(h?Ei(r):Ti(),Se){var _=mt,A;if(A=_){e:{for(A=_,_=Rn;A.nodeType!==8;){if(!_){_=null;break e}if(A=_n(A.nextSibling),A===null){_=null;break e}}_=A}_!==null?(r.memoizedState={dehydrated:_,treeContext:yr!==null?{id:Hn,overflow:Fn}:null,retryLane:536870912},A=un(18,null,null,0),A.stateNode=_,A.return=r,r.child=A,Mt=r,mt=null,A=!0):A=!1}A||vr(r)}if(_=r.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return _.data==="$!"?r.lanes=16:r.lanes=536870912,null;Gn(r)}return _=u.children,u=u.fallback,h?(Ti(),h=r.mode,_=cf({mode:"hidden",children:_},h),u=Dr(u,h,a,null),_.return=r,u.return=r,_.sibling=u,r.child=_,h=r.child,h.memoizedState=of(a),h.childLanes=lf(i,p,a),r.memoizedState=af,u):(Ei(r),uf(r,_))}if(A=i.memoizedState,A!==null&&(_=A.dehydrated,_!==null)){if(f)r.flags&256?(Ei(r),r.flags&=-257,r=hf(i,r,a)):r.memoizedState!==null?(Ti(),r.child=i.child,r.flags|=128,r=null):(Ti(),h=u.fallback,_=r.mode,u=cf({mode:"visible",children:u.children},_),h=Dr(h,_,a,null),h.flags|=2,u.return=r,h.return=r,u.sibling=h,r.child=u,Er(r,i.child,null,a),u=r.child,u.memoizedState=of(a),u.childLanes=lf(i,p,a),r.memoizedState=af,r=h);else if(Ei(r),_.data==="$!"){if(p=_.nextSibling&&_.nextSibling.dataset,p)var b=p.dgst;p=b,u=Error(s(419)),u.stack="",u.digest=p,Ca({value:u,source:null,stack:null}),r=hf(i,r,a)}else if(ot||ja(i,r,a,!1),p=(a&i.childLanes)!==0,ot||p){if(p=Ve,p!==null){if(u=a&-a,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(p.suspendedLanes|a))!==0?0:u,u!==0&&u!==A.retryLane)throw A.retryLane=u,vi(i,u),Vt(p,i,u),Zy}_.data==="$?"||jf(),r=hf(i,r,a)}else _.data==="$?"?(r.flags|=128,r.child=i.child,r=q1.bind(null,i),_._reactRetry=r,r=null):(i=A.treeContext,mt=_n(_.nextSibling),Mt=r,Se=!0,pn=null,Rn=!1,i!==null&&(rn[sn++]=Hn,rn[sn++]=Fn,rn[sn++]=yr,Hn=i.id,Fn=i.overflow,yr=r),r=uf(r,u.children),r.flags|=4096);return r}return h?(Ti(),h=u.fallback,_=r.mode,A=i.child,b=A.sibling,u=Oi(A,{mode:"hidden",children:u.children}),u.subtreeFlags=A.subtreeFlags&31457280,b!==null?h=Oi(b,h):(h=Dr(h,_,a,null),h.flags|=2),h.return=r,u.return=r,u.sibling=h,r.child=u,u=h,h=r.child,_=i.child.memoizedState,_===null?_=of(a):(A=_.cachePool,A!==null?(b=rt._currentValue,A=A.parent!==b?{parent:b,pool:b}:A):A=ly(),_={baseLanes:_.baseLanes|a,cachePool:A}),h.memoizedState=_,h.childLanes=lf(i,p,a),r.memoizedState=af,u):(Ei(r),a=i.child,i=a.sibling,a=Oi(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,i!==null&&(p=r.deletions,p===null?(r.deletions=[i],r.flags|=16):p.push(i)),r.child=a,r.memoizedState=null,a)}function uf(i,r){return r=cf({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function cf(i,r){return M_(i,r,0,null)}function hf(i,r,a){return Er(r,i.child,null,a),i=uf(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function l_(i,r,a){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),gf(i.return,r,a)}function ff(i,r,a,u,h){var f=i.memoizedState;f===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:h}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=u,f.tail=a,f.tailMode=h)}function u_(i,r,a){var u=r.pendingProps,h=u.revealOrder,f=u.tail;if(gt(i,r,u.children,a),u=it.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&l_(i,a,r);else if(i.tag===19)l_(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(ze(it,u),h){case"forwards":for(a=r.child,h=null;a!==null;)i=a.alternate,i!==null&&Hl(i)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),ff(r,!1,h,a,f);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(i=h.alternate,i!==null&&Hl(i)===null){r.child=h;break}i=h.sibling,h.sibling=a,a=h,h=i}ff(r,!0,a,null,f);break;case"together":ff(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Kn(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),xi|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(ja(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=Oi(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=Oi(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function df(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&tu(i)))}function C1(i,r,a){switch(r.tag){case 3:yl(r,r.stateNode.containerInfo),Si(r,rt,i.memoizedState.cache),Ia();break;case 27:case 5:nh(r);break;case 4:yl(r,r.stateNode.containerInfo);break;case 10:Si(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ei(r),r.flags|=128,null):(a&r.child.childLanes)!==0?o_(i,r,a):(Ei(r),i=Kn(i,r,a),i!==null?i.sibling:null);Ei(r);break;case 19:var h=(i.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(ja(i,r,a,!1),u=(a&r.childLanes)!==0),h){if(u)return u_(i,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ze(it,it.current),u)break;return null;case 22:case 23:return r.lanes=0,n_(i,r,a);case 24:Si(r,rt,i.memoizedState.cache)}return Kn(i,r,a)}function c_(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)ot=!0;else{if(!df(i,a)&&(r.flags&128)===0)return ot=!1,C1(i,r,a);ot=(i.flags&131072)!==0}else ot=!1,Se&&(r.flags&1048576)!==0&&Yp(r,kl,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var u=r.elementType,h=u._init;if(u=h(u._payload),r.type=u,typeof u=="function")If(u)?(i=Rr(u,i),r.tag=1,r=s_(null,r,u,i,a)):(r.tag=0,r=sf(null,r,u,i,a));else{if(u!=null){if(h=u.$$typeof,h===x){r.tag=11,r=Jy(null,r,u,i,a);break e}else if(h===Y){r.tag=14,r=e_(null,r,u,i,a);break e}}throw r=mn(u)||u,Error(s(306,r,""))}}return r;case 0:return sf(i,r,r.type,r.pendingProps,a);case 1:return u=r.type,h=Rr(u,r.pendingProps),s_(i,r,u,h,a);case 3:e:{if(yl(r,r.stateNode.containerInfo),i===null)throw Error(s(387));var f=r.pendingProps;h=r.memoizedState,u=h.element,_f(i,r),qa(r,f,null,a);var p=r.memoizedState;if(f=p.cache,Si(r,rt,f),f!==h.cache&&pf(r,[rt],a,!0),Ba(),f=p.element,h.isDehydrated)if(h={element:f,isDehydrated:!1,cache:p.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=a_(i,r,f,a);break e}else if(f!==u){u=nn(Error(s(424)),r),Ca(u),r=a_(i,r,f,a);break e}else for(mt=_n(r.stateNode.containerInfo.firstChild),Mt=r,Se=!0,pn=null,Rn=!0,a=iy(r,null,f,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ia(),f===u){r=Kn(i,r,a);break e}gt(i,r,f,a)}r=r.child}return r;case 26:return ka(i,r),i===null?(a=dv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Se||(a=r.type,i=r.pendingProps,u=yu(gi.current).createElement(a),u[wt]=r,u[kt]=i,pt(u,a,i),at(u),r.stateNode=u):r.memoizedState=dv(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return nh(r),i===null&&Se&&(u=r.stateNode=cv(r.type,r.pendingProps,gi.current),Mt=r,Rn=!0,mt=_n(u.firstChild)),u=r.pendingProps.children,i!==null||Se?gt(i,r,u,a):r.child=Er(r,null,u,a),ka(i,r),r.child;case 5:return i===null&&Se&&((h=u=mt)&&(u=rR(u,r.type,r.pendingProps,Rn),u!==null?(r.stateNode=u,Mt=r,mt=_n(u.firstChild),Rn=!1,h=!0):h=!1),h||vr(r)),nh(r),h=r.type,f=r.pendingProps,p=i!==null?i.memoizedProps:null,u=f.children,Jf(h,f)?u=null:p!==null&&Jf(h,p)&&(r.flags|=32),r.memoizedState!==null&&(h=zh(i,r,T1,null,null,a),io._currentValue=h),ka(i,r),gt(i,r,u,a),r.child;case 6:return i===null&&Se&&((i=a=mt)&&(a=sR(a,r.pendingProps,Rn),a!==null?(r.stateNode=a,Mt=r,mt=null,i=!0):i=!1),i||vr(r)),null;case 13:return o_(i,r,a);case 4:return yl(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Er(r,null,u,a):gt(i,r,u,a),r.child;case 11:return Jy(i,r,r.type,r.pendingProps,a);case 7:return gt(i,r,r.pendingProps,a),r.child;case 8:return gt(i,r,r.pendingProps.children,a),r.child;case 12:return gt(i,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,Si(r,r.type,u.value),gt(i,r,u.children,a),r.child;case 9:return h=r.type._context,u=r.pendingProps.children,Ir(r),h=St(h),u=u(h),r.flags|=1,gt(i,r,u,a),r.child;case 14:return e_(i,r,r.type,r.pendingProps,a);case 15:return t_(i,r,r.type,r.pendingProps,a);case 19:return u_(i,r,a);case 22:return n_(i,r,a);case 24:return Ir(r),u=St(rt),i===null?(h=kh(),h===null&&(h=Ve,f=Uh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),r.memoizedState={parent:u,cache:h},yf(r),Si(r,rt,h)):((i.lanes&a)!==0&&(_f(i,r),qa(r,null,null,a),Ba()),h=i.memoizedState,f=r.memoizedState,h.parent!==u?(h={parent:u,cache:u},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Si(r,rt,u)):(u=f.cache,Si(r,rt,u),u!==h.cache&&pf(r,[rt],a,!0))),gt(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var mf=Ce(null),br=null,Yn=null;function Si(i,r,a){ze(mf,r._currentValue),r._currentValue=a}function Xn(i){i._currentValue=mf.current,$e(mf)}function gf(i,r,a){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===a)break;i=i.return}}function pf(i,r,a,u){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=h;for(var A=0;A<r.length;A++)if(_.context===r[A]){f.lanes|=a,_=f.alternate,_!==null&&(_.lanes|=a),gf(f.return,a,i),u||(p=null);break e}f=_.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(s(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),gf(p,a,i),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===i){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ja(i,r,a,u){i=null;for(var h=r,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var _=h.type;Gt(h.pendingProps.value,p.value)||(i!==null?i.push(_):i=[_])}}else if(h===pl.current){if(p=h.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(io):i=[io])}h=h.return}i!==null&&pf(r,i,a,u),r.flags|=262144}function tu(i){for(i=i.firstContext;i!==null;){if(!Gt(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ir(i){br=i,Yn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function St(i){return h_(br,i)}function nu(i,r){return br===null&&Ir(i),h_(i,r)}function h_(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Yn===null){if(i===null)throw Error(s(308));Yn=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Yn=Yn.next=r;return a}var Ri=!1;function yf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function bi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ii(i,r,a){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(qe&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,r=Ul(i),Qp(i,null,a),r}return Pl(i,u,r,a),Ul(i)}function za(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,ep(i,a)}}function vf(i,r){var a=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=r:f=f.next=r}else h=f=r;a={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:u.shared,callbacks:u.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var Ef=!1;function Ba(){if(Ef){var i=ys;if(i!==null)throw i}}function qa(i,r,a,u){Ef=!1;var h=i.updateQueue;Ri=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,_=h.shared.pending;if(_!==null){h.shared.pending=null;var A=_,b=A.next;A.next=null,p===null?f=b:p.next=b,p=A;var V=i.alternate;V!==null&&(V=V.updateQueue,_=V.lastBaseUpdate,_!==p&&(_===null?V.firstBaseUpdate=b:_.next=b,V.lastBaseUpdate=A))}if(f!==null){var L=h.baseState;p=0,V=b=A=null,_=f;do{var D=_.lane&-536870913,O=D!==_.lane;if(O?(Ae&D)===D:(u&D)===D){D!==0&&D===ps&&(Ef=!0),V!==null&&(V=V.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var K=i,le=_;D=r;var Qe=a;switch(le.tag){case 1:if(K=le.payload,typeof K=="function"){L=K.call(Qe,L,D);break e}L=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=le.payload,D=typeof K=="function"?K.call(Qe,L,D):K,D==null)break e;L=ye({},L,D);break e;case 2:Ri=!0}}D=_.callback,D!==null&&(i.flags|=64,O&&(i.flags|=8192),O=h.callbacks,O===null?h.callbacks=[D]:O.push(D))}else O={lane:D,tag:_.tag,payload:_.payload,callback:_.callback,next:null},V===null?(b=V=O,A=L):V=V.next=O,p|=D;if(_=_.next,_===null){if(_=h.shared.pending,_===null)break;O=_,_=O.next,O.next=null,h.lastBaseUpdate=O,h.shared.pending=null}}while(!0);V===null&&(A=L),h.baseState=A,h.firstBaseUpdate=b,h.lastBaseUpdate=V,f===null&&(h.shared.lanes=0),xi|=p,i.lanes=p,i.memoizedState=L}}function f_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function d_(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)f_(a[i],r)}function Ha(i,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var h=u.next;a=h;do{if((a.tag&i)===i){u=void 0;var f=a.create,p=a.inst;u=f(),p.destroy=u}a=a.next}while(a!==h)}}catch(_){xe(r,r.return,_)}}function Ci(i,r,a){try{var u=r.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var f=h.next;u=f;do{if((u.tag&i)===i){var p=u.inst,_=p.destroy;if(_!==void 0){p.destroy=void 0,h=r;var A=a;try{_()}catch(b){xe(h,A,b)}}}u=u.next}while(u!==f)}}catch(b){xe(r,r.return,b)}}function m_(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{d_(r,a)}catch(u){xe(i,i.return,u)}}}function g_(i,r,a){a.props=Rr(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(u){xe(i,r,u)}}function Cr(i,r){try{var a=i.ref;if(a!==null){var u=i.stateNode;switch(i.tag){case 26:case 27:case 5:var h=u;break;default:h=u}typeof a=="function"?i.refCleanup=a(h):a.current=h}}catch(f){xe(i,r,f)}}function Qt(i,r){var a=i.ref,u=i.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(h){xe(i,r,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){xe(i,r,h)}else a.current=null}function p_(i){var r=i.type,a=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(h){xe(i,i.return,h)}}function y_(i,r,a){try{var u=i.stateNode;J1(u,i.type,a,r),u[kt]=r}catch(h){xe(i,i.return,h)}}function __(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Tf(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||__(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Af(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(i,r):a.insertBefore(i,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(i,a)):(r=a,r.appendChild(i)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=pu));else if(u!==4&&u!==27&&(i=i.child,i!==null))for(Af(i,r,a),i=i.sibling;i!==null;)Af(i,r,a),i=i.sibling}function iu(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(u!==4&&u!==27&&(i=i.child,i!==null))for(iu(i,r,a),i=i.sibling;i!==null;)iu(i,r,a),i=i.sibling}var $n=!1,Fe=!1,wf=!1,v_=typeof WeakSet=="function"?WeakSet:Set,lt=null,E_=!1;function D1(i,r){if(i=i.containerInfo,Wf=wu,i=Lp(i),Sh(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var h=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var p=0,_=-1,A=-1,b=0,V=0,L=i,D=null;t:for(;;){for(var O;L!==a||h!==0&&L.nodeType!==3||(_=p+h),L!==f||u!==0&&L.nodeType!==3||(A=p+u),L.nodeType===3&&(p+=L.nodeValue.length),(O=L.firstChild)!==null;)D=L,L=O;for(;;){if(L===i)break t;if(D===a&&++b===h&&(_=p),D===f&&++V===u&&(A=p),(O=L.nextSibling)!==null)break;L=D,D=L.parentNode}L=O}a=_===-1||A===-1?null:{start:_,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zf={focusedElem:i,selectionRange:a},wu=!1,lt=r;lt!==null;)if(r=lt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,lt=i;else for(;lt!==null;){switch(r=lt,f=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&f!==null){i=void 0,a=r,h=f.memoizedProps,f=f.memoizedState,u=a.stateNode;try{var K=Rr(a.type,h,a.elementType===a.type);i=u.getSnapshotBeforeUpdate(K,f),u.__reactInternalSnapshotBeforeUpdate=i}catch(le){xe(a,a.return,le)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)nd(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":nd(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,lt=i;break}lt=r.return}return K=E_,E_=!1,K}function T_(i,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Zn(i,a),u&4&&Ha(5,a);break;case 1:if(Zn(i,a),u&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(_){xe(a,a.return,_)}else{var h=Rr(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(h,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){xe(a,a.return,_)}}u&64&&m_(a),u&512&&Cr(a,a.return);break;case 3:if(Zn(i,a),u&64&&(u=a.updateQueue,u!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{d_(u,i)}catch(_){xe(a,a.return,_)}}break;case 26:Zn(i,a),u&512&&Cr(a,a.return);break;case 27:case 5:Zn(i,a),r===null&&u&4&&p_(a),u&512&&Cr(a,a.return);break;case 12:Zn(i,a);break;case 13:Zn(i,a),u&4&&S_(i,a);break;case 22:if(h=a.memoizedState!==null||$n,!h){r=r!==null&&r.memoizedState!==null||Fe;var f=$n,p=Fe;$n=h,(Fe=r)&&!p?Di(i,a,(a.subtreeFlags&8772)!==0):Zn(i,a),$n=f,Fe=p}u&512&&(a.memoizedProps.mode==="manual"?Cr(a,a.return):Qt(a,a.return));break;default:Zn(i,a)}}function A_(i){var r=i.alternate;r!==null&&(i.alternate=null,A_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&lh(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Je=null,Kt=!1;function Wn(i,r,a){for(a=a.child;a!==null;)w_(i,r,a),a=a.sibling}function w_(i,r,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(fa,a)}catch{}switch(a.tag){case 26:Fe||Qt(a,r),Wn(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Fe||Qt(a,r);var u=Je,h=Kt;for(Je=a.stateNode,Wn(i,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);lh(a),Je=u,Kt=h;break;case 5:Fe||Qt(a,r);case 6:h=Je;var f=Kt;if(Je=null,Wn(i,r,a),Je=h,Kt=f,Je!==null)if(Kt)try{i=Je,u=a.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)}catch(p){xe(a,r,p)}else try{Je.removeChild(a.stateNode)}catch(p){xe(a,r,p)}break;case 18:Je!==null&&(Kt?(r=Je,a=a.stateNode,r.nodeType===8?td(r.parentNode,a):r.nodeType===1&&td(r,a),oo(r)):td(Je,a.stateNode));break;case 4:u=Je,h=Kt,Je=a.stateNode.containerInfo,Kt=!0,Wn(i,r,a),Je=u,Kt=h;break;case 0:case 11:case 14:case 15:Fe||Ci(2,a,r),Fe||Ci(4,a,r),Wn(i,r,a);break;case 1:Fe||(Qt(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&g_(a,r,u)),Wn(i,r,a);break;case 21:Wn(i,r,a);break;case 22:Fe||Qt(a,r),Fe=(u=Fe)||a.memoizedState!==null,Wn(i,r,a),Fe=u;break;default:Wn(i,r,a)}}function S_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{oo(i)}catch(a){xe(r,r.return,a)}}function N1(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new v_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new v_),r;default:throw Error(s(435,i.tag))}}function Sf(i,r){var a=N1(i);r.forEach(function(u){var h=H1.bind(null,i,u);a.has(u)||(a.add(u),u.then(h,h))})}function on(i,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var h=a[u],f=i,p=r,_=p;e:for(;_!==null;){switch(_.tag){case 27:case 5:Je=_.stateNode,Kt=!1;break e;case 3:Je=_.stateNode.containerInfo,Kt=!0;break e;case 4:Je=_.stateNode.containerInfo,Kt=!0;break e}_=_.return}if(Je===null)throw Error(s(160));w_(f,p,h),Je=null,Kt=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)R_(r,i),r=r.sibling}var yn=null;function R_(i,r){var a=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:on(r,i),ln(i),u&4&&(Ci(3,i,i.return),Ha(3,i),Ci(5,i,i.return));break;case 1:on(r,i),ln(i),u&512&&(Fe||a===null||Qt(a,a.return)),u&64&&$n&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var h=yn;if(on(r,i),ln(i),u&512&&(Fe||a===null||Qt(a,a.return)),u&4){var f=a!==null?a.memoizedState:null;if(u=i.memoizedState,a===null)if(u===null)if(i.stateNode===null){e:{u=i.type,a=i.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ga]||f[wt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(u),h.head.insertBefore(f,h.querySelector("head > title"))),pt(f,u,a),f[wt]=i,at(f),u=f;break e;case"link":var p=pv("link","href",h).get(u+(a.href||""));if(p){for(var _=0;_<p.length;_++)if(f=p[_],f.getAttribute("href")===(a.href==null?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(_,1);break t}}f=h.createElement(u),pt(f,u,a),h.head.appendChild(f);break;case"meta":if(p=pv("meta","content",h).get(u+(a.content||""))){for(_=0;_<p.length;_++)if(f=p[_],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(_,1);break t}}f=h.createElement(u),pt(f,u,a),h.head.appendChild(f);break;default:throw Error(s(468,u))}f[wt]=i,at(f),u=f}i.stateNode=u}else yv(h,i.type,i.stateNode);else i.stateNode=gv(h,u,i.memoizedProps);else f!==u?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,u===null?yv(h,i.type,i.stateNode):gv(h,u,i.memoizedProps)):u===null&&i.stateNode!==null&&y_(i,i.memoizedProps,a.memoizedProps)}break;case 27:if(u&4&&i.alternate===null){h=i.stateNode,f=i.memoizedProps;try{for(var A=h.firstChild;A;){var b=A.nextSibling,V=A.nodeName;A[ga]||V==="HEAD"||V==="BODY"||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&A.rel.toLowerCase()==="stylesheet"||h.removeChild(A),A=b}for(var L=i.type,D=h.attributes;D.length;)h.removeAttributeNode(D[0]);pt(h,L,f),h[wt]=i,h[kt]=f}catch(K){xe(i,i.return,K)}}case 5:if(on(r,i),ln(i),u&512&&(Fe||a===null||Qt(a,a.return)),i.flags&32){h=i.stateNode;try{rs(h,"")}catch(K){xe(i,i.return,K)}}u&4&&i.stateNode!=null&&(h=i.memoizedProps,y_(i,h,a!==null?a.memoizedProps:h)),u&1024&&(wf=!0);break;case 6:if(on(r,i),ln(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,a=i.stateNode;try{a.nodeValue=u}catch(K){xe(i,i.return,K)}}break;case 3:if(Eu=null,h=yn,yn=_u(r.containerInfo),on(r,i),yn=h,ln(i),u&4&&a!==null&&a.memoizedState.isDehydrated)try{oo(r.containerInfo)}catch(K){xe(i,i.return,K)}wf&&(wf=!1,b_(i));break;case 4:u=yn,yn=_u(i.stateNode.containerInfo),on(r,i),ln(i),yn=u;break;case 12:on(r,i),ln(i);break;case 13:on(r,i),ln(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Mf=Sn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Sf(i,u)));break;case 22:if(u&512&&(Fe||a===null||Qt(a,a.return)),A=i.memoizedState!==null,b=a!==null&&a.memoizedState!==null,V=$n,L=Fe,$n=V||A,Fe=L||b,on(r,i),Fe=L,$n=V,ln(i),r=i.stateNode,r._current=i,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,u&8192&&(r._visibility=A?r._visibility&-2:r._visibility|1,A&&(r=$n||Fe,a===null||b||r||Ts(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(a=null,r=i;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){b=a=r;try{if(h=b.stateNode,A)f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{p=b.stateNode,_=b.memoizedProps.style;var O=_!=null&&_.hasOwnProperty("display")?_.display:null;p.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(K){xe(b,b.return,K)}}}else if(r.tag===6){if(a===null){b=r;try{b.stateNode.nodeValue=A?"":b.memoizedProps}catch(K){xe(b,b.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Sf(i,a))));break;case 19:on(r,i),ln(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Sf(i,u)));break;case 21:break;default:on(r,i),ln(i)}}function ln(i){var r=i.flags;if(r&2){try{if(i.tag!==27){e:{for(var a=i.return;a!==null;){if(__(a)){var u=a;break e}a=a.return}throw Error(s(160))}switch(u.tag){case 27:var h=u.stateNode,f=Tf(i);iu(i,f,h);break;case 5:var p=u.stateNode;u.flags&32&&(rs(p,""),u.flags&=-33);var _=Tf(i);iu(i,_,p);break;case 3:case 4:var A=u.stateNode.containerInfo,b=Tf(i);Af(i,b,A);break;default:throw Error(s(161))}}}catch(V){xe(i,i.return,V)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function b_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;b_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Zn(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)T_(i,r.alternate,r),r=r.sibling}function Ts(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ci(4,r,r.return),Ts(r);break;case 1:Qt(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&g_(r,r.return,a),Ts(r);break;case 26:case 27:case 5:Qt(r,r.return),Ts(r);break;case 22:Qt(r,r.return),r.memoizedState===null&&Ts(r);break;default:Ts(r)}i=i.sibling}}function Di(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,h=i,f=r,p=f.flags;switch(f.tag){case 0:case 11:case 15:Di(h,f,a),Ha(4,f);break;case 1:if(Di(h,f,a),u=f,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(b){xe(u,u.return,b)}if(u=f,h=u.updateQueue,h!==null){var _=u.stateNode;try{var A=h.shared.hiddenCallbacks;if(A!==null)for(h.shared.hiddenCallbacks=null,h=0;h<A.length;h++)f_(A[h],_)}catch(b){xe(u,u.return,b)}}a&&p&64&&m_(f),Cr(f,f.return);break;case 26:case 27:case 5:Di(h,f,a),a&&u===null&&p&4&&p_(f),Cr(f,f.return);break;case 12:Di(h,f,a);break;case 13:Di(h,f,a),a&&p&4&&S_(h,f);break;case 22:f.memoizedState===null&&Di(h,f,a),Cr(f,f.return);break;default:Di(h,f,a)}r=r.sibling}}function Rf(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Ma(a))}function bf(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ma(i))}function Ni(i,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)I_(i,r,a,u),r=r.sibling}function I_(i,r,a,u){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ni(i,r,a,u),h&2048&&Ha(9,r);break;case 3:Ni(i,r,a,u),h&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ma(i)));break;case 12:if(h&2048){Ni(i,r,a,u),i=r.stateNode;try{var f=r.memoizedProps,p=f.id,_=f.onPostCommit;typeof _=="function"&&_(p,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(A){xe(r,r.return,A)}}else Ni(i,r,a,u);break;case 23:break;case 22:f=r.stateNode,r.memoizedState!==null?f._visibility&4?Ni(i,r,a,u):Fa(i,r):f._visibility&4?Ni(i,r,a,u):(f._visibility|=4,As(i,r,a,u,(r.subtreeFlags&10256)!==0)),h&2048&&Rf(r.alternate,r);break;case 24:Ni(i,r,a,u),h&2048&&bf(r.alternate,r);break;default:Ni(i,r,a,u)}}function As(i,r,a,u,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var f=i,p=r,_=a,A=u,b=p.flags;switch(p.tag){case 0:case 11:case 15:As(f,p,_,A,h),Ha(8,p);break;case 23:break;case 22:var V=p.stateNode;p.memoizedState!==null?V._visibility&4?As(f,p,_,A,h):Fa(f,p):(V._visibility|=4,As(f,p,_,A,h)),h&&b&2048&&Rf(p.alternate,p);break;case 24:As(f,p,_,A,h),h&&b&2048&&bf(p.alternate,p);break;default:As(f,p,_,A,h)}r=r.sibling}}function Fa(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,u=r,h=u.flags;switch(u.tag){case 22:Fa(a,u),h&2048&&Rf(u.alternate,u);break;case 24:Fa(a,u),h&2048&&bf(u.alternate,u);break;default:Fa(a,u)}r=r.sibling}}var Ga=8192;function ws(i){if(i.subtreeFlags&Ga)for(i=i.child;i!==null;)C_(i),i=i.sibling}function C_(i){switch(i.tag){case 26:ws(i),i.flags&Ga&&i.memoizedState!==null&&_R(yn,i.memoizedState,i.memoizedProps);break;case 5:ws(i);break;case 3:case 4:var r=yn;yn=_u(i.stateNode.containerInfo),ws(i),yn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Ga,Ga=16777216,ws(i),Ga=r):ws(i));break;default:ws(i)}}function D_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Qa(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];lt=u,O_(u,i)}D_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)N_(i),i=i.sibling}function N_(i){switch(i.tag){case 0:case 11:case 15:Qa(i),i.flags&2048&&Ci(9,i,i.return);break;case 3:Qa(i);break;case 12:Qa(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&4&&(i.return===null||i.return.tag!==13)?(r._visibility&=-5,ru(i)):Qa(i);break;default:Qa(i)}}function ru(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];lt=u,O_(u,i)}D_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ci(8,r,r.return),ru(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,ru(r));break;default:ru(r)}i=i.sibling}}function O_(i,r){for(;lt!==null;){var a=lt;switch(a.tag){case 0:case 11:case 15:Ci(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ma(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,lt=u;else e:for(a=i;lt!==null;){u=lt;var h=u.sibling,f=u.return;if(A_(u),u===a){lt=null;break e}if(h!==null){h.return=f,lt=h;break e}lt=f}}}function O1(i,r,a,u){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(i,r,a,u){return new O1(i,r,a,u)}function If(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Oi(i,r){var a=i.alternate;return a===null?(a=un(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&31457280,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function x_(i,r){i.flags&=31457282;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function su(i,r,a,u,h,f){var p=0;if(u=i,typeof i=="function")If(i)&&(p=1);else if(typeof i=="string")p=pR(i,a,wn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case d:return Dr(a.children,h,f,r);case g:p=8,h|=24;break;case y:return i=un(12,a,r,h|2),i.elementType=y,i.lanes=f,i;case k:return i=un(13,a,r,h),i.elementType=k,i.lanes=f,i;case M:return i=un(19,a,r,h),i.elementType=M,i.lanes=f,i;case ne:return M_(a,h,f,r);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case v:case S:p=10;break e;case E:p=9;break e;case x:p=11;break e;case Y:p=14;break e;case J:p=16,u=null;break e}p=29,a=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=un(p,a,r,h),r.elementType=i,r.type=u,r.lanes=f,r}function Dr(i,r,a,u){return i=un(7,i,u,r),i.lanes=a,i}function M_(i,r,a,u){i=un(22,i,u,r),i.elementType=ne,i.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var p=vi(f,2);p!==null&&(h._pendingVisibility|=2,Vt(p,f,2))}},attach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var p=vi(f,2);p!==null&&(h._pendingVisibility&=-3,Vt(p,f,2))}}};return i.stateNode=h,i}function Cf(i,r,a){return i=un(6,i,null,r),i.lanes=a,i}function Df(i,r,a){return r=un(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}function Jn(i){i.flags|=4}function V_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!_v(r)){if(r=an.current,r!==null&&((Ae&4194176)===Ae?bn!==null:(Ae&62914560)!==Ae&&(Ae&536870912)===0||r!==bn))throw Na=Mh,Wp;i.flags|=8192}}function au(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Zg():536870912,i.lanes|=r,Rs|=r)}function Ka(i,r){if(!Se)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Be(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,u=0;if(r)for(var h=i.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags&31457280,u|=h.flags&31457280,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=u,i.childLanes=a,r}function x1(i,r,a){var u=r.pendingProps;switch(Oh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(r),null;case 1:return Be(r),null;case 3:return a=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Xn(rt),Zr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(ba(r)?Jn(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,pn!==null&&(Lf(pn),pn=null))),Be(r),null;case 26:return a=r.memoizedState,i===null?(Jn(r),a!==null?(Be(r),V_(r,a)):(Be(r),r.flags&=-16777217)):a?a!==i.memoizedState?(Jn(r),Be(r),V_(r,a)):(Be(r),r.flags&=-16777217):(i.memoizedProps!==u&&Jn(r),Be(r),r.flags&=-16777217),null;case 27:_l(r),a=gi.current;var h=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Jn(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Be(r),null}i=wn.current,ba(r)?Xp(r):(i=cv(h,u,a),r.stateNode=i,Jn(r))}return Be(r),null;case 5:if(_l(r),a=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Jn(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Be(r),null}if(i=wn.current,ba(r))Xp(r);else{switch(h=yu(gi.current),i){case 1:i=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?h.createElement(a,{is:u.is}):h.createElement(a)}}i[wt]=r,i[kt]=u;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=i;e:switch(pt(i,a,u),a){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Jn(r)}}return Be(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&Jn(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=gi.current,ba(r)){if(i=r.stateNode,a=r.memoizedProps,u=null,h=Mt,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}i[wt]=r,i=!!(i.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||rv(i.nodeValue,a)),i||vr(r)}else i=yu(i).createTextNode(u),i[wt]=r,r.stateNode=i}return Be(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=ba(r),u!==null&&u.dehydrated!==null){if(i===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[wt]=r}else Ia(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Be(r),h=!1}else pn!==null&&(Lf(pn),pn=null),h=!0;if(!h)return r.flags&256?(Gn(r),r):(Gn(r),null)}if(Gn(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=u!==null,i=i!==null&&i.memoizedState!==null,a){u=r.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var f=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(f=u.memoizedState.cachePool.pool),f!==h&&(u.flags|=2048)}return a!==i&&a&&(r.child.flags|=8192),au(r,r.updateQueue),Be(r),null;case 4:return Zr(),i===null&&Yf(r.stateNode.containerInfo),Be(r),null;case 10:return Xn(r.type),Be(r),null;case 19:if($e(it),h=r.memoizedState,h===null)return Be(r),null;if(u=(r.flags&128)!==0,f=h.rendering,f===null)if(u)Ka(h,!1);else{if(Ge!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(f=Hl(i),f!==null){for(r.flags|=128,Ka(h,!1),i=f.updateQueue,r.updateQueue=i,au(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)x_(a,i),a=a.sibling;return ze(it,it.current&1|2),r.child}i=i.sibling}h.tail!==null&&Sn()>ou&&(r.flags|=128,u=!0,Ka(h,!1),r.lanes=4194304)}else{if(!u)if(i=Hl(f),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,au(r,i),Ka(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Se)return Be(r),null}else 2*Sn()-h.renderingStartTime>ou&&a!==536870912&&(r.flags|=128,u=!0,Ka(h,!1),r.lanes=4194304);h.isBackwards?(f.sibling=r.child,r.child=f):(i=h.last,i!==null?i.sibling=f:r.child=f,h.last=f)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Sn(),r.sibling=null,i=it.current,ze(it,u?i&1|2:i&1),r):(Be(r),null);case 22:case 23:return Gn(r),Ph(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(Be(r),r.subtreeFlags&6&&(r.flags|=8192)):Be(r),a=r.updateQueue,a!==null&&au(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),i!==null&&$e(Tr),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Xn(rt),Be(r),null;case 25:return null}throw Error(s(156,r.tag))}function M1(i,r){switch(Oh(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Xn(rt),Zr(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return _l(r),null;case 13:if(Gn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ia()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return $e(it),null;case 4:return Zr(),null;case 10:return Xn(r.type),null;case 22:case 23:return Gn(r),Ph(),i!==null&&$e(Tr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Xn(rt),null;case 25:return null;default:return null}}function P_(i,r){switch(Oh(r),r.tag){case 3:Xn(rt),Zr();break;case 26:case 27:case 5:_l(r);break;case 4:Zr();break;case 13:Gn(r);break;case 19:$e(it);break;case 10:Xn(r.type);break;case 22:case 23:Gn(r),Ph(),i!==null&&$e(Tr);break;case 24:Xn(rt)}}var V1={getCacheForType:function(i){var r=St(rt),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a}},P1=typeof WeakMap=="function"?WeakMap:Map,qe=0,Ve=null,pe=null,Ae=0,Pe=0,Yt=null,ei=!1,Ss=!1,Nf=!1,ti=0,Ge=0,xi=0,Nr=0,Of=0,cn=0,Rs=0,Ya=null,Cn=null,xf=!1,Mf=0,ou=1/0,lu=null,Mi=null,uu=!1,Or=null,Xa=0,Vf=0,Pf=null,$a=0,Uf=null;function Xt(){if((qe&2)!==0&&Ae!==0)return Ae&-Ae;if($.T!==null){var i=ps;return i!==0?i:Ff()}return np()}function U_(){cn===0&&(cn=(Ae&536870912)===0||Se?Wg():536870912);var i=an.current;return i!==null&&(i.flags|=32),cn}function Vt(i,r,a){(i===Ve&&Pe===2||i.cancelPendingCommit!==null)&&(bs(i,0),ni(i,Ae,cn,!1)),ma(i,a),((qe&2)===0||i!==Ve)&&(i===Ve&&((qe&2)===0&&(Nr|=a),Ge===4&&ni(i,Ae,cn,!1)),Dn(i))}function L_(i,r,a){if((qe&6)!==0)throw Error(s(327));var u=!a&&(r&60)===0&&(r&i.expiredLanes)===0||da(i,r),h=u?k1(i,r):zf(i,r,!0),f=u;do{if(h===0){Ss&&!u&&ni(i,r,0,!1);break}else if(h===6)ni(i,r,0,!ei);else{if(a=i.current.alternate,f&&!U1(a)){h=zf(i,r,!1),f=!1;continue}if(h===2){if(f=r,i.errorRecoveryDisabledLanes&f)var p=0;else p=i.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){r=p;e:{var _=i;h=Ya;var A=_.current.memoizedState.isDehydrated;if(A&&(bs(_,p).flags|=256),p=zf(_,p,!1),p!==2){if(Nf&&!A){_.errorRecoveryDisabledLanes|=f,Nr|=f,h=4;break e}f=Cn,Cn=h,f!==null&&Lf(f)}h=p}if(f=!1,h!==2)continue}}if(h===1){bs(i,0),ni(i,r,0,!0);break}e:{switch(u=i,h){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){ni(u,r,cn,!ei);break e}break;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=a,u.finishedLanes=r,(r&62914560)===r&&(f=Mf+300-Sn(),10<f)){if(ni(u,r,cn,!ei),Al(u,0)!==0)break e;u.timeoutHandle=ov(k_.bind(null,u,a,Cn,lu,xf,r,cn,Nr,Rs,ei,2,-0,0),f);break e}k_(u,a,Cn,lu,xf,r,cn,Nr,Rs,ei,0,-0,0)}}break}while(!0);Dn(i)}function Lf(i){Cn===null?Cn=i:Cn.push.apply(Cn,i)}function k_(i,r,a,u,h,f,p,_,A,b,V,L,D){var O=r.subtreeFlags;if((O&8192||(O&16785408)===16785408)&&(no={stylesheets:null,count:0,unsuspend:yR},C_(r),r=vR(),r!==null)){i.cancelPendingCommit=r(G_.bind(null,i,a,u,h,p,_,A,1,L,D)),ni(i,f,p,!b);return}G_(i,a,u,h,p,_,A,V,L,D)}function U1(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var h=a[u],f=h.getSnapshot;h=h.value;try{if(!Gt(f(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ni(i,r,a,u){r&=~Of,r&=~Nr,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var h=r;0<h;){var f=31-Ft(h),p=1<<f;u[f]=-1,h&=~p}a!==0&&Jg(i,a,r)}function cu(){return(qe&6)===0?(Wa(0),!1):!0}function kf(){if(pe!==null){if(Pe===0)var i=pe.return;else i=pe,Yn=br=null,Hh(i),ms=null,Oa=0,i=pe;for(;i!==null;)P_(i.alternate,i),i=i.return;pe=null}}function bs(i,r){i.finishedWork=null,i.finishedLanes=0;var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,tR(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),kf(),Ve=i,pe=a=Oi(i.current,null),Ae=r,Pe=0,Yt=null,ei=!1,Ss=da(i,r),Nf=!1,Rs=cn=Of=Nr=xi=Ge=0,Cn=Ya=null,xf=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var h=31-Ft(u),f=1<<h;r|=i[h],u&=~f}return ti=r,Vl(),a}function j_(i,r){me=null,$.H=In,r===Da?(r=ey(),Pe=3):r===Wp?(r=ey(),Pe=4):Pe=r===Zy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Yt=r,pe===null&&(Ge=1,eu(i,nn(r,i.current)))}function z_(){var i=$.H;return $.H=In,i===null?In:i}function B_(){var i=$.A;return $.A=V1,i}function jf(){Ge=4,ei||(Ae&4194176)!==Ae&&an.current!==null||(Ss=!0),(xi&134217727)===0&&(Nr&134217727)===0||Ve===null||ni(Ve,Ae,cn,!1)}function zf(i,r,a){var u=qe;qe|=2;var h=z_(),f=B_();(Ve!==i||Ae!==r)&&(lu=null,bs(i,r)),r=!1;var p=Ge;e:do try{if(Pe!==0&&pe!==null){var _=pe,A=Yt;switch(Pe){case 8:kf(),p=6;break e;case 3:case 2:case 6:an.current===null&&(r=!0);var b=Pe;if(Pe=0,Yt=null,Is(i,_,A,b),a&&Ss){p=0;break e}break;default:b=Pe,Pe=0,Yt=null,Is(i,_,A,b)}}L1(),p=Ge;break}catch(V){j_(i,V)}while(!0);return r&&i.shellSuspendCounter++,Yn=br=null,qe=u,$.H=h,$.A=f,pe===null&&(Ve=null,Ae=0,Vl()),p}function L1(){for(;pe!==null;)q_(pe)}function k1(i,r){var a=qe;qe|=2;var u=z_(),h=B_();Ve!==i||Ae!==r?(lu=null,ou=Sn()+500,bs(i,r)):Ss=da(i,r);e:do try{if(Pe!==0&&pe!==null){r=pe;var f=Yt;t:switch(Pe){case 1:Pe=0,Yt=null,Is(i,r,f,1);break;case 2:if(Zp(f)){Pe=0,Yt=null,H_(r);break}r=function(){Pe===2&&Ve===i&&(Pe=7),Dn(i)},f.then(r,r);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:Zp(f)?(Pe=0,Yt=null,H_(r)):(Pe=0,Yt=null,Is(i,r,f,7));break;case 5:var p=null;switch(pe.tag){case 26:p=pe.memoizedState;case 5:case 27:var _=pe;if(!p||_v(p)){Pe=0,Yt=null;var A=_.sibling;if(A!==null)pe=A;else{var b=_.return;b!==null?(pe=b,hu(b)):pe=null}break t}}Pe=0,Yt=null,Is(i,r,f,5);break;case 6:Pe=0,Yt=null,Is(i,r,f,6);break;case 8:kf(),Ge=6;break e;default:throw Error(s(462))}}j1();break}catch(V){j_(i,V)}while(!0);return Yn=br=null,$.H=u,$.A=h,qe=a,pe!==null?0:(Ve=null,Ae=0,Vl(),Ge)}function j1(){for(;pe!==null&&!oS();)q_(pe)}function q_(i){var r=c_(i.alternate,i,ti);i.memoizedProps=i.pendingProps,r===null?hu(i):pe=r}function H_(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=r_(a,r,r.pendingProps,r.type,void 0,Ae);break;case 11:r=r_(a,r,r.pendingProps,r.type.render,r.ref,Ae);break;case 5:Hh(r);default:P_(a,r),r=pe=x_(r,ti),r=c_(a,r,ti)}i.memoizedProps=i.pendingProps,r===null?hu(i):pe=r}function Is(i,r,a,u){Yn=br=null,Hh(r),ms=null,Oa=0;var h=r.return;try{if(I1(i,h,r,a,Ae)){Ge=1,eu(i,nn(a,i.current)),pe=null;return}}catch(f){if(h!==null)throw pe=h,f;Ge=1,eu(i,nn(a,i.current)),pe=null;return}r.flags&32768?(Se||u===1?i=!0:Ss||(Ae&536870912)!==0?i=!1:(ei=i=!0,(u===2||u===3||u===6)&&(u=an.current,u!==null&&u.tag===13&&(u.flags|=16384))),F_(r,i)):hu(r)}function hu(i){var r=i;do{if((r.flags&32768)!==0){F_(r,ei);return}i=r.return;var a=x1(r.alternate,r,ti);if(a!==null){pe=a;return}if(r=r.sibling,r!==null){pe=r;return}pe=r=i}while(r!==null);Ge===0&&(Ge=5)}function F_(i,r){do{var a=M1(i.alternate,i);if(a!==null){a.flags&=32767,pe=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){pe=i;return}pe=i=a}while(i!==null);Ge=6,pe=null}function G_(i,r,a,u,h,f,p,_,A,b){var V=$.T,L=F.p;try{F.p=2,$.T=null,z1(i,r,a,u,L,h,f,p,_,A,b)}finally{$.T=V,F.p=L}}function z1(i,r,a,u,h,f,p,_){do Cs();while(Or!==null);if((qe&6)!==0)throw Error(s(327));var A=i.finishedWork;if(u=i.finishedLanes,A===null)return null;if(i.finishedWork=null,i.finishedLanes=0,A===i.current)throw Error(s(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var b=A.lanes|A.childLanes;if(b|=Ch,_S(i,u,b,f,p,_),i===Ve&&(pe=Ve=null,Ae=0),(A.subtreeFlags&10256)===0&&(A.flags&10256)===0||uu||(uu=!0,Vf=b,Pf=a,F1(vl,function(){return Cs(),null})),a=(A.flags&15990)!==0,(A.subtreeFlags&15990)!==0||a?(a=$.T,$.T=null,f=F.p,F.p=2,p=qe,qe|=4,D1(i,A),R_(A,i),c1(Zf,i.containerInfo),wu=!!Wf,Zf=Wf=null,i.current=A,T_(i,A.alternate,A),lS(),qe=p,F.p=f,$.T=a):i.current=A,uu?(uu=!1,Or=i,Xa=u):Q_(i,b),b=i.pendingLanes,b===0&&(Mi=null),dS(A.stateNode),Dn(i),r!==null)for(h=i.onRecoverableError,A=0;A<r.length;A++)b=r[A],h(b.value,{componentStack:b.stack});return(Xa&3)!==0&&Cs(),b=i.pendingLanes,(u&4194218)!==0&&(b&42)!==0?i===Uf?$a++:($a=0,Uf=i):$a=0,Wa(0),null}function Q_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Ma(r)))}function Cs(){if(Or!==null){var i=Or,r=Vf;Vf=0;var a=tp(Xa),u=$.T,h=F.p;try{if(F.p=32>a?32:a,$.T=null,Or===null)var f=!1;else{a=Pf,Pf=null;var p=Or,_=Xa;if(Or=null,Xa=0,(qe&6)!==0)throw Error(s(331));var A=qe;if(qe|=4,N_(p.current),I_(p,p.current,_,a),qe=A,Wa(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(fa,p)}catch{}f=!0}return f}finally{F.p=h,$.T=u,Q_(i,r)}}return!1}function K_(i,r,a){r=nn(a,r),r=rf(i.stateNode,r,2),i=Ii(i,r,2),i!==null&&(ma(i,2),Dn(i))}function xe(i,r,a){if(i.tag===3)K_(i,i,a);else for(;r!==null;){if(r.tag===3){K_(r,i,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Mi===null||!Mi.has(u))){i=nn(a,i),a=$y(2),u=Ii(r,a,2),u!==null&&(Wy(a,u,r,i),ma(u,2),Dn(u));break}}r=r.return}}function Bf(i,r,a){var u=i.pingCache;if(u===null){u=i.pingCache=new P1;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(a)||(Nf=!0,h.add(a),i=B1.bind(null,i,r,a),r.then(i,i))}function B1(i,r,a){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,Ve===i&&(Ae&a)===a&&(Ge===4||Ge===3&&(Ae&62914560)===Ae&&300>Sn()-Mf?(qe&2)===0&&bs(i,0):Of|=a,Rs===Ae&&(Rs=0)),Dn(i)}function Y_(i,r){r===0&&(r=Zg()),i=vi(i,r),i!==null&&(ma(i,r),Dn(i))}function q1(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),Y_(i,a)}function H1(i,r){var a=0;switch(i.tag){case 13:var u=i.stateNode,h=i.memoizedState;h!==null&&(a=h.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),Y_(i,a)}function F1(i,r){return rh(i,r)}var fu=null,Ds=null,qf=!1,du=!1,Hf=!1,xr=0;function Dn(i){i!==Ds&&i.next===null&&(Ds===null?fu=Ds=i:Ds=Ds.next=i),du=!0,qf||(qf=!0,Q1(G1))}function Wa(i,r){if(!Hf&&du){Hf=!0;do for(var a=!1,u=fu;u!==null;){if(i!==0){var h=u.pendingLanes;if(h===0)var f=0;else{var p=u.suspendedLanes,_=u.pingedLanes;f=(1<<31-Ft(42|i)+1)-1,f&=h&~(p&~_),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(a=!0,W_(u,f))}else f=Ae,f=Al(u,u===Ve?f:0),(f&3)===0||da(u,f)||(a=!0,W_(u,f));u=u.next}while(a);Hf=!1}}function G1(){du=qf=!1;var i=0;xr!==0&&(eR()&&(i=xr),xr=0);for(var r=Sn(),a=null,u=fu;u!==null;){var h=u.next,f=X_(u,r);f===0?(u.next=null,a===null?fu=h:a.next=h,h===null&&(Ds=a)):(a=u,(i!==0||(f&3)!==0)&&(du=!0)),u=h}Wa(i)}function X_(i,r){for(var a=i.suspendedLanes,u=i.pingedLanes,h=i.expirationTimes,f=i.pendingLanes&-62914561;0<f;){var p=31-Ft(f),_=1<<p,A=h[p];A===-1?((_&a)===0||(_&u)!==0)&&(h[p]=yS(_,r)):A<=r&&(i.expiredLanes|=_),f&=~_}if(r=Ve,a=Ae,a=Al(i,i===r?a:0),u=i.callbackNode,a===0||i===r&&Pe===2||i.cancelPendingCommit!==null)return u!==null&&u!==null&&sh(u),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||da(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(u!==null&&sh(u),tp(a)){case 2:case 8:a=Xg;break;case 32:a=vl;break;case 268435456:a=$g;break;default:a=vl}return u=$_.bind(null,i),a=rh(a,u),i.callbackPriority=r,i.callbackNode=a,r}return u!==null&&u!==null&&sh(u),i.callbackPriority=2,i.callbackNode=null,2}function $_(i,r){var a=i.callbackNode;if(Cs()&&i.callbackNode!==a)return null;var u=Ae;return u=Al(i,i===Ve?u:0),u===0?null:(L_(i,u,r),X_(i,Sn()),i.callbackNode!=null&&i.callbackNode===a?$_.bind(null,i):null)}function W_(i,r){if(Cs())return null;L_(i,r,!0)}function Q1(i){nR(function(){(qe&6)!==0?rh(Yg,i):i()})}function Ff(){return xr===0&&(xr=Wg()),xr}function Z_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Il(""+i)}function J_(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function K1(i,r,a,u,h){if(r==="submit"&&a&&a.stateNode===h){var f=Z_((h[kt]||null).action),p=u.submitter;p&&(r=(r=p[kt]||null)?Z_(r.formAction):p.getAttribute("formAction"),r!==null&&(f=r,p=null));var _=new Ol("action","action",null,u,h);i.push({event:_,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(xr!==0){var A=p?J_(h,p):new FormData(h);Zh(a,{pending:!0,data:A,method:h.method,action:f},null,A)}}else typeof f=="function"&&(_.preventDefault(),A=p?J_(h,p):new FormData(h),Zh(a,{pending:!0,data:A,method:h.method,action:f},f,A))},currentTarget:h}]})}}for(var Gf=0;Gf<Gp.length;Gf++){var Qf=Gp[Gf],Y1=Qf.toLowerCase(),X1=Qf[0].toUpperCase()+Qf.slice(1);gn(Y1,"on"+X1)}gn(zp,"onAnimationEnd"),gn(Bp,"onAnimationIteration"),gn(qp,"onAnimationStart"),gn("dblclick","onDoubleClick"),gn("focusin","onFocus"),gn("focusout","onBlur"),gn(f1,"onTransitionRun"),gn(d1,"onTransitionStart"),gn(m1,"onTransitionCancel"),gn(Hp,"onTransitionEnd"),ns("onMouseEnter",["mouseout","mouseover"]),ns("onMouseLeave",["mouseout","mouseover"]),ns("onPointerEnter",["pointerout","pointerover"]),ns("onPointerLeave",["pointerout","pointerover"]),dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Za));function ev(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var u=i[a],h=u.event;u=u.listeners;e:{var f=void 0;if(r)for(var p=u.length-1;0<=p;p--){var _=u[p],A=_.instance,b=_.currentTarget;if(_=_.listener,A!==f&&h.isPropagationStopped())break e;f=_,h.currentTarget=b;try{f(h)}catch(V){Jl(V)}h.currentTarget=null,f=A}else for(p=0;p<u.length;p++){if(_=u[p],A=_.instance,b=_.currentTarget,_=_.listener,A!==f&&h.isPropagationStopped())break e;f=_,h.currentTarget=b;try{f(h)}catch(V){Jl(V)}h.currentTarget=null,f=A}}}}function ve(i,r){var a=r[oh];a===void 0&&(a=r[oh]=new Set);var u=i+"__bubble";a.has(u)||(tv(r,i,2,!1),a.add(u))}function Kf(i,r,a){var u=0;r&&(u|=4),tv(a,i,u,r)}var mu="_reactListening"+Math.random().toString(36).slice(2);function Yf(i){if(!i[mu]){i[mu]=!0,rp.forEach(function(a){a!=="selectionchange"&&($1.has(a)||Kf(a,!1,i),Kf(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[mu]||(r[mu]=!0,Kf("selectionchange",!1,r))}}function tv(i,r,a,u){switch(Sv(r)){case 2:var h=AR;break;case 8:h=wR;break;default:h=od}a=h.bind(null,r,a,i),h=void 0,!gh||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?i.addEventListener(r,a,{capture:!0,passive:h}):i.addEventListener(r,a,!0):h!==void 0?i.addEventListener(r,a,{passive:h}):i.addEventListener(r,a,!1)}function Xf(i,r,a,u,h){var f=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var p=u.tag;if(p===3||p===4){var _=u.stateNode.containerInfo;if(_===h||_.nodeType===8&&_.parentNode===h)break;if(p===4)for(p=u.return;p!==null;){var A=p.tag;if((A===3||A===4)&&(A=p.stateNode.containerInfo,A===h||A.nodeType===8&&A.parentNode===h))return;p=p.return}for(;_!==null;){if(p=fr(_),p===null)return;if(A=p.tag,A===5||A===6||A===26||A===27){u=f=p;continue e}_=_.parentNode}}u=u.return}pp(function(){var b=f,V=dh(a),L=[];e:{var D=Fp.get(i);if(D!==void 0){var O=Ol,K=i;switch(i){case"keypress":if(Dl(a)===0)break e;case"keydown":case"keyup":O=HS;break;case"focusin":K="focus",O=vh;break;case"focusout":K="blur",O=vh;break;case"beforeblur":case"afterblur":O=vh;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=vp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=OS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=QS;break;case zp:case Bp:case qp:O=VS;break;case Hp:O=YS;break;case"scroll":case"scrollend":O=DS;break;case"wheel":O=$S;break;case"copy":case"cut":case"paste":O=US;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=Tp;break;case"toggle":case"beforetoggle":O=ZS}var le=(r&4)!==0,Qe=!le&&(i==="scroll"||i==="scrollend"),I=le?D!==null?D+"Capture":null:D;le=[];for(var R=b,C;R!==null;){var P=R;if(C=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||C===null||I===null||(P=ya(R,I),P!=null&&le.push(Ja(R,P,C))),Qe)break;R=R.return}0<le.length&&(D=new O(D,K,null,a,V),L.push({event:D,listeners:le}))}}if((r&7)===0){e:{if(D=i==="mouseover"||i==="pointerover",O=i==="mouseout"||i==="pointerout",D&&a!==fh&&(K=a.relatedTarget||a.fromElement)&&(fr(K)||K[Jr]))break e;if((O||D)&&(D=V.window===V?V:(D=V.ownerDocument)?D.defaultView||D.parentWindow:window,O?(K=a.relatedTarget||a.toElement,O=b,K=K?fr(K):null,K!==null&&(Qe=ie(K),le=K.tag,K!==Qe||le!==5&&le!==27&&le!==6)&&(K=null)):(O=null,K=b),O!==K)){if(le=vp,P="onMouseLeave",I="onMouseEnter",R="mouse",(i==="pointerout"||i==="pointerover")&&(le=Tp,P="onPointerLeave",I="onPointerEnter",R="pointer"),Qe=O==null?D:pa(O),C=K==null?D:pa(K),D=new le(P,R+"leave",O,a,V),D.target=Qe,D.relatedTarget=C,P=null,fr(V)===b&&(le=new le(I,R+"enter",K,a,V),le.target=C,le.relatedTarget=Qe,P=le),Qe=P,O&&K)t:{for(le=O,I=K,R=0,C=le;C;C=Ns(C))R++;for(C=0,P=I;P;P=Ns(P))C++;for(;0<R-C;)le=Ns(le),R--;for(;0<C-R;)I=Ns(I),C--;for(;R--;){if(le===I||I!==null&&le===I.alternate)break t;le=Ns(le),I=Ns(I)}le=null}else le=null;O!==null&&nv(L,D,O,le,!1),K!==null&&Qe!==null&&nv(L,Qe,K,le,!0)}}e:{if(D=b?pa(b):window,O=D.nodeName&&D.nodeName.toLowerCase(),O==="select"||O==="input"&&D.type==="file")var G=Dp;else if(Ip(D))if(Np)G=l1;else{G=a1;var ge=s1}else O=D.nodeName,!O||O.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?b&&hh(b.elementType)&&(G=Dp):G=o1;if(G&&(G=G(i,b))){Cp(L,G,a,V);break e}ge&&ge(i,D,b),i==="focusout"&&b&&D.type==="number"&&b.memoizedProps.value!=null&&ch(D,"number",D.value)}switch(ge=b?pa(b):window,i){case"focusin":(Ip(ge)||ge.contentEditable==="true")&&(ls=ge,Rh=b,Ra=null);break;case"focusout":Ra=Rh=ls=null;break;case"mousedown":bh=!0;break;case"contextmenu":case"mouseup":case"dragend":bh=!1,kp(L,a,V);break;case"selectionchange":if(h1)break;case"keydown":case"keyup":kp(L,a,V)}var X;if(Th)e:{switch(i){case"compositionstart":var ee="onCompositionStart";break e;case"compositionend":ee="onCompositionEnd";break e;case"compositionupdate":ee="onCompositionUpdate";break e}ee=void 0}else os?Rp(i,a)&&(ee="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(ee="onCompositionStart");ee&&(Ap&&a.locale!=="ko"&&(os||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&os&&(X=yp()):(_i=V,ph="value"in _i?_i.value:_i.textContent,os=!0)),ge=gu(b,ee),0<ge.length&&(ee=new Ep(ee,i,null,a,V),L.push({event:ee,listeners:ge}),X?ee.data=X:(X=bp(a),X!==null&&(ee.data=X)))),(X=e1?t1(i,a):n1(i,a))&&(ee=gu(b,"onBeforeInput"),0<ee.length&&(ge=new Ep("onBeforeInput","beforeinput",null,a,V),L.push({event:ge,listeners:ee}),ge.data=X)),K1(L,i,b,a,V)}ev(L,r)})}function Ja(i,r,a){return{instance:i,listener:r,currentTarget:a}}function gu(i,r){for(var a=r+"Capture",u=[];i!==null;){var h=i,f=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ya(i,a),h!=null&&u.unshift(Ja(i,h,f)),h=ya(i,r),h!=null&&u.push(Ja(i,h,f))),i=i.return}return u}function Ns(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function nv(i,r,a,u,h){for(var f=r._reactName,p=[];a!==null&&a!==u;){var _=a,A=_.alternate,b=_.stateNode;if(_=_.tag,A!==null&&A===u)break;_!==5&&_!==26&&_!==27||b===null||(A=b,h?(b=ya(a,f),b!=null&&p.unshift(Ja(a,b,A))):h||(b=ya(a,f),b!=null&&p.push(Ja(a,b,A)))),a=a.return}p.length!==0&&i.push({event:r,listeners:p})}var W1=/\r\n?/g,Z1=/\u0000|\uFFFD/g;function iv(i){return(typeof i=="string"?i:""+i).replace(W1,`
`).replace(Z1,"")}function rv(i,r){return r=iv(r),iv(i)===r}function pu(){}function Oe(i,r,a,u,h,f){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||rs(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&rs(i,""+u);break;case"className":Sl(i,"class",u);break;case"tabIndex":Sl(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Sl(i,a,u);break;case"style":mp(i,u,f);break;case"data":if(r!=="object"){Sl(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=Il(""+u),i.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&Oe(i,r,"name",h.name,h,null),Oe(i,r,"formEncType",h.formEncType,h,null),Oe(i,r,"formMethod",h.formMethod,h,null),Oe(i,r,"formTarget",h.formTarget,h,null)):(Oe(i,r,"encType",h.encType,h,null),Oe(i,r,"method",h.method,h,null),Oe(i,r,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=Il(""+u),i.setAttribute(a,u);break;case"onClick":u!=null&&(i.onclick=pu);break;case"onScroll":u!=null&&ve("scroll",i);break;case"onScrollEnd":u!=null&&ve("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}a=Il(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""+u):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":u===!0?i.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,u):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(a,u):i.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(a):i.setAttribute(a,u);break;case"popover":ve("beforetoggle",i),ve("toggle",i),wl(i,"popover",u);break;case"xlinkActuate":qn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":wl(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=IS.get(a)||a,wl(i,a,u))}}function $f(i,r,a,u,h,f){switch(a){case"style":mp(i,u,f);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof u=="string"?rs(i,u):(typeof u=="number"||typeof u=="bigint")&&rs(i,""+u);break;case"onScroll":u!=null&&ve("scroll",i);break;case"onScrollEnd":u!=null&&ve("scrollend",i);break;case"onClick":u!=null&&(i.onclick=pu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sp.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),f=i[kt]||null,f=f!=null?f[a]:null,typeof f=="function"&&i.removeEventListener(r,f,h),typeof u=="function")){typeof f!="function"&&f!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,u,h);break e}a in i?i[a]=u:u===!0?i.setAttribute(a,""):wl(i,a,u)}}}function pt(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",i),ve("load",i);var u=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Oe(i,r,f,p,a,null)}}h&&Oe(i,r,"srcSet",a.srcSet,a,null),u&&Oe(i,r,"src",a.src,a,null);return;case"input":ve("invalid",i);var _=f=p=h=null,A=null,b=null;for(u in a)if(a.hasOwnProperty(u)){var V=a[u];if(V!=null)switch(u){case"name":h=V;break;case"type":p=V;break;case"checked":A=V;break;case"defaultChecked":b=V;break;case"value":f=V;break;case"defaultValue":_=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,r));break;default:Oe(i,r,u,V,a,null)}}cp(i,f,_,A,b,p,h,!1),Rl(i);return;case"select":ve("invalid",i),u=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(_=a[h],_!=null))switch(h){case"value":f=_;break;case"defaultValue":p=_;break;case"multiple":u=_;default:Oe(i,r,h,_,a,null)}r=f,a=p,i.multiple=!!u,r!=null?is(i,!!u,r,!1):a!=null&&is(i,!!u,a,!0);return;case"textarea":ve("invalid",i),f=h=u=null;for(p in a)if(a.hasOwnProperty(p)&&(_=a[p],_!=null))switch(p){case"value":u=_;break;case"defaultValue":h=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:Oe(i,r,p,_,a,null)}fp(i,u,h,f),Rl(i);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(u=a[A],u!=null))switch(A){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Oe(i,r,A,u,a,null)}return;case"dialog":ve("cancel",i),ve("close",i);break;case"iframe":case"object":ve("load",i);break;case"video":case"audio":for(u=0;u<Za.length;u++)ve(Za[u],i);break;case"image":ve("error",i),ve("load",i);break;case"details":ve("toggle",i);break;case"embed":case"source":case"link":ve("error",i),ve("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(b in a)if(a.hasOwnProperty(b)&&(u=a[b],u!=null))switch(b){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Oe(i,r,b,u,a,null)}return;default:if(hh(r)){for(V in a)a.hasOwnProperty(V)&&(u=a[V],u!==void 0&&$f(i,r,V,u,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(u=a[_],u!=null&&Oe(i,r,_,u,a,null))}function J1(i,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,_=null,A=null,b=null,V=null;for(O in a){var L=a[O];if(a.hasOwnProperty(O)&&L!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":A=L;default:u.hasOwnProperty(O)||Oe(i,r,O,null,u,L)}}for(var D in u){var O=u[D];if(L=a[D],u.hasOwnProperty(D)&&(O!=null||L!=null))switch(D){case"type":f=O;break;case"name":h=O;break;case"checked":b=O;break;case"defaultChecked":V=O;break;case"value":p=O;break;case"defaultValue":_=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,r));break;default:O!==L&&Oe(i,r,D,O,u,L)}}uh(i,p,_,A,b,V,f,h);return;case"select":O=p=_=D=null;for(f in a)if(A=a[f],a.hasOwnProperty(f)&&A!=null)switch(f){case"value":break;case"multiple":O=A;default:u.hasOwnProperty(f)||Oe(i,r,f,null,u,A)}for(h in u)if(f=u[h],A=a[h],u.hasOwnProperty(h)&&(f!=null||A!=null))switch(h){case"value":D=f;break;case"defaultValue":_=f;break;case"multiple":p=f;default:f!==A&&Oe(i,r,h,f,u,A)}r=_,a=p,u=O,D!=null?is(i,!!a,D,!1):!!u!=!!a&&(r!=null?is(i,!!a,r,!0):is(i,!!a,a?[]:"",!1));return;case"textarea":O=D=null;for(_ in a)if(h=a[_],a.hasOwnProperty(_)&&h!=null&&!u.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Oe(i,r,_,null,u,h)}for(p in u)if(h=u[p],f=a[p],u.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":D=h;break;case"defaultValue":O=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Oe(i,r,p,h,u,f)}hp(i,D,O);return;case"option":for(var K in a)if(D=a[K],a.hasOwnProperty(K)&&D!=null&&!u.hasOwnProperty(K))switch(K){case"selected":i.selected=!1;break;default:Oe(i,r,K,null,u,D)}for(A in u)if(D=u[A],O=a[A],u.hasOwnProperty(A)&&D!==O&&(D!=null||O!=null))switch(A){case"selected":i.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Oe(i,r,A,D,u,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in a)D=a[le],a.hasOwnProperty(le)&&D!=null&&!u.hasOwnProperty(le)&&Oe(i,r,le,null,u,D);for(b in u)if(D=u[b],O=a[b],u.hasOwnProperty(b)&&D!==O&&(D!=null||O!=null))switch(b){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(137,r));break;default:Oe(i,r,b,D,u,O)}return;default:if(hh(r)){for(var Qe in a)D=a[Qe],a.hasOwnProperty(Qe)&&D!==void 0&&!u.hasOwnProperty(Qe)&&$f(i,r,Qe,void 0,u,D);for(V in u)D=u[V],O=a[V],!u.hasOwnProperty(V)||D===O||D===void 0&&O===void 0||$f(i,r,V,D,u,O);return}}for(var I in a)D=a[I],a.hasOwnProperty(I)&&D!=null&&!u.hasOwnProperty(I)&&Oe(i,r,I,null,u,D);for(L in u)D=u[L],O=a[L],!u.hasOwnProperty(L)||D===O||D==null&&O==null||Oe(i,r,L,D,u,O)}var Wf=null,Zf=null;function yu(i){return i.nodeType===9?i:i.ownerDocument}function sv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function av(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Jf(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ed=null;function eR(){var i=window.event;return i&&i.type==="popstate"?i===ed?!1:(ed=i,!0):(ed=null,!1)}var ov=typeof setTimeout=="function"?setTimeout:void 0,tR=typeof clearTimeout=="function"?clearTimeout:void 0,lv=typeof Promise=="function"?Promise:void 0,nR=typeof queueMicrotask=="function"?queueMicrotask:typeof lv<"u"?function(i){return lv.resolve(null).then(i).catch(iR)}:ov;function iR(i){setTimeout(function(){throw i})}function td(i,r){var a=r,u=0;do{var h=a.nextSibling;if(i.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(u===0){i.removeChild(h),oo(r);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=h}while(a);oo(r)}function nd(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nd(a),lh(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function rR(i,r,a,u){for(;i.nodeType===1;){var h=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[ga])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(f=i.getAttribute("rel"),f==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(f!==h.rel||i.getAttribute("href")!==(h.href==null?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(f=i.getAttribute("src"),(f!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===f)return i}else return i;if(i=_n(i.nextSibling),i===null)break}return null}function sR(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=_n(i.nextSibling),i===null))return null;return i}function _n(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}function uv(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return i;r--}else a==="/$"&&r++}i=i.previousSibling}return null}function cv(i,r,a){switch(r=yu(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}var hn=new Map,hv=new Set;function _u(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var ii=F.d;F.d={f:aR,r:oR,D:lR,C:uR,L:cR,m:hR,X:dR,S:fR,M:mR};function aR(){var i=ii.f(),r=cu();return i||r}function oR(i){var r=es(i);r!==null&&r.tag===5&&r.type==="form"?ky(r):ii.r(i)}var Os=typeof document>"u"?null:document;function fv(i,r,a){var u=Os;if(u&&typeof r=="string"&&r){var h=en(r);h='link[rel="'+i+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),hv.has(h)||(hv.add(h),i={rel:i,crossOrigin:a,href:r},u.querySelector(h)===null&&(r=u.createElement("link"),pt(r,"link",i),at(r),u.head.appendChild(r)))}}function lR(i){ii.D(i),fv("dns-prefetch",i,null)}function uR(i,r){ii.C(i,r),fv("preconnect",i,r)}function cR(i,r,a){ii.L(i,r,a);var u=Os;if(u&&i&&r){var h='link[rel="preload"][as="'+en(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+en(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+en(a.imageSizes)+'"]')):h+='[href="'+en(i)+'"]';var f=h;switch(r){case"style":f=xs(i);break;case"script":f=Ms(i)}hn.has(f)||(i=ye({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),hn.set(f,i),u.querySelector(h)!==null||r==="style"&&u.querySelector(eo(f))||r==="script"&&u.querySelector(to(f))||(r=u.createElement("link"),pt(r,"link",i),at(r),u.head.appendChild(r)))}}function hR(i,r){ii.m(i,r);var a=Os;if(a&&i){var u=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+en(u)+'"][href="'+en(i)+'"]',f=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ms(i)}if(!hn.has(f)&&(i=ye({rel:"modulepreload",href:i},r),hn.set(f,i),a.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(to(f)))return}u=a.createElement("link"),pt(u,"link",i),at(u),a.head.appendChild(u)}}}function fR(i,r,a){ii.S(i,r,a);var u=Os;if(u&&i){var h=ts(u).hoistableStyles,f=xs(i);r=r||"default";var p=h.get(f);if(!p){var _={loading:0,preload:null};if(p=u.querySelector(eo(f)))_.loading=5;else{i=ye({rel:"stylesheet",href:i,"data-precedence":r},a),(a=hn.get(f))&&id(i,a);var A=p=u.createElement("link");at(A),pt(A,"link",i),A._p=new Promise(function(b,V){A.onload=b,A.onerror=V}),A.addEventListener("load",function(){_.loading|=1}),A.addEventListener("error",function(){_.loading|=2}),_.loading|=4,vu(p,r,u)}p={type:"stylesheet",instance:p,count:1,state:_},h.set(f,p)}}}function dR(i,r){ii.X(i,r);var a=Os;if(a&&i){var u=ts(a).hoistableScripts,h=Ms(i),f=u.get(h);f||(f=a.querySelector(to(h)),f||(i=ye({src:i,async:!0},r),(r=hn.get(h))&&rd(i,r),f=a.createElement("script"),at(f),pt(f,"link",i),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},u.set(h,f))}}function mR(i,r){ii.M(i,r);var a=Os;if(a&&i){var u=ts(a).hoistableScripts,h=Ms(i),f=u.get(h);f||(f=a.querySelector(to(h)),f||(i=ye({src:i,async:!0,type:"module"},r),(r=hn.get(h))&&rd(i,r),f=a.createElement("script"),at(f),pt(f,"link",i),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},u.set(h,f))}}function dv(i,r,a,u){var h=(h=gi.current)?_u(h):null;if(!h)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=xs(a.href),a=ts(h).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=xs(a.href);var f=ts(h).hoistableStyles,p=f.get(i);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(i,p),(f=h.querySelector(eo(i)))&&!f._p&&(p.instance=f,p.state.loading=5),hn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},hn.set(i,a),f||gR(h,i,a,p.state))),r&&u===null)throw Error(s(528,""));return p}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ms(a),a=ts(h).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function xs(i){return'href="'+en(i)+'"'}function eo(i){return'link[rel="stylesheet"]['+i+"]"}function mv(i){return ye({},i,{"data-precedence":i.precedence,precedence:null})}function gR(i,r,a,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),pt(r,"link",a),at(r),i.head.appendChild(r))}function Ms(i){return'[src="'+en(i)+'"]'}function to(i){return"script[async]"+i}function gv(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+en(a.href)+'"]');if(u)return r.instance=u,at(u),u;var h=ye({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),at(u),pt(u,"style",h),vu(u,a.precedence,i),r.instance=u;case"stylesheet":h=xs(a.href);var f=i.querySelector(eo(h));if(f)return r.state.loading|=4,r.instance=f,at(f),f;u=mv(a),(h=hn.get(h))&&id(u,h),f=(i.ownerDocument||i).createElement("link"),at(f);var p=f;return p._p=new Promise(function(_,A){p.onload=_,p.onerror=A}),pt(f,"link",u),r.state.loading|=4,vu(f,a.precedence,i),r.instance=f;case"script":return f=Ms(a.src),(h=i.querySelector(to(f)))?(r.instance=h,at(h),h):(u=a,(h=hn.get(f))&&(u=ye({},a),rd(u,h)),i=i.ownerDocument||i,h=i.createElement("script"),at(h),pt(h,"link",u),i.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,vu(u,a.precedence,i));return r.instance}function vu(i,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,f=h,p=0;p<u.length;p++){var _=u[p];if(_.dataset.precedence===r)f=_;else if(f!==h)break}f?f.parentNode.insertBefore(i,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function id(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function rd(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Eu=null;function pv(i,r,a){if(Eu===null){var u=new Map,h=Eu=new Map;h.set(a,u)}else h=Eu,u=h.get(a),u||(u=new Map,h.set(a,u));if(u.has(i))return u;for(u.set(i,null),a=a.getElementsByTagName(i),h=0;h<a.length;h++){var f=a[h];if(!(f[ga]||f[wt]||i==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(r)||"";p=i+p;var _=u.get(p);_?_.push(f):u.set(p,[f])}}return u}function yv(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function pR(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function _v(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var no=null;function yR(){}function _R(i,r,a){if(no===null)throw Error(s(475));var u=no;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=xs(a.href),f=i.querySelector(eo(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Tu.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=f,at(f);return}f=i.ownerDocument||i,a=mv(a),(h=hn.get(h))&&id(a,h),f=f.createElement("link"),at(f);var p=f;p._p=new Promise(function(_,A){p.onload=_,p.onerror=A}),pt(f,"link",a),r.instance=f}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Tu.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function vR(){if(no===null)throw Error(s(475));var i=no;return i.stylesheets&&i.count===0&&sd(i,i.stylesheets),0<i.count?function(r){var a=setTimeout(function(){if(i.stylesheets&&sd(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(a)}}:null}function Tu(){if(this.count--,this.count===0){if(this.stylesheets)sd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Au=null;function sd(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Au=new Map,r.forEach(ER,i),Au=null,Tu.call(i))}function ER(i,r){if(!(r.state.loading&4)){var a=Au.get(i);if(a)var u=a.get(null);else{a=new Map,Au.set(i,a);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),u=p)}u&&a.set(null,u)}h=r.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||u,f===u&&a.set(null,h),a.set(p,h),this.count++,u=Tu.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),f?f.parentNode.insertBefore(h,f.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),r.state.loading|=4}}var io={$$typeof:S,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function TR(i,r,a,u,h,f,p,_){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ah(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ah(0),this.hiddenUpdates=ah(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function vv(i,r,a,u,h,f,p,_,A,b,V,L){return i=new TR(i,r,a,p,_,A,b,L),r=1,f===!0&&(r|=24),f=un(3,null,null,r),i.current=f,f.stateNode=i,r=Uh(),r.refCount++,i.pooledCache=r,r.refCount++,f.memoizedState={element:u,isDehydrated:a,cache:r},yf(f),i}function Ev(i){return i?(i=hs,i):hs}function Tv(i,r,a,u,h,f){h=Ev(h),u.context===null?u.context=h:u.pendingContext=h,u=bi(r),u.payload={element:a},f=f===void 0?null:f,f!==null&&(u.callback=f),a=Ii(i,u,r),a!==null&&(Vt(a,i,r),za(a,i,r))}function Av(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function ad(i,r){Av(i,r),(i=i.alternate)&&Av(i,r)}function wv(i){if(i.tag===13){var r=vi(i,67108864);r!==null&&Vt(r,i,67108864),ad(i,67108864)}}var wu=!0;function AR(i,r,a,u){var h=$.T;$.T=null;var f=F.p;try{F.p=2,od(i,r,a,u)}finally{F.p=f,$.T=h}}function wR(i,r,a,u){var h=$.T;$.T=null;var f=F.p;try{F.p=8,od(i,r,a,u)}finally{F.p=f,$.T=h}}function od(i,r,a,u){if(wu){var h=ld(u);if(h===null)Xf(i,r,u,Su,a),Rv(i,u);else if(RR(h,i,r,a,u))u.stopPropagation();else if(Rv(i,u),r&4&&-1<SR.indexOf(i)){for(;h!==null;){var f=es(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=hr(f.pendingLanes);if(p!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;p;){var A=1<<31-Ft(p);_.entanglements[1]|=A,p&=~A}Dn(f),(qe&6)===0&&(ou=Sn()+500,Wa(0))}}break;case 13:_=vi(f,2),_!==null&&Vt(_,f,2),cu(),ad(f,2)}if(f=ld(u),f===null&&Xf(i,r,u,Su,a),f===h)break;h=f}h!==null&&u.stopPropagation()}else Xf(i,r,u,null,a)}}function ld(i){return i=dh(i),ud(i)}var Su=null;function ud(i){if(Su=null,i=fr(i),i!==null){var r=ie(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=Me(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Su=i,null}function Sv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(uS()){case Yg:return 2;case Xg:return 8;case vl:case cS:return 32;case $g:return 268435456;default:return 32}default:return 32}}var cd=!1,Vi=null,Pi=null,Ui=null,ro=new Map,so=new Map,Li=[],SR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rv(i,r){switch(i){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":ro.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":so.delete(r.pointerId)}}function ao(i,r,a,u,h,f){return i===null||i.nativeEvent!==f?(i={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:f,targetContainers:[h]},r!==null&&(r=es(r),r!==null&&wv(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),i)}function RR(i,r,a,u,h){switch(r){case"focusin":return Vi=ao(Vi,i,r,a,u,h),!0;case"dragenter":return Pi=ao(Pi,i,r,a,u,h),!0;case"mouseover":return Ui=ao(Ui,i,r,a,u,h),!0;case"pointerover":var f=h.pointerId;return ro.set(f,ao(ro.get(f)||null,i,r,a,u,h)),!0;case"gotpointercapture":return f=h.pointerId,so.set(f,ao(so.get(f)||null,i,r,a,u,h)),!0}return!1}function bv(i){var r=fr(i.target);if(r!==null){var a=ie(r);if(a!==null){if(r=a.tag,r===13){if(r=Me(a),r!==null){i.blockedOn=r,vS(i.priority,function(){if(a.tag===13){var u=Xt(),h=vi(a,u);h!==null&&Vt(h,a,u),ad(a,u)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ru(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=ld(i.nativeEvent);if(a===null){a=i.nativeEvent;var u=new a.constructor(a.type,a);fh=u,a.target.dispatchEvent(u),fh=null}else return r=es(a),r!==null&&wv(r),i.blockedOn=a,!1;r.shift()}return!0}function Iv(i,r,a){Ru(i)&&a.delete(r)}function bR(){cd=!1,Vi!==null&&Ru(Vi)&&(Vi=null),Pi!==null&&Ru(Pi)&&(Pi=null),Ui!==null&&Ru(Ui)&&(Ui=null),ro.forEach(Iv),so.forEach(Iv)}function bu(i,r){i.blockedOn===r&&(i.blockedOn=null,cd||(cd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bR)))}var Iu=null;function Cv(i){Iu!==i&&(Iu=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Iu===i&&(Iu=null);for(var r=0;r<i.length;r+=3){var a=i[r],u=i[r+1],h=i[r+2];if(typeof u!="function"){if(ud(u||a)===null)continue;break}var f=es(a);f!==null&&(i.splice(r,3),r-=3,Zh(f,{pending:!0,data:h,method:a.method,action:u},u,h))}}))}function oo(i){function r(A){return bu(A,i)}Vi!==null&&bu(Vi,i),Pi!==null&&bu(Pi,i),Ui!==null&&bu(Ui,i),ro.forEach(r),so.forEach(r);for(var a=0;a<Li.length;a++){var u=Li[a];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Li.length&&(a=Li[0],a.blockedOn===null);)bv(a),a.blockedOn===null&&Li.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var h=a[u],f=a[u+1],p=h[kt]||null;if(typeof f=="function")p||Cv(a);else if(p){var _=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[kt]||null)_=p.formAction;else if(ud(h)!==null)continue}else _=p.action;typeof _=="function"?a[u+1]=_:(a.splice(u,3),u-=3),Cv(a)}}}function hd(i){this._internalRoot=i}Cu.prototype.render=hd.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=Xt();Tv(a,u,i,r,null,null)},Cu.prototype.unmount=hd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;i.tag===0&&Cs(),Tv(i.current,2,null,i,null,null),cu(),r[Jr]=null}};function Cu(i){this._internalRoot=i}Cu.prototype.unstable_scheduleHydration=function(i){if(i){var r=np();i={blockedOn:null,target:i,priority:r};for(var a=0;a<Li.length&&r!==0&&r<Li[a].priority;a++);Li.splice(a,0,i),a===0&&bv(i)}};var Dv=e.version;if(Dv!=="19.0.0")throw Error(s(527,Dv,"19.0.0"));F.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=z(r),i=i!==null?te(i):null,i=i===null?null:i.stateNode,i};var IR={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:$,findFiberByHostInstance:fr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{fa=Du.inject(IR),Ht=Du}catch{}}return uo.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,u="",h=Qy,f=Ky,p=Yy,_=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(p=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(_=r.unstable_transitionCallbacks)),r=vv(i,1,!1,null,null,a,u,h,f,p,_,null),i[Jr]=r.current,Yf(i.nodeType===8?i.parentNode:i),new hd(r)},uo.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var u=!1,h="",f=Qy,p=Ky,_=Yy,A=null,b=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks),a.formState!==void 0&&(b=a.formState)),r=vv(i,1,!0,r,a??null,u,h,f,p,_,A,b),r.context=Ev(null),a=r.current,u=Xt(),h=bi(u),h.callback=null,Ii(a,h,u),r.current.lanes=u,ma(r,u),Dn(r),i[Jr]=r.current,Yf(i),new Cu(r)},uo.version="19.0.0",uo}var jv;function kR(){if(jv)return md.exports;jv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),md.exports=LR(),md.exports}var jR=kR();const zR=TE(jR);var BR=AE();/**
 * @remix-run/router v1.14.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Io(){return Io=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Io.apply(this,arguments)}var Qi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qi||(Qi={}));const zv="popstate";function qR(t){t===void 0&&(t={});function e(s,o){let{pathname:l,search:c,hash:m}=s.location;return qd("",{pathname:l,search:c,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Xu(o)}return FR(e,n,null,t)}function Xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Im(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HR(){return Math.random().toString(36).substr(2,8)}function Bv(t,e){return{usr:t.state,key:t.key,idx:e}}function qd(t,e,n,s){return n===void 0&&(n=null),Io({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ea(e):e,{state:n,key:e&&e.key||s||HR()})}function Xu(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function ea(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function FR(t,e,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,m=Qi.Pop,d=null,g=y();g==null&&(g=0,c.replaceState(Io({},c.state,{idx:g}),""));function y(){return(c.state||{idx:null}).idx}function v(){m=Qi.Pop;let M=y(),Y=M==null?null:M-g;g=M,d&&d({action:m,location:k.location,delta:Y})}function E(M,Y){m=Qi.Push;let J=qd(k.location,M,Y);g=y()+1;let ne=Bv(J,g),be=k.createHref(J);try{c.pushState(ne,"",be)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(be)}l&&d&&d({action:m,location:k.location,delta:1})}function S(M,Y){m=Qi.Replace;let J=qd(k.location,M,Y);g=y();let ne=Bv(J,g),be=k.createHref(J);c.replaceState(ne,"",be),l&&d&&d({action:m,location:k.location,delta:0})}function x(M){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,J=typeof M=="string"?M:Xu(M);return Xe(Y,"No window.location.(origin|href) available to create URL for href: "+J),new URL(J,Y)}let k={get action(){return m},get location(){return t(o,c)},listen(M){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(zv,v),d=M,()=>{o.removeEventListener(zv,v),d=null}},createHref(M){return e(o,M)},createURL:x,encodeLocation(M){let Y=x(M);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:E,replace:S,go(M){return c.go(M)}};return k}var qv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qv||(qv={}));function GR(t,e,n){n===void 0&&(n="/");let s=typeof e=="string"?ea(e):e,o=Cm(s.pathname||"/",n);if(o==null)return null;let l=wE(t);QR(l);let c=null;for(let m=0;c==null&&m<l.length;++m)c=tb(l[m],rb(o));return c}function wE(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(l,c,m)=>{let d={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};d.relativePath.startsWith("/")&&(Xe(d.relativePath.startsWith(s),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(s.length));let g=Yi([s,d.relativePath]),y=n.concat(d);l.children&&l.children.length>0&&(Xe(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),wE(l.children,e,y,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:JR(g,l.index),routesMeta:y})};return t.forEach((l,c)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))o(l,c);else for(let d of SE(l.path))o(l,c,d)}),e}function SE(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=SE(s.join("/")),m=[];return m.push(...c.map(d=>d===""?l:[l,d].join("/"))),o&&m.push(...c),m.map(d=>t.startsWith("/")&&d===""?"/":d)}function QR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eb(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const KR=/^:\w+$/,YR=3,XR=2,$R=1,WR=10,ZR=-2,Hv=t=>t==="*";function JR(t,e){let n=t.split("/"),s=n.length;return n.some(Hv)&&(s+=ZR),e&&(s+=XR),n.filter(o=>!Hv(o)).reduce((o,l)=>o+(KR.test(l)?YR:l===""?$R:WR),s)}function eb(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function tb(t,e){let{routesMeta:n}=t,s={},o="/",l=[];for(let c=0;c<n.length;++c){let m=n[c],d=c===n.length-1,g=o==="/"?e:e.slice(o.length)||"/",y=nb({path:m.relativePath,caseSensitive:m.caseSensitive,end:d},g);if(!y)return null;Object.assign(s,y.params);let v=m.route;l.push({params:s,pathname:Yi([o,y.pathname]),pathnameBase:ub(Yi([o,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(o=Yi([o,y.pathnameBase]))}return l}function nb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=ib(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,y,v)=>{let{paramName:E,isOptional:S}=y;if(E==="*"){let k=m[v]||"";c=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const x=m[v];return S&&!x?g[E]=void 0:g[E]=sb(x||"",E),g},{}),pathname:l,pathnameBase:c,pattern:t}}function ib(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Im(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(c,m,d)=>(s.push({paramName:m,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function rb(t){try{return decodeURI(t)}catch(e){return Im(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function sb(t,e){try{return decodeURIComponent(t)}catch(n){return Im(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Cm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function ab(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:o=""}=typeof t=="string"?ea(t):t;return{pathname:n?n.startsWith("/")?n:ob(n,e):e,search:cb(s),hash:hb(o)}}function ob(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function _d(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lb(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dm(t,e){let n=lb(t);return e?n.map((s,o)=>o===t.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Nm(t,e,n,s){s===void 0&&(s=!1);let o;typeof t=="string"?o=ea(t):(o=Io({},t),Xe(!o.pathname||!o.pathname.includes("?"),_d("?","pathname","search",o)),Xe(!o.pathname||!o.pathname.includes("#"),_d("#","pathname","hash",o)),Xe(!o.search||!o.search.includes("#"),_d("#","search","hash",o)));let l=t===""||o.pathname==="",c=l?"/":o.pathname,m;if(c==null)m=n;else if(s){let v=e.length===0?[]:e[e.length-1].replace(/^\//,"").split("/");if(c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),v.pop();o.pathname=E.join("/")}m="/"+v.join("/")}else{let v=e.length-1;if(c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),v-=1;o.pathname=E.join("/")}m=v>=0?e[v]:"/"}let d=ab(o,m),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(g||y)&&(d.pathname+="/"),d}const Yi=t=>t.join("/").replace(/\/\/+/g,"/"),ub=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const RE=["post","put","patch","delete"];new Set(RE);const db=["get",...RE];new Set(db);/**
 * React Router v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Co(){return Co=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Co.apply(this,arguments)}const Om=N.createContext(null),mb=N.createContext(null),nr=N.createContext(null),_c=N.createContext(null),ir=N.createContext({outlet:null,matches:[],isDataRoute:!1}),bE=N.createContext(null);function gb(t,e){let{relative:n}=e===void 0?{}:e;ta()||Xe(!1);let{basename:s,navigator:o}=N.useContext(nr),{hash:l,pathname:c,search:m}=DE(t,{relative:n}),d=c;return s!=="/"&&(d=c==="/"?s:Yi([s,c])),o.createHref({pathname:d,search:m,hash:l})}function ta(){return N.useContext(_c)!=null}function Xo(){return ta()||Xe(!1),N.useContext(_c).location}function IE(t){N.useContext(nr).static||N.useLayoutEffect(t)}function CE(){let{isDataRoute:t}=N.useContext(ir);return t?Cb():pb()}function pb(){ta()||Xe(!1);let t=N.useContext(Om),{basename:e,future:n,navigator:s}=N.useContext(nr),{matches:o}=N.useContext(ir),{pathname:l}=Xo(),c=JSON.stringify(Dm(o,n.v7_relativeSplatPath)),m=N.useRef(!1);return IE(()=>{m.current=!0}),N.useCallback(function(g,y){if(y===void 0&&(y={}),!m.current)return;if(typeof g=="number"){s.go(g);return}let v=Nm(g,JSON.parse(c),l,y.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Yi([e,v.pathname])),(y.replace?s.replace:s.push)(v,y.state,y)},[e,s,c,l,t])}function DE(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=N.useContext(nr),{matches:o}=N.useContext(ir),{pathname:l}=Xo(),c=JSON.stringify(Dm(o,s.v7_relativeSplatPath));return N.useMemo(()=>Nm(t,JSON.parse(c),l,n==="path"),[t,c,l,n])}function yb(t,e){return _b(t,e)}function _b(t,e,n,s){ta()||Xe(!1);let{navigator:o}=N.useContext(nr),{matches:l}=N.useContext(ir),c=l[l.length-1],m=c?c.params:{};c&&c.pathname;let d=c?c.pathnameBase:"/";c&&c.route;let g=Xo(),y;if(e){var v;let M=typeof e=="string"?ea(e):e;d==="/"||(v=M.pathname)!=null&&v.startsWith(d)||Xe(!1),y=M}else y=g;let E=y.pathname||"/",S=d==="/"?E:E.slice(d.length)||"/",x=GR(t,{pathname:S}),k=wb(x&&x.map(M=>Object.assign({},M,{params:Object.assign({},m,M.params),pathname:Yi([d,o.encodeLocation?o.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?d:Yi([d,o.encodeLocation?o.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,n,s);return e&&k?N.createElement(_c.Provider,{value:{location:Co({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Qi.Pop}},k):k}function vb(){let t=Ib(),e=fb(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:o},n):null,null)}const Eb=N.createElement(vb,null);class Tb extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(ir.Provider,{value:this.props.routeContext},N.createElement(bE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ab(t){let{routeContext:e,match:n,children:s}=t,o=N.useContext(Om);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(ir.Provider,{value:e},s)}function wb(t,e,n,s){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var l;if((l=n)!=null&&l.errors)t=n.matches;else return null}let c=t,m=(o=n)==null?void 0:o.errors;if(m!=null){let y=c.findIndex(v=>v.route.id&&(m==null?void 0:m[v.route.id]));y>=0||Xe(!1),c=c.slice(0,Math.min(c.length,y+1))}let d=!1,g=-1;if(n&&s&&s.v7_partialHydration)for(let y=0;y<c.length;y++){let v=c[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=y),v.route.loader&&v.route.id&&n.loaderData[v.route.id]===void 0&&(!n.errors||n.errors[v.route.id]===void 0)){d=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}return c.reduceRight((y,v,E)=>{let S,x=!1,k=null,M=null;n&&(S=m&&v.route.id?m[v.route.id]:void 0,k=v.route.errorElement||Eb,d&&(g<0&&E===0?(Db("route-fallback"),x=!0,M=null):g===E&&(x=!0,M=v.route.hydrateFallbackElement||null)));let Y=e.concat(c.slice(0,E+1)),J=()=>{let ne;return S?ne=k:x?ne=M:v.route.Component?ne=N.createElement(v.route.Component,null):v.route.element?ne=v.route.element:ne=y,N.createElement(Ab,{match:v,routeContext:{outlet:y,matches:Y,isDataRoute:n!=null},children:ne})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?N.createElement(Tb,{location:n.location,revalidation:n.revalidation,component:k,error:S,children:J(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):J()},null)}var NE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(NE||{}),OE=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(OE||{});function Sb(t){let e=N.useContext(Om);return e||Xe(!1),e}function Rb(t){let e=N.useContext(mb);return e||Xe(!1),e}function bb(t){let e=N.useContext(ir);return e||Xe(!1),e}function xE(t){let e=bb(),n=e.matches[e.matches.length-1];return n.route.id||Xe(!1),n.route.id}function Ib(){var t;let e=N.useContext(bE),n=Rb(),s=xE();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function Cb(){let{router:t}=Sb(NE.UseNavigateStable),e=xE(OE.UseNavigateStable),n=N.useRef(!1);return IE(()=>{n.current=!0}),N.useCallback(function(o,l){l===void 0&&(l={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,Co({fromRouteId:e},l)))},[t,e])}const Fv={};function Db(t,e,n){Fv[t]||(Fv[t]=!0)}function vd(t){let{to:e,replace:n,state:s,relative:o}=t;ta()||Xe(!1);let{future:l,static:c}=N.useContext(nr),{matches:m}=N.useContext(ir),{pathname:d}=Xo(),g=CE(),y=Nm(e,Dm(m,l.v7_relativeSplatPath),d,o==="path"),v=JSON.stringify(y);return N.useEffect(()=>g(JSON.parse(v),{replace:n,state:s,relative:o}),[g,v,o,n,s]),null}function Bi(t){Xe(!1)}function Nb(t){let{basename:e="/",children:n=null,location:s,navigationType:o=Qi.Pop,navigator:l,static:c=!1,future:m}=t;ta()&&Xe(!1);let d=e.replace(/^\/*/,"/"),g=N.useMemo(()=>({basename:d,navigator:l,static:c,future:Co({v7_relativeSplatPath:!1},m)}),[d,m,l,c]);typeof s=="string"&&(s=ea(s));let{pathname:y="/",search:v="",hash:E="",state:S=null,key:x="default"}=s,k=N.useMemo(()=>{let M=Cm(y,d);return M==null?null:{location:{pathname:M,search:v,hash:E,state:S,key:x},navigationType:o}},[d,y,v,E,S,x,o]);return k==null?null:N.createElement(nr.Provider,{value:g},N.createElement(_c.Provider,{children:n,value:k}))}function Ed(t){let{children:e,location:n}=t;return yb(Hd(e),n)}new Promise(()=>{});function Hd(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(s,o)=>{if(!N.isValidElement(s))return;let l=[...e,o];if(s.type===N.Fragment){n.push.apply(n,Hd(s.props.children,l));return}s.type!==Bi&&Xe(!1),!s.props.index||!s.props.children||Xe(!1);let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Hd(s.props.children,l)),n.push(c)}),n}/**
 * React Router DOM v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fd(){return Fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Fd.apply(this,arguments)}function Ob(t,e){if(t==null)return{};var n={},s=Object.keys(t),o,l;for(l=0;l<s.length;l++)o=s[l],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function xb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Mb(t,e){return t.button===0&&(!e||e==="_self")&&!xb(t)}const Vb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Pb="startTransition",Gv=MR[Pb];function Ub(t){let{basename:e,children:n,future:s,window:o}=t,l=N.useRef();l.current==null&&(l.current=qR({window:o,v5Compat:!0}));let c=l.current,[m,d]=N.useState({action:c.action,location:c.location}),{v7_startTransition:g}=s||{},y=N.useCallback(v=>{g&&Gv?Gv(()=>d(v)):d(v)},[d,g]);return N.useLayoutEffect(()=>c.listen(y),[c,y]),N.createElement(Nb,{basename:e,children:n,location:m.location,navigationType:m.action,navigator:c,future:s})}const Lb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Do=N.forwardRef(function(e,n){let{onClick:s,relative:o,reloadDocument:l,replace:c,state:m,target:d,to:g,preventScrollReset:y,unstable_viewTransition:v}=e,E=Ob(e,Vb),{basename:S}=N.useContext(nr),x,k=!1;if(typeof g=="string"&&kb.test(g)&&(x=g,Lb))try{let ne=new URL(window.location.href),be=g.startsWith("//")?new URL(ne.protocol+g):new URL(g),re=Cm(be.pathname,S);be.origin===ne.origin&&re!=null?g=re+be.search+be.hash:k=!0}catch{}let M=gb(g,{relative:o}),Y=jb(g,{replace:c,state:m,target:d,preventScrollReset:y,relative:o,unstable_viewTransition:v});function J(ne){s&&s(ne),ne.defaultPrevented||Y(ne)}return N.createElement("a",Fd({},E,{href:x||M,onClick:k||l?s:J,ref:n,target:d}))});var Qv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Qv||(Qv={}));var Kv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Kv||(Kv={}));function jb(t,e){let{target:n,replace:s,state:o,preventScrollReset:l,relative:c,unstable_viewTransition:m}=e===void 0?{}:e,d=CE(),g=Xo(),y=DE(t,{relative:c});return N.useCallback(v=>{if(Mb(v,n)){v.preventDefault();let E=s!==void 0?s:Xu(g)===Xu(y);d(t,{replace:E,state:o,preventScrollReset:l,relative:c,unstable_viewTransition:m})}},[g,d,y,s,o,n,t,l,c,m])}var Yv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},zb=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const o=t[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],c=t[n++],m=t[n++],d=((o&7)<<18|(l&63)<<12|(c&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},VE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<t.length;o+=3){const l=t[o],c=o+1<t.length,m=c?t[o+1]:0,d=o+2<t.length,g=d?t[o+2]:0,y=l>>2,v=(l&3)<<4|m>>4;let E=(m&15)<<2|g>>6,S=g&63;d||(S=64,c||(E=64)),s.push(n[y],n[v],n[E],n[S])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ME(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zb(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],m=o<t.length?n[t.charAt(o)]:0;++o;const g=o<t.length?n[t.charAt(o)]:64;++o;const v=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||m==null||g==null||v==null)throw new Bb;const E=l<<2|m>>4;if(s.push(E),g!==64){const S=m<<4&240|g>>2;if(s.push(S),v!==64){const x=g<<6&192|v;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Bb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qb=function(t){const e=ME(t);return VE.encodeByteArray(e,!0)},PE=function(t){return qb(t).replace(/\./g,"")},UE=function(t){try{return VE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=()=>Hb().__FIREBASE_DEFAULTS__,Gb=()=>{if(typeof process>"u"||typeof Yv>"u")return;const t=Yv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Qb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&UE(t[1]);return e&&JSON.parse(e)},xm=()=>{try{return Fb()||Gb()||Qb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Kb=t=>{var e,n;return(n=(e=xm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},LE=()=>{var t;return(t=xm())===null||t===void 0?void 0:t.config},kE=t=>{var e;return(e=xm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function $b(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Wb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Zb(){const t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Jb(){try{return typeof indexedDB=="object"}catch{return!1}}function eI(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="FirebaseError";class di extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=tI,Object.setPrototypeOf(this,di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$o.prototype.create)}}class $o{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?nI(l,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new di(o,m,s)}}function nI(t,e){return t.replace(iI,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const iI=/\{\$([^}]+)}/g;function rI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function No(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const l=t[o],c=e[o];if(Xv(l)&&Xv(c)){if(!No(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Xv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function mo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function go(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function sI(t,e){const n=new aI(t,e);return n.subscribe.bind(n)}class aI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");oI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Td),o.error===void 0&&(o.error=Td),o.complete===void 0&&(o.complete=Td);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Td(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t){return t&&t._delegate?t._delegate:t}class jr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Yb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cI(e))try{this.getOrInitializeService({instanceIdentifier:Mr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Mr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mr){return this.instances.has(e)}getOptions(e=Mr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&c.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:uI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Mr){return this.component?this.component.multipleInstances?e:Mr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uI(t){return t===Mr?void 0:t}function cI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const fI={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},dI=Ee.INFO,mI={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},gI=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),o=mI[e];if(o)console[o](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mm{constructor(e){this.name=e,this._logLevel=dI,this._logHandler=gI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const pI=(t,e)=>e.some(n=>t instanceof n);let $v,Wv;function yI(){return $v||($v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _I(){return Wv||(Wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jE=new WeakMap,Gd=new WeakMap,zE=new WeakMap,Ad=new WeakMap,Vm=new WeakMap;function vI(t){const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Xi(t.result)),o()},c=()=>{s(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&jE.set(n,t)}).catch(()=>{}),Vm.set(e,t),e}function EI(t){if(Gd.has(t))return;const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Gd.set(t,e)}let Qd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TI(t){Qd=t(Qd)}function AI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(wd(this),e,...n);return zE.set(s,e.sort?e.sort():[e]),Xi(s)}:_I().includes(t)?function(...e){return t.apply(wd(this),e),Xi(jE.get(this))}:function(...e){return Xi(t.apply(wd(this),e))}}function wI(t){return typeof t=="function"?AI(t):(t instanceof IDBTransaction&&EI(t),pI(t,yI())?new Proxy(t,Qd):t)}function Xi(t){if(t instanceof IDBRequest)return vI(t);if(Ad.has(t))return Ad.get(t);const e=wI(t);return e!==t&&(Ad.set(t,e),Vm.set(e,t)),e}const wd=t=>Vm.get(t);function SI(t,e,{blocked:n,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(t,e),m=Xi(c);return s&&c.addEventListener("upgradeneeded",d=>{s(Xi(c.result),d.oldVersion,d.newVersion,Xi(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),m.then(d=>{l&&d.addEventListener("close",()=>l()),o&&d.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const RI=["get","getKey","getAll","getAllKeys","count"],bI=["put","add","delete","clear"],Sd=new Map;function Zv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sd.get(e))return Sd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=bI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||RI.includes(n)))return;const l=async function(c,...m){const d=this.transaction(c,o?"readwrite":"readonly");let g=d.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&d.done]))[0]};return Sd.set(e,l),l}TI(t=>({...t,get:(e,n,s)=>Zv(e,n)||t.get(e,n,s),has:(e,n)=>!!Zv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function CI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kd="@firebase/app",Jv="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new Mm("@firebase/app"),DI="@firebase/app-compat",NI="@firebase/analytics-compat",OI="@firebase/analytics",xI="@firebase/app-check-compat",MI="@firebase/app-check",VI="@firebase/auth",PI="@firebase/auth-compat",UI="@firebase/database",LI="@firebase/database-compat",kI="@firebase/functions",jI="@firebase/functions-compat",zI="@firebase/installations",BI="@firebase/installations-compat",qI="@firebase/messaging",HI="@firebase/messaging-compat",FI="@firebase/performance",GI="@firebase/performance-compat",QI="@firebase/remote-config",KI="@firebase/remote-config-compat",YI="@firebase/storage",XI="@firebase/storage-compat",$I="@firebase/firestore",WI="@firebase/firestore-compat",ZI="firebase",JI="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="[DEFAULT]",eC={[Kd]:"fire-core",[DI]:"fire-core-compat",[OI]:"fire-analytics",[NI]:"fire-analytics-compat",[MI]:"fire-app-check",[xI]:"fire-app-check-compat",[VI]:"fire-auth",[PI]:"fire-auth-compat",[UI]:"fire-rtdb",[LI]:"fire-rtdb-compat",[kI]:"fire-fn",[jI]:"fire-fn-compat",[zI]:"fire-iid",[BI]:"fire-iid-compat",[qI]:"fire-fcm",[HI]:"fire-fcm-compat",[FI]:"fire-perf",[GI]:"fire-perf-compat",[QI]:"fire-rc",[KI]:"fire-rc-compat",[YI]:"fire-gcs",[XI]:"fire-gcs-compat",[$I]:"fire-fst",[WI]:"fire-fst-compat","fire-js":"fire-js",[ZI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=new Map,Xd=new Map;function tC(t,e){try{t.container.addComponent(e)}catch(n){zr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gs(t){const e=t.name;if(Xd.has(e))return zr.debug(`There were multiple attempts to register component ${e}.`),!1;Xd.set(e,t);for(const n of $u.values())tC(n,t);return!0}function Pm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},$i=new $o("app","Firebase",nC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=JI;function BE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Yd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw $i.create("bad-app-name",{appName:String(o)});if(n||(n=LE()),!n)throw $i.create("no-options");const l=$u.get(o);if(l){if(No(n,l.options)&&No(s,l.config))return l;throw $i.create("duplicate-app",{appName:o})}const c=new hI(o);for(const d of Xd.values())c.addComponent(d);const m=new iC(n,s,c);return $u.set(o,m),m}function rC(t=Yd){const e=$u.get(t);if(!e&&t===Yd&&LE())return BE();if(!e)throw $i.create("no-app",{appName:t});return e}function Wi(t,e,n){var s;let o=(s=eC[t])!==null&&s!==void 0?s:t;n&&(o+=`-${n}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const m=[`Unable to register library "${o}" with version "${e}":`];l&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&m.push("and"),c&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zr.warn(m.join(" "));return}Gs(new jr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="firebase-heartbeat-database",aC=1,Oo="firebase-heartbeat-store";let Rd=null;function qE(){return Rd||(Rd=SI(sC,aC,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Oo)}}}).catch(t=>{throw $i.create("idb-open",{originalErrorMessage:t.message})})),Rd}async function oC(t){try{return await(await qE()).transaction(Oo).objectStore(Oo).get(HE(t))}catch(e){if(e instanceof di)zr.warn(e.message);else{const n=$i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zr.warn(n.message)}}}async function e0(t,e){try{const s=(await qE()).transaction(Oo,"readwrite");await s.objectStore(Oo).put(e,HE(t)),await s.done}catch(n){if(n instanceof di)zr.warn(n.message);else{const s=$i.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zr.warn(s.message)}}}function HE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=1024,uC=30*24*60*60*1e3;class cC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=t0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)))return this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const m=new Date(c.date).valueOf();return Date.now()-m<=uC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=t0(),{heartbeatsToSend:s,unsentEntries:o}=hC(this._heartbeatsCache.heartbeats),l=PE(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}}function t0(){return new Date().toISOString().substring(0,10)}function hC(t,e=lC){const n=[];let s=t.slice();for(const o of t){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),n0(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),n0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class fC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jb()?eI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return e0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return e0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function n0(t){return PE(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(t){Gs(new jr("platform-logger",e=>new II(e),"PRIVATE")),Gs(new jr("heartbeat",e=>new cC(e),"PRIVATE")),Wi(Kd,Jv,t),Wi(Kd,Jv,"esm2017"),Wi("fire-js","")}dC("");var mC="firebase",gC="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi(mC,gC,"app");var pC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B,Um=Um||{},oe=pC||self;function vc(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ec(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function yC(t,e,n){return t.call.apply(t.bind,arguments)}function _C(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,s),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function Ct(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ct=yC:Ct=_C,Ct.apply(null,arguments)}function Nu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function dt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(s,o,l){for(var c=Array(arguments.length-2),m=2;m<arguments.length;m++)c[m-2]=arguments[m];return e.prototype[o].apply(s,c)}}function rr(){this.s=this.s,this.o=this.o}var vC=0;rr.prototype.s=!1;rr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),vC!=0)};rr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const FE=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Lm(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function i0(t,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(vc(s)){const o=t.length||0,l=s.length||0;t.length=o+l;for(let c=0;c<l;c++)t[o+c]=s[c]}else t.push(s)}}function Dt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Dt.prototype.h=function(){this.defaultPrevented=!0};var EC=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};oe.addEventListener("test",n,e),oe.removeEventListener("test",n,e)}catch{}return t}();function xo(t){return/^[\s\xa0]*$/.test(t)}function Tc(){var t=oe.navigator;return t&&(t=t.userAgent)?t:""}function Nn(t){return Tc().indexOf(t)!=-1}function km(t){return km[" "](t),t}km[" "]=function(){};function TC(t,e){var n=m2;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var AC=Nn("Opera"),Qs=Nn("Trident")||Nn("MSIE"),GE=Nn("Edge"),$d=GE||Qs,QE=Nn("Gecko")&&!(Tc().toLowerCase().indexOf("webkit")!=-1&&!Nn("Edge"))&&!(Nn("Trident")||Nn("MSIE"))&&!Nn("Edge"),wC=Tc().toLowerCase().indexOf("webkit")!=-1&&!Nn("Edge");function KE(){var t=oe.document;return t?t.documentMode:void 0}var Wd;e:{var bd="",Id=function(){var t=Tc();if(QE)return/rv:([^\);]+)(\)|;)/.exec(t);if(GE)return/Edge\/([\d\.]+)/.exec(t);if(Qs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(wC)return/WebKit\/(\S+)/.exec(t);if(AC)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Id&&(bd=Id?Id[1]:""),Qs){var Cd=KE();if(Cd!=null&&Cd>parseFloat(bd)){Wd=String(Cd);break e}}Wd=bd}var Zd;if(oe.document&&Qs){var r0=KE();Zd=r0||parseInt(Wd,10)||void 0}else Zd=void 0;var SC=Zd;function Mo(t,e){if(Dt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(QE){e:{try{km(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:RC[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Mo.$.h.call(this)}}dt(Mo,Dt);var RC={2:"touch",3:"pen",4:"mouse"};Mo.prototype.h=function(){Mo.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ac="closure_listenable_"+(1e6*Math.random()|0),bC=0;function IC(t,e,n,s,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=o,this.key=++bC,this.fa=this.ia=!1}function wc(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function jm(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function CC(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function YE(t){const e={};for(const n in t)e[n]=t[n];return e}const s0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function XE(t,e){let n,s;for(let o=1;o<arguments.length;o++){s=arguments[o];for(n in s)t[n]=s[n];for(let l=0;l<s0.length;l++)n=s0[l],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function Sc(t){this.src=t,this.g={},this.h=0}Sc.prototype.add=function(t,e,n,s,o){var l=t.toString();t=this.g[l],t||(t=this.g[l]=[],this.h++);var c=em(t,e,s,o);return-1<c?(e=t[c],n||(e.ia=!1)):(e=new IC(e,this.src,l,!!s,o),e.ia=n,t.push(e)),e};function Jd(t,e){var n=e.type;if(n in t.g){var s=t.g[n],o=FE(s,e),l;(l=0<=o)&&Array.prototype.splice.call(s,o,1),l&&(wc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function em(t,e,n,s){for(var o=0;o<t.length;++o){var l=t[o];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==s)return o}return-1}var zm="closure_lm_"+(1e6*Math.random()|0),Dd={};function $E(t,e,n,s,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)$E(t,e[l],n,s,o);return null}return n=JE(n),t&&t[Ac]?t.O(e,n,Ec(s)?!!s.capture:!1,o):DC(t,e,n,!1,s,o)}function DC(t,e,n,s,o,l){if(!e)throw Error("Invalid event type");var c=Ec(o)?!!o.capture:!!o,m=qm(t);if(m||(t[zm]=m=new Sc(t)),n=m.add(e,n,s,c,l),n.proxy)return n;if(s=NC(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)EC||(o=c),o===void 0&&(o=!1),t.addEventListener(e.toString(),s,o);else if(t.attachEvent)t.attachEvent(ZE(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function NC(){function t(n){return e.call(t.src,t.listener,n)}const e=OC;return t}function WE(t,e,n,s,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)WE(t,e[l],n,s,o);else s=Ec(s)?!!s.capture:!!s,n=JE(n),t&&t[Ac]?(t=t.i,e=String(e).toString(),e in t.g&&(l=t.g[e],n=em(l,n,s,o),-1<n&&(wc(l[n]),Array.prototype.splice.call(l,n,1),l.length==0&&(delete t.g[e],t.h--)))):t&&(t=qm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=em(e,n,s,o)),(n=-1<t?e[t]:null)&&Bm(n))}function Bm(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ac])Jd(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(ZE(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=qm(e))?(Jd(n,t),n.h==0&&(n.src=null,e[zm]=null)):wc(t)}}}function ZE(t){return t in Dd?Dd[t]:Dd[t]="on"+t}function OC(t,e){if(t.fa)t=!0;else{e=new Mo(e,this);var n=t.listener,s=t.la||t.src;t.ia&&Bm(t),t=n.call(s,e)}return t}function qm(t){return t=t[zm],t instanceof Sc?t:null}var Nd="__closure_events_fn_"+(1e9*Math.random()>>>0);function JE(t){return typeof t=="function"?t:(t[Nd]||(t[Nd]=function(e){return t.handleEvent(e)}),t[Nd])}function ft(){rr.call(this),this.i=new Sc(this),this.S=this,this.J=null}dt(ft,rr);ft.prototype[Ac]=!0;ft.prototype.removeEventListener=function(t,e,n,s){WE(this,t,e,n,s)};function Et(t,e){var n,s=t.J;if(s)for(n=[];s;s=s.J)n.push(s);if(t=t.S,s=e.type||e,typeof e=="string")e=new Dt(e,t);else if(e instanceof Dt)e.target=e.target||t;else{var o=e;e=new Dt(s,t),XE(e,o)}if(o=!0,n)for(var l=n.length-1;0<=l;l--){var c=e.g=n[l];o=Ou(c,s,!0,e)&&o}if(c=e.g=t,o=Ou(c,s,!0,e)&&o,o=Ou(c,s,!1,e)&&o,n)for(l=0;l<n.length;l++)c=e.g=n[l],o=Ou(c,s,!1,e)&&o}ft.prototype.N=function(){if(ft.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)wc(n[s]);delete t.g[e],t.h--}}this.J=null};ft.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};ft.prototype.P=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function Ou(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var c=e[l];if(c&&!c.fa&&c.capture==n){var m=c.listener,d=c.la||c.src;c.ia&&Jd(t.i,c),o=m.call(d,s)!==!1&&o}}return o&&!s.defaultPrevented}var Hm=oe.JSON.stringify;class xC{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function MC(){var t=Fm;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class VC{constructor(){this.h=this.g=null}add(e,n){const s=eT.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var eT=new xC(()=>new PC,t=>t.reset());class PC{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function UC(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function LC(t){oe.setTimeout(()=>{throw t},0)}let Vo,Po=!1,Fm=new VC,tT=()=>{const t=oe.Promise.resolve(void 0);Vo=()=>{t.then(kC)}};var kC=()=>{for(var t;t=MC();){try{t.h.call(t.g)}catch(n){LC(n)}var e=eT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Po=!1};function Rc(t,e){ft.call(this),this.h=t||1,this.g=e||oe,this.j=Ct(this.qb,this),this.l=Date.now()}dt(Rc,ft);B=Rc.prototype;B.ga=!1;B.T=null;B.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Et(this,"tick"),this.ga&&(Gm(this),this.start()))}};B.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Gm(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}B.N=function(){Rc.$.N.call(this),Gm(this),delete this.g};function Qm(t,e,n){if(typeof t=="function")n&&(t=Ct(t,n));else if(t&&typeof t.handleEvent=="function")t=Ct(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:oe.setTimeout(t,e||0)}function nT(t){t.g=Qm(()=>{t.g=null,t.i&&(t.i=!1,nT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class jC extends rr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nT(this)}N(){super.N(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Uo(t){rr.call(this),this.h=t,this.g={}}dt(Uo,rr);var a0=[];function iT(t,e,n,s){Array.isArray(n)||(n&&(a0[0]=n.toString()),n=a0);for(var o=0;o<n.length;o++){var l=$E(e,n[o],s||t.handleEvent,!1,t.h||t);if(!l)break;t.g[l.key]=l}}function rT(t){jm(t.g,function(e,n){this.g.hasOwnProperty(n)&&Bm(e)},t),t.g={}}Uo.prototype.N=function(){Uo.$.N.call(this),rT(this)};Uo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function bc(){this.g=!0}bc.prototype.Ea=function(){this.g=!1};function zC(t,e,n,s,o,l){t.info(function(){if(t.g)if(l)for(var c="",m=l.split("&"),d=0;d<m.length;d++){var g=m[d].split("=");if(1<g.length){var y=g[0];g=g[1];var v=y.split("_");c=2<=v.length&&v[1]=="type"?c+(y+"="+g+"&"):c+(y+"=redacted&")}}else c=null;else c=l;return"XMLHTTP REQ ("+s+") [attempt "+o+"]: "+e+`
`+n+`
`+c})}function BC(t,e,n,s,o,l,c){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+o+"]: "+e+`
`+n+`
`+l+" "+c})}function ks(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+HC(t,n)+(s?" "+s:"")})}function qC(t,e){t.info(function(){return"TIMEOUT: "+e})}bc.prototype.info=function(){};function HC(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var o=s[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if(l!="noop"&&l!="stop"&&l!="close")for(var c=1;c<o.length;c++)o[c]=""}}}}return Hm(n)}catch{return e}}var Qr={},o0=null;function Ic(){return o0=o0||new ft}Qr.Ta="serverreachability";function sT(t){Dt.call(this,Qr.Ta,t)}dt(sT,Dt);function Lo(t){const e=Ic();Et(e,new sT(e))}Qr.STAT_EVENT="statevent";function aT(t,e){Dt.call(this,Qr.STAT_EVENT,t),this.stat=e}dt(aT,Dt);function Pt(t){const e=Ic();Et(e,new aT(e,t))}Qr.Ua="timingevent";function oT(t,e){Dt.call(this,Qr.Ua,t),this.size=e}dt(oT,Dt);function Zo(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){t()},e)}var Cc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},lT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Km(){}Km.prototype.h=null;function l0(t){return t.h||(t.h=t.i())}function uT(){}var Jo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ym(){Dt.call(this,"d")}dt(Ym,Dt);function Xm(){Dt.call(this,"c")}dt(Xm,Dt);var tm;function Dc(){}dt(Dc,Km);Dc.prototype.g=function(){return new XMLHttpRequest};Dc.prototype.i=function(){return{}};tm=new Dc;function el(t,e,n,s){this.l=t,this.j=e,this.m=n,this.W=s||1,this.U=new Uo(this),this.P=FC,t=$d?125:void 0,this.V=new Rc(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new cT}function cT(){this.i=null,this.g="",this.h=!1}var FC=45e3,hT={},nm={};B=el.prototype;B.setTimeout=function(t){this.P=t};function im(t,e,n){t.L=1,t.A=Oc(ui(e)),t.u=n,t.S=!0,fT(t,null)}function fT(t,e){t.G=Date.now(),tl(t),t.B=ui(t.A);var n=t.B,s=t.W;Array.isArray(s)||(s=[String(s)]),ET(n.i,"t",s),t.o=0,n=t.l.J,t.h=new cT,t.g=BT(t.l,n?e:null,!t.u),0<t.O&&(t.M=new jC(Ct(t.Pa,t,t.g),t.O)),iT(t.U,t.g,"readystatechange",t.nb),e=t.I?YE(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Lo(),zC(t.j,t.v,t.B,t.m,t.W,t.u)}B.nb=function(t){t=t.target;const e=this.M;e&&On(t)==3?e.l():this.Pa(t)};B.Pa=function(t){try{if(t==this.g)e:{const y=On(this.g);var e=this.g.Ia();const v=this.g.da();if(!(3>y)&&(y!=3||$d||this.g&&(this.h.h||this.g.ja()||f0(this.g)))){this.J||y!=4||e==7||(e==8||0>=v?Lo(3):Lo(2)),Nc(this);var n=this.g.da();this.ca=n;t:if(dT(this)){var s=f0(this.g);t="";var o=s.length,l=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vr(this),To(this);var c="";break t}this.h.i=new oe.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:l&&e==o-1});s.length=0,this.h.g+=t,this.o=0,c=this.h.g}else c=this.g.ja();if(this.i=n==200,BC(this.j,this.v,this.B,this.m,this.W,y,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,d=this.g;if((m=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xo(m)){var g=m;break t}}g=null}if(n=g)ks(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rm(this,n);else{this.i=!1,this.s=3,Pt(12),Vr(this),To(this);break e}}this.S?(mT(this,y,c),$d&&this.i&&y==3&&(iT(this.U,this.V,"tick",this.mb),this.V.start())):(ks(this.j,this.m,c,null),rm(this,c)),y==4&&Vr(this),this.i&&!this.J&&(y==4?LT(this.l,this):(this.i=!1,tl(this)))}else h2(this.g),n==400&&0<c.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),Vr(this),To(this)}}}catch{}finally{}};function dT(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function mT(t,e,n){let s=!0,o;for(;!t.J&&t.o<n.length;)if(o=GC(t,n),o==nm){e==4&&(t.s=4,Pt(14),s=!1),ks(t.j,t.m,null,"[Incomplete Response]");break}else if(o==hT){t.s=4,Pt(15),ks(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else ks(t.j,t.m,o,null),rm(t,o);dT(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Pt(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),tg(e),e.M=!0,Pt(11))):(ks(t.j,t.m,n,"[Invalid Chunked Response]"),Vr(t),To(t))}B.mb=function(){if(this.g){var t=On(this.g),e=this.g.ja();this.o<e.length&&(Nc(this),mT(this,t,e),this.i&&t!=4&&tl(this))}};function GC(t,e){var n=t.o,s=e.indexOf(`
`,n);return s==-1?nm:(n=Number(e.substring(n,s)),isNaN(n)?hT:(s+=1,s+n>e.length?nm:(e=e.slice(s,s+n),t.o=s+n,e)))}B.cancel=function(){this.J=!0,Vr(this)};function tl(t){t.Y=Date.now()+t.P,gT(t,t.P)}function gT(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Zo(Ct(t.lb,t),e)}function Nc(t){t.C&&(oe.clearTimeout(t.C),t.C=null)}B.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(qC(this.j,this.B),this.L!=2&&(Lo(),Pt(17)),Vr(this),this.s=2,To(this)):gT(this,this.Y-t)};function To(t){t.l.H==0||t.J||LT(t.l,t)}function Vr(t){Nc(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Gm(t.V),rT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function rm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||sm(n.i,t))){if(!t.K&&sm(n.i,t)&&n.H==3){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var o=s;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Ju(n),Pc(n);else break e;eg(n),Pt(18)}}else n.Fa=o[1],0<n.Fa-n.V&&37500>o[2]&&n.G&&n.A==0&&!n.v&&(n.v=Zo(Ct(n.ib,n),6e3));if(1>=wT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Pr(n,11)}else if((t.K||n.g==t)&&Ju(n),!xo(e))for(o=n.Ja.g.parse(e),e=0;e<o.length;e++){let g=o[e];if(n.V=g[0],g=g[1],n.H==2)if(g[0]=="c"){n.K=g[1],n.pa=g[2];const y=g[3];y!=null&&(n.ra=y,n.l.info("VER="+n.ra));const v=g[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));const E=g[5];E!=null&&typeof E=="number"&&0<E&&(s=1.5*E,n.L=s,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const S=t.g;if(S){const x=S.g?S.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(x){var l=s.i;l.g||x.indexOf("spdy")==-1&&x.indexOf("quic")==-1&&x.indexOf("h2")==-1||(l.j=l.l,l.g=new Set,l.h&&($m(l,l.h),l.h=null))}if(s.F){const k=S.g?S.g.getResponseHeader("X-HTTP-Session-Id"):null;k&&(s.Da=k,ke(s.I,s.F,k))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),s=n;var c=t;if(s.wa=zT(s,s.J?s.pa:null,s.Y),c.K){ST(s.i,c);var m=c,d=s.L;d&&m.setTimeout(d),m.C&&(Nc(m),tl(m)),s.g=c}else PT(s);0<n.j.length&&Uc(n)}else g[0]!="stop"&&g[0]!="close"||Pr(n,7);else n.H==3&&(g[0]=="stop"||g[0]=="close"?g[0]=="stop"?Pr(n,7):Jm(n):g[0]!="noop"&&n.h&&n.h.Aa(g),n.A=0)}}Lo(4)}catch{}}function QC(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(vc(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function KC(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(vc(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const s in t)e[n++]=s;return e}}}function pT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(vc(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=KC(t),s=QC(t),o=s.length,l=0;l<o;l++)e.call(void 0,s[l],n&&n[l],t)}var yT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function YC(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),o=null;if(0<=s){var l=t[n].substring(0,s);o=t[n].substring(s+1)}else l=t[n];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Lr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Lr){this.h=t.h,Wu(this,t.j),this.s=t.s,this.g=t.g,Zu(this,t.m),this.l=t.l;var e=t.i,n=new ko;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),u0(this,n),this.o=t.o}else t&&(e=String(t).match(yT))?(this.h=!1,Wu(this,e[1]||"",!0),this.s=po(e[2]||""),this.g=po(e[3]||"",!0),Zu(this,e[4]),this.l=po(e[5]||"",!0),u0(this,e[6]||"",!0),this.o=po(e[7]||"")):(this.h=!1,this.i=new ko(null,this.h))}Lr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(yo(e,c0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(yo(e,c0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(yo(n,n.charAt(0)=="/"?WC:$C,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",yo(n,JC)),t.join("")};function ui(t){return new Lr(t)}function Wu(t,e,n){t.j=n?po(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Zu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function u0(t,e,n){e instanceof ko?(t.i=e,e2(t.i,t.h)):(n||(e=yo(e,ZC)),t.i=new ko(e,t.h))}function ke(t,e,n){t.i.set(e,n)}function Oc(t){return ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function po(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function yo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,XC),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function XC(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var c0=/[#\/\?@]/g,$C=/[#\?:]/g,WC=/[#\?]/g,ZC=/[#\?@]/g,JC=/#/g;function ko(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function sr(t){t.g||(t.g=new Map,t.h=0,t.i&&YC(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}B=ko.prototype;B.add=function(t,e){sr(this),this.i=null,t=ia(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function _T(t,e){sr(t),e=ia(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function vT(t,e){return sr(t),e=ia(t,e),t.g.has(e)}B.forEach=function(t,e){sr(this),this.g.forEach(function(n,s){n.forEach(function(o){t.call(e,o,s,this)},this)},this)};B.ta=function(){sr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const o=t[s];for(let l=0;l<o.length;l++)n.push(e[s])}return n};B.Z=function(t){sr(this);let e=[];if(typeof t=="string")vT(this,t)&&(e=e.concat(this.g.get(ia(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};B.set=function(t,e){return sr(this),this.i=null,t=ia(this,t),vT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};B.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function ET(t,e,n){_T(t,e),0<n.length&&(t.i=null,t.g.set(ia(t,e),Lm(n)),t.h+=n.length)}B.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const l=encodeURIComponent(String(s)),c=this.Z(s);for(s=0;s<c.length;s++){var o=l;c[s]!==""&&(o+="="+encodeURIComponent(String(c[s]))),t.push(o)}}return this.i=t.join("&")};function ia(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function e2(t,e){e&&!t.j&&(sr(t),t.i=null,t.g.forEach(function(n,s){var o=s.toLowerCase();s!=o&&(_T(this,s),ET(this,o,n))},t)),t.j=e}var t2=class{constructor(t,e){this.g=t,this.map=e}};function TT(t){this.l=t||n2,oe.PerformanceNavigationTiming?(t=oe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(oe.g&&oe.g.Ka&&oe.g.Ka()&&oe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var n2=10;function AT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function wT(t){return t.h?1:t.g?t.g.size:0}function sm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function $m(t,e){t.g?t.g.add(e):t.h=e}function ST(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}TT.prototype.cancel=function(){if(this.i=RT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function RT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Lm(t.i)}var i2=class{stringify(t){return oe.JSON.stringify(t,void 0)}parse(t){return oe.JSON.parse(t,void 0)}};function r2(){this.g=new i2}function s2(t,e,n){const s=n||"";try{pT(t,function(o,l){let c=o;Ec(o)&&(c=Hm(o)),e.push(s+l+"="+encodeURIComponent(c))})}catch(o){throw e.push(s+"type="+encodeURIComponent("_badmap")),o}}function a2(t,e){const n=new bc;if(oe.Image){const s=new Image;s.onload=Nu(xu,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Nu(xu,n,s,"TestLoadImage: error",!1,e),s.onabort=Nu(xu,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Nu(xu,n,s,"TestLoadImage: timeout",!1,e),oe.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function xu(t,e,n,s,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(s)}catch{}}function xc(t){this.l=t.ec||null,this.j=t.ob||!1}dt(xc,Km);xc.prototype.g=function(){return new Mc(this.l,this.j)};xc.prototype.i=function(t){return function(){return t}}({});function Mc(t,e){ft.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Wm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dt(Mc,ft);var Wm=0;B=Mc.prototype;B.open=function(t,e){if(this.readyState!=Wm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,jo(this)};B.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||oe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,nl(this)),this.readyState=Wm};B.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,jo(this)),this.g&&(this.readyState=3,jo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function bT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}B.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?nl(this):jo(this),this.readyState==3&&bT(this)}};B.Za=function(t){this.g&&(this.response=this.responseText=t,nl(this))};B.Ya=function(t){this.g&&(this.response=t,nl(this))};B.ka=function(){this.g&&nl(this)};function nl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,jo(t)}B.setRequestHeader=function(t,e){this.v.append(t,e)};B.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};B.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function jo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Mc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var o2=oe.JSON.parse;function Ke(t){ft.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=IT,this.L=this.M=!1}dt(Ke,ft);var IT="",l2=/^https?$/i,u2=["POST","PUT"];B=Ke.prototype;B.Oa=function(t){this.M=t};B.ha=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():tm.g(),this.C=this.u?l0(this.u):l0(tm),this.g.onreadystatechange=Ct(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(l){h0(this,l);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var o in s)n.set(o,s[o]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const l of s.keys())n.set(l,s.get(l));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(l=>l.toLowerCase()=="content-type"),o=oe.FormData&&t instanceof oe.FormData,!(0<=FE(u2,e))||s||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,c]of n)this.g.setRequestHeader(l,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{NT(this),0<this.B&&((this.L=c2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ct(this.ua,this)):this.A=Qm(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(l){h0(this,l)}};function c2(t){return Qs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}B.ua=function(){typeof Um<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Et(this,"timeout"),this.abort(8))};function h0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,CT(t),Vc(t)}function CT(t){t.F||(t.F=!0,Et(t,"complete"),Et(t,"error"))}B.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Et(this,"complete"),Et(this,"abort"),Vc(this))};B.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vc(this,!0)),Ke.$.N.call(this)};B.La=function(){this.s||(this.G||this.v||this.l?DT(this):this.kb())};B.kb=function(){DT(this)};function DT(t){if(t.h&&typeof Um<"u"&&(!t.C[1]||On(t)!=4||t.da()!=2)){if(t.v&&On(t)==4)Qm(t.La,0,t);else if(Et(t,"readystatechange"),On(t)==4){t.h=!1;try{const c=t.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=c===0){var o=String(t.I).match(yT)[1]||null;!o&&oe.self&&oe.self.location&&(o=oe.self.location.protocol.slice(0,-1)),s=!l2.test(o?o.toLowerCase():"")}n=s}if(n)Et(t,"complete"),Et(t,"success");else{t.m=6;try{var l=2<On(t)?t.g.statusText:""}catch{l=""}t.j=l+" ["+t.da()+"]",CT(t)}}finally{Vc(t)}}}}function Vc(t,e){if(t.g){NT(t);const n=t.g,s=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Et(t,"ready");try{n.onreadystatechange=s}catch{}}}function NT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(oe.clearTimeout(t.A),t.A=null)}B.isActive=function(){return!!this.g};function On(t){return t.g?t.g.readyState:0}B.da=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}};B.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};B.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),o2(e)}};function f0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case IT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function h2(t){const e={};t=(t.g&&2<=On(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let s=0;s<t.length;s++){if(xo(t[s]))continue;var n=UC(t[s]);const o=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const l=e[o]||[];e[o]=l,l.push(n)}CC(e,function(s){return s.join(", ")})}B.Ia=function(){return this.m};B.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function OT(t){let e="";return jm(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function Zm(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=OT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ke(t,e,n))}function co(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function xT(t){this.Ga=0,this.j=[],this.l=new bc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=co("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=co("baseRetryDelayMs",5e3,t),this.hb=co("retryDelaySeedMs",1e4,t),this.eb=co("forwardChannelMaxRetries",2,t),this.xa=co("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new TT(t&&t.concurrentRequestLimit),this.Ja=new r2,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}B=xT.prototype;B.ra=8;B.H=1;function Jm(t){if(MT(t),t.H==3){var e=t.W++,n=ui(t.I);if(ke(n,"SID",t.K),ke(n,"RID",e),ke(n,"TYPE","terminate"),il(t,n),e=new el(t,t.l,e),e.L=2,e.A=Oc(ui(n)),n=!1,oe.navigator&&oe.navigator.sendBeacon)try{n=oe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&oe.Image&&(new Image().src=e.A,n=!0),n||(e.g=BT(e.l,null),e.g.ha(e.A)),e.G=Date.now(),tl(e)}jT(t)}function Pc(t){t.g&&(tg(t),t.g.cancel(),t.g=null)}function MT(t){Pc(t),t.u&&(oe.clearTimeout(t.u),t.u=null),Ju(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&oe.clearTimeout(t.m),t.m=null)}function Uc(t){if(!AT(t.i)&&!t.m){t.m=!0;var e=t.Na;Vo||tT(),Po||(Vo(),Po=!0),Fm.add(e,t),t.C=0}}function f2(t,e){return wT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Zo(Ct(t.Na,t,e),kT(t,t.C)),t.C++,!0)}B.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const o=new el(this,this.l,t);let l=this.s;if(this.U&&(l?(l=YE(l),XE(l,this.U)):l=this.U),this.o!==null||this.O||(o.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var s=this.j[n];if("__data__"in s.map&&(s=s.map.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=VT(this,o,e),n=ui(this.I),ke(n,"RID",t),ke(n,"CVER",22),this.F&&ke(n,"X-HTTP-Session-Id",this.F),il(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(OT(l)))+"&"+e:this.o&&Zm(n,this.o,l)),$m(this.i,o),this.bb&&ke(n,"TYPE","init"),this.P?(ke(n,"$req",e),ke(n,"SID","null"),o.aa=!0,im(o,n,null)):im(o,n,e),this.H=2}}else this.H==3&&(t?d0(this,t):this.j.length==0||AT(this.i)||d0(this))};function d0(t,e){var n;e?n=e.m:n=t.W++;const s=ui(t.I);ke(s,"SID",t.K),ke(s,"RID",n),ke(s,"AID",t.V),il(t,s),t.o&&t.s&&Zm(s,t.o,t.s),n=new el(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=VT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),$m(t.i,n),im(n,s,e)}function il(t,e){t.na&&jm(t.na,function(n,s){ke(e,s,n)}),t.h&&pT({},function(n,s){ke(e,s,n)})}function VT(t,e,n){n=Math.min(t.j.length,n);var s=t.h?Ct(t.h.Va,t.h,t):null;e:{var o=t.j;let l=-1;for(;;){const c=["count="+n];l==-1?0<n?(l=o[0].g,c.push("ofs="+l)):l=0:c.push("ofs="+l);let m=!0;for(let d=0;d<n;d++){let g=o[d].g;const y=o[d].map;if(g-=l,0>g)l=Math.max(0,o[d].g-100),m=!1;else try{s2(y,c,"req"+g+"_")}catch{s&&s(y)}}if(m){s=c.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,s}function PT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Vo||tT(),Po||(Vo(),Po=!0),Fm.add(e,t),t.A=0}}function eg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Zo(Ct(t.Ma,t),kT(t,t.A)),t.A++,!0)}B.Ma=function(){if(this.u=null,UT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Zo(Ct(this.jb,this),t)}};B.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Pt(10),Pc(this),UT(this))};function tg(t){t.B!=null&&(oe.clearTimeout(t.B),t.B=null)}function UT(t){t.g=new el(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ui(t.wa);ke(e,"RID","rpc"),ke(e,"SID",t.K),ke(e,"AID",t.V),ke(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ke(e,"TO",t.qa),ke(e,"TYPE","xmlhttp"),il(t,e),t.o&&t.s&&Zm(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Oc(ui(e)),n.u=null,n.S=!0,fT(n,t)}B.ib=function(){this.v!=null&&(this.v=null,Pc(this),eg(this),Pt(19))};function Ju(t){t.v!=null&&(oe.clearTimeout(t.v),t.v=null)}function LT(t,e){var n=null;if(t.g==e){Ju(t),tg(t),t.g=null;var s=2}else if(sm(t.i,e))n=e.F,ST(t.i,e),s=1;else return;if(t.H!=0){if(e.i)if(s==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var o=t.C;s=Ic(),Et(s,new oT(s,n)),Uc(t)}else PT(t);else if(o=e.s,o==3||o==0&&0<e.ca||!(s==1&&f2(t,e)||s==2&&eg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:Pr(t,5);break;case 4:Pr(t,10);break;case 3:Pr(t,6);break;default:Pr(t,2)}}}function kT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Pr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var s=Ct(t.pb,t);n||(n=new Lr("//www.google.com/images/cleardot.gif"),oe.location&&oe.location.protocol=="http"||Wu(n,"https"),Oc(n)),a2(n.toString(),s)}else Pt(2);t.H=0,t.h&&t.h.za(e),jT(t),MT(t)}B.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Pt(2)):(this.l.info("Failed to ping google.com"),Pt(1))};function jT(t){if(t.H=0,t.ma=[],t.h){const e=RT(t.i);(e.length!=0||t.j.length!=0)&&(i0(t.ma,e),i0(t.ma,t.j),t.i.i.length=0,Lm(t.j),t.j.length=0),t.h.ya()}}function zT(t,e,n){var s=n instanceof Lr?ui(n):new Lr(n);if(s.g!="")e&&(s.g=e+"."+s.g),Zu(s,s.m);else{var o=oe.location;s=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var l=new Lr(null);s&&Wu(l,s),e&&(l.g=e),o&&Zu(l,o),n&&(l.l=n),s=l}return n=t.F,e=t.Da,n&&e&&ke(s,n,e),ke(s,"VER",t.ra),il(t,s),s}function BT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ke(new xc({ob:n})):new Ke(t.va),e.Oa(t.J),e}B.isActive=function(){return!!this.h&&this.h.isActive(this)};function qT(){}B=qT.prototype;B.Ba=function(){};B.Aa=function(){};B.za=function(){};B.ya=function(){};B.isActive=function(){return!0};B.Va=function(){};function ec(){if(Qs&&!(10<=Number(SC)))throw Error("Environmental error: no available transport.")}ec.prototype.g=function(t,e){return new Wt(t,e)};function Wt(t,e){ft.call(this),this.g=new xT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!xo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ra(this)}dt(Wt,ft);Wt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Pt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=zT(t,null,t.Y),Uc(t)};Wt.prototype.close=function(){Jm(this.g)};Wt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Hm(t),t=n);e.j.push(new t2(e.fb++,t)),e.H==3&&Uc(e)};Wt.prototype.N=function(){this.g.h=null,delete this.j,Jm(this.g),delete this.g,Wt.$.N.call(this)};function HT(t){Ym.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}dt(HT,Ym);function FT(){Xm.call(this),this.status=1}dt(FT,Xm);function ra(t){this.g=t}dt(ra,qT);ra.prototype.Ba=function(){Et(this.g,"a")};ra.prototype.Aa=function(t){Et(this.g,new HT(t))};ra.prototype.za=function(t){Et(this.g,new FT)};ra.prototype.ya=function(){Et(this.g,"b")};function d2(){this.blockSize=-1}function vn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}dt(vn,d2);vn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Od(t,e,n){n||(n=0);var s=Array(16);if(typeof e=="string")for(var o=0;16>o;++o)s[o]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(o=0;16>o;++o)s[o]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],o=t.g[2];var l=t.g[3],c=e+(l^n&(o^l))+s[0]+3614090360&4294967295;e=n+(c<<7&4294967295|c>>>25),c=l+(o^e&(n^o))+s[1]+3905402710&4294967295,l=e+(c<<12&4294967295|c>>>20),c=o+(n^l&(e^n))+s[2]+606105819&4294967295,o=l+(c<<17&4294967295|c>>>15),c=n+(e^o&(l^e))+s[3]+3250441966&4294967295,n=o+(c<<22&4294967295|c>>>10),c=e+(l^n&(o^l))+s[4]+4118548399&4294967295,e=n+(c<<7&4294967295|c>>>25),c=l+(o^e&(n^o))+s[5]+1200080426&4294967295,l=e+(c<<12&4294967295|c>>>20),c=o+(n^l&(e^n))+s[6]+2821735955&4294967295,o=l+(c<<17&4294967295|c>>>15),c=n+(e^o&(l^e))+s[7]+4249261313&4294967295,n=o+(c<<22&4294967295|c>>>10),c=e+(l^n&(o^l))+s[8]+1770035416&4294967295,e=n+(c<<7&4294967295|c>>>25),c=l+(o^e&(n^o))+s[9]+2336552879&4294967295,l=e+(c<<12&4294967295|c>>>20),c=o+(n^l&(e^n))+s[10]+4294925233&4294967295,o=l+(c<<17&4294967295|c>>>15),c=n+(e^o&(l^e))+s[11]+2304563134&4294967295,n=o+(c<<22&4294967295|c>>>10),c=e+(l^n&(o^l))+s[12]+1804603682&4294967295,e=n+(c<<7&4294967295|c>>>25),c=l+(o^e&(n^o))+s[13]+4254626195&4294967295,l=e+(c<<12&4294967295|c>>>20),c=o+(n^l&(e^n))+s[14]+2792965006&4294967295,o=l+(c<<17&4294967295|c>>>15),c=n+(e^o&(l^e))+s[15]+1236535329&4294967295,n=o+(c<<22&4294967295|c>>>10),c=e+(o^l&(n^o))+s[1]+4129170786&4294967295,e=n+(c<<5&4294967295|c>>>27),c=l+(n^o&(e^n))+s[6]+3225465664&4294967295,l=e+(c<<9&4294967295|c>>>23),c=o+(e^n&(l^e))+s[11]+643717713&4294967295,o=l+(c<<14&4294967295|c>>>18),c=n+(l^e&(o^l))+s[0]+3921069994&4294967295,n=o+(c<<20&4294967295|c>>>12),c=e+(o^l&(n^o))+s[5]+3593408605&4294967295,e=n+(c<<5&4294967295|c>>>27),c=l+(n^o&(e^n))+s[10]+38016083&4294967295,l=e+(c<<9&4294967295|c>>>23),c=o+(e^n&(l^e))+s[15]+3634488961&4294967295,o=l+(c<<14&4294967295|c>>>18),c=n+(l^e&(o^l))+s[4]+3889429448&4294967295,n=o+(c<<20&4294967295|c>>>12),c=e+(o^l&(n^o))+s[9]+568446438&4294967295,e=n+(c<<5&4294967295|c>>>27),c=l+(n^o&(e^n))+s[14]+3275163606&4294967295,l=e+(c<<9&4294967295|c>>>23),c=o+(e^n&(l^e))+s[3]+4107603335&4294967295,o=l+(c<<14&4294967295|c>>>18),c=n+(l^e&(o^l))+s[8]+1163531501&4294967295,n=o+(c<<20&4294967295|c>>>12),c=e+(o^l&(n^o))+s[13]+2850285829&4294967295,e=n+(c<<5&4294967295|c>>>27),c=l+(n^o&(e^n))+s[2]+4243563512&4294967295,l=e+(c<<9&4294967295|c>>>23),c=o+(e^n&(l^e))+s[7]+1735328473&4294967295,o=l+(c<<14&4294967295|c>>>18),c=n+(l^e&(o^l))+s[12]+2368359562&4294967295,n=o+(c<<20&4294967295|c>>>12),c=e+(n^o^l)+s[5]+4294588738&4294967295,e=n+(c<<4&4294967295|c>>>28),c=l+(e^n^o)+s[8]+2272392833&4294967295,l=e+(c<<11&4294967295|c>>>21),c=o+(l^e^n)+s[11]+1839030562&4294967295,o=l+(c<<16&4294967295|c>>>16),c=n+(o^l^e)+s[14]+4259657740&4294967295,n=o+(c<<23&4294967295|c>>>9),c=e+(n^o^l)+s[1]+2763975236&4294967295,e=n+(c<<4&4294967295|c>>>28),c=l+(e^n^o)+s[4]+1272893353&4294967295,l=e+(c<<11&4294967295|c>>>21),c=o+(l^e^n)+s[7]+4139469664&4294967295,o=l+(c<<16&4294967295|c>>>16),c=n+(o^l^e)+s[10]+3200236656&4294967295,n=o+(c<<23&4294967295|c>>>9),c=e+(n^o^l)+s[13]+681279174&4294967295,e=n+(c<<4&4294967295|c>>>28),c=l+(e^n^o)+s[0]+3936430074&4294967295,l=e+(c<<11&4294967295|c>>>21),c=o+(l^e^n)+s[3]+3572445317&4294967295,o=l+(c<<16&4294967295|c>>>16),c=n+(o^l^e)+s[6]+76029189&4294967295,n=o+(c<<23&4294967295|c>>>9),c=e+(n^o^l)+s[9]+3654602809&4294967295,e=n+(c<<4&4294967295|c>>>28),c=l+(e^n^o)+s[12]+3873151461&4294967295,l=e+(c<<11&4294967295|c>>>21),c=o+(l^e^n)+s[15]+530742520&4294967295,o=l+(c<<16&4294967295|c>>>16),c=n+(o^l^e)+s[2]+3299628645&4294967295,n=o+(c<<23&4294967295|c>>>9),c=e+(o^(n|~l))+s[0]+4096336452&4294967295,e=n+(c<<6&4294967295|c>>>26),c=l+(n^(e|~o))+s[7]+1126891415&4294967295,l=e+(c<<10&4294967295|c>>>22),c=o+(e^(l|~n))+s[14]+2878612391&4294967295,o=l+(c<<15&4294967295|c>>>17),c=n+(l^(o|~e))+s[5]+4237533241&4294967295,n=o+(c<<21&4294967295|c>>>11),c=e+(o^(n|~l))+s[12]+1700485571&4294967295,e=n+(c<<6&4294967295|c>>>26),c=l+(n^(e|~o))+s[3]+2399980690&4294967295,l=e+(c<<10&4294967295|c>>>22),c=o+(e^(l|~n))+s[10]+4293915773&4294967295,o=l+(c<<15&4294967295|c>>>17),c=n+(l^(o|~e))+s[1]+2240044497&4294967295,n=o+(c<<21&4294967295|c>>>11),c=e+(o^(n|~l))+s[8]+1873313359&4294967295,e=n+(c<<6&4294967295|c>>>26),c=l+(n^(e|~o))+s[15]+4264355552&4294967295,l=e+(c<<10&4294967295|c>>>22),c=o+(e^(l|~n))+s[6]+2734768916&4294967295,o=l+(c<<15&4294967295|c>>>17),c=n+(l^(o|~e))+s[13]+1309151649&4294967295,n=o+(c<<21&4294967295|c>>>11),c=e+(o^(n|~l))+s[4]+4149444226&4294967295,e=n+(c<<6&4294967295|c>>>26),c=l+(n^(e|~o))+s[11]+3174756917&4294967295,l=e+(c<<10&4294967295|c>>>22),c=o+(e^(l|~n))+s[2]+718787259&4294967295,o=l+(c<<15&4294967295|c>>>17),c=n+(l^(o|~e))+s[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(o+(c<<21&4294967295|c>>>11))&4294967295,t.g[2]=t.g[2]+o&4294967295,t.g[3]=t.g[3]+l&4294967295}vn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,s=this.m,o=this.h,l=0;l<e;){if(o==0)for(;l<=n;)Od(this,t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<e;)if(s[o++]=t.charCodeAt(l++),o==this.blockSize){Od(this,s),o=0;break}}else for(;l<e;)if(s[o++]=t[l++],o==this.blockSize){Od(this,s),o=0;break}}this.h=o,this.i+=e};vn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)t[n++]=this.g[e]>>>s&255;return t};function De(t,e){this.h=e;for(var n=[],s=!0,o=t.length-1;0<=o;o--){var l=t[o]|0;s&&l==e||(n[o]=l,s=!1)}this.g=n}var m2={};function ng(t){return-128<=t&&128>t?TC(t,function(e){return new De([e|0],0>e?-1:0)}):new De([t|0],0>t?-1:0)}function xn(t){if(isNaN(t)||!isFinite(t))return zs;if(0>t)return _t(xn(-t));for(var e=[],n=1,s=0;t>=n;s++)e[s]=t/n|0,n*=am;return new De(e,0)}function GT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return _t(GT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=xn(Math.pow(e,8)),s=zs,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),e);8>l?(l=xn(Math.pow(e,l)),s=s.R(l).add(xn(c))):(s=s.R(n),s=s.add(xn(c)))}return s}var am=4294967296,zs=ng(0),om=ng(1),m0=ng(16777216);B=De.prototype;B.ea=function(){if(fn(this))return-_t(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);t+=(0<=s?s:am+s)*e,e*=am}return t};B.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ri(this))return"0";if(fn(this))return"-"+_t(this).toString(t);for(var e=xn(Math.pow(t,6)),n=this,s="";;){var o=nc(n,e).g;n=tc(n,o.R(e));var l=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=o,ri(n))return l+s;for(;6>l.length;)l="0"+l;s=l+s}};B.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ri(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function fn(t){return t.h==-1}B.X=function(t){return t=tc(this,t),fn(t)?-1:ri(t)?0:1};function _t(t){for(var e=t.g.length,n=[],s=0;s<e;s++)n[s]=~t.g[s];return new De(n,~t.h).add(om)}B.abs=function(){return fn(this)?_t(this):this};B.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0,o=0;o<=e;o++){var l=s+(this.D(o)&65535)+(t.D(o)&65535),c=(l>>>16)+(this.D(o)>>>16)+(t.D(o)>>>16);s=c>>>16,l&=65535,c&=65535,n[o]=c<<16|l}return new De(n,n[n.length-1]&-2147483648?-1:0)};function tc(t,e){return t.add(_t(e))}B.R=function(t){if(ri(this)||ri(t))return zs;if(fn(this))return fn(t)?_t(this).R(_t(t)):_t(_t(this).R(t));if(fn(t))return _t(this.R(_t(t)));if(0>this.X(m0)&&0>t.X(m0))return xn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var o=0;o<t.g.length;o++){var l=this.D(s)>>>16,c=this.D(s)&65535,m=t.D(o)>>>16,d=t.D(o)&65535;n[2*s+2*o]+=c*d,Mu(n,2*s+2*o),n[2*s+2*o+1]+=l*d,Mu(n,2*s+2*o+1),n[2*s+2*o+1]+=c*m,Mu(n,2*s+2*o+1),n[2*s+2*o+2]+=l*m,Mu(n,2*s+2*o+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new De(n,0)};function Mu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ho(t,e){this.g=t,this.h=e}function nc(t,e){if(ri(e))throw Error("division by zero");if(ri(t))return new ho(zs,zs);if(fn(t))return e=nc(_t(t),e),new ho(_t(e.g),_t(e.h));if(fn(e))return e=nc(t,_t(e)),new ho(_t(e.g),e.h);if(30<t.g.length){if(fn(t)||fn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=om,s=e;0>=s.X(t);)n=g0(n),s=g0(s);var o=Vs(n,1),l=Vs(s,1);for(s=Vs(s,2),n=Vs(n,2);!ri(s);){var c=l.add(s);0>=c.X(t)&&(o=o.add(n),l=c),s=Vs(s,1),n=Vs(n,1)}return e=tc(t,o.R(e)),new ho(o,e)}for(o=zs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),s=Math.ceil(Math.log(n)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),l=xn(n),c=l.R(e);fn(c)||0<c.X(t);)n-=s,l=xn(n),c=l.R(e);ri(l)&&(l=om),o=o.add(l),t=tc(t,c)}return new ho(o,t)}B.gb=function(t){return nc(this,t).h};B.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&t.D(s);return new De(n,this.h&t.h)};B.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|t.D(s);return new De(n,this.h|t.h)};B.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^t.D(s);return new De(n,this.h^t.h)};function g0(t){for(var e=t.g.length+1,n=[],s=0;s<e;s++)n[s]=t.D(s)<<1|t.D(s-1)>>>31;return new De(n,t.h)}function Vs(t,e){var n=e>>5;e%=32;for(var s=t.g.length-n,o=[],l=0;l<s;l++)o[l]=0<e?t.D(l+n)>>>e|t.D(l+n+1)<<32-e:t.D(l+n);return new De(o,t.h)}ec.prototype.createWebChannel=ec.prototype.g;Wt.prototype.send=Wt.prototype.u;Wt.prototype.open=Wt.prototype.m;Wt.prototype.close=Wt.prototype.close;Cc.NO_ERROR=0;Cc.TIMEOUT=8;Cc.HTTP_ERROR=6;lT.COMPLETE="complete";uT.EventType=Jo;Jo.OPEN="a";Jo.CLOSE="b";Jo.ERROR="c";Jo.MESSAGE="d";ft.prototype.listen=ft.prototype.O;Ke.prototype.listenOnce=Ke.prototype.P;Ke.prototype.getLastError=Ke.prototype.Sa;Ke.prototype.getLastErrorCode=Ke.prototype.Ia;Ke.prototype.getStatus=Ke.prototype.da;Ke.prototype.getResponseJson=Ke.prototype.Wa;Ke.prototype.getResponseText=Ke.prototype.ja;Ke.prototype.send=Ke.prototype.ha;Ke.prototype.setWithCredentials=Ke.prototype.Oa;vn.prototype.digest=vn.prototype.l;vn.prototype.reset=vn.prototype.reset;vn.prototype.update=vn.prototype.j;De.prototype.add=De.prototype.add;De.prototype.multiply=De.prototype.R;De.prototype.modulo=De.prototype.gb;De.prototype.compare=De.prototype.X;De.prototype.toNumber=De.prototype.ea;De.prototype.toString=De.prototype.toString;De.prototype.getBits=De.prototype.D;De.fromNumber=xn;De.fromString=GT;var g2=function(){return new ec},p2=function(){return Ic()},xd=Cc,y2=lT,_2=Qr,p0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Vu=uT,v2=Ke,E2=vn,Bs=De;const y0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sa="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new Mm("@firebase/firestore");function fo(){return Br.logLevel}function Q(t,...e){if(Br.logLevel<=Ee.DEBUG){const n=e.map(ig);Br.debug(`Firestore (${sa}): ${t}`,...n)}}function ci(t,...e){if(Br.logLevel<=Ee.ERROR){const n=e.map(ig);Br.error(`Firestore (${sa}): ${t}`,...n)}}function zo(t,...e){if(Br.logLevel<=Ee.WARN){const n=e.map(ig);Br.warn(`Firestore (${sa}): ${t}`,...n)}}function ig(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t="Unexpected state"){const e=`FIRESTORE (${sa}) INTERNAL ASSERTION FAILED: `+t;throw ci(e),new Error(e)}function Ue(t,e){t||ae()}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends di{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class w2{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const o=d=>this.i!==s?(s=this.i,n(d)):Promise.resolve();let l=new li;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new li,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const d=l;e.enqueueRetryable(async()=>{await d.promise,await o(this.currentUser)})},m=d=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(d=>m(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?m(d):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new li)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ue(typeof s.accessToken=="string"),new T2(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Bt(e)}}class S2{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class R2{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new S2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class I2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const s=l=>{l.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,Q("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new b2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=C2(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<n&&(s+=e.charAt(o[l]%e.length))}return s}}function Ie(t,e){return t<e?-1:t>e?1:0}function Ks(t,e,n){return t.length===e.length&&t.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new st(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new st(0,0))}static max(){return new ue(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n,s){n===void 0?n=0:n>e.length&&ae(),s===void 0?s=e.length-n:s>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Bo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bo?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const l=e.get(o),c=n.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class je extends Bo{construct(e,n,s){return new je(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new H(U.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new je(n)}static emptyPath(){return new je([])}}const D2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends Bo{construct(e,n,s){return new vt(e,n,s)}static isValidIdentifier(e){return D2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vt(["__name__"])}static fromServerFormat(e){const n=[];let s="",o=0;const l=()=>{if(s.length===0)throw new H(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new H(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new H(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(l(),o++)}if(l(),c)throw new H(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.path=e}static fromPath(e){return new W(je.fromString(e))}static fromName(e){return new W(je.fromString(e).popFirst(5))}static empty(){return new W(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new W(new je(e.slice()))}}function N2(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,o=ue.fromTimestamp(s===1e9?new st(n+1,0):new st(n,s));return new Ji(o,W.empty(),e)}function O2(t){return new Ji(t.readTime,t.key,-1)}class Ji{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ji(ue.min(),W.empty(),-1)}static max(){return new Ji(ue.max(),W.empty(),-1)}}function x2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==M2)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,s)=>{n(e)})}static reject(e){return new j((n,s)=>{s(e)})}static waitFor(e){return new j((n,s)=>{let o=0,l=0,c=!1;e.forEach(m=>{++o,m.next(()=>{++l,c&&l===o&&n()},d=>s(d))}),c=!0,l===o&&n()})}static or(e){let n=j.resolve(!1);for(const s of e)n=n.next(o=>o?j.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,l)=>{s.push(n.call(this,o,l))}),this.waitFor(s)}static mapArray(e,n){return new j((s,o)=>{const l=e.length,c=new Array(l);let m=0;for(let d=0;d<l;d++){const g=d;n(e[g]).next(y=>{c[g]=y,++m,m===l&&s(c)},y=>o(y))}})}static doWhile(e,n){return new j((s,o)=>{const l=()=>{e()===!0?n().next(()=>{l()},o):s()};l()})}}function sl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.se(s),this.oe=s=>n.writeSequenceNumber(s))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}rg._e=-1;function Lc(t){return t==null}function ic(t){return t===0&&1/t==-1/0}function P2(t){return typeof t=="number"&&Number.isInteger(t)&&!ic(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Kr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function KT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.comparator=e,this.root=n||yt.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yt.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pu(this.root,e,this.comparator,!0)}}class Pu{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yt{constructor(e,n,s,o,l){this.key=e,this.value=n,this.color=s??yt.RED,this.left=o??yt.EMPTY,this.right=l??yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,l){return new yt(e??this.key,n??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,s),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();const e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}}yt.EMPTY=null,yt.RED=!0,yt.BLACK=!1;yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,s,o,l){return this}insert(e,n,s){return new yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new v0(this.data.getIterator())}getIteratorFrom(e){return new v0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tt(this.comparator);return n.data=e,n}}class v0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new $t([])}unionWith(e){let n=new Tt(vt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new $t(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ks(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new YT("Invalid base64 string: "+l):l}}(e);return new Ot(n)}static fromUint8Array(e){const n=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new Ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const U2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=U2.exec(t);if(Ue(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qr(t){return typeof t=="string"?Ot.fromBase64String(t):Ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ag(t){const e=t.mapValue.fields.__previous_value__;return sg(e)?ag(e):e}function qo(t){const e=er(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n,s,o,l,c,m,d,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=d,this.useFetchStreams=g}}class Ho{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ho("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ho&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu={mapValue:{}};function Hr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sg(t)?4:k2(t)?9007199254740991:10:ae()}function Ln(t,e){if(t===e)return!0;const n=Hr(t);if(n!==Hr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qo(t).isEqual(qo(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=er(o.timestampValue),m=er(l.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,l){return qr(o.bytesValue).isEqual(qr(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,l){return tt(o.geoPointValue.latitude)===tt(l.geoPointValue.latitude)&&tt(o.geoPointValue.longitude)===tt(l.geoPointValue.longitude)}(t,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return tt(o.integerValue)===tt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=tt(o.doubleValue),m=tt(l.doubleValue);return c===m?ic(c)===ic(m):isNaN(c)&&isNaN(m)}return!1}(t,e);case 9:return Ks(t.arrayValue.values||[],e.arrayValue.values||[],Ln);case 10:return function(o,l){const c=o.mapValue.fields||{},m=l.mapValue.fields||{};if(_0(c)!==_0(m))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(m[d]===void 0||!Ln(c[d],m[d])))return!1;return!0}(t,e);default:return ae()}}function Fo(t,e){return(t.values||[]).find(n=>Ln(n,e))!==void 0}function Ys(t,e){if(t===e)return 0;const n=Hr(t),s=Hr(e);if(n!==s)return Ie(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(l,c){const m=tt(l.integerValue||l.doubleValue),d=tt(c.integerValue||c.doubleValue);return m<d?-1:m>d?1:m===d?0:isNaN(m)?isNaN(d)?0:-1:1}(t,e);case 3:return E0(t.timestampValue,e.timestampValue);case 4:return E0(qo(t),qo(e));case 5:return Ie(t.stringValue,e.stringValue);case 6:return function(l,c){const m=qr(l),d=qr(c);return m.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const m=l.split("/"),d=c.split("/");for(let g=0;g<m.length&&g<d.length;g++){const y=Ie(m[g],d[g]);if(y!==0)return y}return Ie(m.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const m=Ie(tt(l.latitude),tt(c.latitude));return m!==0?m:Ie(tt(l.longitude),tt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(l,c){const m=l.values||[],d=c.values||[];for(let g=0;g<m.length&&g<d.length;++g){const y=Ys(m[g],d[g]);if(y)return y}return Ie(m.length,d.length)}(t.arrayValue,e.arrayValue);case 10:return function(l,c){if(l===Uu.mapValue&&c===Uu.mapValue)return 0;if(l===Uu.mapValue)return 1;if(c===Uu.mapValue)return-1;const m=l.fields||{},d=Object.keys(m),g=c.fields||{},y=Object.keys(g);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const E=Ie(d[v],y[v]);if(E!==0)return E;const S=Ys(m[d[v]],g[y[v]]);if(S!==0)return S}return Ie(d.length,y.length)}(t.mapValue,e.mapValue);default:throw ae()}}function E0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=er(t),s=er(e),o=Ie(n.seconds,s.seconds);return o!==0?o:Ie(n.nanos,s.nanos)}function Xs(t){return lm(t)}function lm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=er(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return W.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",o=!0;for(const l of n.values||[])o?o=!1:s+=",",s+=lm(l);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${lm(n.fields[c])}`;return o+"}"}(t.mapValue):ae()}function T0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function um(t){return!!t&&"integerValue"in t}function og(t){return!!t&&"arrayValue"in t}function A0(t){return!!t&&"nullValue"in t}function w0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bu(t){return!!t&&"mapValue"in t}function Ao(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Kr(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ao(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ao(t.arrayValue.values[n]);return e}return Object.assign({},t)}function k2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Bu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ao(n)}setAll(e){let n=vt.emptyPath(),s={},o=[];e.forEach((c,m)=>{if(!n.isImmediateParentOf(m)){const d=this.getFieldsMap(n);this.applyChanges(d,s,o),s={},o=[],n=m.popLast()}c?s[m.lastSegment()]=Ao(c):o.push(m.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,s,o)}delete(e){const n=this.field(e.popLast());Bu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Bu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Kr(n,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new qt(Ao(this.value))}}function XT(t){const e=[];return Kr(t.fields,(n,s)=>{const o=new vt([n]);if(Bu(s)){const l=XT(s.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new $t(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n,s,o,l,c,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=m}static newInvalidDocument(e){return new It(e,0,ue.min(),ue.min(),ue.min(),qt.empty(),0)}static newFoundDocument(e,n,s,o){return new It(e,1,n,ue.min(),s,o,0)}static newNoDocument(e,n){return new It(e,2,n,ue.min(),ue.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new It(e,3,n,ue.min(),ue.min(),qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n){this.position=e,this.inclusive=n}}function S0(t,e,n){let s=0;for(let o=0;o<t.position.length;o++){const l=e[o],c=t.position[o];if(l.field.isKeyField()?s=W.comparator(W.fromName(c.referenceValue),n.key):s=Ys(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function R0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ln(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n="asc"){this.field=e,this.dir=n}}function j2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{}class nt extends $T{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new B2(e,n,s):n==="array-contains"?new F2(e,s):n==="in"?new G2(e,s):n==="not-in"?new Q2(e,s):n==="array-contains-any"?new K2(e,s):new nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new q2(e,s):new H2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ys(n,this.value)):n!==null&&Hr(this.value)===Hr(n)&&this.matchesComparison(Ys(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class En extends $T{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new En(e,n)}matches(e){return WT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function WT(t){return t.op==="and"}function ZT(t){return z2(t)&&WT(t)}function z2(t){for(const e of t.filters)if(e instanceof En)return!1;return!0}function cm(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+Xs(t.value);if(ZT(t))return t.filters.map(e=>cm(e)).join(",");{const e=t.filters.map(n=>cm(n)).join(",");return`${t.op}(${e})`}}function JT(t,e){return t instanceof nt?function(s,o){return o instanceof nt&&s.op===o.op&&s.field.isEqual(o.field)&&Ln(s.value,o.value)}(t,e):t instanceof En?function(s,o){return o instanceof En&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,c,m)=>l&&JT(c,o.filters[m]),!0):!1}(t,e):void ae()}function eA(t){return t instanceof nt?function(n){return`${n.field.canonicalString()} ${n.op} ${Xs(n.value)}`}(t):t instanceof En?function(n){return n.op.toString()+" {"+n.getFilters().map(eA).join(" ,")+"}"}(t):"Filter"}class B2 extends nt{constructor(e,n,s){super(e,n,s),this.key=W.fromName(s.referenceValue)}matches(e){const n=W.comparator(e.key,this.key);return this.matchesComparison(n)}}class q2 extends nt{constructor(e,n){super(e,"in",n),this.keys=tA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class H2 extends nt{constructor(e,n){super(e,"not-in",n),this.keys=tA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>W.fromName(s.referenceValue))}class F2 extends nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return og(n)&&Fo(n.arrayValue,this.value)}}class G2 extends nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fo(this.value.arrayValue,n)}}class Q2 extends nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Fo(this.value.arrayValue,n)}}class K2 extends nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!og(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Fo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n=null,s=[],o=[],l=null,c=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=m,this.ce=null}}function b0(t,e=null,n=[],s=[],o=null,l=null,c=null){return new Y2(t,e,n,s,o,l,c)}function lg(t){const e=he(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>cm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Lc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Xs(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Xs(s)).join(",")),e.ce=n}return e.ce}function ug(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!j2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!JT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!R0(t.startAt,e.startAt)&&R0(t.endAt,e.endAt)}function hm(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n=null,s=[],o=[],l=null,c="F",m=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=m,this.endAt=d,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function X2(t,e,n,s,o,l,c,m){return new al(t,e,n,s,o,l,c,m)}function cg(t){return new al(t)}function I0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nA(t){return t.collectionGroup!==null}function wo(t){const e=he(t);if(e.le===null){e.le=[];const n=new Set;for(const l of e.explicitOrderBy)e.le.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Tt(vt.comparator);return c.filters.forEach(d=>{d.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.le.push(new sc(l,s))}),n.has(vt.keyField().canonicalString())||e.le.push(new sc(vt.keyField(),s))}return e.le}function Mn(t){const e=he(t);return e.he||(e.he=$2(e,wo(t))),e.he}function $2(t,e){if(t.limitType==="F")return b0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new sc(o.field,l)});const n=t.endAt?new rc(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new rc(t.startAt.position,t.startAt.inclusive):null;return b0(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function fm(t,e){const n=t.filters.concat([e]);return new al(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dm(t,e,n){return new al(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kc(t,e){return ug(Mn(t),Mn(e))&&t.limitType===e.limitType}function iA(t){return`${lg(Mn(t))}|lt:${t.limitType}`}function Ps(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>eA(o)).join(", ")}]`),Lc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Xs(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Xs(o)).join(",")),`Target(${s})`}(Mn(t))}; limitType=${t.limitType})`}function jc(t,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):W.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(t,e)&&function(s,o){for(const l of wo(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(t,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(t,e)&&function(s,o){return!(s.startAt&&!function(c,m,d){const g=S0(c,m,d);return c.inclusive?g<=0:g<0}(s.startAt,wo(s),o)||s.endAt&&!function(c,m,d){const g=S0(c,m,d);return c.inclusive?g>=0:g>0}(s.endAt,wo(s),o))}(t,e)}function W2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rA(t){return(e,n)=>{let s=!1;for(const o of wo(t)){const l=Z2(o,e,n);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function Z2(t,e,n){const s=t.field.isKeyField()?W.comparator(e.key,n.key):function(l,c,m){const d=c.data.field(l),g=m.data.field(l);return d!==null&&g!==null?Ys(d,g):ae()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Kr(this.inner,(n,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return KT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=new He(W.comparator);function hi(){return J2}const sA=new He(W.comparator);function _o(...t){let e=sA;for(const n of t)e=e.insert(n.key,n);return e}function aA(t){let e=sA;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ur(){return So()}function oA(){return So()}function So(){return new aa(t=>t.toString(),(t,e)=>t.isEqual(e))}const eD=new He(W.comparator),tD=new Tt(W.comparator);function _e(...t){let e=tD;for(const n of t)e=e.add(n);return e}const nD=new Tt(Ie);function iD(){return nD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(e)?"-0":e}}function uA(t){return{integerValue:""+t}}function rD(t,e){return P2(e)?uA(e):lA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(){this._=void 0}}function sD(t,e,n){return t instanceof ac?function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&sg(l)&&(l=ag(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(n,e):t instanceof Go?hA(t,e):t instanceof Qo?fA(t,e):function(o,l){const c=cA(o,l),m=C0(c)+C0(o.Ie);return um(c)&&um(o.Ie)?uA(m):lA(o.serializer,m)}(t,e)}function aD(t,e,n){return t instanceof Go?hA(t,e):t instanceof Qo?fA(t,e):n}function cA(t,e){return t instanceof oc?function(s){return um(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class ac extends zc{}class Go extends zc{constructor(e){super(),this.elements=e}}function hA(t,e){const n=dA(e);for(const s of t.elements)n.some(o=>Ln(o,s))||n.push(s);return{arrayValue:{values:n}}}class Qo extends zc{constructor(e){super(),this.elements=e}}function fA(t,e){let n=dA(e);for(const s of t.elements)n=n.filter(o=>!Ln(o,s));return{arrayValue:{values:n}}}class oc extends zc{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function C0(t){return tt(t.integerValue||t.doubleValue)}function dA(t){return og(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function oD(t,e){return t.field.isEqual(e.field)&&function(s,o){return s instanceof Go&&o instanceof Go||s instanceof Qo&&o instanceof Qo?Ks(s.elements,o.elements,Ln):s instanceof oc&&o instanceof oc?Ln(s.Ie,o.Ie):s instanceof ac&&o instanceof ac}(t.transform,e.transform)}class lD{constructor(e,n){this.version=e,this.transformResults=n}}class dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dn}static exists(e){return new dn(void 0,e)}static updateTime(e){return new dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bc{}function mA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hg(t.key,dn.none()):new ol(t.key,t.data,dn.none());{const n=t.data,s=qt.empty();let o=new Tt(vt.comparator);for(let l of e.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new ar(t.key,s,new $t(o.toArray()),dn.none())}}function uD(t,e,n){t instanceof ol?function(o,l,c){const m=o.value.clone(),d=N0(o.fieldTransforms,l,c.transformResults);m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(t,e,n):t instanceof ar?function(o,l,c){if(!qu(o.precondition,l))return void l.convertToUnknownDocument(c.version);const m=N0(o.fieldTransforms,l,c.transformResults),d=l.data;d.setAll(gA(o)),d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function Ro(t,e,n,s){return t instanceof ol?function(l,c,m,d){if(!qu(l.precondition,c))return m;const g=l.value.clone(),y=O0(l.fieldTransforms,d,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(t,e,n,s):t instanceof ar?function(l,c,m,d){if(!qu(l.precondition,c))return m;const g=O0(l.fieldTransforms,d,c),y=c.data;return y.setAll(gA(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(v=>v.field))}(t,e,n,s):function(l,c,m){return qu(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m}(t,e,n)}function cD(t,e){let n=null;for(const s of t.fieldTransforms){const o=e.data.field(s.field),l=cA(s.transform,o||null);l!=null&&(n===null&&(n=qt.empty()),n.set(s.field,l))}return n||null}function D0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ks(s,o,(l,c)=>oD(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ol extends Bc{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ar extends Bc{constructor(e,n,s,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function gA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function N0(t,e,n){const s=new Map;Ue(t.length===n.length);for(let o=0;o<n.length;o++){const l=t[o],c=l.transform,m=e.data.field(l.field);s.set(l.field,aD(c,m,n[o]))}return s}function O0(t,e,n){const s=new Map;for(const o of t){const l=o.transform,c=n.data.field(o.field);s.set(o.field,sD(l,c,e))}return s}class hg extends Bc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hD extends Bc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&uD(l,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ro(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ro(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=oA();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let m=this.applyToLocalView(c,l.mutatedFields);m=n.has(o.key)?null:m;const d=mA(c,m);d!==null&&s.set(o.key,d),c.isValidDocument()||c.convertToNoDocument(ue.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Ks(this.mutations,e.mutations,(n,s)=>D0(n,s))&&Ks(this.baseMutations,e.baseMutations,(n,s)=>D0(n,s))}}class fg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ue(e.mutations.length===s.length);let o=function(){return eD}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new fg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,we;function gD(t){switch(t){default:return ae();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function pA(t){if(t===void 0)return ci("GRPC error has no .code"),U.UNKNOWN;switch(t){case et.OK:return U.OK;case et.CANCELLED:return U.CANCELLED;case et.UNKNOWN:return U.UNKNOWN;case et.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case et.INTERNAL:return U.INTERNAL;case et.UNAVAILABLE:return U.UNAVAILABLE;case et.UNAUTHENTICATED:return U.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case et.NOT_FOUND:return U.NOT_FOUND;case et.ALREADY_EXISTS:return U.ALREADY_EXISTS;case et.PERMISSION_DENIED:return U.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case et.ABORTED:return U.ABORTED;case et.OUT_OF_RANGE:return U.OUT_OF_RANGE;case et.UNIMPLEMENTED:return U.UNIMPLEMENTED;case et.DATA_LOSS:return U.DATA_LOSS;default:return ae()}}(we=et||(et={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=new Bs([4294967295,4294967295],0);function x0(t){const e=pD().encode(t),n=new E2;return n.update(e),new Uint8Array(n.digest())}function M0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Bs([n,s],0),new Bs([o,l],0)]}class dg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new vo(`Invalid padding: ${n}`);if(s<0)throw new vo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new vo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new vo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Bs.fromNumber(this.Te)}de(e,n,s){let o=e.add(n.multiply(Bs.fromNumber(s)));return o.compare(yD)===1&&(o=new Bs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=x0(e),[s,o]=M0(n);for(let l=0;l<this.hashCount;l++){const c=this.de(s,o,l);if(!this.Ae(c))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new dg(l,o,n);return s.forEach(m=>c.insert(m)),c}insert(e){if(this.Te===0)return;const n=x0(e),[s,o]=M0(n);for(let l=0;l<this.hashCount;l++){const c=this.de(s,o,l);this.Re(c)}}Re(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class vo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n,s,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ll.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new qc(ue.min(),o,new He(Ie),hi(),_e())}}class ll{constructor(e,n,s,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ll(s,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n,s,o){this.Ve=e,this.removedTargetIds=n,this.key=s,this.me=o}}class yA{constructor(e,n){this.targetId=e,this.fe=n}}class _A{constructor(e,n,s=Ot.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class V0{constructor(){this.ge=0,this.pe=U0(),this.ye=Ot.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=_e(),n=_e(),s=_e();return this.pe.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ae()}}),new ll(this.ye,this.we,e,n,s)}Fe(){this.Se=!1,this.pe=U0()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ue(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class _D{constructor(e){this.Le=e,this.ke=new Map,this.qe=hi(),this.Qe=P0(),this.Ke=new He(Ie)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(n);break;case 3:this.je(n)&&(s.Be(),s.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.Ce(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((s,o)=>{this.je(o)&&n(o)})}Je(e){const n=e.targetId,s=e.fe.count,o=this.Ye(n);if(o){const l=o.target;if(hm(l))if(s===0){const c=new W(l.path);this.We(n,c,It.newNoDocument(c,ue.min()))}else Ue(s===1);else{const c=this.Ze(n);if(c!==s){const m=this.Xe(e),d=m?this.et(m,e,c):1;if(d!==0){this.He(n);const g=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=n;let c,m;try{c=qr(s).toUint8Array()}catch(d){if(d instanceof YT)return zo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{m=new dg(c,o,l)}catch(d){return zo(d instanceof vo?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return m.Te===0?null:m}et(e,n,s){return n.fe.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let o=0;return s.forEach(l=>{const c=this.Le.nt(),m=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.We(n,l,null),o++)}),o}it(e){const n=new Map;this.ke.forEach((l,c)=>{const m=this.Ye(c);if(m){if(l.current&&hm(m.target)){const d=new W(m.target.path);this.qe.get(d)!==null||this.st(c,d)||this.We(c,d,It.newNoDocument(d,e))}l.De&&(n.set(c,l.ve()),l.Fe())}});let s=_e();this.Qe.forEach((l,c)=>{let m=!0;c.forEachWhile(d=>{const g=this.Ye(d);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(l))}),this.qe.forEach((l,c)=>c.setReadTime(e));const o=new qc(e,n,this.Ke,this.qe,s);return this.qe=hi(),this.Qe=P0(),this.Ke=new He(Ie),o}Ue(e,n){if(!this.je(e))return;const s=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,s),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const o=this.ze(e);this.st(e,n)?o.Me(n,1):o.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),s&&(this.qe=this.qe.insert(n,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new V0,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Tt(Ie),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new V0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function P0(){return new He(W.comparator)}function U0(){return new He(W.comparator)}const vD={asc:"ASCENDING",desc:"DESCENDING"},ED={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TD={and:"AND",or:"OR"};class AD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mm(t,e){return t.useProto3Json||Lc(e)?e:{value:e}}function lc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wD(t,e){return lc(t,e.toTimestamp())}function Vn(t){return Ue(!!t),ue.fromTimestamp(function(n){const s=er(n);return new st(s.seconds,s.nanos)}(t))}function mg(t,e){return function(s){return new je(["projects",s.projectId,"databases",s.database])}(t).child("documents").child(e).canonicalString()}function EA(t){const e=je.fromString(t);return Ue(SA(e)),e}function gm(t,e){return mg(t.databaseId,e.path)}function Md(t,e){const n=EA(e);if(n.get(1)!==t.databaseId.projectId)throw new H(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(TA(n))}function pm(t,e){return mg(t.databaseId,e)}function SD(t){const e=EA(t);return e.length===4?je.emptyPath():TA(e)}function ym(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TA(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function L0(t,e,n){return{name:gm(t,e),fields:n.value.mapValue.fields}}function RD(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,y){return g.useProto3Json?(Ue(y===void 0||typeof y=="string"),Ot.fromBase64String(y||"")):(Ue(y===void 0||y instanceof Uint8Array),Ot.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&function(g){const y=g.code===void 0?U.UNKNOWN:pA(g.code);return new H(y,g.message||"")}(c);n=new _A(s,o,l,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Md(t,s.document.name),l=Vn(s.document.updateTime),c=s.document.createTime?Vn(s.document.createTime):ue.min(),m=new qt({mapValue:{fields:s.document.fields}}),d=It.newFoundDocument(o,l,c,m),g=s.targetIds||[],y=s.removedTargetIds||[];n=new Hu(g,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Md(t,s.document),l=s.readTime?Vn(s.readTime):ue.min(),c=It.newNoDocument(o,l),m=s.removedTargetIds||[];n=new Hu([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Md(t,s.document),l=s.removedTargetIds||[];n=new Hu([],l,o,null)}else{if(!("filter"in e))return ae();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new mD(o,l),m=s.targetId;n=new yA(m,c)}}return n}function bD(t,e){let n;if(e instanceof ol)n={update:L0(t,e.key,e.value)};else if(e instanceof hg)n={delete:gm(t,e.key)};else if(e instanceof ar)n={update:L0(t,e.key,e.data),updateMask:PD(e.fieldMask)};else{if(!(e instanceof hD))return ae();n={verify:gm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const m=c.transform;if(m instanceof ac)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Go)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Qo)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof oc)return{fieldPath:c.field.canonicalString(),increment:m.Ie};throw ae()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:wD(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ae()}(t,e.precondition)),n}function ID(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(o,l){let c=o.updateTime?Vn(o.updateTime):Vn(l);return c.isEqual(ue.min())&&(c=Vn(l)),new lD(c,o.transformResults||[])}(n,e))):[]}function CD(t,e){return{documents:[pm(t,e.path)]}}function DD(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=pm(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=pm(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const o=function(d){if(d.length!==0)return wA(En.create(d,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const l=function(d){if(d.length!==0)return d.map(g=>function(v){return{field:Us(v.field),direction:xD(v.dir)}}(g))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=mm(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),n}function ND(t){let e=SD(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ue(s===1);const y=n.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(v){const E=AA(v);return E instanceof En&&ZT(E)?E.getFilters():[E]}(n.where));let c=[];n.orderBy&&(c=function(v){return v.map(E=>function(x){return new sc(Ls(x.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(E))}(n.orderBy));let m=null;n.limit&&(m=function(v){let E;return E=typeof v=="object"?v.value:v,Lc(E)?null:E}(n.limit));let d=null;n.startAt&&(d=function(v){const E=!!v.before,S=v.values||[];return new rc(S,E)}(n.startAt));let g=null;return n.endAt&&(g=function(v){const E=!v.before,S=v.values||[];return new rc(S,E)}(n.endAt)),X2(e,o,c,l,m,"F",d,g)}function OD(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ls(n.unaryFilter.field);return nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ls(n.unaryFilter.field);return nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ls(n.unaryFilter.field);return nt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ls(n.unaryFilter.field);return nt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return nt.create(Ls(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return En.create(n.compositeFilter.filters.map(s=>AA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function xD(t){return vD[t]}function MD(t){return ED[t]}function VD(t){return TD[t]}function Us(t){return{fieldPath:t.canonicalString()}}function Ls(t){return vt.fromServerFormat(t.fieldPath)}function wA(t){return t instanceof nt?function(n){if(n.op==="=="){if(w0(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NAN"}};if(A0(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(w0(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NOT_NAN"}};if(A0(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Us(n.field),op:MD(n.op),value:n.value}}}(t):t instanceof En?function(n){const s=n.getFilters().map(o=>wA(o));return s.length===1?s[0]:{compositeFilter:{op:VD(n.op),filters:s}}}(t):ae()}function PD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n,s,o,l=ue.min(),c=ue.min(),m=Ot.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=d}withSequenceNumber(e){return new Ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.ut=e}}function LD(t){const e=ND({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.on=new jD}addToCollectionParentIndex(e,n){return this.on.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Ji.min())}updateCollectionGroup(e,n,s){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class jD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Tt(je.comparator),l=!o.has(s);return this.index[n]=o.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Tt(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new $s(0)}static Nn(){return new $s(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.changes=new aa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?j.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Ro(s.mutation,o,$t.empty(),st.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,_e()).next(()=>s))}getLocalViewOfDocuments(e,n,s=_e()){const o=Ur();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(l=>{let c=_o();return l.forEach((m,d)=>{c=c.insert(m,d.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const s=Ur();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,_e()))}populateOverlays(e,n,s){const o=[];return s.forEach(l=>{n.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,m)=>{n.set(c,m)})})}computeViews(e,n,s,o){let l=hi();const c=So(),m=function(){return So()}();return n.forEach((d,g)=>{const y=s.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof ar)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),Ro(y.mutation,g,y.mutation.getFieldMask(),st.now())):c.set(g.key,$t.empty())}),this.recalculateAndSaveOverlays(e,l).next(d=>(d.forEach((g,y)=>c.set(g,y)),n.forEach((g,y)=>{var v;return m.set(g,new BD(y,(v=c.get(g))!==null&&v!==void 0?v:null))}),m))}recalculateAndSaveOverlays(e,n){const s=So();let o=new He((c,m)=>c-m),l=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const m of c)m.keys().forEach(d=>{const g=n.get(d);if(g===null)return;let y=s.get(d)||$t.empty();y=m.applyToLocalView(g,y),s.set(d,y);const v=(o.get(m.batchId)||_e()).add(d);o=o.insert(m.batchId,v)})}).next(()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const d=m.getNext(),g=d.key,y=d.value,v=oA();y.forEach(E=>{if(!l.has(E)){const S=mA(n.get(E),s.get(E));S!==null&&v.set(E,S),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,v))}return j.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(c){return W.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-l.size):j.resolve(Ur());let m=-1,d=l;return c.next(g=>j.forEach(g,(y,v)=>(m<v.largestBatchId&&(m=v.largestBatchId),l.get(y)?j.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{d=d.insert(y,E)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,d,g,_e())).next(y=>({batchId:m,changes:aA(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(s=>{let o=_o();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const l=n.collectionGroup;let c=_o();return this.indexManager.getCollectionParents(e,l).next(m=>j.forEach(m,d=>{const g=function(v,E){return new al(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(y=>{y.forEach((v,E)=>{c=c.insert(v,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,o))).next(c=>{l.forEach((d,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,It.newInvalidDocument(y)))});let m=_o();return c.forEach((d,g)=>{const y=l.get(d);y!==void 0&&Ro(y.mutation,g,$t.empty(),st.now()),jc(n,g)&&(m=m.insert(d,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return j.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Vn(o.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(o){return{name:o.name,query:LD(o.bundledQuery),readTime:Vn(o.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.overlays=new He(W.comparator),this.lr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ur();return j.forEach(n,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,l)=>{this.lt(e,n,l)}),j.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.lr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.lr.delete(s)),j.resolve()}getOverlaysForCollection(e,n,s){const o=Ur(),l=n.length+1,c=new W(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const d=m.getNext().value,g=d.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&d.largestBatchId>s&&o.set(d.getKey(),d)}return j.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let l=new He((g,y)=>g-y);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=Ur(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const m=Ur(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((g,y)=>m.set(g,y)),!(m.size()>=o)););return j.resolve(m)}lt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.lr.get(o.largestBatchId).delete(s.key);this.lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new dD(n,s));let l=this.lr.get(n);l===void 0&&(l=_e(),this.lr.set(n,l)),this.lr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(){this.hr=new Tt(ct.Pr),this.Ir=new Tt(ct.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const s=new ct(e,n);this.hr=this.hr.add(s),this.Ir=this.Ir.add(s)}Er(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.dr(new ct(e,n))}Ar(e,n){e.forEach(s=>this.removeReference(s,n))}Rr(e){const n=new W(new je([])),s=new ct(n,e),o=new ct(n,e+1),l=[];return this.Ir.forEachInRange([s,o],c=>{this.dr(c),l.push(c.key)}),l}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new W(new je([])),s=new ct(n,e),o=new ct(n,e+1);let l=_e();return this.Ir.forEachInRange([s,o],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new ct(e,0),s=this.hr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class ct{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return W.comparator(e.key,n.key)||Ie(e.gr,n.gr)}static Tr(e,n){return Ie(e.gr,n.gr)||W.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Tt(ct.Pr)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const l=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new fD(l,n,s,o);this.mutationQueue.push(c);for(const m of o)this.yr=this.yr.add(new ct(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return j.resolve(c)}lookupMutationBatch(e,n){return j.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Sr(s),l=o<0?0:o;return j.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new ct(n,0),o=new ct(n,Number.POSITIVE_INFINITY),l=[];return this.yr.forEachInRange([s,o],c=>{const m=this.wr(c.gr);l.push(m)}),j.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Tt(Ie);return n.forEach(o=>{const l=new ct(o,0),c=new ct(o,Number.POSITIVE_INFINITY);this.yr.forEachInRange([l,c],m=>{s=s.add(m.gr)})}),j.resolve(this.br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let l=s;W.isDocumentKey(l)||(l=l.child(""));const c=new ct(new W(l),0);let m=new Tt(Ie);return this.yr.forEachWhile(d=>{const g=d.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(d.gr)),!0)},c),j.resolve(this.br(m))}br(e){const n=[];return e.forEach(s=>{const o=this.wr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ue(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.yr;return j.forEach(n.mutations,o=>{const l=new ct(o.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.yr=s})}Fn(e){}containsKey(e,n){const s=new ct(n,0),o=this.yr.firstAfterOrEqual(s);return j.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.Cr=e,this.docs=function(){return new He(W.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),l=o?o.size:0,c=this.Cr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return j.resolve(s?s.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let s=hi();return n.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():It.newInvalidDocument(o))}),j.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let l=hi();const c=n.path,m=new W(c.child("")),d=this.docs.getIteratorFrom(m);for(;d.hasNext();){const{key:g,value:{document:y}}=d.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||x2(O2(y),s)<=0||(o.has(y.key)||jc(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return j.resolve(l)}getAllFromCollectionGroup(e,n,s,o){ae()}vr(e,n){return j.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new KD(this)}getSize(e){return j.resolve(this.size)}}class KD extends zD{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this._r.addEntry(e,o)):this._r.removeEntry(s)}),j.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.persistence=e,this.Fr=new aa(n=>lg(n),ug),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Mr=0,this.Or=new gg,this.targetCount=0,this.Nr=$s.On()}forEachTarget(e,n){return this.Fr.forEach((s,o)=>n(o)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Mr&&(this.Mr=n),j.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new $s(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.kn(n),j.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,s){let o=0;const l=[];return this.Fr.forEach((c,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Fr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),j.waitFor(l).next(()=>o)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const s=this.Fr.get(n)||null;return j.resolve(s)}addMatchingKeys(e,n,s){return this.Or.Er(n,s),j.resolve()}removeMatchingKeys(e,n,s){this.Or.Ar(n,s);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),j.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Or.mr(n);return j.resolve(s)}containsKey(e,n){return j.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n){this.Br={},this.overlays={},this.Lr=new rg(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new YD(this),this.indexManager=new kD,this.remoteDocumentCache=function(o){return new QD(o)}(s=>this.referenceDelegate.Qr(s)),this.serializer=new UD(n),this.Kr=new HD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Br[e.toKey()];return s||(s=new GD(n,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,s){Q("MemoryPersistence","Starting transaction:",e);const o=new $D(this.Lr.next());return this.referenceDelegate.$r(),s(o).next(l=>this.referenceDelegate.Ur(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Wr(e,n){return j.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,n)))}}class $D extends V2{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Gr=new gg,this.zr=null}static jr(e){return new pg(e)}get Hr(){if(this.zr)return this.zr;throw ae()}addReference(e,n,s){return this.Gr.addReference(s,n),this.Hr.delete(s.toString()),j.resolve()}removeReference(e,n,s){return this.Gr.removeReference(s,n),this.Hr.add(s.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),j.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(o=>this.Hr.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(l=>this.Hr.add(l.toString()))}).next(()=>s.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Hr,s=>{const o=W.fromPath(s);return this.Jr(e,o).next(l=>{l||n.removeEntry(o,ue.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(s=>{s?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return j.or([()=>j.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ki=s,this.qi=o}static Qi(e,n){let s=_e(),o=_e();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new yg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,s,o){const l={result:null};return this.zi(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ji(e,n,o,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new WD;return this.Hi(e,n,c).next(m=>{if(l.result=m,this.$i)return this.Ji(e,n,c,m.size)})}).next(()=>l.result)}Ji(e,n,s,o){return s.documentReadCount<this.Ui?(fo()<=Ee.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Ps(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),j.resolve()):(fo()<=Ee.DEBUG&&Q("QueryEngine","Query:",Ps(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Wi*o?(fo()<=Ee.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Ps(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(n))):j.resolve())}zi(e,n){if(I0(n))return j.resolve(null);let s=Mn(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=dm(n,null,"F"),s=Mn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=_e(...l);return this.Gi.getDocuments(e,c).next(m=>this.indexManager.getMinOffset(e,s).next(d=>{const g=this.Yi(n,m);return this.Zi(n,g,c,d.readTime)?this.zi(e,dm(n,null,"F")):this.Xi(e,g,n,d)}))})))}ji(e,n,s,o){return I0(n)||o.isEqual(ue.min())?j.resolve(null):this.Gi.getDocuments(e,s).next(l=>{const c=this.Yi(n,l);return this.Zi(n,c,s,o)?j.resolve(null):(fo()<=Ee.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ps(n)),this.Xi(e,c,n,N2(o,-1)).next(m=>m))})}Yi(e,n){let s=new Tt(rA(e));return n.forEach((o,l)=>{jc(e,l)&&(s=s.add(l))}),s}Zi(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Hi(e,n,s){return fo()<=Ee.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Ps(n)),this.Gi.getDocumentsMatchingQuery(e,n,Ji.min(),s)}Xi(e,n,s,o){return this.Gi.getDocumentsMatchingQuery(e,s,o).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n,s,o){this.persistence=e,this.es=n,this.serializer=o,this.ts=new He(Ie),this.ns=new aa(l=>lg(l),ug),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(s)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qD(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function eN(t,e,n,s){return new JD(t,e,n,s)}async function RA(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,n.os(e),n.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],m=[];let d=_e();for(const g of o){c.push(g.batchId);for(const y of g.mutations)d=d.add(y.key)}for(const g of l){m.push(g.batchId);for(const y of g.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(s,d).next(g=>({_s:g,removedBatchIds:c,addedBatchIds:m}))})})}function tN(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=n.ss.newChangeBuffer({trackRemovals:!0});return function(m,d,g,y){const v=g.batch,E=v.keys();let S=j.resolve();return E.forEach(x=>{S=S.next(()=>y.getEntry(d,x)).next(k=>{const M=g.docVersions.get(x);Ue(M!==null),k.version.compareTo(M)<0&&(v.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),y.addEntry(k)))})}),S.next(()=>m.mutationQueue.removeMutationBatch(d,v))}(n,s,e,l).next(()=>l.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let d=_e();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(d=d.add(m.batch.mutations[g].key));return d}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function bA(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function nN(t,e){const n=he(t),s=e.snapshotVersion;let o=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.ss.newChangeBuffer({trackRemovals:!0});o=n.ts;const m=[];e.targetChanges.forEach((y,v)=>{const E=o.get(v);if(!E)return;m.push(n.qr.removeMatchingKeys(l,y.removedDocuments,v).next(()=>n.qr.addMatchingKeys(l,y.addedDocuments,v)));let S=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(Ot.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,s)),o=o.insert(v,S),function(k,M,Y){return k.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(E,S,y)&&m.push(n.qr.updateTargetData(l,S))});let d=hi(),g=_e();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),m.push(iN(l,c,e.documentUpdates).next(y=>{d=y.us,g=y.cs})),!s.isEqual(ue.min())){const y=n.qr.getLastRemoteSnapshotVersion(l).next(v=>n.qr.setTargetsMetadata(l,l.currentSequenceNumber,s));m.push(y)}return j.waitFor(m).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,d,g)).next(()=>d)}).then(l=>(n.ts=o,l))}function iN(t,e,n){let s=_e(),o=_e();return n.forEach(l=>s=s.add(l)),e.getEntries(t,s).next(l=>{let c=hi();return n.forEach((m,d)=>{const g=l.get(m);d.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),d.isNoDocument()&&d.version.isEqual(ue.min())?(e.removeEntry(m,d.readTime),c=c.insert(m,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(d),c=c.insert(m,d)):Q("LocalStore","Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",d.version)}),{us:c,cs:o}})}function rN(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function sN(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.qr.getTargetData(s,e).next(l=>l?(o=l,j.resolve(o)):n.qr.allocateTargetId(s).next(c=>(o=new Ki(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.qr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.ts=n.ts.insert(s.targetId,s),n.ns.set(e,s.targetId)),s})}async function _m(t,e,n){const s=he(t),o=s.ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!sl(c))throw c;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}s.ts=s.ts.remove(e),s.ns.delete(o.target)}function k0(t,e,n){const s=he(t);let o=ue.min(),l=_e();return s.persistence.runTransaction("Execute query","readwrite",c=>function(d,g,y){const v=he(d),E=v.ns.get(y);return E!==void 0?j.resolve(v.ts.get(E)):v.qr.getTargetData(g,y)}(s,c,Mn(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.qr.getMatchingKeysForTargetId(c,m.targetId).next(d=>{l=d})}).next(()=>s.es.getDocumentsMatchingQuery(c,e,n?o:ue.min(),n?l:_e())).next(m=>(aN(s,W2(e),m),{documents:m,ls:l})))}function aN(t,e,n){let s=t.rs.get(e)||ue.min();n.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),t.rs.set(e,s)}class j0{constructor(){this.activeTargetIds=iD()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oN{constructor(){this.eo=new j0,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,s){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new j0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu=null;function Vd(){return Lu===null?Lu=function(){return 268435456+Math.round(2147483648*Math.random())}():Lu++,"0x"+Lu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="WebChannelConnection";class hN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.mo=s+"://"+n.host,this.fo=`projects/${o}/databases/${l}`,this.po=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}get yo(){return!1}wo(n,s,o,l,c){const m=Vd(),d=this.So(n,s);Q("RestConnection",`Sending RPC '${n}' ${m}:`,d,o);const g={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(g,l,c),this.Do(n,d,g,o).then(y=>(Q("RestConnection",`Received RPC '${n}' ${m}: `,y),y),y=>{throw zo("RestConnection",`RPC '${n}' ${m} failed with error: `,y,"url: ",d,"request:",o),y})}Co(n,s,o,l,c,m){return this.wo(n,s,o,l,c)}bo(n,s,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((l,c)=>n[c]=l),o&&o.headers.forEach((l,c)=>n[c]=l)}So(n,s){const o=uN[n];return`${this.mo}/v1/${s}:${o}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,s,o){const l=Vd();return new Promise((c,m)=>{const d=new v2;d.setWithCredentials(!0),d.listenOnce(y2.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case xd.NO_ERROR:const y=d.getResponseJson();Q(bt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case xd.TIMEOUT:Q(bt,`RPC '${e}' ${l} timed out`),m(new H(U.DEADLINE_EXCEEDED,"Request time out"));break;case xd.HTTP_ERROR:const v=d.getStatus();if(Q(bt,`RPC '${e}' ${l} failed with status:`,v,"response text:",d.getResponseText()),v>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const x=function(M){const Y=M.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(Y)>=0?Y:U.UNKNOWN}(S.status);m(new H(x,S.message))}else m(new H(U.UNKNOWN,"Server responded with status "+d.getStatus()))}else m(new H(U.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{Q(bt,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(o);Q(bt,`RPC '${e}' ${l} sending request:`,o),d.send(n,"POST",g,s,15)})}vo(e,n,s){const o=Vd(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=g2(),m=p2(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.bo(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const y=l.join("");Q(bt,`Creating RPC '${e}' stream ${o}: ${y}`,d);const v=c.createWebChannel(y,d);let E=!1,S=!1;const x=new cN({co:M=>{S?Q(bt,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(E||(Q(bt,`Opening RPC '${e}' stream ${o} transport.`),v.open(),E=!0),Q(bt,`RPC '${e}' stream ${o} sending:`,M),v.send(M))},lo:()=>v.close()}),k=(M,Y,J)=>{M.listen(Y,ne=>{try{J(ne)}catch(be){setTimeout(()=>{throw be},0)}})};return k(v,Vu.EventType.OPEN,()=>{S||Q(bt,`RPC '${e}' stream ${o} transport opened.`)}),k(v,Vu.EventType.CLOSE,()=>{S||(S=!0,Q(bt,`RPC '${e}' stream ${o} transport closed`),x.Ro())}),k(v,Vu.EventType.ERROR,M=>{S||(S=!0,zo(bt,`RPC '${e}' stream ${o} transport errored:`,M),x.Ro(new H(U.UNAVAILABLE,"The operation could not be completed")))}),k(v,Vu.EventType.MESSAGE,M=>{var Y;if(!S){const J=M.data[0];Ue(!!J);const ne=J,be=ne.error||((Y=ne[0])===null||Y===void 0?void 0:Y.error);if(be){Q(bt,`RPC '${e}' stream ${o} received error:`,be);const re=be.status;let Le=function($){const ye=et[$];if(ye!==void 0)return pA(ye)}(re),At=be.message;Le===void 0&&(Le=U.INTERNAL,At="Unknown error status: "+re+" with message "+be.message),S=!0,x.Ro(new H(Le,At)),v.close()}else Q(bt,`RPC '${e}' stream ${o} received:`,J),x.Vo(J)}}),k(m,_2.STAT_EVENT,M=>{M.stat===p0.PROXY?Q(bt,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===p0.NOPROXY&&Q(bt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.Ao()},0),x}}function Pd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t){return new AD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n,s=1e3,o=1.5,l=6e4){this.si=e,this.timerId=n,this.Fo=s,this.Mo=o,this.xo=l,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),s=Math.max(0,Date.now()-this.Bo),o=Math.max(0,n-s);o>0&&Q("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,o,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n,s,o,l,c,m,d){this.si=e,this.Ko=s,this.$o=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=d,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new IA(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(ci(n.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Uo===n&&this.s_(s,o)},s=>{e(()=>{const o=new H(U.UNKNOWN,"Fetching auth token failed: "+s.message);return this.o_(o)})})}s_(e,n){const s=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{s(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(o=>{s(()=>this.o_(o))}),this.stream.onMessage(o=>{s(()=>this.onMessage(o))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fN extends CA{constructor(e,n,s,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=RD(this.serializer,e),s=function(l){if(!("targetChange"in l))return ue.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ue.min():c.readTime?Vn(c.readTime):ue.min()}(e);return this.listener.a_(n,s)}u_(e){const n={};n.database=ym(this.serializer),n.addTarget=function(l,c){let m;const d=c.target;if(m=hm(d)?{documents:CD(l,d)}:{query:DD(l,d)},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=vA(l,c.resumeToken);const g=mm(l,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(ue.min())>0){m.readTime=lc(l,c.snapshotVersion.toTimestamp());const g=mm(l,c.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=OD(this.serializer,e);s&&(n.labels=s),this.e_(n)}c_(e){const n={};n.database=ym(this.serializer),n.removeTarget=e,this.e_(n)}}class dN extends CA{constructor(e,n,s,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=ID(e.writeResults,e.commitTime),s=Vn(e.commitTime);return this.listener.I_(s,n)}return Ue(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=ym(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>bD(this.serializer,s))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN extends class{}{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.d_=!1}A_(){if(this.d_)throw new H(U.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.wo(e,n,s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(U.UNKNOWN,o.toString())})}Co(e,n,s,o){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,n,s,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new H(U.UNKNOWN,l.toString())})}terminate(){this.d_=!0}}class gN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ci(n),this.f_=!1):Q("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n,s,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=l,this.F_.ro(c=>{s.enqueueAndForget(async()=>{Yr(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(d){const g=he(d);g.C_.add(4),await ul(g),g.M_.set("Unknown"),g.C_.delete(4),await Fc(g)}(this))})}),this.M_=new gN(s,o)}}async function Fc(t){if(Yr(t))for(const e of t.v_)await e(!0)}async function ul(t){for(const e of t.v_)await e(!1)}function DA(t,e){const n=he(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Eg(n)?vg(n):oa(n).Ho()&&_g(n,e))}function NA(t,e){const n=he(t),s=oa(n);n.D_.delete(e),s.Ho()&&OA(n,e),n.D_.size===0&&(s.Ho()?s.Zo():Yr(n)&&n.M_.set("Unknown"))}function _g(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oa(t).u_(e)}function OA(t,e){t.x_.Oe(e),oa(t).c_(e)}function vg(t){t.x_=new _D({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),oa(t).start(),t.M_.g_()}function Eg(t){return Yr(t)&&!oa(t).jo()&&t.D_.size>0}function Yr(t){return he(t).C_.size===0}function xA(t){t.x_=void 0}async function yN(t){t.D_.forEach((e,n)=>{_g(t,e)})}async function _N(t,e){xA(t),Eg(t)?(t.M_.w_(e),vg(t)):t.M_.set("Unknown")}async function vN(t,e,n){if(t.M_.set("Online"),e instanceof _A&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const m of l.targetIds)o.D_.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.D_.delete(m),o.x_.removeTarget(m))}(t,e)}catch(s){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await uc(t,s)}else if(e instanceof Hu?t.x_.$e(e):e instanceof yA?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ue.min()))try{const s=await bA(t.localStore);n.compareTo(s)>=0&&await function(l,c){const m=l.x_.it(c);return m.targetChanges.forEach((d,g)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.D_.get(g);y&&l.D_.set(g,y.withResumeToken(d.resumeToken,c))}}),m.targetMismatches.forEach((d,g)=>{const y=l.D_.get(d);if(!y)return;l.D_.set(d,y.withResumeToken(Ot.EMPTY_BYTE_STRING,y.snapshotVersion)),OA(l,d);const v=new Ki(y.target,d,g,y.sequenceNumber);_g(l,v)}),l.remoteSyncer.applyRemoteEvent(m)}(t,n)}catch(s){Q("RemoteStore","Failed to raise snapshot:",s),await uc(t,s)}}async function uc(t,e,n){if(!sl(e))throw e;t.C_.add(1),await ul(t),t.M_.set("Offline"),n||(n=()=>bA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Fc(t)})}function MA(t,e){return e().catch(n=>uc(t,n,e))}async function Gc(t){const e=he(t),n=tr(e);let s=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;EN(e);)try{const o=await rN(e.localStore,s);if(o===null){e.b_.length===0&&n.Zo();break}s=o.batchId,TN(e,o)}catch(o){await uc(e,o)}VA(e)&&PA(e)}function EN(t){return Yr(t)&&t.b_.length<10}function TN(t,e){t.b_.push(e);const n=tr(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function VA(t){return Yr(t)&&!tr(t).jo()&&t.b_.length>0}function PA(t){tr(t).start()}async function AN(t){tr(t).E_()}async function wN(t){const e=tr(t);for(const n of t.b_)e.P_(n.mutations)}async function SN(t,e,n){const s=t.b_.shift(),o=fg.from(s,e,n);await MA(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await Gc(t)}async function RN(t,e){e&&tr(t).h_&&await async function(s,o){if(function(c){return gD(c)&&c!==U.ABORTED}(o.code)){const l=s.b_.shift();tr(s).Yo(),await MA(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Gc(s)}}(t,e),VA(t)&&PA(t)}async function B0(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const s=Yr(n);n.C_.add(3),await ul(n),s&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Fc(n)}async function bN(t,e){const n=he(t);e?(n.C_.delete(2),await Fc(n)):e||(n.C_.add(2),await ul(n),n.M_.set("Unknown"))}function oa(t){return t.O_||(t.O_=function(n,s,o){const l=he(n);return l.A_(),new fN(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(t.datastore,t.asyncQueue,{ho:yN.bind(null,t),Io:_N.bind(null,t),a_:vN.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),Eg(t)?vg(t):t.M_.set("Unknown")):(await t.O_.stop(),xA(t))})),t.O_}function tr(t){return t.N_||(t.N_=function(n,s,o){const l=he(n);return l.A_(),new dN(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(t.datastore,t.asyncQueue,{ho:AN.bind(null,t),Io:RN.bind(null,t),T_:wN.bind(null,t),I_:SN.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await Gc(t)):(await t.N_.stop(),t.b_.length>0&&(Q("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n,s,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,l){const c=Date.now()+s,m=new Tg(e,n,c,o,l);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ag(t,e){if(ci("AsyncQueue",`${e}: ${t}`),sl(t))return new H(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.comparator=e?(n,s)=>e(n,s)||W.comparator(n.key,s.key):(n,s)=>W.comparator(n.key,s.key),this.keyedMap=_o(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new qs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new qs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(){this.B_=new He(W.comparator)}track(e){const n=e.doc.key,s=this.B_.get(n);s?e.type!==0&&s.type===3?this.B_=this.B_.insert(n,e):e.type===3&&s.type!==1?this.B_=this.B_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.B_=this.B_.remove(n):e.type===1&&s.type===2?this.B_=this.B_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):ae():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ws{constructor(e,n,s,o,l,c,m,d,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=d,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,l){const c=[];return n.forEach(m=>{c.push({type:0,doc:m})}),new Ws(e,n,qs.emptySet(n),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.k_=void 0,this.listeners=[]}}class CN{constructor(){this.queries=new aa(e=>iA(e),kc),this.onlineState="Unknown",this.q_=new Set}}async function UA(t,e){const n=he(t),s=e.query;let o=!1,l=n.queries.get(s);if(l||(o=!0,l=new IN),o)try{l.k_=await n.onListen(s)}catch(c){const m=Ag(c,`Initialization of query '${Ps(e.query)}' failed`);return void e.onError(m)}n.queries.set(s,l),l.listeners.push(e),e.Q_(n.onlineState),l.k_&&e.K_(l.k_)&&wg(n)}async function LA(t,e){const n=he(t),s=e.query;let o=!1;const l=n.queries.get(s);if(l){const c=l.listeners.indexOf(e);c>=0&&(l.listeners.splice(c,1),o=l.listeners.length===0)}if(o)return n.queries.delete(s),n.onUnlisten(s)}function DN(t,e){const n=he(t);let s=!1;for(const o of e){const l=o.query,c=n.queries.get(l);if(c){for(const m of c.listeners)m.K_(o)&&(s=!0);c.k_=o}}s&&wg(n)}function NN(t,e,n){const s=he(t),o=s.queries.get(e);if(o)for(const l of o.listeners)l.onError(n);s.queries.delete(e)}function wg(t){t.q_.forEach(e=>{e.next()})}class kA{constructor(e,n,s){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=s||{}}K_(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ws(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.J_||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.key=e}}class zA{constructor(e){this.key=e}}class ON{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=_e(),this.mutatedKeys=_e(),this._a=rA(e),this.aa=new qs(this._a)}get ua(){return this.ia}ca(e,n){const s=n?n.la:new q0,o=n?n.aa:this.aa;let l=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const d=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((y,v)=>{const E=o.get(y),S=jc(this.query,v)?v:null,x=!!E&&this.mutatedKeys.has(E.key),k=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let M=!1;E&&S?E.data.isEqual(S.data)?x!==k&&(s.track({type:3,doc:S}),M=!0):this.ha(E,S)||(s.track({type:2,doc:S}),M=!0,(d&&this._a(S,d)>0||g&&this._a(S,g)<0)&&(m=!0)):!E&&S?(s.track({type:0,doc:S}),M=!0):E&&!S&&(s.track({type:1,doc:E}),M=!0,(d||g)&&(m=!0)),M&&(S?(c=c.add(S),l=k?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{aa:c,la:s,Zi:m,mutatedKeys:l}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const l=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const c=e.la.L_();c.sort((y,v)=>function(S,x){const k=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return k(S)-k(x)}(y.type,v.type)||this._a(y.doc,v.doc)),this.Pa(s),o=o!=null&&o;const m=n&&!o?this.Ia():[],d=this.oa.size===0&&this.current&&!o?1:0,g=d!==this.sa;return this.sa=d,c.length!==0||g?{snapshot:new Ws(this.query,e.aa,l,c,e.mutatedKeys,d===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ta:m}:{Ta:m}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new q0,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=_e(),this.aa.forEach(s=>{this.Ea(s.key)&&(this.oa=this.oa.add(s.key))});const n=[];return e.forEach(s=>{this.oa.has(s)||n.push(new zA(s))}),this.oa.forEach(s=>{e.has(s)||n.push(new jA(s))}),n}da(e){this.ia=e.ls,this.oa=_e();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Ws.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class xN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class MN{constructor(e){this.key=e,this.Ra=!1}}class VN{constructor(e,n,s,o,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Va={},this.ma=new aa(m=>iA(m),kc),this.fa=new Map,this.ga=new Set,this.pa=new He(W.comparator),this.ya=new Map,this.wa=new gg,this.Sa={},this.ba=new Map,this.Da=$s.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function PN(t,e){const n=GN(t);let s,o;const l=n.ma.get(e);if(l)s=l.targetId,n.sharedClientState.addLocalQueryTarget(s),o=l.view.Aa();else{const c=await sN(n.localStore,Mn(e)),m=n.sharedClientState.addLocalQueryTarget(c.targetId);s=c.targetId,o=await UN(n,e,s,m==="current",c.resumeToken),n.isPrimaryClient&&DA(n.remoteStore,c)}return o}async function UN(t,e,n,s,o){t.va=(v,E,S)=>async function(k,M,Y,J){let ne=M.view.ca(Y);ne.Zi&&(ne=await k0(k.localStore,M.query,!1).then(({documents:At})=>M.view.ca(At,ne)));const be=J&&J.targetChanges.get(M.targetId),re=J&&J.targetMismatches.get(M.targetId)!=null,Le=M.view.applyChanges(ne,k.isPrimaryClient,be,re);return F0(k,M.targetId,Le.Ta),Le.snapshot}(t,v,E,S);const l=await k0(t.localStore,e,!0),c=new ON(e,l.ls),m=c.ca(l.documents),d=ll.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",o),g=c.applyChanges(m,t.isPrimaryClient,d);F0(t,n,g.Ta);const y=new xN(e,n,c);return t.ma.set(e,y),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),g.snapshot}async function LN(t,e){const n=he(t),s=n.ma.get(e),o=n.fa.get(s.targetId);if(o.length>1)return n.fa.set(s.targetId,o.filter(l=>!kc(l,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await _m(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),NA(n.remoteStore,s.targetId),vm(n,s.targetId)}).catch(rl)):(vm(n,s.targetId),await _m(n.localStore,s.targetId,!0))}async function kN(t,e,n){const s=QN(t);try{const o=await function(c,m){const d=he(c),g=st.now(),y=m.reduce((S,x)=>S.add(x.key),_e());let v,E;return d.persistence.runTransaction("Locally write mutations","readwrite",S=>{let x=hi(),k=_e();return d.ss.getEntries(S,y).next(M=>{x=M,x.forEach((Y,J)=>{J.isValidDocument()||(k=k.add(Y))})}).next(()=>d.localDocuments.getOverlayedDocuments(S,x)).next(M=>{v=M;const Y=[];for(const J of m){const ne=cD(J,v.get(J.key).overlayedDocument);ne!=null&&Y.push(new ar(J.key,ne,XT(ne.value.mapValue),dn.exists(!0)))}return d.mutationQueue.addMutationBatch(S,g,Y,m)}).next(M=>{E=M;const Y=M.applyToLocalDocumentSet(v,k);return d.documentOverlayCache.saveOverlays(S,M.batchId,Y)})}).then(()=>({batchId:E.batchId,changes:aA(v)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(c,m,d){let g=c.Sa[c.currentUser.toKey()];g||(g=new He(Ie)),g=g.insert(m,d),c.Sa[c.currentUser.toKey()]=g}(s,o.batchId,n),await cl(s,o.changes),await Gc(s.remoteStore)}catch(o){const l=Ag(o,"Failed to persist write");n.reject(l)}}async function BA(t,e){const n=he(t);try{const s=await nN(n.localStore,e);e.targetChanges.forEach((o,l)=>{const c=n.ya.get(l);c&&(Ue(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Ra=!0:o.modifiedDocuments.size>0?Ue(c.Ra):o.removedDocuments.size>0&&(Ue(c.Ra),c.Ra=!1))}),await cl(n,s,e)}catch(s){await rl(s)}}function H0(t,e,n){const s=he(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ma.forEach((l,c)=>{const m=c.view.Q_(e);m.snapshot&&o.push(m.snapshot)}),function(c,m){const d=he(c);d.onlineState=m;let g=!1;d.queries.forEach((y,v)=>{for(const E of v.listeners)E.Q_(m)&&(g=!0)}),g&&wg(d)}(s.eventManager,e),o.length&&s.Va.a_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function jN(t,e,n){const s=he(t);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.ya.get(e),l=o&&o.key;if(l){let c=new He(W.comparator);c=c.insert(l,It.newNoDocument(l,ue.min()));const m=_e().add(l),d=new qc(ue.min(),new Map,new He(Ie),c,m);await BA(s,d),s.pa=s.pa.remove(l),s.ya.delete(e),Sg(s)}else await _m(s.localStore,e,!1).then(()=>vm(s,e,n)).catch(rl)}async function zN(t,e){const n=he(t),s=e.batch.batchId;try{const o=await tN(n.localStore,e);HA(n,s,null),qA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await cl(n,o)}catch(o){await rl(o)}}async function BN(t,e,n){const s=he(t);try{const o=await function(c,m){const d=he(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return d.mutationQueue.lookupMutationBatch(g,m).next(v=>(Ue(v!==null),y=v.keys(),d.mutationQueue.removeMutationBatch(g,v))).next(()=>d.mutationQueue.performConsistencyCheck(g)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(g,y,m)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>d.localDocuments.getDocuments(g,y))})}(s.localStore,e);HA(s,e,n),qA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await cl(s,o)}catch(o){await rl(o)}}function qA(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function HA(t,e,n){const s=he(t);let o=s.Sa[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),s.Sa[s.currentUser.toKey()]=o}}function vm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.fa.get(e))t.ma.delete(s),n&&t.Va.Fa(s,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(s=>{t.wa.containsKey(s)||FA(t,s)})}function FA(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(NA(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),Sg(t))}function F0(t,e,n){for(const s of n)s instanceof jA?(t.wa.addReference(s.key,e),qN(t,s)):s instanceof zA?(Q("SyncEngine","Document no longer in limbo: "+s.key),t.wa.removeReference(s.key,e),t.wa.containsKey(s.key)||FA(t,s.key)):ae()}function qN(t,e){const n=e.key,s=n.path.canonicalString();t.pa.get(n)||t.ga.has(s)||(Q("SyncEngine","New document in limbo: "+n),t.ga.add(s),Sg(t))}function Sg(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new W(je.fromString(e)),s=t.Da.next();t.ya.set(s,new MN(n)),t.pa=t.pa.insert(n,s),DA(t.remoteStore,new Ki(Mn(cg(n.path)),s,"TargetPurposeLimboResolution",rg._e))}}async function cl(t,e,n){const s=he(t),o=[],l=[],c=[];s.ma.isEmpty()||(s.ma.forEach((m,d)=>{c.push(s.va(d,e,n).then(g=>{if((g||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(d.targetId,g!=null&&g.fromCache?"not-current":"current"),g){o.push(g);const y=yg.Qi(d.targetId,g);l.push(y)}}))}),await Promise.all(c),s.Va.a_(o),await async function(d,g){const y=he(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>j.forEach(g,E=>j.forEach(E.ki,S=>y.persistence.referenceDelegate.addReference(v,E.targetId,S)).next(()=>j.forEach(E.qi,S=>y.persistence.referenceDelegate.removeReference(v,E.targetId,S)))))}catch(v){if(!sl(v))throw v;Q("LocalStore","Failed to update sequence numbers: "+v)}for(const v of g){const E=v.targetId;if(!v.fromCache){const S=y.ts.get(E),x=S.snapshotVersion,k=S.withLastLimboFreeSnapshotVersion(x);y.ts=y.ts.insert(E,k)}}}(s.localStore,l))}async function HN(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const s=await RA(n.localStore,e);n.currentUser=e,function(l,c){l.ba.forEach(m=>{m.forEach(d=>{d.reject(new H(U.CANCELLED,c))})}),l.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await cl(n,s._s)}}function FN(t,e){const n=he(t),s=n.ya.get(e);if(s&&s.Ra)return _e().add(s.key);{let o=_e();const l=n.fa.get(e);if(!l)return o;for(const c of l){const m=n.ma.get(c);o=o.unionWith(m.view.ua)}return o}}function GN(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jN.bind(null,e),e.Va.a_=DN.bind(null,e.eventManager),e.Va.Fa=NN.bind(null,e.eventManager),e}function QN(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BN.bind(null,e),e}class G0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Hc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return eN(this.persistence,new ZD,e.initialUser,this.serializer)}createPersistence(e){return new XD(pg.jr,this.serializer)}createSharedClientState(e){return new oN}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class KN{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>H0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=HN.bind(null,this.syncEngine),await bN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CN}()}createDatastore(e){const n=Hc(e.databaseInfo.databaseId),s=function(l){return new hN(l)}(e.databaseInfo);return function(l,c,m,d){return new mN(l,c,m,d)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,l,c,m){return new pN(s,o,l,c,m)}(this.localStore,this.datastore,e.asyncQueue,n=>H0(this.syncEngine,n,0),function(){return z0.D()?new z0:new lN}())}createSyncEngine(e,n){return function(o,l,c,m,d,g,y){const v=new VN(o,l,c,m,d,g);return y&&(v.Ca=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const s=he(n);Q("RemoteStore","RemoteStore shutting down."),s.C_.add(5),await ul(s),s.F_.shutdown(),s.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Bt.UNAUTHENTICATED,this.clientId=QT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async l=>{Q("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(s,l=>(Q("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Ag(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Ud(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async o=>{s.isEqual(o)||(await RA(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Q0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $N(t);Q("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(o=>B0(e.remoteStore,o)),t.setAppCheckTokenChangeListener((o,l)=>B0(e.remoteStore,l)),t._onlineComponents=e}function XN(t){return t.name==="FirebaseError"?t.code===U.FAILED_PRECONDITION||t.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function $N(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ud(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!XN(n))throw n;zo("Error using user provided cache. Falling back to memory cache: "+n),await Ud(t,new G0)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await Ud(t,new G0);return t._offlineComponents}async function QA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await Q0(t,t._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await Q0(t,new KN))),t._onlineComponents}function WN(t){return QA(t).then(e=>e.syncEngine)}async function KA(t){const e=await QA(t),n=e.eventManager;return n.onListen=PN.bind(null,e.syncEngine),n.onUnlisten=LN.bind(null,e.syncEngine),n}function ZN(t,e,n={}){const s=new li;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,m,d,g){const y=new GA({next:E=>{c.enqueueAndForget(()=>LA(l,v));const S=E.docs.has(m);!S&&E.fromCache?g.reject(new H(U.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&d&&d.source==="server"?g.reject(new H(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),v=new kA(cg(m.path),y,{includeMetadataChanges:!0,J_:!0});return UA(l,v)}(await KA(t),t.asyncQueue,e,n,s)),s.promise}function JN(t,e,n={}){const s=new li;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,m,d,g){const y=new GA({next:E=>{c.enqueueAndForget(()=>LA(l,v)),E.fromCache&&d.source==="server"?g.reject(new H(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),v=new kA(m,y,{includeMetadataChanges:!0,J_:!0});return UA(l,v)}(await KA(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(t,e,n){if(!n)throw new H(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function eO(t,e,n,s){if(e===!0&&s===!0)throw new H(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Y0(t){if(!W.isDocumentKey(t))throw new H(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function X0(t){if(W.isDocumentKey(t))throw new H(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function kn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qc(t);throw new H(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new H(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YA((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new H(U.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new H(U.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new H(U.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rg{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new H(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $0(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new A2;switch(s.type){case"firstParty":return new R2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new H(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=K0.get(n);s&&(Q("ComponentProvider","Removing Datastore"),K0.delete(n),s.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new la(this.firestore,e,this._query)}}class Ut{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}}class Zi extends la{constructor(e,n,s){super(e,n,cg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new W(e))}withConverter(e){return new Zi(this.firestore,e,this._path)}}function bg(t,e,...n){if(t=ht(t),XA("collection","path",e),t instanceof Rg){const s=je.fromString(e,...n);return X0(s),new Zi(t,null,s)}{if(!(t instanceof Ut||t instanceof Zi))throw new H(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(je.fromString(e,...n));return X0(s),new Zi(t.firestore,null,s)}}function ua(t,e,...n){if(t=ht(t),arguments.length===1&&(e=QT.newId()),XA("doc","path",e),t instanceof Rg){const s=je.fromString(e,...n);return Y0(s),new Ut(t,null,new W(s))}{if(!(t instanceof Ut||t instanceof Zi))throw new H(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(je.fromString(e,...n));return Y0(s),new Ut(t.firestore,t instanceof Zi?t.converter:null,new W(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new IA(this,"async_queue_retry"),this.iu=()=>{const n=Pd();n&&Q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Pd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Pd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new li;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!sl(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(s=>{this.eu=s,this.tu=!1;const o=function(c){let m=c.message||"";return c.stack&&(m=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),m}(s);throw ci("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.tu=!1,s))));return this.Ja=n,n}enqueueAfterDelay(e,n,s){this.su(),this.ru.indexOf(e)>-1&&(n=0);const o=Tg.createAndSchedule(this,e,n,s,l=>this.au(l));return this.Xa.push(o),o}su(){this.eu&&ae()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class Xr extends Rg{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=function(){return new tO}(),this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||$A(this),this._firestoreClient.terminate()}}function nO(t,e,n){n||(n="(default)");const s=Pm(t,"firestore");if(s.isInitialized(n)){const o=s.getImmediate({identifier:n}),l=s.getOptions(n);if(No(l,e))return o;throw new H(U.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new H(U.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return s.initialize({options:e,instanceIdentifier:n})}function Ig(t){return t._firestoreClient||$A(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $A(t){var e,n,s;const o=t._freezeSettings(),l=function(m,d,g,y){return new L2(m,d,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,YA(y.experimentalLongPollingOptions),y.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._firestoreClient=new YN(t._authCredentials,t._appCheckCredentials,t._queue,l),!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.localCache.kind,_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zs(Ot.fromBase64String(e))}catch(n){throw new H(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zs(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=/^__.*__$/;class rO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ar(e,this.data,this.fieldMask,n,this.fieldTransforms):new ol(e,this.data,n,this.fieldTransforms)}}class WA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ar(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ZA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}class Ng{constructor(e,n,s,o,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Pu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Ng(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Tu({path:s,du:!1});return o.Au(e),o}Ru(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Tu({path:s,du:!1});return o.Pu(),o}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return cc(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(ZA(this.Iu)&&iO.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class sO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Hc(e)}pu(e,n,s,o=!1){return new Ng({Iu:e,methodName:n,gu:s,path:vt.emptyPath(),du:!1,fu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yc(t){const e=t._freezeSettings(),n=Hc(t._databaseId);return new sO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JA(t,e,n,s,o,l={}){const c=t.pu(l.merge||l.mergeFields?2:0,e,n,o);Og("Data must be an object, but it was:",c,s);const m=ew(s,c);let d,g;if(l.merge)d=new $t(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const E=Em(e,v,n);if(!c.contains(E))throw new H(U.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);nw(y,E)||y.push(E)}d=new $t(y),g=c.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,g=c.fieldTransforms;return new rO(new qt(m),d,g)}class Xc extends Cg{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xc}}function aO(t,e,n,s){const o=t.pu(1,e,n);Og("Data must be an object, but it was:",o,s);const l=[],c=qt.empty();Kr(s,(d,g)=>{const y=xg(e,d,n);g=ht(g);const v=o.Ru(y);if(g instanceof Xc)l.push(y);else{const E=hl(g,v);E!=null&&(l.push(y),c.set(y,E))}});const m=new $t(l);return new WA(c,m,o.fieldTransforms)}function oO(t,e,n,s,o,l){const c=t.pu(1,e,n),m=[Em(e,s,n)],d=[o];if(l.length%2!=0)throw new H(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)m.push(Em(e,l[E])),d.push(l[E+1]);const g=[],y=qt.empty();for(let E=m.length-1;E>=0;--E)if(!nw(g,m[E])){const S=m[E];let x=d[E];x=ht(x);const k=c.Ru(S);if(x instanceof Xc)g.push(S);else{const M=hl(x,k);M!=null&&(g.push(S),y.set(S,M))}}const v=new $t(g);return new WA(y,v,c.fieldTransforms)}function lO(t,e,n,s=!1){return hl(n,t.pu(s?4:3,e))}function hl(t,e){if(tw(t=ht(t)))return Og("Unsupported field value:",e,t),ew(t,e);if(t instanceof Cg)return function(s,o){if(!ZA(o.Iu))throw o.mu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.mu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(s,o){const l=[];let c=0;for(const m of s){let d=hl(m,o.Vu(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}}(t,e)}return function(s,o){if((s=ht(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return rD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=st.fromDate(s);return{timestampValue:lc(o.serializer,l)}}if(s instanceof st){const l=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:lc(o.serializer,l)}}if(s instanceof Dg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Zs)return{bytesValue:vA(o.serializer,s._byteString)};if(s instanceof Ut){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.mu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:mg(s.firestore._databaseId||o.databaseId,s._key.path)}}throw o.mu(`Unsupported field value: ${Qc(s)}`)}(t,e)}function ew(t,e){const n={};return KT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kr(t,(s,o)=>{const l=hl(o,e.Eu(s));l!=null&&(n[s]=l)}),{mapValue:{fields:n}}}function tw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof Dg||t instanceof Zs||t instanceof Ut||t instanceof Cg)}function Og(t,e,n){if(!tw(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Qc(n);throw s==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+s)}}function Em(t,e,n){if((e=ht(e))instanceof Kc)return e._internalPath;if(typeof e=="string")return xg(t,e);throw cc("Field path arguments must be of type string or ",t,!1,void 0,n)}const uO=new RegExp("[~\\*/\\[\\]]");function xg(t,e,n){if(e.search(uO)>=0)throw cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kc(...e.split("."))._internalPath}catch{throw cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cc(t,e,n,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${s}`),c&&(d+=` in document ${o}`),d+=")"),new H(U.INVALID_ARGUMENT,m+t+d)}function nw(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n,s,o,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cO extends iw{data(){return super.data()}}function Mg(t,e){return typeof e=="string"?xg(t,e):e instanceof Kc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vg{}class fO extends Vg{}function dO(t,e,...n){let s=[];e instanceof Vg&&s.push(e),s=s.concat(n),function(l){const c=l.filter(d=>d instanceof Pg).length,m=l.filter(d=>d instanceof $c).length;if(c>1||c>0&&m>0)throw new H(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)t=o._apply(t);return t}class $c extends fO{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new $c(e,n,s)}_apply(e){const n=this._parse(e);return rw(e._query,n),new la(e.firestore,e.converter,fm(e._query,n))}_parse(e){const n=Yc(e.firestore);return function(l,c,m,d,g,y,v){let E;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new H(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Z0(v,y);const S=[];for(const x of v)S.push(W0(d,l,x));E={arrayValue:{values:S}}}else E=W0(d,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Z0(v,y),E=lO(m,c,v,y==="in"||y==="not-in");return nt.create(g,y,E)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function mO(t,e,n){const s=e,o=Mg("where",t);return $c._create(o,s,n)}class Pg extends Vg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Pg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:En.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,l){let c=o;const m=l.getFlattenedFilters();for(const d of m)rw(c,d),c=fm(c,d)}(e._query,n),new la(e.firestore,e.converter,fm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function W0(t,e,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new H(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nA(e)&&n.indexOf("/")!==-1)throw new H(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(je.fromString(n));if(!W.isDocumentKey(s))throw new H(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return T0(t,new W(s))}if(n instanceof Ut)return T0(t,n._key);throw new H(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qc(n)}.`)}function Z0(t,e){if(!Array.isArray(t)||t.length===0)throw new H(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rw(t,e){const n=function(o,l){for(const c of o)for(const m of c.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null}(t.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class gO{convertValue(e,n="none"){switch(Hr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Kr(e,(o,l)=>{s[o]=this.convertValue(l,n)}),s}convertGeoPoint(e){return new Dg(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ag(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(qo(e));default:return null}}convertTimestamp(e){const n=er(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=je.fromString(e);Ue(SA(s));const o=new Ho(s.get(1),s.get(3)),l=new W(s.popFirst(5));return o.isEqual(n)||ci(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(t,e,n){let s;return s=t?t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aw extends iw{constructor(e,n,s,o,l,c){super(e,n,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Mg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Fu extends aw{data(e={}){return super.data(e)}}class pO{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Eo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Fu(this._firestore,this._userDataWriter,s.key,s,new Eo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(m=>{const d=new Fu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Eo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>l||m.type!==3).map(m=>{const d=new Fu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Eo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,y=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),y=c.indexOf(m.doc.key)),{type:yO(m.type),doc:d,oldIndex:g,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t){t=kn(t,Ut);const e=kn(t.firestore,Xr);return ZN(Ig(e),t._key).then(n=>AO(e,t,n))}class ow extends gO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}function lw(t){t=kn(t,la);const e=kn(t.firestore,Xr),n=Ig(e),s=new ow(e);return hO(t._query),JN(n,t._query).then(o=>new pO(e,s,t,o))}function vO(t,e,n){t=kn(t,Ut);const s=kn(t.firestore,Xr),o=sw(t.converter,e);return Wc(s,[JA(Yc(s),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,dn.none())])}function EO(t,e,n,...s){t=kn(t,Ut);const o=kn(t.firestore,Xr),l=Yc(o);let c;return c=typeof(e=ht(e))=="string"||e instanceof Kc?oO(l,"updateDoc",t._key,e,n,s):aO(l,"updateDoc",t._key,e),Wc(o,[c.toMutation(t._key,dn.exists(!0))])}function uw(t){return Wc(kn(t.firestore,Xr),[new hg(t._key,dn.none())])}function TO(t,e){const n=kn(t.firestore,Xr),s=ua(t),o=sw(t.converter,e);return Wc(n,[JA(Yc(t.firestore),"addDoc",s._key,o,t.converter!==null,{}).toMutation(s._key,dn.exists(!1))]).then(()=>s)}function Wc(t,e){return function(s,o){const l=new li;return s.asyncQueue.enqueueAndForget(async()=>kN(await WN(s),o,l)),l.promise}(Ig(t),e)}function AO(t,e,n){const s=n.docs.get(e._key),o=new ow(t);return new aw(t,o,e._key,s,new Eo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){sa=o})(na),Gs(new jr("firestore",(s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),m=new Xr(new w2(s.getProvider("auth-internal")),new I2(s.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new H(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ho(g.options.projectId,y)}(c,o),c);return l=Object.assign({useFetchStreams:n},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),Wi(y0,"4.4.0",e),Wi(y0,"4.4.0","esm2017")})();function Ug(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function cw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wO=cw,hw=new $o("auth","Firebase",cw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new Mm("@firebase/auth");function SO(t,...e){hc.logLevel<=Ee.WARN&&hc.warn(`Auth (${na}): ${t}`,...e)}function Gu(t,...e){hc.logLevel<=Ee.ERROR&&hc.error(`Auth (${na}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t,...e){throw Lg(t,...e)}function Pn(t,...e){return Lg(t,...e)}function RO(t,e,n){const s=Object.assign(Object.assign({},wO()),{[e]:n});return new $o("auth","Firebase",s).create(e,{appName:t.name})}function Lg(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return hw.create(t,...e)}function se(t,e,...n){if(!t)throw Lg(e,...n)}function si(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gu(e),new Error(e)}function fi(t,e){t||si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bO(){return J0()==="http:"||J0()==="https:"}function J0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bO()||$b()||"connection"in navigator)?navigator.onLine:!0}function CO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n){this.shortDelay=e,this.longDelay=n,fi(n>e,"Short delay should be less than long delay!"),this.isMobile=Xb()||Wb()}get(){return IO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t,e){fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=new fl(3e4,6e4);function or(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function mi(t,e,n,s,o={}){return dw(t,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const m=Wo(Object.assign({key:t.config.apiKey},c)).slice(1),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode),fw.fetch()(mw(t,t.config.apiHost,n,m),Object.assign({method:e,headers:d,referrerPolicy:"no-referrer"},l))})}async function dw(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},DO),e);try{const o=new xO(t),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw ku(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const m=l.ok?c.errorMessage:c.error.message,[d,g]=m.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw ku(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw ku(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw ku(t,"user-disabled",c);const y=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw RO(t,y,g);Tn(t,y)}}catch(o){if(o instanceof di)throw o;Tn(t,"network-request-failed",{message:String(o)})}}async function dl(t,e,n,s,o={}){const l=await mi(t,e,n,s,o);return"mfaPendingCredential"in l&&Tn(t,"multi-factor-auth-required",{_serverResponse:l}),l}function mw(t,e,n,s){const o=`${e}${n}?${s}`;return t.config.emulator?kg(t.config,o):`${t.config.apiScheme}://${o}`}function OO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Pn(this.auth,"network-request-failed")),NO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ku(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Pn(t,e,s);return o.customData._tokenResponse=n,o}function eE(t){return t!==void 0&&t.enterprise!==void 0}class MO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return OO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function VO(t,e){return mi(t,"GET","/v2/recaptchaConfig",or(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(t,e){return mi(t,"POST","/v1/accounts:delete",e)}async function UO(t,e){return mi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LO(t,e=!1){const n=ht(t),s=await n.getIdToken(e),o=jg(s);se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:bo(Ld(o.auth_time)),issuedAtTime:bo(Ld(o.iat)),expirationTime:bo(Ld(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Ld(t){return Number(t)*1e3}function jg(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Gu("JWT malformed, contained fewer than 3 sections"),null;try{const o=UE(n);return o?JSON.parse(o):(Gu("Failed to decode base64 JWT payload"),null)}catch(o){return Gu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function kO(t){const e=jg(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Js(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof di&&jO(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function jO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bo(this.lastLoginAt),this.creationTime=bo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(t){var e;const n=t.auth,s=await t.getIdToken(),o=await Js(t,UO(n,{idToken:s}));se(o==null?void 0:o.users.length,n,"internal-error");const l=o.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?HO(l.providerUserInfo):[],m=qO(t.providerData,c),d=t.isAnonymous,g=!(t.email&&l.passwordHash)&&!(m!=null&&m.length),y=d?g:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new gw(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(t,v)}async function BO(t){const e=ht(t);await fc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qO(t,e){return[...t.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function HO(t){return t.map(e=>{var{providerId:n}=e,s=Ug(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(t,e){const n=await dw(t,{},async()=>{const s=Wo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=t.config,c=mw(t,o,"/v1/token",`key=${l}`),m=await t._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",fw.fetch()(c,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function GO(t,e){return mi(t,"POST","/v2/accounts:revokeToken",or(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return se(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:l}=await FO(e,n);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:l}=n,c=new Ko;return s&&(se(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(se(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(se(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class kr{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,l=Ug(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new gw(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Js(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LO(this,e)}reload(){return BO(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await fc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Js(this,PO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,l,c,m,d,g,y;const v=(s=n.displayName)!==null&&s!==void 0?s:void 0,E=(o=n.email)!==null&&o!==void 0?o:void 0,S=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,x=(c=n.photoURL)!==null&&c!==void 0?c:void 0,k=(m=n.tenantId)!==null&&m!==void 0?m:void 0,M=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,Y=(g=n.createdAt)!==null&&g!==void 0?g:void 0,J=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:ne,emailVerified:be,isAnonymous:re,providerData:Le,stsTokenManager:At}=n;se(ne&&At,e,"internal-error");const mn=Ko.fromJSON(this.name,At);se(typeof ne=="string",e,"internal-error"),ji(v,e.name),ji(E,e.name),se(typeof be=="boolean",e,"internal-error"),se(typeof re=="boolean",e,"internal-error"),ji(S,e.name),ji(x,e.name),ji(k,e.name),ji(M,e.name),ji(Y,e.name),ji(J,e.name);const $=new kr({uid:ne,auth:e,email:E,emailVerified:be,displayName:v,isAnonymous:re,photoURL:x,phoneNumber:S,tenantId:k,stsTokenManager:mn,createdAt:Y,lastLoginAt:J});return Le&&Array.isArray(Le)&&($.providerData=Le.map(ye=>Object.assign({},ye))),M&&($._redirectEventId=M),$}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ko;o.updateFromServerResponse(n);const l=new kr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await fc(l),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=new Map;function ai(t){fi(t instanceof Function,"Expected a class definition");let e=tE.get(t);return e?(fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pw.type="NONE";const nE=pw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(t,e,n){return`firebase:${t}:${e}:${n}`}class Hs{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Qu(this.userKey,o.apiKey,l),this.fullPersistenceKey=Qu("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?kr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Hs(ai(nE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||ai(nE);const c=Qu(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const y=await g._get(c);if(y){const v=kr._fromJSON(e,y);g!==l&&(m=v),l=g;break}}catch{}const d=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new Hs(l,e,s):(l=d[0],m&&await l._set(c,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Hs(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Tw(e))return"Blackberry";if(Aw(e))return"Webos";if(zg(e))return"Safari";if((e.includes("chrome/")||_w(e))&&!e.includes("edge/"))return"Chrome";if(Ew(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function yw(t=Nt()){return/firefox\//i.test(t)}function zg(t=Nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _w(t=Nt()){return/crios\//i.test(t)}function vw(t=Nt()){return/iemobile/i.test(t)}function Ew(t=Nt()){return/android/i.test(t)}function Tw(t=Nt()){return/blackberry/i.test(t)}function Aw(t=Nt()){return/webos/i.test(t)}function Zc(t=Nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function QO(t=Nt()){var e;return Zc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KO(){return Zb()&&document.documentMode===10}function ww(t=Nt()){return Zc(t)||Ew(t)||Aw(t)||Tw(t)||/windows phone/i.test(t)||vw(t)}function YO(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t,e=[]){let n;switch(t){case"Browser":n=iE(Nt());break;case"Worker":n=`${iE(Nt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${na}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,m)=>{try{const d=e(l);c(d)}catch(d){m(d)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $O(t,e={}){return mi(t,"GET","/v2/passwordPolicy",or(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=6;class ZO{constructor(e){var n,s,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:WO,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,l,c,m;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(s=d.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsLowercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(m=d.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),d}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rE(this),this.idTokenSubscription=new rE(this),this.beforeStateQueue=new XO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ai(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Hs.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===m)&&(d!=null&&d.user)&&(o=d.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ht(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $O(this),n=new ZO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $o("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await GO(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ai(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await Hs.create(this,[ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(m,this,"internal-error"),m.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,s,o);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&SO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $r(t){return ht(t)}class rE{constructor(e){this.auth=e,this.observer=null,this.addObserver=sI(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Rw(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=o=>{const l=Pn("internal-error");l.customData=o,n(l)},s.type="text/javascript",s.charset="UTF-8",ex().appendChild(s)})}function tx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const nx="https://www.google.com/recaptcha/enterprise.js?render=",ix="recaptcha-enterprise",rx="NO_RECAPTCHA";class sx{constructor(e){this.type=ix,this.auth=$r(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,m)=>{VO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new MO(d);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(d=>{m(d)})})}function o(l,c,m){const d=window.grecaptcha;eE(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(rx)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((l,c)=>{s(this.auth).then(m=>{if(!n&&eE(window.grecaptcha))o(m,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}Rw(nx+m).then(()=>{o(m,l,c)}).catch(d=>{c(d)})}}).catch(m=>{c(m)})})}}async function sE(t,e,n,s=!1){const o=new sx(t);let l;try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const c=Object.assign({},e);return s?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Am(t,e,n,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await sE(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await sE(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(t,e){const n=Pm(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(No(l,e??{}))return o;Tn(o,"already-initialized")}return n.initialize({options:e})}function ox(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ai);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function lx(t,e,n){const s=$r(t);se(s._canInitEmulator,s,"emulator-config-failed"),se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=bw(e),{host:c,port:m}=ux(e),d=m===null?"":`:${m}`;s.config.emulator={url:`${l}//${c}${d}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:c,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),cx()}function bw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ux(t){const e=bw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:aE(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:aE(c)}}}function aE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cx(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,n){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}}async function hx(t,e){return mi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fx(t,e){return dl(t,"POST","/v1/accounts:signInWithPassword",or(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(t,e){return dl(t,"POST","/v1/accounts:signInWithEmailLink",or(t,e))}async function mx(t,e){return dl(t,"POST","/v1/accounts:signInWithEmailLink",or(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends Bg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Yo(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Yo(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Am(e,n,"signInWithPassword",fx);case"emailLink":return dx(e,{email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Am(e,s,"signUpPassword",hx);case"emailLink":return mx(e,{idToken:n,email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fs(t,e){return dl(t,"POST","/v1/accounts:signInWithIdp",or(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="http://localhost";class Fr extends Bg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,l=Ug(n,["providerId","signInMethod"]);if(!s||!o)return null;const c=new Fr(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Fs(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Fs(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fs(e,n)}buildRequest(){const e={requestUri:gx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yx(t){const e=mo(go(t)).link,n=e?mo(go(e)).deep_link_id:null,s=mo(go(t)).deep_link_id;return(s?mo(go(s)).link:null)||s||n||e||t}class qg{constructor(e){var n,s,o,l,c,m;const d=mo(go(e)),g=(n=d.apiKey)!==null&&n!==void 0?n:null,y=(s=d.oobCode)!==null&&s!==void 0?s:null,v=px((o=d.mode)!==null&&o!==void 0?o:null);se(g&&y&&v,"argument-error"),this.apiKey=g,this.operation=v,this.code=y,this.continueUrl=(l=d.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=d.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(m=d.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=yx(e);try{return new qg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.providerId=ca.PROVIDER_ID}static credential(e,n){return Yo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=qg.parseLink(n);return se(s,"argument-error"),Yo._fromEmailAndCode(e,s.code,s.tenantId)}}ca.PROVIDER_ID="password";ca.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ca.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends Iw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends ml{constructor(){super("facebook.com")}static credential(e){return Fr._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends ml{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fr._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Hi.credential(n,s)}catch{return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends ml{constructor(){super("github.com")}static credential(e){return Fr._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.GITHUB_SIGN_IN_METHOD="github.com";Fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends ml{constructor(){super("twitter.com")}static credential(e,n){return Fr._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Gi.credential(n,s)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _x(t,e){return dl(t,"POST","/v1/accounts:signUp",or(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const l=await kr._fromIdTokenResponse(e,s,o),c=oE(s);return new Gr({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=oE(s);return new Gr({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function oE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends di{constructor(e,n,s,o){var l;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,dc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new dc(e,n,s,o)}}function Cw(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?dc._fromErrorAndOperation(t,l,e,s):l})}async function vx(t,e,n=!1){const s=await Js(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Gr._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ex(t,e,n=!1){const{auth:s}=t,o="reauthenticate";try{const l=await Js(t,Cw(s,o,e,t),n);se(l.idToken,s,"internal-error");const c=jg(l.idToken);se(c,s,"internal-error");const{sub:m}=c;return se(t.uid===m,s,"user-mismatch"),Gr._forOperation(t,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Tn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dw(t,e,n=!1){const s="signIn",o=await Cw(t,s,e),l=await Gr._fromIdTokenResponse(t,s,o);return n||await t._updateCurrentUser(l.user),l}async function Tx(t,e){return Dw($r(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nw(t){const e=$r(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ax(t,e,n){const s=$r(t),c=await Am(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_x).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Nw(t),d}),m=await Gr._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(m.user),m}function wx(t,e,n){return Tx(ht(t),ca.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Nw(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sx(t,e){return mi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lE(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=ht(t),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Js(s,Sx(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const m=s.providerData.find(({providerId:d})=>d==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function Rx(t,e,n,s){return ht(t).onIdTokenChanged(e,n,s)}function bx(t,e,n){return ht(t).beforeAuthStateChanged(e,n)}function Ix(t,e,n,s){return ht(t).onAuthStateChanged(e,n,s)}const mc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mc,"1"),this.storage.removeItem(mc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(){const t=Nt();return zg(t)||Zc(t)}const Dx=1e3,Nx=10;class xw extends Ow{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Cx()&&YO(),this.fallbackToPolling=ww(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,m,d)=>{this.notifyListeners(c,d)});return}const s=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const c=this.storage.getItem(s);if(e.newValue!==c)e.newValue!==null?this.storage.setItem(s,e.newValue):this.storage.removeItem(s);else if(this.localCache[s]===e.newValue&&!n)return}const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);KO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Nx):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Dx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xw.type="LOCAL";const Ox=xw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw extends Ow{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Mw.type="SESSION";const Vw=Mw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Jc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:l}=n.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async g=>g(n.origin,l)),d=await xx(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((m,d)=>{const g=Hg("",20);o.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(v){const E=v;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(E.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function Vx(t){Un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function Px(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ux(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Lx(){return Pw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="firebaseLocalStorageDb",kx=1,gc="firebaseLocalStorage",Lw="fbase_key";class gl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function eh(t,e){return t.transaction([gc],e?"readwrite":"readonly").objectStore(gc)}function jx(){const t=indexedDB.deleteDatabase(Uw);return new gl(t).toPromise()}function wm(){const t=indexedDB.open(Uw,kx);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(gc,{keyPath:Lw})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(gc)?e(s):(s.close(),await jx(),e(await wm()))})})}async function uE(t,e,n){const s=eh(t,!0).put({[Lw]:e,value:n});return new gl(s).toPromise()}async function zx(t,e){const n=eh(t,!1).get(e),s=await new gl(n).toPromise();return s===void 0?null:s.value}function cE(t,e){const n=eh(t,!0).delete(e);return new gl(n).toPromise()}const Bx=800,qx=3;class kw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>qx)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jc._getInstance(Lx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Px(),!this.activeServiceWorker)return;this.sender=new Mx(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ux()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wm();return await uE(e,mc,"1"),await cE(e,mc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>uE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>zx(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>cE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=eh(o,!1).getAll();return new gl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Bx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kw.type="LOCAL";const Hx=kw;new fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t,e){return e?ai(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg extends Bg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Gx(t){return Dw(t.auth,new Fg(t),t.bypassAuthState)}function Qx(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),Ex(n,new Fg(t),t.bypassAuthState)}async function Kx(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),vx(n,new Fg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:l,error:c,type:m}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(d))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gx;case"linkViaPopup":case"linkViaRedirect":return Kx;case"reauthViaPopup":case"reauthViaRedirect":return Qx;default:Tn(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=new fl(2e3,1e4);class js extends jw{constructor(e,n,s,o,l){super(e,n,o,l),this.provider=s,this.authWindow=null,this.pollId=null,js.currentPopupAction&&js.currentPopupAction.cancel(),js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const e=Hg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,js.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Yx.get())};e()}}js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="pendingRedirect",Ku=new Map;class $x extends jw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ku.get(this.auth._key());if(!e){try{const s=await Wx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ku.set(this.auth._key(),e)}return this.bypassAuthState||Ku.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Wx(t,e){const n=e4(e),s=Jx(t);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function Zx(t,e){Ku.set(t._key(),e)}function Jx(t){return ai(t._redirectPersistence)}function e4(t){return Qu(Xx,t.config.apiKey,t.name)}async function t4(t,e,n=!1){const s=$r(t),o=Fx(s,e),c=await new $x(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=10*60*1e3;class i4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!r4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!zw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Pn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n4&&this.cachedEventUids.clear(),this.cachedEventUids.has(hE(e))}saveEventToCache(e){this.cachedEventUids.add(hE(e)),this.lastProcessedEventTime=Date.now()}}function hE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function r4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(t,e={}){return mi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o4=/^https?/;async function l4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await s4(t);for(const n of e)try{if(u4(n))return}catch{}Tn(t,"unauthorized-domain")}function u4(t){const e=Tm(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!o4.test(n))return!1;if(a4.test(t))return s===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=new fl(3e4,6e4);function fE(){const t=Un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function h4(t){return new Promise((e,n)=>{var s,o,l;function c(){fE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fE(),n(Pn(t,"network-request-failed"))},timeout:c4.get()})}if(!((o=(s=Un().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Un().gapi)===null||l===void 0)&&l.load)c();else{const m=tx("iframefcb");return Un()[m]=()=>{gapi.load?c():n(Pn(t,"network-request-failed"))},Rw(`https://apis.google.com/js/api.js?onload=${m}`).catch(d=>n(d))}}).catch(e=>{throw Yu=null,e})}let Yu=null;function f4(t){return Yu=Yu||h4(t),Yu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=new fl(5e3,15e3),m4="__/auth/iframe",g4="emulator/auth/iframe",p4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _4(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kg(e,g4):`https://${t.config.authDomain}/${m4}`,s={apiKey:e.apiKey,appName:t.name,v:na},o=y4.get(t.config.apiHost);o&&(s.eid=o);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Wo(s).slice(1)}`}async function v4(t){const e=await f4(t),n=Un().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:_4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p4,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=Pn(t,"network-request-failed"),m=Un().setTimeout(()=>{l(c)},d4.get());function d(){Un().clearTimeout(m),o(s)}s.ping(d).then(d,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T4=500,A4=600,w4="_blank",S4="http://localhost";class dE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function R4(t,e,n,s=T4,o=A4){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const d=Object.assign(Object.assign({},E4),{width:s.toString(),height:o.toString(),top:l,left:c}),g=Nt().toLowerCase();n&&(m=_w(g)?w4:n),yw(g)&&(e=e||S4,d.scrollbars="yes");const y=Object.entries(d).reduce((E,[S,x])=>`${E}${S}=${x},`,"");if(QO(g)&&m!=="_self")return b4(e||"",m),new dE(null);const v=window.open(e||"",m,y);se(v,t,"popup-blocked");try{v.focus()}catch{}return new dE(v)}function b4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="__/auth/handler",C4="emulator/auth/handler",D4=encodeURIComponent("fac");async function mE(t,e,n,s,o,l){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:na,eventId:o};if(e instanceof Iw){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",rI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(e instanceof ml){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const m=c;for(const y of Object.keys(m))m[y]===void 0&&delete m[y];const d=await t._getAppCheckToken(),g=d?`#${D4}=${encodeURIComponent(d)}`:"";return`${N4(t)}?${Wo(m).slice(1)}${g}`}function N4({config:t}){return t.emulator?kg(t,C4):`https://${t.authDomain}/${I4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="webStorageSupport";class O4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vw,this._completeRedirectFn=t4,this._overrideRedirectResult=Zx}async _openPopup(e,n,s,o){var l;fi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await mE(e,n,s,Tm(),o);return R4(e,c,Hg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const l=await mE(e,n,s,Tm(),o);return Vx(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(fi(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await v4(e),s=new i4(e);return n.register("authEvent",o=>(se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kd,{type:kd},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[kd];c!==void 0&&n(!!c),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=l4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ww()||zg()||Zc()}}const x4=O4;var gE="@firebase/auth",pE="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function P4(t){Gs(new jr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;se(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:c,authDomain:m,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sw(t)},g=new JO(s,o,l,d);return ox(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Gs(new jr("auth-internal",e=>{const n=$r(e.getProvider("auth").getImmediate());return(s=>new M4(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(gE,pE,V4(t)),Wi(gE,pE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=5*60,L4=kE("authIdTokenMaxAge")||U4;let yE=null;const k4=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>L4)return;const o=n==null?void 0:n.token;yE!==o&&(yE=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function j4(t=rC()){const e=Pm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ax(t,{popupRedirectResolver:x4,persistence:[Hx,Ox,Vw]}),s=kE("authTokenSyncURL");if(s){const l=k4(s);bx(n,l,()=>l(n.currentUser)),Rx(n,c=>l(c))}const o=Kb("auth");return o&&lx(n,`http://${o}`),n}P4("Browser");const z4={apiKey:"AIzaSyCcrGeP8uj0LlZ9CQJFwF5YpJ43rO6EByU",authDomain:"rein-firebase-test.firebaseapp.com",databaseURL:"https://rein-firebase-test-default-rtdb.europe-west1.firebasedatabase.app",projectId:"rein-firebase-test",storageBucket:"rein-firebase-test.appspot.com",messagingSenderId:"270166841798",appId:"1:270166841798:web:2d2c7a5f4bee100f387ac7"},Bw=BE(z4),zi=j4(Bw),lr=nO(Bw,{experimentalForceLongPolling:!0}),_E=()=>`https://picsum.photos/id/${Math.floor(Math.random()*500)}/200/300`,ur=N.createContext(null),B4=({children:t})=>{const[e,n]=N.useState(null),[s,o]=N.useState(!0);console.log("user",e);const l=async(y,v)=>{try{const E=await wx(zi,y,v);return n(E.user),!0}catch(E){throw console.error("Error signing in:",E),E}},c=async()=>{await zi.signOut(),n(null)},m=async(y,v)=>{const E=y.split("@")[0],S=_E();try{const x=await Ax(zi,y,v);E&&await lE(x.user,{displayName:E,photoURL:S}),n({...x.user,displayName:E,photoURL:S})}catch(x){throw console.error("Error creating user:",x.code,x.message),x}},d=async({displayName:y})=>{if(!zi.currentUser)return!1;const v=y??zi.currentUser.displayName,E=zi.currentUser.photoURL??_E();try{return await lE(zi.currentUser,{displayName:v,photoURL:E}),n(S=>S?{...S,displayName:v,photoURL:E}:null),!0}catch(S){return console.error("Error updating profile:",S),!1}};N.useEffect(()=>{o(!0);const y=Ix(zi,v=>{console.log("onAuthStateChanged!!"),n(v),o(!1)});return()=>y()},[]);const g=N.useMemo(()=>({isLoading:s,user:e,signOut:c,signIn:l,createUser:m,updateUser:d}),[s,e]);return T.jsx(ur.Provider,{value:g,children:t})},qw=t=>{const{user:e,signIn:n,signOut:s}=N.useContext(ur),o=()=>{e?s():n("test@test.no","123456"),t.onClickAction&&t.onClickAction()};return T.jsx("div",{children:T.jsx("span",{style:{display:"flex",alignItems:"center"},onClick:o,children:e?"Logout":"Login"})})},q4=()=>T.jsxs("div",{children:[T.jsx("h1",{children:"content"}),T.jsx(Do,{to:"/magicitems",children:"Magic Items"}),T.jsx(qw,{})]}),H4=()=>{const{user:t,signIn:e,signOut:n}=N.useContext(ur),[s,o]=N.useState(""),[l,c]=N.useState(""),[m,d]=N.useState(""),[g,y]=N.useState(!1),v=async E=>{var S;if(E.preventDefault(),t){n();return}if(!s||!l){alert("Please enter username and password");return}y(!0),d("");try{let x;s==="admin"&&l==="admin"?x=await e("test@test.no","123456"):x=await e(s,l),console.log(x),((S=x==null?void 0:x.error)==null?void 0:S.length)>0&&d(x.error[1])}catch(x){console.error(x),d("An unexpected error occurred.")}finally{y(!1)}};return g?T.jsx("div",{className:"flex justify-center align-center mt-[10vh]",children:T.jsx("div",{className:"bg-white p-4 shadow-md rounded-md max-w-[300px]",children:T.jsx("p",{children:"Loading..."})})}):T.jsx("div",{className:"flex justify-center align-center mt-[10vh]",children:T.jsxs("form",{className:"bg-white p-4 shadow-md rounded-md max-w-[300px]",onSubmit:v,children:[T.jsx("label",{htmlFor:"username",children:"Username:"}),T.jsx("input",{type:"text",id:"username",className:"w-full p-4 mb-4 bg-gray-200 rounded-md",value:s,onChange:E=>o(E.target.value),required:!0}),T.jsx("label",{htmlFor:"password",children:"Password:"}),T.jsx("input",{type:"password",id:"password",className:"w-full p-4 mb-4 bg-gray-200 rounded-md",value:l,onChange:E=>c(E.target.value),required:!0}),m.length>0&&T.jsx("div",{children:m}),T.jsxs("div",{className:"flex justify-between align-center",children:[T.jsx("button",{className:"bg-blue-500 text-white p-2 rounded-sm hover:bg-blue-800",type:"submit",children:"Login"}),T.jsx("div",{className:"flex flex-col justify-center",children:T.jsx(Do,{to:"/register",children:"Register"})})]})]})})},F4=()=>{const{createUser:t}=N.useContext(ur),[e,n]=N.useState(""),[s,o]=N.useState(""),[l,c]=N.useState(""),m=async d=>{if(d.preventDefault(),!e||!s||!l){alert("Please fill in all fields");return}if(s.length<6){alert("Password must be at least 6 characters long");return}if(s!==l){alert("Passwords do not match");return}await t(e,s)};return T.jsx("div",{className:"flex justify-center align-center mt-[10vh]",children:T.jsxs("form",{className:"flex flex-col justify-center align-center p-4 bg-white rounded-sm shadow-md",onSubmit:m,children:[T.jsx("label",{htmlFor:"email",children:"Email:"}),T.jsx("input",{className:"w-full p-4 mb-4 bg-gray-200 rounded-md",type:"email",id:"email",value:e,onChange:d=>n(d.target.value),required:!0}),T.jsx("label",{htmlFor:"password",children:"Password:"}),T.jsx("input",{className:"w-full p-4 mb-4 bg-gray-200 rounded-md",type:"password",id:"password",value:s,onChange:d=>o(d.target.value),required:!0}),T.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password:"}),T.jsx("input",{className:"w-full p-4 mb-4 bg-gray-200 rounded-md",type:"password",id:"confirmPassword",value:l,onChange:d=>c(d.target.value),required:!0}),T.jsx("button",{className:"bg-green-600 p-2 rounded-sm text-white self-end",type:"submit",children:"Register"})]})})},G4=t=>{const[e,n]=N.useState(""),[s,o]=N.useState(""),l=c=>{if(c.preventDefault(),e!==s){alert("Passwords do not match");return}};return T.jsxs("div",{className:"pt-4 ",children:[T.jsx("div",{className:"text-start border-b-2 border-gray-200 mb-3",children:"Password:"}),T.jsx("form",{className:"w-full",onSubmit:l,children:T.jsx("table",{className:"w-full",children:T.jsxs("tbody",{children:[T.jsxs("tr",{children:[T.jsx("th",{className:"text-start",children:T.jsx("label",{htmlFor:"password",children:"Password:"})}),T.jsx("th",{children:T.jsx("input",{type:"password",id:"password",defaultValue:"",placeholder:"*****",onChange:c=>n(c.target.value),required:!0,disabled:!0})})]}),T.jsxs("tr",{children:[T.jsx("th",{className:"text-start",children:T.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password:"})}),T.jsx("th",{children:T.jsx("input",{type:"password",id:"confirmPassword",value:"",placeholder:"*****",onChange:c=>o(c.target.value),required:!0,disabled:!0})})]}),T.jsx("tr",{children:T.jsx("th",{colSpan:2,children:T.jsx("div",{className:"w-full flex justify-end",children:T.jsx("button",{className:"bg-green-500 disabled:bg-gray-300 rounded-sm p-1",type:"submit",disabled:!0,children:"Disabled"})})})})]})})})]})},Q4=t=>{const[e,n]=N.useState(""),s=N.useRef(null);let o=t.user.displayName,l=t.user.email;const c=async d=>{if(d.preventDefault(),e.length<3){alert("Name is too short");return}t.setIsUpdating(!0),await t.handleUpdateUser(e)&&t.setIsUpdating(!1)},m=d=>{d.preventDefault(),n(t.user.displayName),s.current.value=t.user.displayName};return T.jsxs("div",{className:"pt-4",children:[T.jsx("div",{className:"text-start border-b-2 border-gray-200 mb-3",children:"User Info:"}),T.jsx("form",{className:"w-full",onSubmit:c,children:T.jsx("table",{className:"w-full",children:T.jsxs("tbody",{children:[T.jsxs("tr",{children:[T.jsx("th",{className:"text-start",children:T.jsx("label",{htmlFor:"name",children:"Name:"})}),T.jsx("th",{className:"w-[50%]",children:T.jsx("input",{type:"text",id:"name",className:"w-full",defaultValue:o,ref:s,onChange:d=>n(d.target.value),required:!0})})]}),T.jsxs("tr",{children:[T.jsx("th",{className:"text-start",children:T.jsx("label",{htmlFor:"email",children:"Email:"})}),T.jsx("th",{children:T.jsx("input",{type:"text",id:"email",value:l,required:!0,disabled:!0})})]}),T.jsx("tr",{children:T.jsx("th",{colSpan:2,children:T.jsxs("div",{className:"w-full flex justify-end",children:[e!==""&&e!==o&&T.jsx("button",{className:"bg-blue-500 disabled:bg-gray-300 rounded-sm p-1",type:"reset",onClick:m,children:"Reset"}),T.jsx("button",{className:"bg-green-500 disabled:bg-gray-300 rounded-sm p-1 ml-2",type:"submit",disabled:e===""||e===o,children:"Update"})]})})})]})})})]})},K4=t=>T.jsxs("div",{className:"justify-center p-4 bg-white rounded-md shadow-md m-4 text-center",children:[T.jsx("div",{className:"semi-bold",children:"Edit User"}),T.jsx(Q4,{...t}),T.jsx(G4,{})]}),Hw=()=>{const{user:t,updateUser:e}=N.useContext(ur),[n,s]=N.useState(!1);if(!t)return T.jsx("div",{children:T.jsx("span",{children:"Fetching User"})});const o=async l=>await e({displayName:l});return n?T.jsx("div",{className:"flex flex-col justify-center items-center w-full",children:T.jsx("div",{className:"justify-center p-4 bg-white rounded-md shadow-md m-4 text-center",children:T.jsx("span",{children:"Updating User"})})}):T.jsx("div",{className:"flex flex-col justify-center items-center w-full",children:T.jsx(K4,{user:t,setIsUpdating:s,handleUpdateUser:o})})},Fw=t=>{const e=t.item.mi_title,n=t.item.mi_type,s=t.item.mi_attunement,o=t.item.mi_description,l=()=>{t.getModalItem(t.item)};return T.jsxs("div",{className:"flex flex-col justify-start p-4 bg-white hover:bg-green-50 rounded-md drop-shadow-md cursor-pointer mt-2",onClick:l,children:[T.jsx("div",{className:"font-semibold",children:e}),T.jsxs("div",{className:"text-gray-500 text-sm",children:[n,s?" Requires Attunement":""]}),T.jsx("div",{className:"text-sm mt-3 max-h-[200px] overflow-y-hidden",children:o})]})},Y4=N.forwardRef(({modalItem:t,onEditSaved:e},n)=>{const[s,o]=N.useState(t.mi_title),[l,c]=N.useState(t.mi_type),[m,d]=N.useState(t.mi_attunement),[g,y]=N.useState(t.mi_description),v=E=>{E.preventDefault(),e({mi_title:s,mi_type:l,mi_attunement:m,mi_description:g})};return N.useImperativeHandle(n,()=>({submit:v})),T.jsx(T.Fragment,{children:T.jsxs("form",{onSubmit:v,children:[T.jsx("label",{className:"text-sm",children:"Title:"}),T.jsx("input",{className:"w-full p-2 bg-gray-200 rounded-md mb-4",name:"title",value:s,type:"text",onChange:E=>o(E.target.value)}),T.jsx("label",{className:"text-sm",children:"Type:"}),T.jsx("input",{className:"w-full p-2 bg-gray-200 rounded-md mt-1 mb-4",name:"type",value:l,type:"text",onChange:E=>c(E.target.value)}),T.jsxs("div",{className:"flex flex-row items-center justify-start gap-2 mb-4",children:[T.jsx("div",{className:"text-sm",children:"requires attunement? "}),T.jsx("input",{name:"attunement",type:"checkbox",checked:m,onChange:E=>d(E.target.checked)})]}),T.jsx("textarea",{className:"w-full p-2 bg-gray-200 rounded-md mt-1",rows:5,name:"description",value:g,onChange:E=>y(E.target.value)})]})})}),Gw=async t=>(await lw(bg(lr,t))).docs.map(n=>({id:n.id,...n.data()})),Qw=async(t,e)=>{try{const n=await uw(ua(lr,e,t));return console.log(`Deleted item with ID: ${t} from collection: ${e}`," dockref: ",n),!0}catch(n){return console.log("Error Deleting: ",n),!1}},Kw=async(t,e)=>{try{const n=await TO(bg(lr,e),{...t});return console.log("Document written with ID: ",n.id),{id:n.id,...t}}catch(n){return console.error("Error adding document: ",n),!1}},Yw=async(t,e,n)=>{try{const s=await EO(ua(lr,n,e),{...t});return console.log("Document updated with ID: ",e," docref: ",s),!0}catch(s){return console.error("Error updating document: ",s),!1}},Xw=async(t,e,n,s,o)=>{if(await Zw(t,e,n))return console.log("Relation already exists"),!1;const c=`${e}-${n}`;console.log("Relation ID: ",c);const m={value1:e,value2:n,semantic1:s||"",semantic2:o||"",createdAt:new Date};try{return await vO(ua(lr,t,c),m),console.log("Relation added with ID: ",c),c}catch(d){return console.error("Error adding relation: ",d),!1}},$w=async(t,e)=>{const n=dO(bg(lr,t),mO("value1","==",e));return(await lw(n)).docs.map(o=>({id:o.id,...o.data()}))},Ww=async(t,e,n)=>{const s=`${e}-${n}`;try{if(!await Zw(t,e,n))return console.log("Relation does not exist"),!0}catch(o){return console.error("Error checking relation: ",o),!1}try{return await uw(ua(lr,t,s)),console.log("Relation deleted with ID: ",s),!0}catch(o){return console.error("Error deleting relation: ",o),!1}},Zw=async(t,e,n)=>{const s=`${e}-${n}`,o=ua(lr,t,s);return(await _O(o)).exists()},Gg=()=>{const t=N.useContext(ur);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Wr=()=>Gg().user,jd="magic_item_favorites",Qg=()=>{const{user:t}=Gg(),[e,n]=N.useState([]),[s,o]=N.useState(!0),l=t==null?void 0:t.uid,c=N.useCallback(async()=>{if(!l)return;o(!0);const E=(await $w(jd,l)).map(S=>S.value2);n(E),o(!1)},[l]),m=v=>e.includes(v),d=async(v,E)=>{l&&(m(v)||(await Xw(jd,l,v,(t==null?void 0:t.displayName)||"",E||""),n(S=>[...S,v])))},g=async v=>{l&&(await Ww(jd,l,v),n(E=>E.filter(S=>S!==v)))},y=async(v,E)=>{m(v)?await g(v):await d(v,E||void 0)};return N.useEffect(()=>{c()},[c]),{favoriteItemIds:e,isFavorited:m,addFavorite:d,removeFavorite:g,toggleFavorite:y,loadingFavourites:s}};var Jw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Sm=oi.createContext&&oi.createContext(Jw),X4=["attr","size","title"];function $4(t,e){if(t==null)return{};var n=W4(t,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function W4(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},pc.apply(this,arguments)}function vE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function yc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vE(Object(n),!0).forEach(function(s){Z4(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vE(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Z4(t,e,n){return e=J4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J4(t){var e=eM(t,"string");return typeof e=="symbol"?e:e+""}function eM(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eS(t){return t&&t.map((e,n)=>oi.createElement(e.tag,yc({key:n},e.attr),eS(e.child)))}function cr(t){return e=>oi.createElement(tM,pc({attr:yc({},t.attr)},e),eS(t.child))}function tM(t){var e=n=>{var{attr:s,size:o,title:l}=t,c=$4(t,X4),m=o||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),oi.createElement("svg",pc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,c,{className:d,style:yc(yc({color:t.color||n.color},n.style),t.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),l&&oi.createElement("title",null,l),t.children)};return Sm!==void 0?oi.createElement(Sm.Consumer,null,n=>e(n)):e(Jw)}function tS(t){return cr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9l2.6-2.4C267.2 438.6 256 404.6 256 368c0-97.2 78.8-176 176-176c28.3 0 55 6.7 78.7 18.5c.9-6.5 1.3-13 1.3-19.6l0-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1l0 5.8c0 41.5 17.2 81.2 47.6 109.5zM432 512a144 144 0 1 0 0-288 144 144 0 1 0 0 288zm16-208l0 48 48 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-48 0 0 48c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-48-48 0c-8.8 0-16-7.2-16-16s7.2-16 16-16l48 0 0-48c0-8.8 7.2-16 16-16s16 7.2 16 16z"},child:[]}]})(t)}function nS(t){return cr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9l2.6-2.4C267.2 438.6 256 404.6 256 368c0-97.2 78.8-176 176-176c28.3 0 55 6.7 78.7 18.5c.9-6.5 1.3-13 1.3-19.6l0-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1l0 5.8c0 41.5 17.2 81.2 47.6 109.5zM432 512a144 144 0 1 0 0-288 144 144 0 1 0 0 288zm59.3-180.7L454.6 368l36.7 36.7c6.2 6.2 6.2 16.4 0 22.6s-16.4 6.2-22.6 0L432 390.6l-36.7 36.7c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6L409.4 368l-36.7-36.7c-6.2-6.2-6.2-16.4 0-22.6s16.4-6.2 22.6 0L432 345.4l36.7-36.7c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"},child:[]}]})(t)}function Kg(t){return cr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"},child:[]}]})(t)}function Rm(t){return cr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"},child:[]}]})(t)}function nM(t){return cr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(t)}function iS(t){return cr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function iM(t){return cr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function th(t){return cr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(t)}const rM=({modalItem:t})=>T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"text-lg font-semibold",children:t.mi_title}),T.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:[t.mi_type," ",t.mi_attunement?"requires attunement":""]}),T.jsx("div",{className:"mim-description",children:t.mi_description})]}),sM=t=>{const[e,n]=N.useState(!1),[s,o]=N.useState(!1),l=N.useRef(null),{addFavorite:c,removeFavorite:m,isFavorited:d}=Qg(),g=M=>{M.preventDefault(),c(t.modalItem.id,t.modalItem.mi_title)},y=M=>{M.preventDefault(),m(t.modalItem.id)};N.useEffect(()=>{n(!0)},[]);const v=M=>{var Y;M.preventDefault(),(Y=l.current)==null||Y.submit(M)},E=()=>{o(!1),t.onClose()},S=()=>{o(M=>!M)},x=()=>{window.confirm(`Are you sure you want to delete ${t.modalItem.mi_title}?`)&&(o(!1),t.onDelete(t.modalItem.id))},k=M=>{t.onEditSaved(M,t.modalItem.id),E()};return t.modalItem==null||!e?null:BR.createPortal(T.jsx("div",{className:"fixed top-0 left-0 w-full h-full flex justify-center items-start z-1000 bg-[#00000080]",onClick:E,children:T.jsxs("div",{className:"bg-white rounded-md p-4 m-4 w-full max-w-[800px]",onClick:M=>M.stopPropagation(),children:[s?T.jsx(Y4,{ref:l,modalItem:t.modalItem,onEditSaved:k}):T.jsx(rM,{modalItem:t.modalItem}),T.jsxs("div",{className:"flex flex-row justify-end items-center mt-2",children:[s&&T.jsx("button",{className:"p-2 bg-green-400 hover:bg-green-800 text-white ml-1 rounded-sm",onClick:v,children:T.jsx(iS,{})}),T.jsx("button",{className:`p-2 bg-${s?"red":"blue"}-400 text-white ml-1 rounded-sm 
              hover:bg-${s?"red":"blue"}-800 `,onClick:S,children:s?T.jsx(th,{}):T.jsx(Kg,{})}),d(t.modalItem.id)?T.jsx("button",{className:"p-2 bg-blue-400 hover:bg-blue-800 text-white ml-1 rounded-sm",onClick:y,children:T.jsx(nS,{})}):T.jsx("button",{className:"p-2 bg-blue-400 hover:bg-blue-800 text-white ml-1 rounded-sm",onClick:g,children:T.jsx(tS,{})}),T.jsx("button",{className:"p-2 bg-red-400 hover:bg-red-800 text-white ml-1 rounded-sm",onClick:x,children:T.jsx(Rm,{})})]})]})}),document.getElementById("modal"))},aM=t=>{const[e,n]=N.useState(!0),[s,o]=N.useState(""),[l,c]=N.useState(""),[m,d]=N.useState(!1),[g,y]=N.useState(""),[v,E]=N.useState(null),S=async k=>{if(k.preventDefault(),s===""||l===""||g===""){E("Please fill in all fields");return}const M={mi_title:s,mi_type:l,mi_attunement:m,mi_description:g};await t.addMagicItem(M)?(o(""),d(!1),c(""),y(""),E(null)):E("Error adding item")},x=()=>{n(k=>!k)};return T.jsxs("div",{className:"flex flex-col justify-start p-4 bg-white drop-shadow-md rounded-md my-2",children:[T.jsxs("div",{className:"flex flex-row justify-between items-center",children:[T.jsx("div",{className:"text-lg font-semibold",children:"Add New Item"}),T.jsx("button",{className:"p-2 bg-gray-200 rounded-sm",type:"button",onClick:x,children:e?T.jsx(Kg,{}):T.jsx(th,{})})]}),T.jsx("div",{className:e?"hidden":"block",children:T.jsxs("div",{className:"flex flex-col justify-between items-center w-full min-w-[200px]",children:[T.jsxs("form",{className:"w-full",onSubmit:S,children:[T.jsx("input",{className:"w-full bg-gray-100 my-1 p-1 rounded-sm",name:"title",placeholder:"Title",value:s,type:"text",onChange:k=>o(k.target.value)}),T.jsx("input",{className:"w-full bg-gray-100 my-1 p-1 rounded-sm",name:"type",placeholder:"Type",value:l,type:"text",onChange:k=>c(k.target.value)}),T.jsxs("div",{className:"flex flex-row w-full justify-between",children:[T.jsx("div",{className:"",children:"Requires Attunement?"}),T.jsx("input",{className:"",type:"checkbox",checked:m,onChange:k=>d(k.target.checked)})]}),T.jsx("div",{className:"mt-1 w-full",children:T.jsx("textarea",{rows:5,className:"w-full p-1 bg-gray-100 rounded-sm",name:"description",placeholder:"Description",value:g,onChange:k=>y(k.target.value)})}),T.jsx("div",{className:"w-full mt-1",children:T.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white cursor-pointer",children:"Add Item"})})]}),v&&T.jsx("div",{className:"w-full bg-red-100 mt-1 text-center",children:v})]})})]})};function EE(){const{innerWidth:t,innerHeight:e}=window;return{width:t,height:e}}function oM(){const[t,e]=N.useState(EE());return N.useEffect(()=>{function n(){e(EE())}return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}const lM=({children:t})=>T.jsx("div",{className:"fex flex-col p-1 w-[440px] min-h-1 justify-top align-center",children:t}),uM=({children:t})=>{const{width:e}=oM();let n=0,s=[];t=t.flat(),e<1e3?n=1:n=Math.floor(e/432);for(let o=0;o<n;o++){let l=[];for(let c=o;c<t.length;c+=n)l.push(t[c]);s.push({key:o,childrenItems:l})}return T.jsx(T.Fragment,{children:s.map(o=>T.jsx(lM,{children:o.childrenItems},o.key))})},cM=t=>{const e=s=>{s.preventDefault(),t.searchText.trim()},n=s=>{s.preventDefault(),t.setSearchText("")};return T.jsxs("div",{className:"flex flex-col my-2",children:[T.jsxs("div",{className:"flex flex-row p-4 bg-white drop-shadow-md rounded-md z-2",children:[T.jsx("input",{className:"block m-0 p-0 px-2 mr-1 w-full bg-gray-200 rounded-sm",name:"search_text",type:"text",placeholder:"Search title...",value:t.searchText,onChange:s=>t.setSearchText(s.target.value)}),T.jsx("button",{className:"p-2 bg-green-600 text-white rounded-sm",onClick:e,children:T.jsx(iM,{})})]}),t.searchText!==""&&T.jsxs("div",{className:"flex flex-row items-center z-1 bg-amber-50 p-4 rounded-b-md drop-shadow-md mt-[-4px]",children:[T.jsxs("span",{className:"w-full",children:['Filtering for: "',t.searchText,'"']}),T.jsx("button",{className:"p-2 bg-blue-600 text-white rounded-sm",onClick:n,children:T.jsx(nM,{})})]})]})},ju="magic_items",rS=()=>{const t=Wr(),[e,n]=N.useState([]),[s,o]=N.useState(!0),{favoriteItemIds:l}=Qg(),c=t==null?void 0:t.uid,m=N.useCallback(async()=>{if(!c)return;o(!0);const v=new Set(l),S=(await Gw(ju)).map(x=>({...x,is_favorite:v.has(x.id)}));n(S),console.log("Merged Items",S),o(!1)},[l,c]),d=async v=>{const E=await Kw(v,ju);return E?(n(S=>[...S,E]),E):(alert("Error adding item"),null)},g=async v=>{n(S=>S.filter(x=>x.id!==v));const E=await Qw(v,ju);return E||alert("Error deleting item"),!!E},y=async(v,E)=>{delete v.is_favorite;const S=await Yw(v,E,ju);return S?n(x=>x.map(k=>k.id===E?v:k)):alert("Error updating item"),!!S};return N.useEffect(()=>{console.log("Refreshing magic items"),m()},[m]),{magicItems:e,addMagicItem:d,deleteMagicItem:g,updateMagicItem:y,refreshMagicItemsHook:m,loading:s}},hM=()=>{const{user:t}=N.useContext(ur),{magicItems:e,addMagicItem:n,deleteMagicItem:s,updateMagicItem:o,loading:l}=rS(),[c,m]=N.useState(null),[d,g]=N.useState(""),y=N.useMemo(()=>d?e.filter(E=>E.mi_title.toLowerCase().includes(d.toLowerCase())):e,[e,d]),v=async E=>{m(null),await s(E)};return t?l?T.jsx("div",{children:T.jsx("span",{children:"Loading..."})}):T.jsxs(T.Fragment,{children:[T.jsx(sM,{modalItem:c,onClose:()=>m(null),onDelete:v,onEditSaved:o}),T.jsx("div",{className:"flex items-start justify-center",children:T.jsxs(uM,{children:[T.jsx(cM,{searchText:d,setSearchText:g},"magic_item_search"),T.jsx(aM,{addMagicItem:n},"add_magic_item_form"),y.map(E=>T.jsx(Fw,{item:E,getModalItem:m},E.id)),y.length===0&&T.jsx("p",{children:"No magic items found."},"no_magic_items_found")]})})]}):T.jsx("div",{children:T.jsx("span",{children:"Fetching User"})})},fM=()=>{const t=Wr(),{magicItems:e,loading:n}=rS(),{favoriteItemIds:s}=Qg(),o=N.useMemo(()=>e.filter(l=>s.includes(l.id)),[e,s]);return t?n?T.jsx("div",{children:T.jsx("span",{children:"Loading..."})}):T.jsxs("div",{children:[T.jsx("h1",{children:"Player Page"}),T.jsx("div",{children:"List of player characters"}),T.jsx("div",{children:"List of campaigns"}),T.jsx("div",{children:o.map(l=>T.jsx(Fw,{item:l,getModalItem:()=>l},l.id))})]}):T.jsx("div",{children:T.jsx("span",{children:"Fetching User"})})},zd="game_members",sS=()=>{const{user:t}=Gg(),e=t==null?void 0:t.uid;return{fetchGameMembers:async l=>e?await $w(zd,l):void 0,addGameMember:async(l,c)=>e?(console.log("Adding game member",l.id,c.uid),!!await Xw(zd,l.id,c.uid,l.name,c.displayName||"")):void 0,removeGameMember:async(l,c)=>{e&&await Ww(zd,l,c)}}},dM=t=>{const e=Wr(),[n,s]=N.useState(!1),[o,l]=N.useState(t.game.name),[c,m]=N.useState(t.game.members),{addGameMember:d,removeGameMember:g}=sS(),y=async S=>{if(S.preventDefault(),o==t.game.name)return!1;if(o==="")return console.log("No Changes"),!0;await t.editAction({...t.game,name:o})&&s(!1)},v=async S=>(S.preventDefault(),await d(t.game,e)?(m(k=>[...k,{id:e.uid,name:e.displayName||""}]),!0):(alert("Error joining game"),!1)),E=async S=>(S.preventDefault(),g(t.game.id,e.uid),m(x=>x.filter(k=>k.id!==e.uid)),!0);return!e||!e.uid?T.jsx("div",{children:"No User..."}):T.jsxs("div",{className:"flex flex-col justify-start items-start p-4 bg-white rounded-md drop-shadow-md mt-2 space-y-2",children:[T.jsx("div",{className:"w-full text-end text-xs text-gray-500",children:t.game.id}),n?T.jsx("input",{className:"w-full bg-gray-100 my-1 p-1 rounded-sm",type:"text",placeholder:"Game Name",name:"title",defaultValue:t.game.name,onChange:S=>l(S.target.value)}):T.jsx("div",{className:"",children:t.game.name}),c.map(S=>T.jsxs("div",{className:"flex flex-row justify-between items-center w-full",children:[T.jsx("div",{className:"text-sm text-gray-400",children:S.name}),n&&T.jsx("button",{className:"bg-red-400 text-white p-2 ml-2 rounded-sm cursor-pointer",onClick:x=>E(x),children:T.jsx(Rm,{})})]},S.id)),T.jsxs("div",{className:"flex flex-row justify-end items-center w-full",children:[n&&T.jsx("button",{className:"p-2 bg-green-400 hover:bg-green-800 text-white ml-1 rounded-sm",onClick:y,children:T.jsx(iS,{})}),!n&&(c.some(S=>S.id===e.uid)?T.jsx("button",{className:"bg-red-400 text-white p-2 ml-2 rounded-sm cursor-pointer",onClick:S=>E(S),children:T.jsx(nS,{})}):T.jsx("button",{className:"bg-blue-400 text-white p-2 ml-2 rounded-sm cursor-pointer",onClick:S=>v(S),children:T.jsx(tS,{})})),T.jsx("button",{className:"bg-blue-400 text-white p-2 ml-2 rounded-sm cursor-pointer",onClick:()=>s(S=>!S),children:n?T.jsx(th,{}):T.jsx(Kg,{})}),T.jsx("button",{className:"bg-red-400 text-white p-2 ml-2 rounded-sm cursor-pointer",onClick:()=>t.deleteAction(t.game.id),children:T.jsx(Rm,{})})]})]},t.game.id)},zu="games",mM=()=>{const t=Wr(),[e,n]=N.useState([]),[s,o]=N.useState(!0),{fetchGameMembers:l}=sS(),c=t==null?void 0:t.uid,m=N.useCallback(async()=>{if(!c)return;o(!0);const v=await Gw(zu);for(const E of v){const S=await l(E.id);E.members=S.map(x=>({id:x.value2,name:x.semantic2}))}n(v),o(!1)},[]),d=async v=>{const E=await Kw({name:v.name},zu);return E?(n(S=>[...S,E]),E):(alert("Error adding game"),null)},g=async v=>{n(S=>S.filter(x=>x.id!==v));const E=await Qw(v,zu);return E||alert("Error deleting game"),!!E},y=async v=>await Yw(v,v.id,zu)?(n(S=>S.map(x=>x.id===v.id?{...x,...v}:x)),!0):(alert("Error updating game"),!1);return N.useEffect(()=>{m()},[m]),{games:e,gamesLoading:s,addGame:d,refreshGames:m,deleteGame:g,editGame:y}},gM=()=>{const t=Wr(),[e,n]=N.useState(""),[s,o]=N.useState(!1),{games:l,gamesLoading:c,addGame:m,deleteGame:d,editGame:g}=mM(),y=async E=>{if(E.preventDefault(),e===""){alert("Please enter a game name");return}await m({name:e})?n(""):alert("Error adding game")},v=async E=>{o(!0),await d(E)||alert("Error deleting game"),o(!1)};return t?c||s?T.jsx("div",{children:"Loading..."}):T.jsx("div",{className:"flex flex-col justify-start items-center w-full min-w-[200px]",children:T.jsxs("div",{className:"w-[330px]",children:[T.jsx("div",{className:"flex flex-col justify-start p-4 bg-white drop-shadow-md rounded-md my-2",children:T.jsxs("form",{onSubmit:y,children:[T.jsx("input",{className:"w-full bg-gray-100 my-1 p-1 rounded-sm",type:"text",placeholder:"Game Name",name:"title",value:e,onChange:E=>n(E.target.value)}),T.jsx("button",{className:"bg-green-600 text-white p-1 rounded-sm",type:"submit",children:"Add Game"})]})}),l.map(E=>T.jsx(dM,{game:E,deleteAction:v,editAction:g},E.id))]})}):T.jsx("div",{children:"Please log in to view this page."})},aS=[{name:"home",path:"/home",element:T.jsx(q4,{})},{name:"Profile",path:"/profile",element:T.jsx(Hw,{})},{name:"Player",path:"/player",element:T.jsx(fM,{})},{name:"Magic items",path:"/magicitems",element:T.jsx(hM,{})},{name:"Games",path:"/games",element:T.jsx(gM,{})}],pM=()=>{const{isLoading:t,user:e}=N.useContext(ur);return t?T.jsx("div",{children:"Loading..."}):e?e.displayName?T.jsxs(Ed,{children:[aS.map(n=>T.jsx(Bi,{path:n.path,element:n.element},n.name)),T.jsx(Bi,{path:"*",element:T.jsx(vd,{replace:!0,to:"/magicitems"})})]}):T.jsxs(Ed,{children:[T.jsx(Bi,{path:"/profile",element:T.jsx(Hw,{})}),T.jsx(Bi,{path:"*",element:T.jsx(vd,{replace:!0,to:"/profile"})})]}):T.jsxs(Ed,{children:[T.jsx(Bi,{path:"/login",element:T.jsx(H4,{})}),T.jsx(Bi,{path:"/register",element:T.jsx(F4,{})}),T.jsx(Bi,{path:"*",element:T.jsx(vd,{replace:!0,to:"/login"})})]})},yM="/assets/fatrat_logo-CrDK9lAO.png",_M="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAAAKklEQVQ4T2NgGGjACHTAf0ocwUSJZpBeig2g1AGU6x8NRMrDkGE0EBkYAOpQAw2SH5GVAAAAAElFTkSuQmCC",vM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAABM0lEQVQ4T8WTv0uCURSGvwrMBKMhJ8c2Rf8EaygIgmxwqanBrc2tIWiWlramNhcHx9YMIgiK5qIQiiaxHAJryHreODdudkmcuvB4zz0/3nP47jWK/mnFXd+JEQeYIn8F8nANfVe/jLE5RExdt63ww+xp1ejnGOS8hWJAKIlvFx4tT50PIK3cRXNKwHGJPW9Cc+xbXuwFW/EMTCpnDHbgNSB0gu8Iul6shp0NTBklcO4FRPzJ9olrovGQgPOlrKtf6Gx1n/2rWNeag1PQhwqJyFcFTfxjxTjpw51boQSeQWM3A2I9fGVfYYPDhZd4g13xEhawrwaE6orrgZSgDe+W8MBegJnBMTmvwR10QC/y6xqX4MmKz9jXYdgzX1WxS7rHfoMWHELDxAIDfLv0X/i1dIUjrU811FzYdVWZZwAAAABJRU5ErkJggg==",Bd="flex flex-row text-black cursor-pointer no-underline hover:text-gray-800 hover:text-shadow-sm p-2",EM=t=>{const e=Wr();return T.jsxs("div",{className:"absolute top-0 right-0 min-w-[300px] bg-white flex flex-col items-stretch shadow-lg z-1000 h-screen",children:[T.jsx("div",{onClick:()=>t.setShowUserMenu(!1),children:T.jsx(Sm.Provider,{value:{color:"black",size:"20px"},children:T.jsx("div",{className:"p-4 cursor-pointer flex flex-row justify-end",children:T.jsx(th,{})})})}),T.jsxs("div",{className:"flex flex-col justify-start items-start",children:[T.jsxs("div",{className:"flex flex-row items-end justify-start gap-2 p-2 border-b-1 border-gray-300 w-full",children:[" ",e?e.photoURL&&T.jsx("img",{src:e.photoURL,alt:"user",className:"w-[40px] h-[40px] rounded-sm"}):null,T.jsx("div",{className:"text-gray-700",children:e?e.displayName??"UserName":"No User"})]}),!!t.user&&aS.map(n=>n.name==="home"?null:T.jsx(Do,{className:Bd,to:n.path,onClick:()=>t.setShowUserMenu(!1),children:n.name},n.name)),!!t.user&&T.jsx("div",{className:Bd,children:T.jsx(qw,{onClickAction:()=>t.setShowUserMenu(!1)})}),!t.user&&T.jsx(Do,{className:Bd,to:"login",onClick:()=>t.setShowUserMenu(!1),children:"Log in"})]})]})},TM=()=>{const t=Wr(),[e,n]=N.useState(!1);return T.jsxs("header",{className:"w-full flex items-center justify-between px-5 py-1 bg-white shadow-md",children:[T.jsx(Do,{to:"/home",children:T.jsx("img",{src:yM,alt:"Fat Rat Logo",className:"w-[60px] h-[60px]"})}),T.jsx("div",{className:"flex items-center gap-1",onClick:()=>n(!0),children:T.jsx("div",{className:"flex items-center cursor-pointer ml-3",children:T.jsx("img",{src:e?vM:_M,alt:"burger_menu"})})}),e&&T.jsx(EM,{user:t,showUserMenu:e,setShowUserMenu:n})]})};function AM(){return T.jsxs(Ub,{children:[T.jsx("div",{id:"modal"}),T.jsx("div",{className:"w-full h-screen",children:T.jsxs(B4,{children:[T.jsx(TM,{}),T.jsx(pM,{})]})})]})}zR.createRoot(document.getElementById("root")).render(T.jsx(oi.StrictMode,{children:T.jsx(AM,{})}));
