function Mb(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function CE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yd={exports:{}},fo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function Vb(){if(Uv)return fo;Uv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var m in o)m!=="key"&&(l[m]=o[m])}else l=o;return o=l.ref,{$$typeof:t,type:s,key:c,ref:o!==void 0?o:null,props:l}}return fo.Fragment=e,fo.jsx=n,fo.jsxs=n,fo}var Lv;function Pb(){return Lv||(Lv=1,yd.exports=Vb()),yd.exports}var v=Pb(),_d={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function Ub(){if(kv)return fe;kv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.iterator;function T(S){return S===null||typeof S!="object"?null:(S=E&&S[E]||S["@@iterator"],typeof S=="function"?S:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function N(S,z,ie){this.props=S,this.context=z,this.refs=M,this.updater=ie||w}N.prototype.isReactComponent={},N.prototype.setState=function(S,z){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,z,"setState")},N.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function H(){}H.prototype=N.prototype;function $(S,z,ie){this.props=S,this.context=z,this.refs=M,this.updater=ie||w}var ee=$.prototype=new H;ee.constructor=$,C(ee,N.prototype),ee.isPureReactComponent=!0;var pe=Array.isArray,Y={H:null,A:null,T:null,S:null},be=Object.prototype.hasOwnProperty;function At(S,z,ie,te,G,Ae){return ie=Ae.ref,{$$typeof:t,type:S,key:z,ref:ie!==void 0?ie:null,props:Ae}}function gn(S,z){return At(S.type,z,void 0,void 0,void 0,S.props)}function Z(S){return typeof S=="object"&&S!==null&&S.$$typeof===t}function _e(S){var z={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(ie){return z[ie]})}var Jt=/\/+/g;function Bn(S,z){return typeof S=="object"&&S!==null&&S.key!=null?_e(""+S.key):z.toString(36)}function Sn(){}function qn(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(Sn,Sn):(S.status="pending",S.then(function(z){S.status==="pending"&&(S.status="fulfilled",S.value=z)},function(z){S.status==="pending"&&(S.status="rejected",S.reason=z)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function kt(S,z,ie,te,G){var Ae=typeof S;(Ae==="undefined"||Ae==="boolean")&&(S=null);var de=!1;if(S===null)de=!0;else switch(Ae){case"bigint":case"string":case"number":de=!0;break;case"object":switch(S.$$typeof){case t:case e:de=!0;break;case y:return de=S._init,kt(de(S._payload),z,ie,te,G)}}if(de)return G=G(S),de=te===""?"."+Bn(S,0):te,pe(G)?(ie="",de!=null&&(ie=de.replace(Jt,"$&/")+"/"),kt(G,z,ie,"",function($e){return $e})):G!=null&&(Z(G)&&(G=gn(G,ie+(G.key==null||S&&S.key===G.key?"":(""+G.key).replace(Jt,"$&/")+"/")+de)),z.push(G)),1;de=0;var Ot=te===""?".":te+":";if(pe(S))for(var Ne=0;Ne<S.length;Ne++)te=S[Ne],Ae=Ot+Bn(te,Ne),de+=kt(te,z,ie,Ae,G);else if(Ne=T(S),typeof Ne=="function")for(S=Ne.call(S),Ne=0;!(te=S.next()).done;)te=te.value,Ae=Ot+Bn(te,Ne++),de+=kt(te,z,ie,Ae,G);else if(Ae==="object"){if(typeof S.then=="function")return kt(qn(S),z,ie,te,G);throw z=String(S),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return de}function q(S,z,ie){if(S==null)return S;var te=[],G=0;return kt(S,te,"","",function(Ae){return z.call(ie,Ae,G++)}),te}function ce(S){if(S._status===-1){var z=S._result;z=z(),z.then(function(ie){(S._status===0||S._status===-1)&&(S._status=1,S._result=ie)},function(ie){(S._status===0||S._status===-1)&&(S._status=2,S._result=ie)}),S._status===-1&&(S._status=0,S._result=z)}if(S._status===1)return S._result.default;throw S._result}var re=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function Ve(){}return fe.Children={map:q,forEach:function(S,z,ie){q(S,function(){z.apply(this,arguments)},ie)},count:function(S){var z=0;return q(S,function(){z++}),z},toArray:function(S){return q(S,function(z){return z})||[]},only:function(S){if(!Z(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},fe.Component=N,fe.Fragment=n,fe.Profiler=o,fe.PureComponent=$,fe.StrictMode=s,fe.Suspense=d,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,fe.act=function(){throw Error("act(...) is not supported in production builds of React.")},fe.cache=function(S){return function(){return S.apply(null,arguments)}},fe.cloneElement=function(S,z,ie){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var te=C({},S.props),G=S.key,Ae=void 0;if(z!=null)for(de in z.ref!==void 0&&(Ae=void 0),z.key!==void 0&&(G=""+z.key),z)!be.call(z,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&z.ref===void 0||(te[de]=z[de]);var de=arguments.length-2;if(de===1)te.children=ie;else if(1<de){for(var Ot=Array(de),Ne=0;Ne<de;Ne++)Ot[Ne]=arguments[Ne+2];te.children=Ot}return At(S.type,G,void 0,void 0,Ae,te)},fe.createContext=function(S){return S={$$typeof:c,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:l,_context:S},S},fe.createElement=function(S,z,ie){var te,G={},Ae=null;if(z!=null)for(te in z.key!==void 0&&(Ae=""+z.key),z)be.call(z,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(G[te]=z[te]);var de=arguments.length-2;if(de===1)G.children=ie;else if(1<de){for(var Ot=Array(de),Ne=0;Ne<de;Ne++)Ot[Ne]=arguments[Ne+2];G.children=Ot}if(S&&S.defaultProps)for(te in de=S.defaultProps,de)G[te]===void 0&&(G[te]=de[te]);return At(S,Ae,void 0,void 0,null,G)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(S){return{$$typeof:m,render:S}},fe.isValidElement=Z,fe.lazy=function(S){return{$$typeof:y,_payload:{_status:-1,_result:S},_init:ce}},fe.memo=function(S,z){return{$$typeof:g,type:S,compare:z===void 0?null:z}},fe.startTransition=function(S){var z=Y.T,ie={};Y.T=ie;try{var te=S(),G=Y.S;G!==null&&G(ie,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(Ve,re)}catch(Ae){re(Ae)}finally{Y.T=z}},fe.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},fe.use=function(S){return Y.H.use(S)},fe.useActionState=function(S,z,ie){return Y.H.useActionState(S,z,ie)},fe.useCallback=function(S,z){return Y.H.useCallback(S,z)},fe.useContext=function(S){return Y.H.useContext(S)},fe.useDebugValue=function(){},fe.useDeferredValue=function(S,z){return Y.H.useDeferredValue(S,z)},fe.useEffect=function(S,z){return Y.H.useEffect(S,z)},fe.useId=function(){return Y.H.useId()},fe.useImperativeHandle=function(S,z,ie){return Y.H.useImperativeHandle(S,z,ie)},fe.useInsertionEffect=function(S,z){return Y.H.useInsertionEffect(S,z)},fe.useLayoutEffect=function(S,z){return Y.H.useLayoutEffect(S,z)},fe.useMemo=function(S,z){return Y.H.useMemo(S,z)},fe.useOptimistic=function(S,z){return Y.H.useOptimistic(S,z)},fe.useReducer=function(S,z,ie){return Y.H.useReducer(S,z,ie)},fe.useRef=function(S){return Y.H.useRef(S)},fe.useState=function(S){return Y.H.useState(S)},fe.useSyncExternalStore=function(S,z,ie){return Y.H.useSyncExternalStore(S,z,ie)},fe.useTransition=function(){return Y.H.useTransition()},fe.version="19.0.0",fe}var jv;function Nm(){return jv||(jv=1,_d.exports=Ub()),_d.exports}var O=Nm();const ui=CE(O),Lb=Mb({__proto__:null,default:ui},[O]);var vd={exports:{}},mo={},Ed={exports:{}},Td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function kb(){return zv||(zv=1,function(t){function e(q,ce){var re=q.length;q.push(ce);e:for(;0<re;){var Ve=re-1>>>1,S=q[Ve];if(0<o(S,ce))q[Ve]=ce,q[re]=S,re=Ve;else break e}}function n(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var ce=q[0],re=q.pop();if(re!==ce){q[0]=re;e:for(var Ve=0,S=q.length,z=S>>>1;Ve<z;){var ie=2*(Ve+1)-1,te=q[ie],G=ie+1,Ae=q[G];if(0>o(te,re))G<S&&0>o(Ae,te)?(q[Ve]=Ae,q[G]=re,Ve=G):(q[Ve]=te,q[ie]=re,Ve=ie);else if(G<S&&0>o(Ae,re))q[Ve]=Ae,q[G]=re,Ve=G;else break e}}return ce}function o(q,ce){var re=q.sortIndex-ce.sortIndex;return re!==0?re:q.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,m=c.now();t.unstable_now=function(){return c.now()-m}}var d=[],g=[],y=1,E=null,T=3,w=!1,C=!1,M=!1,N=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function ee(q){for(var ce=n(g);ce!==null;){if(ce.callback===null)s(g);else if(ce.startTime<=q)s(g),ce.sortIndex=ce.expirationTime,e(d,ce);else break;ce=n(g)}}function pe(q){if(M=!1,ee(q),!C)if(n(d)!==null)C=!0,qn();else{var ce=n(g);ce!==null&&kt(pe,ce.startTime-q)}}var Y=!1,be=-1,At=5,gn=-1;function Z(){return!(t.unstable_now()-gn<At)}function _e(){if(Y){var q=t.unstable_now();gn=q;var ce=!0;try{e:{C=!1,M&&(M=!1,H(be),be=-1),w=!0;var re=T;try{t:{for(ee(q),E=n(d);E!==null&&!(E.expirationTime>q&&Z());){var Ve=E.callback;if(typeof Ve=="function"){E.callback=null,T=E.priorityLevel;var S=Ve(E.expirationTime<=q);if(q=t.unstable_now(),typeof S=="function"){E.callback=S,ee(q),ce=!0;break t}E===n(d)&&s(d),ee(q)}else s(d);E=n(d)}if(E!==null)ce=!0;else{var z=n(g);z!==null&&kt(pe,z.startTime-q),ce=!1}}break e}finally{E=null,T=re,w=!1}ce=void 0}}finally{ce?Jt():Y=!1}}}var Jt;if(typeof $=="function")Jt=function(){$(_e)};else if(typeof MessageChannel<"u"){var Bn=new MessageChannel,Sn=Bn.port2;Bn.port1.onmessage=_e,Jt=function(){Sn.postMessage(null)}}else Jt=function(){N(_e,0)};function qn(){Y||(Y=!0,Jt())}function kt(q,ce){be=N(function(){q(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){C||w||(C=!0,qn())},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):At=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(q){switch(T){case 1:case 2:case 3:var ce=3;break;default:ce=T}var re=T;T=ce;try{return q()}finally{T=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,ce){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var re=T;T=q;try{return ce()}finally{T=re}},t.unstable_scheduleCallback=function(q,ce,re){var Ve=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ve+re:Ve):re=Ve,q){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=re+S,q={id:y++,callback:ce,priorityLevel:q,startTime:re,expirationTime:S,sortIndex:-1},re>Ve?(q.sortIndex=re,e(g,q),n(d)===null&&q===n(g)&&(M?(H(be),be=-1):M=!0,kt(pe,re-Ve))):(q.sortIndex=S,e(d,q),C||w||(C=!0,qn())),q},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(q){var ce=T;return function(){var re=T;T=ce;try{return q.apply(this,arguments)}finally{T=re}}}}(Td)),Td}var Bv;function jb(){return Bv||(Bv=1,Ed.exports=kb()),Ed.exports}var Ad={exports:{}},bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function zb(){if(qv)return bt;qv=1;var t=Nm();function e(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(d,g,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:d,containerInfo:g,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,bt.createPortal=function(d,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(d,g,null,y)},bt.flushSync=function(d){var g=c.T,y=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=g,s.p=y,s.d.f()}},bt.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(d,g))},bt.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},bt.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var y=g.as,E=m(y,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:w}):y==="script"&&s.d.X(d,{crossOrigin:E,integrity:T,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},bt.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=m(g.as,g.crossOrigin);s.d.M(d,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(d)},bt.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,E=m(y,g.crossOrigin);s.d.L(d,y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},bt.preloadModule=function(d,g){if(typeof d=="string")if(g){var y=m(g.as,g.crossOrigin);s.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(d)},bt.requestFormReset=function(d){s.d.r(d)},bt.unstable_batchedUpdates=function(d,g){return d(g)},bt.useFormState=function(d,g,y){return c.H.useFormState(d,g,y)},bt.useFormStatus=function(){return c.H.useHostTransitionStatus()},bt.version="19.0.0",bt}var Hv;function NE(){if(Hv)return Ad.exports;Hv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ad.exports=zb(),Ad.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function Bb(){if(Fv)return mo;Fv=1;var t=jb(),e=Nm(),n=NE();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),w=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),pe=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function be(i){return i===null||typeof i!="object"?null:(i=Y&&i[Y]||i["@@iterator"],typeof i=="function"?i:null)}var At=Symbol.for("react.client.reference");function gn(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===At?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case d:return"Fragment";case m:return"Portal";case y:return"Profiler";case g:return"StrictMode";case M:return"Suspense";case N:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case w:return(i.displayName||"Context")+".Provider";case T:return(i._context.displayName||"Context")+".Consumer";case C:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case H:return r=i.displayName||null,r!==null?r:gn(i.type)||"Memo";case $:r=i._payload,i=i._init;try{return gn(i(r))}catch{}}return null}var Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e=Object.assign,Jt,Bn;function Sn(i){if(Jt===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Jt=r&&r[1]||"",Bn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jt+i+Bn}var qn=!1;function kt(i,r){if(!i||qn)return"";qn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(V){var x=V}Reflect.construct(i,[],k)}else{try{k.call()}catch(V){x=V}i.call(k.prototype)}}else{try{throw Error()}catch(V){x=V}(k=i())&&typeof k.catch=="function"&&k.catch(function(){})}}catch(V){if(V&&x&&typeof V.stack=="string")return[V.stack,x.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=u.DetermineComponentFrameRoot(),p=f[0],_=f[1];if(p&&_){var A=p.split(`
`),R=_.split(`
`);for(h=u=0;u<A.length&&!A[u].includes("DetermineComponentFrameRoot");)u++;for(;h<R.length&&!R[h].includes("DetermineComponentFrameRoot");)h++;if(u===A.length||h===R.length)for(u=A.length-1,h=R.length-1;1<=u&&0<=h&&A[u]!==R[h];)h--;for(;1<=u&&0<=h;u--,h--)if(A[u]!==R[h]){if(u!==1||h!==1)do if(u--,h--,0>h||A[u]!==R[h]){var P=`
`+A[u].replace(" at new "," at ");return i.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",i.displayName)),P}while(1<=u&&0<=h);break}}}finally{qn=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?Sn(a):""}function q(i){switch(i.tag){case 26:case 27:case 5:return Sn(i.type);case 16:return Sn("Lazy");case 13:return Sn("Suspense");case 19:return Sn("SuspenseList");case 0:case 15:return i=kt(i.type,!1),i;case 11:return i=kt(i.type.render,!1),i;case 1:return i=kt(i.type,!0),i;default:return""}}function ce(i){try{var r="";do r+=q(i),i=i.return;while(i);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function re(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function Ve(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function S(i){if(re(i)!==i)throw Error(s(188))}function z(i){var r=i.alternate;if(!r){if(r=re(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,u=r;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(u=h.return,u!==null){a=u;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return S(h),i;if(f===u)return S(h),r;f=f.sibling}throw Error(s(188))}if(a.return!==u.return)a=h,u=f;else{for(var p=!1,_=h.child;_;){if(_===a){p=!0,a=h,u=f;break}if(_===u){p=!0,u=h,a=f;break}_=_.sibling}if(!p){for(_=f.child;_;){if(_===a){p=!0,a=f,u=h;break}if(_===u){p=!0,u=f,a=h;break}_=_.sibling}if(!p)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function ie(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=ie(i),r!==null)return r;i=i.sibling}return null}var te=Array.isArray,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},de=[],Ot=-1;function Ne(i){return{current:i}}function $e(i){0>Ot||(i.current=de[Ot],de[Ot]=null,Ot--)}function ze(i,r){Ot++,de[Ot]=i.current,i.current=r}var bn=Ne(null),ga=Ne(null),_i=Ne(null),Tl=Ne(null);function Al(i,r){switch(ze(_i,r),ze(ga,i),ze(bn,null),i=r.nodeType,i){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?hv(r):0;break;default:if(i=i===8?r.parentNode:r,r=i.tagName,i=i.namespaceURI)i=hv(i),r=fv(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}$e(bn),ze(bn,r)}function is(){$e(bn),$e(ga),$e(_i)}function oh(i){i.memoizedState!==null&&ze(Tl,i);var r=bn.current,a=fv(r,i.type);r!==a&&(ze(ga,i),ze(bn,a))}function wl(i){ga.current===i&&($e(bn),$e(ga)),Tl.current===i&&($e(Tl),oo._currentValue=Ae)}var lh=Object.prototype.hasOwnProperty,uh=t.unstable_scheduleCallback,ch=t.unstable_cancelCallback,hS=t.unstable_shouldYield,fS=t.unstable_requestPaint,Rn=t.unstable_now,dS=t.unstable_getCurrentPriorityLevel,ep=t.unstable_ImmediatePriority,tp=t.unstable_UserBlockingPriority,Sl=t.unstable_NormalPriority,mS=t.unstable_LowPriority,np=t.unstable_IdlePriority,gS=t.log,pS=t.unstable_setDisableYieldValue,pa=null,Ft=null;function yS(i){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(pa,i,void 0,(i.current.flags&128)===128)}catch{}}function vi(i){if(typeof gS=="function"&&pS(i),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(pa,i)}catch{}}var Gt=Math.clz32?Math.clz32:ES,_S=Math.log,vS=Math.LN2;function ES(i){return i>>>=0,i===0?32:31-(_S(i)/vS|0)|0}var bl=128,Rl=4194304;function mr(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Il(i,r){var a=i.pendingLanes;if(a===0)return 0;var u=0,h=i.suspendedLanes,f=i.pingedLanes,p=i.warmLanes;i=i.finishedLanes!==0;var _=a&134217727;return _!==0?(a=_&~h,a!==0?u=mr(a):(f&=_,f!==0?u=mr(f):i||(p=_&~p,p!==0&&(u=mr(p))))):(_=a&~h,_!==0?u=mr(_):f!==0?u=mr(f):i||(p=a&~p,p!==0&&(u=mr(p)))),u===0?0:r!==0&&r!==u&&(r&h)===0&&(h=u&-u,p=r&-r,h>=p||h===32&&(p&4194176)!==0)?r:u}function ya(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function TS(i,r){switch(i){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ip(){var i=bl;return bl<<=1,(bl&4194176)===0&&(bl=128),i}function rp(){var i=Rl;return Rl<<=1,(Rl&62914560)===0&&(Rl=4194304),i}function hh(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function _a(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function AS(i,r,a,u,h,f){var p=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var _=i.entanglements,A=i.expirationTimes,R=i.hiddenUpdates;for(a=p&~a;0<a;){var P=31-Gt(a),k=1<<P;_[P]=0,A[P]=-1;var x=R[P];if(x!==null)for(R[P]=null,P=0;P<x.length;P++){var V=x[P];V!==null&&(V.lane&=-536870913)}a&=~k}u!==0&&sp(i,u,0),f!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=f&~(p&~r))}function sp(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Gt(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|a&4194218}function ap(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var u=31-Gt(a),h=1<<u;h&r|i[u]&r&&(i[u]|=r),a&=~h}}function op(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function lp(){var i=G.p;return i!==0?i:(i=window.event,i===void 0?32:Dv(i.type))}function wS(i,r){var a=G.p;try{return G.p=i,r()}finally{G.p=a}}var Ei=Math.random().toString(36).slice(2),wt="__reactFiber$"+Ei,jt="__reactProps$"+Ei,rs="__reactContainer$"+Ei,fh="__reactEvents$"+Ei,SS="__reactListeners$"+Ei,bS="__reactHandles$"+Ei,up="__reactResources$"+Ei,va="__reactMarker$"+Ei;function dh(i){delete i[wt],delete i[jt],delete i[fh],delete i[SS],delete i[bS]}function gr(i){var r=i[wt];if(r)return r;for(var a=i.parentNode;a;){if(r=a[rs]||a[wt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=gv(i);i!==null;){if(a=i[wt])return a;i=gv(i)}return r}i=a,a=i.parentNode}return null}function ss(i){if(i=i[wt]||i[rs]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function Ea(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function as(i){var r=i[up];return r||(r=i[up]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function at(i){i[va]=!0}var cp=new Set,hp={};function pr(i,r){os(i,r),os(i+"Capture",r)}function os(i,r){for(hp[i]=r,i=0;i<r.length;i++)cp.add(r[i])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),RS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fp={},dp={};function IS(i){return lh.call(dp,i)?!0:lh.call(fp,i)?!1:RS.test(i)?dp[i]=!0:(fp[i]=!0,!1)}function Cl(i,r,a){if(IS(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function Nl(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function Fn(i,r,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+u)}}function en(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function mp(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function CS(i){var r=mp(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return h.call(this)},set:function(p){u=""+p,f.call(this,p)}}),Object.defineProperty(i,r,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(p){u=""+p},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Dl(i){i._valueTracker||(i._valueTracker=CS(i))}function gp(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return i&&(u=mp(i)?i.checked?"true":"false":i.value),i=u,i!==a?(r.setValue(i),!0):!1}function xl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var NS=/[\n"\\]/g;function tn(i){return i.replace(NS,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function mh(i,r,a,u,h,f,p,_){i.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?i.type=p:i.removeAttribute("type"),r!=null?p==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+en(r)):i.value!==""+en(r)&&(i.value=""+en(r)):p!=="submit"&&p!=="reset"||i.removeAttribute("value"),r!=null?gh(i,p,en(r)):a!=null?gh(i,p,en(a)):u!=null&&i.removeAttribute("value"),h==null&&f!=null&&(i.defaultChecked=!!f),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.name=""+en(_):i.removeAttribute("name")}function pp(i,r,a,u,h,f,p,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(i.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null))return;a=a!=null?""+en(a):"",r=r!=null?""+en(r):a,_||r===i.value||(i.value=r),i.defaultValue=r}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=_?i.checked:!!u,i.defaultChecked=!!u,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.name=p)}function gh(i,r,a){r==="number"&&xl(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function ls(i,r,a,u){if(i=i.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<i.length;a++)h=r.hasOwnProperty("$"+i[a].value),i[a].selected!==h&&(i[a].selected=h),h&&u&&(i[a].defaultSelected=!0)}else{for(a=""+en(a),r=null,h=0;h<i.length;h++){if(i[h].value===a){i[h].selected=!0,u&&(i[h].defaultSelected=!0);return}r!==null||i[h].disabled||(r=i[h])}r!==null&&(r.selected=!0)}}function yp(i,r,a){if(r!=null&&(r=""+en(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+en(a):""}function _p(i,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(te(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=en(r),i.defaultValue=a,u=i.textContent,u===a&&u!==""&&u!==null&&(i.value=u)}function us(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var DS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vp(i,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,a):typeof a!="number"||a===0||DS.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function Ep(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var h in r)u=r[h],r.hasOwnProperty(h)&&a[h]!==u&&vp(i,h,u)}else for(var f in r)r.hasOwnProperty(f)&&vp(i,f,r[f])}function ph(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),OS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ol(i){return OS.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var yh=null;function _h(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var cs=null,hs=null;function Tp(i){var r=ss(i);if(r&&(i=r.stateNode)){var a=i[jt]||null;e:switch(i=r.stateNode,r.type){case"input":if(mh(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==i&&u.form===i.form){var h=u[jt]||null;if(!h)throw Error(s(90));mh(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===i.form&&gp(u)}break e;case"textarea":yp(i,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&ls(i,!!a.multiple,r,!1)}}}var vh=!1;function Ap(i,r,a){if(vh)return i(r,a);vh=!0;try{var u=i(r);return u}finally{if(vh=!1,(cs!==null||hs!==null)&&(gu(),cs&&(r=cs,i=hs,hs=cs=null,Tp(r),i)))for(r=0;r<i.length;r++)Tp(i[r])}}function Ta(i,r){var a=i.stateNode;if(a===null)return null;var u=a[jt]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Eh=!1;if(Hn)try{var Aa={};Object.defineProperty(Aa,"passive",{get:function(){Eh=!0}}),window.addEventListener("test",Aa,Aa),window.removeEventListener("test",Aa,Aa)}catch{Eh=!1}var Ti=null,Th=null,Ml=null;function wp(){if(Ml)return Ml;var i,r=Th,a=r.length,u,h="value"in Ti?Ti.value:Ti.textContent,f=h.length;for(i=0;i<a&&r[i]===h[i];i++);var p=a-i;for(u=1;u<=p&&r[a-u]===h[f-u];u++);return Ml=h.slice(i,1<u?1-u:void 0)}function Vl(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Pl(){return!0}function Sp(){return!1}function zt(i){function r(a,u,h,f,p){this._reactName=a,this._targetInst=h,this.type=u,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var _ in i)i.hasOwnProperty(_)&&(a=i[_],this[_]=a?a(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Pl:Sp,this.isPropagationStopped=Sp,this}return _e(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Pl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Pl)},persist:function(){},isPersistent:Pl}),r}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ul=zt(yr),wa=_e({},yr,{view:0,detail:0}),MS=zt(wa),Ah,wh,Sa,Ll=_e({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Sa&&(Sa&&i.type==="mousemove"?(Ah=i.screenX-Sa.screenX,wh=i.screenY-Sa.screenY):wh=Ah=0,Sa=i),Ah)},movementY:function(i){return"movementY"in i?i.movementY:wh}}),bp=zt(Ll),VS=_e({},Ll,{dataTransfer:0}),PS=zt(VS),US=_e({},wa,{relatedTarget:0}),Sh=zt(US),LS=_e({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),kS=zt(LS),jS=_e({},yr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),zS=zt(jS),BS=_e({},yr,{data:0}),Rp=zt(BS),qS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GS(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=FS[i])?!!r[i]:!1}function bh(){return GS}var QS=_e({},wa,{key:function(i){if(i.key){var r=qS[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Vl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?HS[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bh,charCode:function(i){return i.type==="keypress"?Vl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Vl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),KS=zt(QS),YS=_e({},Ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ip=zt(YS),XS=_e({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bh}),$S=zt(XS),WS=_e({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZS=zt(WS),JS=_e({},Ll,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),e1=zt(JS),t1=_e({},yr,{newState:0,oldState:0}),n1=zt(t1),i1=[9,13,27,32],Rh=Hn&&"CompositionEvent"in window,ba=null;Hn&&"documentMode"in document&&(ba=document.documentMode);var r1=Hn&&"TextEvent"in window&&!ba,Cp=Hn&&(!Rh||ba&&8<ba&&11>=ba),Np=" ",Dp=!1;function xp(i,r){switch(i){case"keyup":return i1.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Op(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fs=!1;function s1(i,r){switch(i){case"compositionend":return Op(r);case"keypress":return r.which!==32?null:(Dp=!0,Np);case"textInput":return i=r.data,i===Np&&Dp?null:i;default:return null}}function a1(i,r){if(fs)return i==="compositionend"||!Rh&&xp(i,r)?(i=wp(),Ml=Th=Ti=null,fs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Cp&&r.locale!=="ko"?null:r.data;default:return null}}var o1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mp(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!o1[i.type]:r==="textarea"}function Vp(i,r,a,u){cs?hs?hs.push(u):hs=[u]:cs=u,r=Eu(r,"onChange"),0<r.length&&(a=new Ul("onChange","change",null,a,u),i.push({event:a,listeners:r}))}var Ra=null,Ia=null;function l1(i){av(i,0)}function kl(i){var r=Ea(i);if(gp(r))return i}function Pp(i,r){if(i==="change")return r}var Up=!1;if(Hn){var Ih;if(Hn){var Ch="oninput"in document;if(!Ch){var Lp=document.createElement("div");Lp.setAttribute("oninput","return;"),Ch=typeof Lp.oninput=="function"}Ih=Ch}else Ih=!1;Up=Ih&&(!document.documentMode||9<document.documentMode)}function kp(){Ra&&(Ra.detachEvent("onpropertychange",jp),Ia=Ra=null)}function jp(i){if(i.propertyName==="value"&&kl(Ia)){var r=[];Vp(r,Ia,i,_h(i)),Ap(l1,r)}}function u1(i,r,a){i==="focusin"?(kp(),Ra=r,Ia=a,Ra.attachEvent("onpropertychange",jp)):i==="focusout"&&kp()}function c1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return kl(Ia)}function h1(i,r){if(i==="click")return kl(r)}function f1(i,r){if(i==="input"||i==="change")return kl(r)}function d1(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Qt=typeof Object.is=="function"?Object.is:d1;function Ca(i,r){if(Qt(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var h=a[u];if(!lh.call(r,h)||!Qt(i[h],r[h]))return!1}return!0}function zp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Bp(i,r){var a=zp(i);i=0;for(var u;a;){if(a.nodeType===3){if(u=i+a.textContent.length,i<=r&&u>=r)return{node:a,offset:r-i};i=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zp(a)}}function qp(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?qp(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Hp(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=xl(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=xl(i.document)}return r}function Nh(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}function m1(i,r){var a=Hp(r);r=i.focusedElem;var u=i.selectionRange;if(a!==r&&r&&r.ownerDocument&&qp(r.ownerDocument.documentElement,r)){if(u!==null&&Nh(r)){if(i=u.start,a=u.end,a===void 0&&(a=i),"selectionStart"in r)r.selectionStart=i,r.selectionEnd=Math.min(a,r.value.length);else if(a=(i=r.ownerDocument||document)&&i.defaultView||window,a.getSelection){a=a.getSelection();var h=r.textContent.length,f=Math.min(u.start,h);u=u.end===void 0?f:Math.min(u.end,h),!a.extend&&f>u&&(h=u,u=f,f=h),h=Bp(r,f);var p=Bp(r,u);h&&p&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==p.node||a.focusOffset!==p.offset)&&(i=i.createRange(),i.setStart(h.node,h.offset),a.removeAllRanges(),f>u?(a.addRange(i),a.extend(p.node,p.offset)):(i.setEnd(p.node,p.offset),a.addRange(i)))}}for(i=[],a=r;a=a.parentNode;)a.nodeType===1&&i.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<i.length;r++)a=i[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var g1=Hn&&"documentMode"in document&&11>=document.documentMode,ds=null,Dh=null,Na=null,xh=!1;function Fp(i,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xh||ds==null||ds!==xl(u)||(u=ds,"selectionStart"in u&&Nh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Na&&Ca(Na,u)||(Na=u,u=Eu(Dh,"onSelect"),0<u.length&&(r=new Ul("onSelect","select",null,r,a),i.push({event:r,listeners:u}),r.target=ds)))}function _r(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var ms={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionrun:_r("Transition","TransitionRun"),transitionstart:_r("Transition","TransitionStart"),transitioncancel:_r("Transition","TransitionCancel"),transitionend:_r("Transition","TransitionEnd")},Oh={},Gp={};Hn&&(Gp=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function vr(i){if(Oh[i])return Oh[i];if(!ms[i])return i;var r=ms[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in Gp)return Oh[i]=r[a];return i}var Qp=vr("animationend"),Kp=vr("animationiteration"),Yp=vr("animationstart"),p1=vr("transitionrun"),y1=vr("transitionstart"),_1=vr("transitioncancel"),Xp=vr("transitionend"),$p=new Map,Wp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function pn(i,r){$p.set(i,r),pr(r,[i])}var nn=[],gs=0,Mh=0;function jl(){for(var i=gs,r=Mh=gs=0;r<i;){var a=nn[r];nn[r++]=null;var u=nn[r];nn[r++]=null;var h=nn[r];nn[r++]=null;var f=nn[r];if(nn[r++]=null,u!==null&&h!==null){var p=u.pending;p===null?h.next=h:(h.next=p.next,p.next=h),u.pending=h}f!==0&&Zp(a,h,f)}}function zl(i,r,a,u){nn[gs++]=i,nn[gs++]=r,nn[gs++]=a,nn[gs++]=u,Mh|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Vh(i,r,a,u){return zl(i,r,a,u),Bl(i)}function Ai(i,r){return zl(i,null,null,r),Bl(i)}function Zp(i,r,a){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a);for(var h=!1,f=i.return;f!==null;)f.childLanes|=a,u=f.alternate,u!==null&&(u.childLanes|=a),f.tag===22&&(i=f.stateNode,i===null||i._visibility&1||(h=!0)),i=f,f=f.return;h&&r!==null&&i.tag===3&&(f=i.stateNode,h=31-Gt(a),f=f.hiddenUpdates,i=f[h],i===null?f[h]=[r]:i.push(r),r.lane=a|536870912)}function Bl(i){if(50<eo)throw eo=0,Bf=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var ps={},Jp=new WeakMap;function rn(i,r){if(typeof i=="object"&&i!==null){var a=Jp.get(i);return a!==void 0?a:(r={value:i,source:r,stack:ce(r)},Jp.set(i,r),r)}return{value:i,source:r,stack:ce(r)}}var ys=[],_s=0,ql=null,Hl=0,sn=[],an=0,Er=null,Gn=1,Qn="";function Tr(i,r){ys[_s++]=Hl,ys[_s++]=ql,ql=i,Hl=r}function ey(i,r,a){sn[an++]=Gn,sn[an++]=Qn,sn[an++]=Er,Er=i;var u=Gn;i=Qn;var h=32-Gt(u)-1;u&=~(1<<h),a+=1;var f=32-Gt(r)+h;if(30<f){var p=h-h%5;f=(u&(1<<p)-1).toString(32),u>>=p,h-=p,Gn=1<<32-Gt(r)+h|a<<h|u,Qn=f+i}else Gn=1<<f|a<<h|u,Qn=i}function Ph(i){i.return!==null&&(Tr(i,1),ey(i,1,0))}function Uh(i){for(;i===ql;)ql=ys[--_s],ys[_s]=null,Hl=ys[--_s],ys[_s]=null;for(;i===Er;)Er=sn[--an],sn[an]=null,Qn=sn[--an],sn[an]=null,Gn=sn[--an],sn[an]=null}var Mt=null,mt=null,Re=!1,yn=null,In=!1,Lh=Error(s(519));function Ar(i){var r=Error(s(418,""));throw Oa(rn(r,i)),Lh}function ty(i){var r=i.stateNode,a=i.type,u=i.memoizedProps;switch(r[wt]=i,r[jt]=u,a){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(a=0;a<no.length;a++)Ee(no[a],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":Ee("invalid",r),pp(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Dl(r);break;case"select":Ee("invalid",r);break;case"textarea":Ee("invalid",r),_p(r,u.value,u.defaultValue,u.children),Dl(r)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||cv(r.textContent,a)?(u.popover!=null&&(Ee("beforetoggle",r),Ee("toggle",r)),u.onScroll!=null&&Ee("scroll",r),u.onScrollEnd!=null&&Ee("scrollend",r),u.onClick!=null&&(r.onclick=Tu),r=!0):r=!1,r||Ar(i)}function ny(i){for(Mt=i.return;Mt;)switch(Mt.tag){case 3:case 27:In=!0;return;case 5:case 13:In=!1;return;default:Mt=Mt.return}}function Da(i){if(i!==Mt)return!1;if(!Re)return ny(i),Re=!0,!1;var r=!1,a;if((a=i.tag!==3&&i.tag!==27)&&((a=i.tag===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||rd(i.type,i.memoizedProps)),a=!a),a&&(r=!0),r&&mt&&Ar(i),ny(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(r===0){mt=vn(i.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;i=i.nextSibling}mt=null}}else mt=Mt?vn(i.stateNode.nextSibling):null;return!0}function xa(){mt=Mt=null,Re=!1}function Oa(i){yn===null?yn=[i]:yn.push(i)}var Ma=Error(s(460)),iy=Error(s(474)),kh={then:function(){}};function ry(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Fl(){}function sy(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(Fl,Fl),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===Ma?Error(s(483)):i;default:if(typeof r.status=="string")r.then(Fl,Fl);else{if(i=Pe,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=u}},function(u){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===Ma?Error(s(483)):i}throw Va=r,Ma}}var Va=null;function ay(){if(Va===null)throw Error(s(459));var i=Va;return Va=null,i}var vs=null,Pa=0;function Gl(i){var r=Pa;return Pa+=1,vs===null&&(vs=[]),sy(vs,i,r)}function Ua(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ql(i,r){throw r.$$typeof===l?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function oy(i){var r=i._init;return r(i._payload)}function ly(i){function r(I,b){if(i){var D=I.deletions;D===null?(I.deletions=[b],I.flags|=16):D.push(b)}}function a(I,b){if(!i)return null;for(;b!==null;)r(I,b),b=b.sibling;return null}function u(I){for(var b=new Map;I!==null;)I.key!==null?b.set(I.key,I):b.set(I.index,I),I=I.sibling;return b}function h(I,b){return I=Vi(I,b),I.index=0,I.sibling=null,I}function f(I,b,D){return I.index=D,i?(D=I.alternate,D!==null?(D=D.index,D<b?(I.flags|=33554434,b):D):(I.flags|=33554434,b)):(I.flags|=1048576,b)}function p(I){return i&&I.alternate===null&&(I.flags|=33554434),I}function _(I,b,D,U){return b===null||b.tag!==6?(b=Mf(D,I.mode,U),b.return=I,b):(b=h(b,D),b.return=I,b)}function A(I,b,D,U){var Q=D.type;return Q===d?P(I,b,D.props.children,U,D.key):b!==null&&(b.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===$&&oy(Q)===b.type)?(b=h(b,D.props),Ua(b,D),b.return=I,b):(b=cu(D.type,D.key,D.props,null,I.mode,U),Ua(b,D),b.return=I,b)}function R(I,b,D,U){return b===null||b.tag!==4||b.stateNode.containerInfo!==D.containerInfo||b.stateNode.implementation!==D.implementation?(b=Vf(D,I.mode,U),b.return=I,b):(b=h(b,D.children||[]),b.return=I,b)}function P(I,b,D,U,Q){return b===null||b.tag!==7?(b=Or(D,I.mode,U,Q),b.return=I,b):(b=h(b,D),b.return=I,b)}function k(I,b,D){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=Mf(""+b,I.mode,D),b.return=I,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case c:return D=cu(b.type,b.key,b.props,null,I.mode,D),Ua(D,b),D.return=I,D;case m:return b=Vf(b,I.mode,D),b.return=I,b;case $:var U=b._init;return b=U(b._payload),k(I,b,D)}if(te(b)||be(b))return b=Or(b,I.mode,D,null),b.return=I,b;if(typeof b.then=="function")return k(I,Gl(b),D);if(b.$$typeof===w)return k(I,ou(I,b),D);Ql(I,b)}return null}function x(I,b,D,U){var Q=b!==null?b.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return Q!==null?null:_(I,b,""+D,U);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case c:return D.key===Q?A(I,b,D,U):null;case m:return D.key===Q?R(I,b,D,U):null;case $:return Q=D._init,D=Q(D._payload),x(I,b,D,U)}if(te(D)||be(D))return Q!==null?null:P(I,b,D,U,null);if(typeof D.then=="function")return x(I,b,Gl(D),U);if(D.$$typeof===w)return x(I,b,ou(I,D),U);Ql(I,D)}return null}function V(I,b,D,U,Q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return I=I.get(D)||null,_(b,I,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case c:return I=I.get(U.key===null?D:U.key)||null,A(b,I,U,Q);case m:return I=I.get(U.key===null?D:U.key)||null,R(b,I,U,Q);case $:var ge=U._init;return U=ge(U._payload),V(I,b,D,U,Q)}if(te(U)||be(U))return I=I.get(D)||null,P(b,I,U,Q,null);if(typeof U.then=="function")return V(I,b,D,Gl(U),Q);if(U.$$typeof===w)return V(I,b,D,ou(b,U),Q);Ql(b,U)}return null}function X(I,b,D,U){for(var Q=null,ge=null,W=b,ne=b=0,ut=null;W!==null&&ne<D.length;ne++){W.index>ne?(ut=W,W=null):ut=W.sibling;var Ie=x(I,W,D[ne],U);if(Ie===null){W===null&&(W=ut);break}i&&W&&Ie.alternate===null&&r(I,W),b=f(Ie,b,ne),ge===null?Q=Ie:ge.sibling=Ie,ge=Ie,W=ut}if(ne===D.length)return a(I,W),Re&&Tr(I,ne),Q;if(W===null){for(;ne<D.length;ne++)W=k(I,D[ne],U),W!==null&&(b=f(W,b,ne),ge===null?Q=W:ge.sibling=W,ge=W);return Re&&Tr(I,ne),Q}for(W=u(W);ne<D.length;ne++)ut=V(W,I,ne,D[ne],U),ut!==null&&(i&&ut.alternate!==null&&W.delete(ut.key===null?ne:ut.key),b=f(ut,b,ne),ge===null?Q=ut:ge.sibling=ut,ge=ut);return i&&W.forEach(function(Bi){return r(I,Bi)}),Re&&Tr(I,ne),Q}function le(I,b,D,U){if(D==null)throw Error(s(151));for(var Q=null,ge=null,W=b,ne=b=0,ut=null,Ie=D.next();W!==null&&!Ie.done;ne++,Ie=D.next()){W.index>ne?(ut=W,W=null):ut=W.sibling;var Bi=x(I,W,Ie.value,U);if(Bi===null){W===null&&(W=ut);break}i&&W&&Bi.alternate===null&&r(I,W),b=f(Bi,b,ne),ge===null?Q=Bi:ge.sibling=Bi,ge=Bi,W=ut}if(Ie.done)return a(I,W),Re&&Tr(I,ne),Q;if(W===null){for(;!Ie.done;ne++,Ie=D.next())Ie=k(I,Ie.value,U),Ie!==null&&(b=f(Ie,b,ne),ge===null?Q=Ie:ge.sibling=Ie,ge=Ie);return Re&&Tr(I,ne),Q}for(W=u(W);!Ie.done;ne++,Ie=D.next())Ie=V(W,I,ne,Ie.value,U),Ie!==null&&(i&&Ie.alternate!==null&&W.delete(Ie.key===null?ne:Ie.key),b=f(Ie,b,ne),ge===null?Q=Ie:ge.sibling=Ie,ge=Ie);return i&&W.forEach(function(Ob){return r(I,Ob)}),Re&&Tr(I,ne),Q}function Qe(I,b,D,U){if(typeof D=="object"&&D!==null&&D.type===d&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case c:e:{for(var Q=D.key;b!==null;){if(b.key===Q){if(Q=D.type,Q===d){if(b.tag===7){a(I,b.sibling),U=h(b,D.props.children),U.return=I,I=U;break e}}else if(b.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===$&&oy(Q)===b.type){a(I,b.sibling),U=h(b,D.props),Ua(U,D),U.return=I,I=U;break e}a(I,b);break}else r(I,b);b=b.sibling}D.type===d?(U=Or(D.props.children,I.mode,U,D.key),U.return=I,I=U):(U=cu(D.type,D.key,D.props,null,I.mode,U),Ua(U,D),U.return=I,I=U)}return p(I);case m:e:{for(Q=D.key;b!==null;){if(b.key===Q)if(b.tag===4&&b.stateNode.containerInfo===D.containerInfo&&b.stateNode.implementation===D.implementation){a(I,b.sibling),U=h(b,D.children||[]),U.return=I,I=U;break e}else{a(I,b);break}else r(I,b);b=b.sibling}U=Vf(D,I.mode,U),U.return=I,I=U}return p(I);case $:return Q=D._init,D=Q(D._payload),Qe(I,b,D,U)}if(te(D))return X(I,b,D,U);if(be(D)){if(Q=be(D),typeof Q!="function")throw Error(s(150));return D=Q.call(D),le(I,b,D,U)}if(typeof D.then=="function")return Qe(I,b,Gl(D),U);if(D.$$typeof===w)return Qe(I,b,ou(I,D),U);Ql(I,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,b!==null&&b.tag===6?(a(I,b.sibling),U=h(b,D),U.return=I,I=U):(a(I,b),U=Mf(D,I.mode,U),U.return=I,I=U),p(I)):a(I,b)}return function(I,b,D,U){try{Pa=0;var Q=Qe(I,b,D,U);return vs=null,Q}catch(W){if(W===Ma)throw W;var ge=cn(29,W,null,I.mode);return ge.lanes=U,ge.return=I,ge}finally{}}}var wr=ly(!0),uy=ly(!1),Es=Ne(null),Kl=Ne(0);function cy(i,r){i=ii,ze(Kl,i),ze(Es,r),ii=i|r.baseLanes}function jh(){ze(Kl,ii),ze(Es,Es.current)}function zh(){ii=Kl.current,$e(Es),$e(Kl)}var on=Ne(null),Cn=null;function wi(i){var r=i.alternate;ze(rt,rt.current&1),ze(on,i),Cn===null&&(r===null||Es.current!==null||r.memoizedState!==null)&&(Cn=i)}function hy(i){if(i.tag===22){if(ze(rt,rt.current),ze(on,i),Cn===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Cn=i)}}else Si()}function Si(){ze(rt,rt.current),ze(on,on.current)}function Kn(i){$e(on),Cn===i&&(Cn=null),$e(rt)}var rt=Ne(0);function Yl(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var v1=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},E1=t.unstable_scheduleCallback,T1=t.unstable_NormalPriority,st={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bh(){return{controller:new v1,data:new Map,refCount:0}}function La(i){i.refCount--,i.refCount===0&&E1(T1,function(){i.controller.abort()})}var ka=null,qh=0,Ts=0,As=null;function A1(i,r){if(ka===null){var a=ka=[];qh=0,Ts=Xf(),As={status:"pending",value:void 0,then:function(u){a.push(u)}}}return qh++,r.then(fy,fy),r}function fy(){if(--qh===0&&ka!==null){As!==null&&(As.status="fulfilled");var i=ka;ka=null,Ts=0,As=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function w1(i,r){var a=[],u={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(u.status="rejected",u.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),u}var dy=Z.S;Z.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&A1(i,r),dy!==null&&dy(i,r)};var Sr=Ne(null);function Hh(){var i=Sr.current;return i!==null?i:Pe.pooledCache}function Xl(i,r){r===null?ze(Sr,Sr.current):ze(Sr,r.pool)}function my(){var i=Hh();return i===null?null:{parent:st._currentValue,pool:i}}var bi=0,me=null,xe=null,We=null,$l=!1,ws=!1,br=!1,Wl=0,ja=0,Ss=null,S1=0;function Ye(){throw Error(s(321))}function Fh(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!Qt(i[a],r[a]))return!1;return!0}function Gh(i,r,a,u,h,f){return bi=f,me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=i===null||i.memoizedState===null?Rr:Ri,br=!1,f=a(u,h),br=!1,ws&&(f=py(r,a,u,h)),gy(i),f}function gy(i){Z.H=Nn;var r=xe!==null&&xe.next!==null;if(bi=0,We=xe=me=null,$l=!1,ja=0,Ss=null,r)throw Error(s(300));i===null||ot||(i=i.dependencies,i!==null&&au(i)&&(ot=!0))}function py(i,r,a,u){me=i;var h=0;do{if(ws&&(Ss=null),ja=0,ws=!1,25<=h)throw Error(s(301));if(h+=1,We=xe=null,i.updateQueue!=null){var f=i.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Z.H=Ir,f=r(a,u)}while(ws);return f}function b1(){var i=Z.H,r=i.useState()[0];return r=typeof r.then=="function"?za(r):r,i=i.useState()[0],(xe!==null?xe.memoizedState:null)!==i&&(me.flags|=1024),r}function Qh(){var i=Wl!==0;return Wl=0,i}function Kh(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function Yh(i){if($l){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}$l=!1}bi=0,We=xe=me=null,ws=!1,ja=Wl=0,Ss=null}function Bt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?me.memoizedState=We=i:We=We.next=i,We}function Ze(){if(xe===null){var i=me.alternate;i=i!==null?i.memoizedState:null}else i=xe.next;var r=We===null?me.memoizedState:We.next;if(r!==null)We=r,xe=i;else{if(i===null)throw me.alternate===null?Error(s(467)):Error(s(310));xe=i,i={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},We===null?me.memoizedState=We=i:We=We.next=i}return We}var Zl;Zl=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function za(i){var r=ja;return ja+=1,Ss===null&&(Ss=[]),i=sy(Ss,i,r),r=me,(We===null?r.memoizedState:We.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?Rr:Ri),i}function Jl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return za(i);if(i.$$typeof===w)return St(i)}throw Error(s(438,String(i)))}function Xh(i){var r=null,a=me.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=me.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Zl(),me.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),u=0;u<i;u++)a[u]=pe;return r.index++,a}function Yn(i,r){return typeof r=="function"?r(i):r}function eu(i){var r=Ze();return $h(r,xe,i)}function $h(i,r,a){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var h=i.baseQueue,f=u.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}r.baseQueue=h=f,u.pending=null}if(f=i.baseState,h===null)i.memoizedState=f;else{r=h.next;var _=p=null,A=null,R=r,P=!1;do{var k=R.lane&-536870913;if(k!==R.lane?(we&k)===k:(bi&k)===k){var x=R.revertLane;if(x===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),k===Ts&&(P=!0);else if((bi&x)===x){R=R.next,x===Ts&&(P=!0);continue}else k={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},A===null?(_=A=k,p=f):A=A.next=k,me.lanes|=x,Pi|=x;k=R.action,br&&a(f,k),f=R.hasEagerState?R.eagerState:a(f,k)}else x={lane:k,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},A===null?(_=A=x,p=f):A=A.next=x,me.lanes|=k,Pi|=k;R=R.next}while(R!==null&&R!==r);if(A===null?p=f:A.next=_,!Qt(f,i.memoizedState)&&(ot=!0,P&&(a=As,a!==null)))throw a;i.memoizedState=f,i.baseState=p,i.baseQueue=A,u.lastRenderedState=f}return h===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Wh(i){var r=Ze(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var u=a.dispatch,h=a.pending,f=r.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=i(f,p.action),p=p.next;while(p!==h);Qt(f,r.memoizedState)||(ot=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,u]}function yy(i,r,a){var u=me,h=Ze(),f=Re;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var p=!Qt((xe||h).memoizedState,a);if(p&&(h.memoizedState=a,ot=!0),h=h.queue,ef(Ey.bind(null,u,h,i),[i]),h.getSnapshot!==r||p||We!==null&&We.memoizedState.tag&1){if(u.flags|=2048,bs(9,vy.bind(null,u,h,a,r),{destroy:void 0},null),Pe===null)throw Error(s(349));f||(bi&60)!==0||_y(u,r,a)}return a}function _y(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=me.updateQueue,r===null?(r=Zl(),me.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function vy(i,r,a,u){r.value=a,r.getSnapshot=u,Ty(r)&&Ay(i)}function Ey(i,r,a){return a(function(){Ty(r)&&Ay(i)})}function Ty(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!Qt(i,a)}catch{return!0}}function Ay(i){var r=Ai(i,2);r!==null&&Vt(r,i,2)}function Zh(i){var r=Bt();if(typeof i=="function"){var a=i;if(i=a(),br){vi(!0);try{a()}finally{vi(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:i},r}function wy(i,r,a,u){return i.baseState=a,$h(i,xe,typeof u=="function"?u:Yn)}function R1(i,r,a,u,h){if(iu(i))throw Error(s(485));if(i=r.action,i!==null){var f={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};Z.T!==null?a(!0):f.isTransition=!1,u(f),a=r.pending,a===null?(f.next=r.pending=f,Sy(r,f)):(f.next=a.next,r.pending=a.next=f)}}function Sy(i,r){var a=r.action,u=r.payload,h=i.state;if(r.isTransition){var f=Z.T,p={};Z.T=p;try{var _=a(h,u),A=Z.S;A!==null&&A(p,_),by(i,r,_)}catch(R){Jh(i,r,R)}finally{Z.T=f}}else try{f=a(h,u),by(i,r,f)}catch(R){Jh(i,r,R)}}function by(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Ry(i,r,u)},function(u){return Jh(i,r,u)}):Ry(i,r,a)}function Ry(i,r,a){r.status="fulfilled",r.value=a,Iy(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,Sy(i,a)))}function Jh(i,r,a){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,Iy(r),r=r.next;while(r!==u)}i.action=null}function Iy(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Cy(i,r){return r}function Ny(i,r){if(Re){var a=Pe.formState;if(a!==null){e:{var u=me;if(Re){if(mt){t:{for(var h=mt,f=In;h.nodeType!==8;){if(!f){h=null;break t}if(h=vn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){mt=vn(h.nextSibling),u=h.data==="F!";break e}}Ar(u)}u=!1}u&&(r=a[0])}}return a=Bt(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cy,lastRenderedState:r},a.queue=u,a=Ky.bind(null,me,u),u.dispatch=a,u=Zh(!1),f=af.bind(null,me,!1,u.queue),u=Bt(),h={state:r,dispatch:null,action:i,pending:null},u.queue=h,a=R1.bind(null,me,h,f,a),h.dispatch=a,u.memoizedState=i,[r,a,!1]}function Dy(i){var r=Ze();return xy(r,xe,i)}function xy(i,r,a){r=$h(i,r,Cy)[0],i=eu(Yn)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?za(r):r;var u=Ze(),h=u.queue,f=h.dispatch;return a!==u.memoizedState&&(me.flags|=2048,bs(9,I1.bind(null,h,a),{destroy:void 0},null)),[r,f,i]}function I1(i,r){i.action=r}function Oy(i){var r=Ze(),a=xe;if(a!==null)return xy(r,a,i);Ze(),r=r.memoizedState,a=Ze();var u=a.queue.dispatch;return a.memoizedState=i,[r,u,!1]}function bs(i,r,a,u){return i={tag:i,create:r,inst:a,deps:u,next:null},r=me.updateQueue,r===null&&(r=Zl(),me.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(u=a.next,a.next=i,i.next=u,r.lastEffect=i),i}function My(){return Ze().memoizedState}function tu(i,r,a,u){var h=Bt();me.flags|=i,h.memoizedState=bs(1|r,a,{destroy:void 0},u===void 0?null:u)}function nu(i,r,a,u){var h=Ze();u=u===void 0?null:u;var f=h.memoizedState.inst;xe!==null&&u!==null&&Fh(u,xe.memoizedState.deps)?h.memoizedState=bs(r,a,f,u):(me.flags|=i,h.memoizedState=bs(1|r,a,f,u))}function Vy(i,r){tu(8390656,8,i,r)}function ef(i,r){nu(2048,8,i,r)}function Py(i,r){return nu(4,2,i,r)}function Uy(i,r){return nu(4,4,i,r)}function Ly(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function ky(i,r,a){a=a!=null?a.concat([i]):null,nu(4,4,Ly.bind(null,r,i),a)}function tf(){}function jy(i,r){var a=Ze();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&Fh(r,u[1])?u[0]:(a.memoizedState=[i,r],i)}function zy(i,r){var a=Ze();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&Fh(r,u[1]))return u[0];if(u=i(),br){vi(!0);try{i()}finally{vi(!1)}}return a.memoizedState=[u,r],u}function nf(i,r,a){return a===void 0||(bi&1073741824)!==0?i.memoizedState=r:(i.memoizedState=a,i=q_(),me.lanes|=i,Pi|=i,a)}function By(i,r,a,u){return Qt(a,r)?a:Es.current!==null?(i=nf(i,a,u),Qt(i,r)||(ot=!0),i):(bi&42)===0?(ot=!0,i.memoizedState=a):(i=q_(),me.lanes|=i,Pi|=i,r)}function qy(i,r,a,u,h){var f=G.p;G.p=f!==0&&8>f?f:8;var p=Z.T,_={};Z.T=_,af(i,!1,r,a);try{var A=h(),R=Z.S;if(R!==null&&R(_,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var P=w1(A,u);Ba(i,r,P,$t(i))}else Ba(i,r,u,$t(i))}catch(k){Ba(i,r,{then:function(){},status:"rejected",reason:k},$t())}finally{G.p=f,Z.T=p}}function C1(){}function rf(i,r,a,u){if(i.tag!==5)throw Error(s(476));var h=Hy(i).queue;qy(i,h,r,Ae,a===null?C1:function(){return Fy(i),a(u)})}function Hy(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:Ae},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Fy(i){var r=Hy(i).next.queue;Ba(i,r,{},$t())}function sf(){return St(oo)}function Gy(){return Ze().memoizedState}function Qy(){return Ze().memoizedState}function N1(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=$t();i=Ni(a);var u=Di(r,i,a);u!==null&&(Vt(u,r,a),Fa(u,r,a)),r={cache:Bh()},i.payload=r;return}r=r.return}}function D1(i,r,a){var u=$t();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},iu(i)?Yy(r,a):(a=Vh(i,r,a,u),a!==null&&(Vt(a,i,u),Xy(a,r,u)))}function Ky(i,r,a){var u=$t();Ba(i,r,a,u)}function Ba(i,r,a,u){var h={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(iu(i))Yy(r,h);else{var f=i.alternate;if(i.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var p=r.lastRenderedState,_=f(p,a);if(h.hasEagerState=!0,h.eagerState=_,Qt(_,p))return zl(i,r,h,0),Pe===null&&jl(),!1}catch{}finally{}if(a=Vh(i,r,h,u),a!==null)return Vt(a,i,u),Xy(a,r,u),!0}return!1}function af(i,r,a,u){if(u={lane:2,revertLane:Xf(),action:u,hasEagerState:!1,eagerState:null,next:null},iu(i)){if(r)throw Error(s(479))}else r=Vh(i,a,u,2),r!==null&&Vt(r,i,2)}function iu(i){var r=i.alternate;return i===me||r!==null&&r===me}function Yy(i,r){ws=$l=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function Xy(i,r,a){if((a&4194176)!==0){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,ap(i,a)}}var Nn={readContext:St,use:Jl,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye};Nn.useCacheRefresh=Ye,Nn.useMemoCache=Ye,Nn.useHostTransitionStatus=Ye,Nn.useFormState=Ye,Nn.useActionState=Ye,Nn.useOptimistic=Ye;var Rr={readContext:St,use:Jl,useCallback:function(i,r){return Bt().memoizedState=[i,r===void 0?null:r],i},useContext:St,useEffect:Vy,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,tu(4194308,4,Ly.bind(null,r,i),a)},useLayoutEffect:function(i,r){return tu(4194308,4,i,r)},useInsertionEffect:function(i,r){tu(4,2,i,r)},useMemo:function(i,r){var a=Bt();r=r===void 0?null:r;var u=i();if(br){vi(!0);try{i()}finally{vi(!1)}}return a.memoizedState=[u,r],u},useReducer:function(i,r,a){var u=Bt();if(a!==void 0){var h=a(r);if(br){vi(!0);try{a(r)}finally{vi(!1)}}}else h=r;return u.memoizedState=u.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},u.queue=i,i=i.dispatch=D1.bind(null,me,i),[u.memoizedState,i]},useRef:function(i){var r=Bt();return i={current:i},r.memoizedState=i},useState:function(i){i=Zh(i);var r=i.queue,a=Ky.bind(null,me,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:tf,useDeferredValue:function(i,r){var a=Bt();return nf(a,i,r)},useTransition:function(){var i=Zh(!1);return i=qy.bind(null,me,i.queue,!0,!1),Bt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var u=me,h=Bt();if(Re){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Pe===null)throw Error(s(349));(we&60)!==0||_y(u,r,a)}h.memoizedState=a;var f={value:a,getSnapshot:r};return h.queue=f,Vy(Ey.bind(null,u,f,i),[i]),u.flags|=2048,bs(9,vy.bind(null,u,f,a,r),{destroy:void 0},null),a},useId:function(){var i=Bt(),r=Pe.identifierPrefix;if(Re){var a=Qn,u=Gn;a=(u&~(1<<32-Gt(u)-1)).toString(32)+a,r=":"+r+"R"+a,a=Wl++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=S1++,r=":"+r+"r"+a.toString(32)+":";return i.memoizedState=r},useCacheRefresh:function(){return Bt().memoizedState=N1.bind(null,me)}};Rr.useMemoCache=Xh,Rr.useHostTransitionStatus=sf,Rr.useFormState=Ny,Rr.useActionState=Ny,Rr.useOptimistic=function(i){var r=Bt();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=af.bind(null,me,!0,a),a.dispatch=r,[i,r]};var Ri={readContext:St,use:Jl,useCallback:jy,useContext:St,useEffect:ef,useImperativeHandle:ky,useInsertionEffect:Py,useLayoutEffect:Uy,useMemo:zy,useReducer:eu,useRef:My,useState:function(){return eu(Yn)},useDebugValue:tf,useDeferredValue:function(i,r){var a=Ze();return By(a,xe.memoizedState,i,r)},useTransition:function(){var i=eu(Yn)[0],r=Ze().memoizedState;return[typeof i=="boolean"?i:za(i),r]},useSyncExternalStore:yy,useId:Gy};Ri.useCacheRefresh=Qy,Ri.useMemoCache=Xh,Ri.useHostTransitionStatus=sf,Ri.useFormState=Dy,Ri.useActionState=Dy,Ri.useOptimistic=function(i,r){var a=Ze();return wy(a,xe,i,r)};var Ir={readContext:St,use:Jl,useCallback:jy,useContext:St,useEffect:ef,useImperativeHandle:ky,useInsertionEffect:Py,useLayoutEffect:Uy,useMemo:zy,useReducer:Wh,useRef:My,useState:function(){return Wh(Yn)},useDebugValue:tf,useDeferredValue:function(i,r){var a=Ze();return xe===null?nf(a,i,r):By(a,xe.memoizedState,i,r)},useTransition:function(){var i=Wh(Yn)[0],r=Ze().memoizedState;return[typeof i=="boolean"?i:za(i),r]},useSyncExternalStore:yy,useId:Gy};Ir.useCacheRefresh=Qy,Ir.useMemoCache=Xh,Ir.useHostTransitionStatus=sf,Ir.useFormState=Oy,Ir.useActionState=Oy,Ir.useOptimistic=function(i,r){var a=Ze();return xe!==null?wy(a,xe,i,r):(a.baseState=i,[i,a.queue.dispatch])};function of(i,r,a,u){r=i.memoizedState,a=a(u,r),a=a==null?r:_e({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var lf={isMounted:function(i){return(i=i._reactInternals)?re(i)===i:!1},enqueueSetState:function(i,r,a){i=i._reactInternals;var u=$t(),h=Ni(u);h.payload=r,a!=null&&(h.callback=a),r=Di(i,h,u),r!==null&&(Vt(r,i,u),Fa(r,i,u))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var u=$t(),h=Ni(u);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Di(i,h,u),r!==null&&(Vt(r,i,u),Fa(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=$t(),u=Ni(a);u.tag=2,r!=null&&(u.callback=r),r=Di(i,u,a),r!==null&&(Vt(r,i,a),Fa(r,i,a))}};function $y(i,r,a,u,h,f,p){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,f,p):r.prototype&&r.prototype.isPureReactComponent?!Ca(a,u)||!Ca(h,f):!0}function Wy(i,r,a,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==i&&lf.enqueueReplaceState(r,r.state,null)}function Cr(i,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(i=i.defaultProps){a===r&&(a=_e({},a));for(var h in i)a[h]===void 0&&(a[h]=i[h])}return a}var ru=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Zy(i){ru(i)}function Jy(i){console.error(i)}function e_(i){ru(i)}function su(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function t_(i,r,a){try{var u=i.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function uf(i,r,a){return a=Ni(a),a.tag=3,a.payload={element:null},a.callback=function(){su(i,r)},a}function n_(i){return i=Ni(i),i.tag=3,i}function i_(i,r,a,u){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=u.value;i.payload=function(){return h(f)},i.callback=function(){t_(r,a,u)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(i.callback=function(){t_(r,a,u),typeof h!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var _=u.stack;this.componentDidCatch(u.value,{componentStack:_!==null?_:""})})}function x1(i,r,a,u,h){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&Ha(r,a,h,!0),a=on.current,a!==null){switch(a.tag){case 13:return Cn===null?Ff():a.alternate===null&&Ge===0&&(Ge=3),a.flags&=-257,a.flags|=65536,a.lanes=h,u===kh?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),Qf(i,u,h)),!1;case 22:return a.flags|=65536,u===kh?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),Qf(i,u,h)),!1}throw Error(s(435,a.tag))}return Qf(i,u,h),Ff(),!1}if(Re)return r=on.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,u!==Lh&&(i=Error(s(422),{cause:u}),Oa(rn(i,a)))):(u!==Lh&&(r=Error(s(423),{cause:u}),Oa(rn(r,a))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,u=rn(u,a),h=uf(i.stateNode,u,h),Sf(i,h),Ge!==4&&(Ge=2)),!1;var f=Error(s(520),{cause:u});if(f=rn(f,a),Za===null?Za=[f]:Za.push(f),Ge!==4&&(Ge=2),r===null)return!0;u=rn(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=h&-h,a.lanes|=i,i=uf(a.stateNode,u,i),Sf(a,i),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ui===null||!Ui.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=n_(h),i_(h,i,a,u),Sf(a,h),!1}a=a.return}while(a!==null);return!1}var r_=Error(s(461)),ot=!1;function gt(i,r,a,u){r.child=i===null?uy(r,null,a,u):wr(r,i.child,a,u)}function s_(i,r,a,u,h){a=a.render;var f=r.ref;if("ref"in u){var p={};for(var _ in u)_!=="ref"&&(p[_]=u[_])}else p=u;return Dr(r),u=Gh(i,r,a,p,f,h),_=Qh(),i!==null&&!ot?(Kh(i,r,h),Xn(i,r,h)):(Re&&_&&Ph(r),r.flags|=1,gt(i,r,u,h),r.child)}function a_(i,r,a,u,h){if(i===null){var f=a.type;return typeof f=="function"&&!Of(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,o_(i,r,f,u,h)):(i=cu(a.type,null,u,r,r.mode,h),i.ref=r.ref,i.return=r,r.child=i)}if(f=i.child,!_f(i,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ca,a(p,u)&&i.ref===r.ref)return Xn(i,r,h)}return r.flags|=1,i=Vi(f,u),i.ref=r.ref,i.return=r,r.child=i}function o_(i,r,a,u,h){if(i!==null){var f=i.memoizedProps;if(Ca(f,u)&&i.ref===r.ref)if(ot=!1,r.pendingProps=u=f,_f(i,h))(i.flags&131072)!==0&&(ot=!0);else return r.lanes=i.lanes,Xn(i,r,h)}return cf(i,r,a,u,h)}function l_(i,r,a){var u=r.pendingProps,h=u.children,f=(r.stateNode._pendingVisibility&2)!==0,p=i!==null?i.memoizedState:null;if(qa(i,r),u.mode==="hidden"||f){if((r.flags&128)!==0){if(u=p!==null?p.baseLanes|a:a,i!==null){for(h=r.child=i.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;r.childLanes=f&~u}else r.childLanes=0,r.child=null;return u_(i,r,u,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Xl(r,p!==null?p.cachePool:null),p!==null?cy(r,p):jh(),hy(r);else return r.lanes=r.childLanes=536870912,u_(i,r,p!==null?p.baseLanes|a:a,a)}else p!==null?(Xl(r,p.cachePool),cy(r,p),Si(),r.memoizedState=null):(i!==null&&Xl(r,null),jh(),Si());return gt(i,r,h,a),r.child}function u_(i,r,a,u){var h=Hh();return h=h===null?null:{parent:st._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},i!==null&&Xl(r,null),jh(),hy(r),i!==null&&Ha(i,r,u,!0),null}function qa(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=2097664)}}function cf(i,r,a,u,h){return Dr(r),a=Gh(i,r,a,u,void 0,h),u=Qh(),i!==null&&!ot?(Kh(i,r,h),Xn(i,r,h)):(Re&&u&&Ph(r),r.flags|=1,gt(i,r,a,h),r.child)}function c_(i,r,a,u,h,f){return Dr(r),r.updateQueue=null,a=py(r,u,a,h),gy(i),u=Qh(),i!==null&&!ot?(Kh(i,r,f),Xn(i,r,f)):(Re&&u&&Ph(r),r.flags|=1,gt(i,r,a,f),r.child)}function h_(i,r,a,u,h){if(Dr(r),r.stateNode===null){var f=ps,p=a.contextType;typeof p=="object"&&p!==null&&(f=St(p)),f=new a(u,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=lf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=u,f.state=r.memoizedState,f.refs={},Af(r),p=a.contextType,f.context=typeof p=="object"&&p!==null?St(p):ps,f.state=r.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(of(r,a,p,u),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&lf.enqueueReplaceState(f,f.state,null),Qa(r,u,f,h),Ga(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){f=r.stateNode;var _=r.memoizedProps,A=Cr(a,_);f.props=A;var R=f.context,P=a.contextType;p=ps,typeof P=="object"&&P!==null&&(p=St(P));var k=a.getDerivedStateFromProps;P=typeof k=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=r.pendingProps!==_,P||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||R!==p)&&Wy(r,f,u,p),Ci=!1;var x=r.memoizedState;f.state=x,Qa(r,u,f,h),Ga(),R=r.memoizedState,_||x!==R||Ci?(typeof k=="function"&&(of(r,a,k,u),R=r.memoizedState),(A=Ci||$y(r,a,A,u,x,R,p))?(P||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=R),f.props=u,f.state=R,f.context=p,u=A):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{f=r.stateNode,wf(i,r),p=r.memoizedProps,P=Cr(a,p),f.props=P,k=r.pendingProps,x=f.context,R=a.contextType,A=ps,typeof R=="object"&&R!==null&&(A=St(R)),_=a.getDerivedStateFromProps,(R=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==k||x!==A)&&Wy(r,f,u,A),Ci=!1,x=r.memoizedState,f.state=x,Qa(r,u,f,h),Ga();var V=r.memoizedState;p!==k||x!==V||Ci||i!==null&&i.dependencies!==null&&au(i.dependencies)?(typeof _=="function"&&(of(r,a,_,u),V=r.memoizedState),(P=Ci||$y(r,a,P,u,x,V,A)||i!==null&&i.dependencies!==null&&au(i.dependencies))?(R||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(u,V,A),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(u,V,A)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===i.memoizedProps&&x===i.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===i.memoizedProps&&x===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=V),f.props=u,f.state=V,f.context=A,u=P):(typeof f.componentDidUpdate!="function"||p===i.memoizedProps&&x===i.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===i.memoizedProps&&x===i.memoizedState||(r.flags|=1024),u=!1)}return f=u,qa(i,r),u=(r.flags&128)!==0,f||u?(f=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,i!==null&&u?(r.child=wr(r,i.child,null,h),r.child=wr(r,null,a,h)):gt(i,r,a,h),r.memoizedState=f.state,i=r.child):i=Xn(i,r,h),i}function f_(i,r,a,u){return xa(),r.flags|=256,gt(i,r,a,u),r.child}var hf={dehydrated:null,treeContext:null,retryLane:0};function ff(i){return{baseLanes:i,cachePool:my()}}function df(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=hn),i}function d_(i,r,a){var u=r.pendingProps,h=!1,f=(r.flags&128)!==0,p;if((p=f)||(p=i!==null&&i.memoizedState===null?!1:(rt.current&2)!==0),p&&(h=!0,r.flags&=-129),p=(r.flags&32)!==0,r.flags&=-33,i===null){if(Re){if(h?wi(r):Si(),Re){var _=mt,A;if(A=_){e:{for(A=_,_=In;A.nodeType!==8;){if(!_){_=null;break e}if(A=vn(A.nextSibling),A===null){_=null;break e}}_=A}_!==null?(r.memoizedState={dehydrated:_,treeContext:Er!==null?{id:Gn,overflow:Qn}:null,retryLane:536870912},A=cn(18,null,null,0),A.stateNode=_,A.return=r,r.child=A,Mt=r,mt=null,A=!0):A=!1}A||Ar(r)}if(_=r.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return _.data==="$!"?r.lanes=16:r.lanes=536870912,null;Kn(r)}return _=u.children,u=u.fallback,h?(Si(),h=r.mode,_=gf({mode:"hidden",children:_},h),u=Or(u,h,a,null),_.return=r,u.return=r,_.sibling=u,r.child=_,h=r.child,h.memoizedState=ff(a),h.childLanes=df(i,p,a),r.memoizedState=hf,u):(wi(r),mf(r,_))}if(A=i.memoizedState,A!==null&&(_=A.dehydrated,_!==null)){if(f)r.flags&256?(wi(r),r.flags&=-257,r=pf(i,r,a)):r.memoizedState!==null?(Si(),r.child=i.child,r.flags|=128,r=null):(Si(),h=u.fallback,_=r.mode,u=gf({mode:"visible",children:u.children},_),h=Or(h,_,a,null),h.flags|=2,u.return=r,h.return=r,u.sibling=h,r.child=u,wr(r,i.child,null,a),u=r.child,u.memoizedState=ff(a),u.childLanes=df(i,p,a),r.memoizedState=hf,r=h);else if(wi(r),_.data==="$!"){if(p=_.nextSibling&&_.nextSibling.dataset,p)var R=p.dgst;p=R,u=Error(s(419)),u.stack="",u.digest=p,Oa({value:u,source:null,stack:null}),r=pf(i,r,a)}else if(ot||Ha(i,r,a,!1),p=(a&i.childLanes)!==0,ot||p){if(p=Pe,p!==null){if(u=a&-a,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(p.suspendedLanes|a))!==0?0:u,u!==0&&u!==A.retryLane)throw A.retryLane=u,Ai(i,u),Vt(p,i,u),r_}_.data==="$?"||Ff(),r=pf(i,r,a)}else _.data==="$?"?(r.flags|=128,r.child=i.child,r=Q1.bind(null,i),_._reactRetry=r,r=null):(i=A.treeContext,mt=vn(_.nextSibling),Mt=r,Re=!0,yn=null,In=!1,i!==null&&(sn[an++]=Gn,sn[an++]=Qn,sn[an++]=Er,Gn=i.id,Qn=i.overflow,Er=r),r=mf(r,u.children),r.flags|=4096);return r}return h?(Si(),h=u.fallback,_=r.mode,A=i.child,R=A.sibling,u=Vi(A,{mode:"hidden",children:u.children}),u.subtreeFlags=A.subtreeFlags&31457280,R!==null?h=Vi(R,h):(h=Or(h,_,a,null),h.flags|=2),h.return=r,u.return=r,u.sibling=h,r.child=u,u=h,h=r.child,_=i.child.memoizedState,_===null?_=ff(a):(A=_.cachePool,A!==null?(R=st._currentValue,A=A.parent!==R?{parent:R,pool:R}:A):A=my(),_={baseLanes:_.baseLanes|a,cachePool:A}),h.memoizedState=_,h.childLanes=df(i,p,a),r.memoizedState=hf,u):(wi(r),a=i.child,i=a.sibling,a=Vi(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,i!==null&&(p=r.deletions,p===null?(r.deletions=[i],r.flags|=16):p.push(i)),r.child=a,r.memoizedState=null,a)}function mf(i,r){return r=gf({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function gf(i,r){return j_(i,r,0,null)}function pf(i,r,a){return wr(r,i.child,null,a),i=mf(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function m_(i,r,a){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Ef(i.return,r,a)}function yf(i,r,a,u,h){var f=i.memoizedState;f===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:h}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=u,f.tail=a,f.tailMode=h)}function g_(i,r,a){var u=r.pendingProps,h=u.revealOrder,f=u.tail;if(gt(i,r,u.children,a),u=rt.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&m_(i,a,r);else if(i.tag===19)m_(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(ze(rt,u),h){case"forwards":for(a=r.child,h=null;a!==null;)i=a.alternate,i!==null&&Yl(i)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),yf(r,!1,h,a,f);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(i=h.alternate,i!==null&&Yl(i)===null){r.child=h;break}i=h.sibling,h.sibling=a,a=h,h=i}yf(r,!0,a,null,f);break;case"together":yf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Xn(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),Pi|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(Ha(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=Vi(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=Vi(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function _f(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&au(i)))}function O1(i,r,a){switch(r.tag){case 3:Al(r,r.stateNode.containerInfo),Ii(r,st,i.memoizedState.cache),xa();break;case 27:case 5:oh(r);break;case 4:Al(r,r.stateNode.containerInfo);break;case 10:Ii(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(wi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?d_(i,r,a):(wi(r),i=Xn(i,r,a),i!==null?i.sibling:null);wi(r);break;case 19:var h=(i.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(Ha(i,r,a,!1),u=(a&r.childLanes)!==0),h){if(u)return g_(i,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ze(rt,rt.current),u)break;return null;case 22:case 23:return r.lanes=0,l_(i,r,a);case 24:Ii(r,st,i.memoizedState.cache)}return Xn(i,r,a)}function p_(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)ot=!0;else{if(!_f(i,a)&&(r.flags&128)===0)return ot=!1,O1(i,r,a);ot=(i.flags&131072)!==0}else ot=!1,Re&&(r.flags&1048576)!==0&&ey(r,Hl,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var u=r.elementType,h=u._init;if(u=h(u._payload),r.type=u,typeof u=="function")Of(u)?(i=Cr(u,i),r.tag=1,r=h_(null,r,u,i,a)):(r.tag=0,r=cf(null,r,u,i,a));else{if(u!=null){if(h=u.$$typeof,h===C){r.tag=11,r=s_(null,r,u,i,a);break e}else if(h===H){r.tag=14,r=a_(null,r,u,i,a);break e}}throw r=gn(u)||u,Error(s(306,r,""))}}return r;case 0:return cf(i,r,r.type,r.pendingProps,a);case 1:return u=r.type,h=Cr(u,r.pendingProps),h_(i,r,u,h,a);case 3:e:{if(Al(r,r.stateNode.containerInfo),i===null)throw Error(s(387));var f=r.pendingProps;h=r.memoizedState,u=h.element,wf(i,r),Qa(r,f,null,a);var p=r.memoizedState;if(f=p.cache,Ii(r,st,f),f!==h.cache&&Tf(r,[st],a,!0),Ga(),f=p.element,h.isDehydrated)if(h={element:f,isDehydrated:!1,cache:p.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=f_(i,r,f,a);break e}else if(f!==u){u=rn(Error(s(424)),r),Oa(u),r=f_(i,r,f,a);break e}else for(mt=vn(r.stateNode.containerInfo.firstChild),Mt=r,Re=!0,yn=null,In=!0,a=uy(r,null,f,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(xa(),f===u){r=Xn(i,r,a);break e}gt(i,r,f,a)}r=r.child}return r;case 26:return qa(i,r),i===null?(a=vv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Re||(a=r.type,i=r.pendingProps,u=Au(_i.current).createElement(a),u[wt]=r,u[jt]=i,pt(u,a,i),at(u),r.stateNode=u):r.memoizedState=vv(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return oh(r),i===null&&Re&&(u=r.stateNode=pv(r.type,r.pendingProps,_i.current),Mt=r,In=!0,mt=vn(u.firstChild)),u=r.pendingProps.children,i!==null||Re?gt(i,r,u,a):r.child=wr(r,null,u,a),qa(i,r),r.child;case 5:return i===null&&Re&&((h=u=mt)&&(u=lb(u,r.type,r.pendingProps,In),u!==null?(r.stateNode=u,Mt=r,mt=vn(u.firstChild),In=!1,h=!0):h=!1),h||Ar(r)),oh(r),h=r.type,f=r.pendingProps,p=i!==null?i.memoizedProps:null,u=f.children,rd(h,f)?u=null:p!==null&&rd(h,p)&&(r.flags|=32),r.memoizedState!==null&&(h=Gh(i,r,b1,null,null,a),oo._currentValue=h),qa(i,r),gt(i,r,u,a),r.child;case 6:return i===null&&Re&&((i=a=mt)&&(a=ub(a,r.pendingProps,In),a!==null?(r.stateNode=a,Mt=r,mt=null,i=!0):i=!1),i||Ar(r)),null;case 13:return d_(i,r,a);case 4:return Al(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=wr(r,null,u,a):gt(i,r,u,a),r.child;case 11:return s_(i,r,r.type,r.pendingProps,a);case 7:return gt(i,r,r.pendingProps,a),r.child;case 8:return gt(i,r,r.pendingProps.children,a),r.child;case 12:return gt(i,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,Ii(r,r.type,u.value),gt(i,r,u.children,a),r.child;case 9:return h=r.type._context,u=r.pendingProps.children,Dr(r),h=St(h),u=u(h),r.flags|=1,gt(i,r,u,a),r.child;case 14:return a_(i,r,r.type,r.pendingProps,a);case 15:return o_(i,r,r.type,r.pendingProps,a);case 19:return g_(i,r,a);case 22:return l_(i,r,a);case 24:return Dr(r),u=St(st),i===null?(h=Hh(),h===null&&(h=Pe,f=Bh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),r.memoizedState={parent:u,cache:h},Af(r),Ii(r,st,h)):((i.lanes&a)!==0&&(wf(i,r),Qa(r,null,null,a),Ga()),h=i.memoizedState,f=r.memoizedState,h.parent!==u?(h={parent:u,cache:u},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Ii(r,st,u)):(u=f.cache,Ii(r,st,u),u!==h.cache&&Tf(r,[st],a,!0))),gt(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var vf=Ne(null),Nr=null,$n=null;function Ii(i,r,a){ze(vf,r._currentValue),r._currentValue=a}function Wn(i){i._currentValue=vf.current,$e(vf)}function Ef(i,r,a){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===a)break;i=i.return}}function Tf(i,r,a,u){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=h;for(var A=0;A<r.length;A++)if(_.context===r[A]){f.lanes|=a,_=f.alternate,_!==null&&(_.lanes|=a),Ef(f.return,a,i),u||(p=null);break e}f=_.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(s(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),Ef(p,a,i),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===i){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ha(i,r,a,u){i=null;for(var h=r,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var _=h.type;Qt(h.pendingProps.value,p.value)||(i!==null?i.push(_):i=[_])}}else if(h===Tl.current){if(p=h.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(oo):i=[oo])}h=h.return}i!==null&&Tf(r,i,a,u),r.flags|=262144}function au(i){for(i=i.firstContext;i!==null;){if(!Qt(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Dr(i){Nr=i,$n=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function St(i){return y_(Nr,i)}function ou(i,r){return Nr===null&&Dr(i),y_(i,r)}function y_(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},$n===null){if(i===null)throw Error(s(308));$n=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else $n=$n.next=r;return a}var Ci=!1;function Af(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wf(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ni(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Di(i,r,a){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(qe&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,r=Bl(i),Zp(i,null,a),r}return zl(i,u,r,a),Bl(i)}function Fa(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,ap(i,a)}}function Sf(i,r){var a=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=r:f=f.next=r}else h=f=r;a={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:u.shared,callbacks:u.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var bf=!1;function Ga(){if(bf){var i=As;if(i!==null)throw i}}function Qa(i,r,a,u){bf=!1;var h=i.updateQueue;Ci=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,_=h.shared.pending;if(_!==null){h.shared.pending=null;var A=_,R=A.next;A.next=null,p===null?f=R:p.next=R,p=A;var P=i.alternate;P!==null&&(P=P.updateQueue,_=P.lastBaseUpdate,_!==p&&(_===null?P.firstBaseUpdate=R:_.next=R,P.lastBaseUpdate=A))}if(f!==null){var k=h.baseState;p=0,P=R=A=null,_=f;do{var x=_.lane&-536870913,V=x!==_.lane;if(V?(we&x)===x:(u&x)===x){x!==0&&x===Ts&&(bf=!0),P!==null&&(P=P.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var X=i,le=_;x=r;var Qe=a;switch(le.tag){case 1:if(X=le.payload,typeof X=="function"){k=X.call(Qe,k,x);break e}k=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=le.payload,x=typeof X=="function"?X.call(Qe,k,x):X,x==null)break e;k=_e({},k,x);break e;case 2:Ci=!0}}x=_.callback,x!==null&&(i.flags|=64,V&&(i.flags|=8192),V=h.callbacks,V===null?h.callbacks=[x]:V.push(x))}else V={lane:x,tag:_.tag,payload:_.payload,callback:_.callback,next:null},P===null?(R=P=V,A=k):P=P.next=V,p|=x;if(_=_.next,_===null){if(_=h.shared.pending,_===null)break;V=_,_=V.next,V.next=null,h.lastBaseUpdate=V,h.shared.pending=null}}while(!0);P===null&&(A=k),h.baseState=A,h.firstBaseUpdate=R,h.lastBaseUpdate=P,f===null&&(h.shared.lanes=0),Pi|=p,i.lanes=p,i.memoizedState=k}}function __(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function v_(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)__(a[i],r)}function Ka(i,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var h=u.next;a=h;do{if((a.tag&i)===i){u=void 0;var f=a.create,p=a.inst;u=f(),p.destroy=u}a=a.next}while(a!==h)}}catch(_){Me(r,r.return,_)}}function xi(i,r,a){try{var u=r.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var f=h.next;u=f;do{if((u.tag&i)===i){var p=u.inst,_=p.destroy;if(_!==void 0){p.destroy=void 0,h=r;var A=a;try{_()}catch(R){Me(h,A,R)}}}u=u.next}while(u!==f)}}catch(R){Me(r,r.return,R)}}function E_(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{v_(r,a)}catch(u){Me(i,i.return,u)}}}function T_(i,r,a){a.props=Cr(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(u){Me(i,r,u)}}function xr(i,r){try{var a=i.ref;if(a!==null){var u=i.stateNode;switch(i.tag){case 26:case 27:case 5:var h=u;break;default:h=u}typeof a=="function"?i.refCleanup=a(h):a.current=h}}catch(f){Me(i,r,f)}}function Kt(i,r){var a=i.ref,u=i.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(h){Me(i,r,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Me(i,r,h)}else a.current=null}function A_(i){var r=i.type,a=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(h){Me(i,i.return,h)}}function w_(i,r,a){try{var u=i.stateNode;ib(u,i.type,a,r),u[jt]=r}catch(h){Me(i,i.return,h)}}function S_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Rf(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||S_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function If(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(i,r):a.insertBefore(i,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(i,a)):(r=a,r.appendChild(i)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Tu));else if(u!==4&&u!==27&&(i=i.child,i!==null))for(If(i,r,a),i=i.sibling;i!==null;)If(i,r,a),i=i.sibling}function lu(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(u!==4&&u!==27&&(i=i.child,i!==null))for(lu(i,r,a),i=i.sibling;i!==null;)lu(i,r,a),i=i.sibling}var Zn=!1,Fe=!1,Cf=!1,b_=typeof WeakSet=="function"?WeakSet:Set,lt=null,R_=!1;function M1(i,r){if(i=i.containerInfo,nd=Cu,i=Hp(i),Nh(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var h=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var p=0,_=-1,A=-1,R=0,P=0,k=i,x=null;t:for(;;){for(var V;k!==a||h!==0&&k.nodeType!==3||(_=p+h),k!==f||u!==0&&k.nodeType!==3||(A=p+u),k.nodeType===3&&(p+=k.nodeValue.length),(V=k.firstChild)!==null;)x=k,k=V;for(;;){if(k===i)break t;if(x===a&&++R===h&&(_=p),x===f&&++P===u&&(A=p),(V=k.nextSibling)!==null)break;k=x,x=k.parentNode}k=V}a=_===-1||A===-1?null:{start:_,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(id={focusedElem:i,selectionRange:a},Cu=!1,lt=r;lt!==null;)if(r=lt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,lt=i;else for(;lt!==null;){switch(r=lt,f=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&f!==null){i=void 0,a=r,h=f.memoizedProps,f=f.memoizedState,u=a.stateNode;try{var X=Cr(a.type,h,a.elementType===a.type);i=u.getSnapshotBeforeUpdate(X,f),u.__reactInternalSnapshotBeforeUpdate=i}catch(le){Me(a,a.return,le)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)od(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":od(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,lt=i;break}lt=r.return}return X=R_,R_=!1,X}function I_(i,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:ei(i,a),u&4&&Ka(5,a);break;case 1:if(ei(i,a),u&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(_){Me(a,a.return,_)}else{var h=Cr(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(h,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){Me(a,a.return,_)}}u&64&&E_(a),u&512&&xr(a,a.return);break;case 3:if(ei(i,a),u&64&&(u=a.updateQueue,u!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{v_(u,i)}catch(_){Me(a,a.return,_)}}break;case 26:ei(i,a),u&512&&xr(a,a.return);break;case 27:case 5:ei(i,a),r===null&&u&4&&A_(a),u&512&&xr(a,a.return);break;case 12:ei(i,a);break;case 13:ei(i,a),u&4&&D_(i,a);break;case 22:if(h=a.memoizedState!==null||Zn,!h){r=r!==null&&r.memoizedState!==null||Fe;var f=Zn,p=Fe;Zn=h,(Fe=r)&&!p?Oi(i,a,(a.subtreeFlags&8772)!==0):ei(i,a),Zn=f,Fe=p}u&512&&(a.memoizedProps.mode==="manual"?xr(a,a.return):Kt(a,a.return));break;default:ei(i,a)}}function C_(i){var r=i.alternate;r!==null&&(i.alternate=null,C_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&dh(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Je=null,Yt=!1;function Jn(i,r,a){for(a=a.child;a!==null;)N_(i,r,a),a=a.sibling}function N_(i,r,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(pa,a)}catch{}switch(a.tag){case 26:Fe||Kt(a,r),Jn(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Fe||Kt(a,r);var u=Je,h=Yt;for(Je=a.stateNode,Jn(i,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);dh(a),Je=u,Yt=h;break;case 5:Fe||Kt(a,r);case 6:h=Je;var f=Yt;if(Je=null,Jn(i,r,a),Je=h,Yt=f,Je!==null)if(Yt)try{i=Je,u=a.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)}catch(p){Me(a,r,p)}else try{Je.removeChild(a.stateNode)}catch(p){Me(a,r,p)}break;case 18:Je!==null&&(Yt?(r=Je,a=a.stateNode,r.nodeType===8?ad(r.parentNode,a):r.nodeType===1&&ad(r,a),ho(r)):ad(Je,a.stateNode));break;case 4:u=Je,h=Yt,Je=a.stateNode.containerInfo,Yt=!0,Jn(i,r,a),Je=u,Yt=h;break;case 0:case 11:case 14:case 15:Fe||xi(2,a,r),Fe||xi(4,a,r),Jn(i,r,a);break;case 1:Fe||(Kt(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&T_(a,r,u)),Jn(i,r,a);break;case 21:Jn(i,r,a);break;case 22:Fe||Kt(a,r),Fe=(u=Fe)||a.memoizedState!==null,Jn(i,r,a),Fe=u;break;default:Jn(i,r,a)}}function D_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ho(i)}catch(a){Me(r,r.return,a)}}function V1(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new b_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new b_),r;default:throw Error(s(435,i.tag))}}function Nf(i,r){var a=V1(i);r.forEach(function(u){var h=K1.bind(null,i,u);a.has(u)||(a.add(u),u.then(h,h))})}function ln(i,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var h=a[u],f=i,p=r,_=p;e:for(;_!==null;){switch(_.tag){case 27:case 5:Je=_.stateNode,Yt=!1;break e;case 3:Je=_.stateNode.containerInfo,Yt=!0;break e;case 4:Je=_.stateNode.containerInfo,Yt=!0;break e}_=_.return}if(Je===null)throw Error(s(160));N_(f,p,h),Je=null,Yt=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)x_(r,i),r=r.sibling}var _n=null;function x_(i,r){var a=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ln(r,i),un(i),u&4&&(xi(3,i,i.return),Ka(3,i),xi(5,i,i.return));break;case 1:ln(r,i),un(i),u&512&&(Fe||a===null||Kt(a,a.return)),u&64&&Zn&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var h=_n;if(ln(r,i),un(i),u&512&&(Fe||a===null||Kt(a,a.return)),u&4){var f=a!==null?a.memoizedState:null;if(u=i.memoizedState,a===null)if(u===null)if(i.stateNode===null){e:{u=i.type,a=i.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":f=h.getElementsByTagName("title")[0],(!f||f[va]||f[wt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(u),h.head.insertBefore(f,h.querySelector("head > title"))),pt(f,u,a),f[wt]=i,at(f),u=f;break e;case"link":var p=Av("link","href",h).get(u+(a.href||""));if(p){for(var _=0;_<p.length;_++)if(f=p[_],f.getAttribute("href")===(a.href==null?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(_,1);break t}}f=h.createElement(u),pt(f,u,a),h.head.appendChild(f);break;case"meta":if(p=Av("meta","content",h).get(u+(a.content||""))){for(_=0;_<p.length;_++)if(f=p[_],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(_,1);break t}}f=h.createElement(u),pt(f,u,a),h.head.appendChild(f);break;default:throw Error(s(468,u))}f[wt]=i,at(f),u=f}i.stateNode=u}else wv(h,i.type,i.stateNode);else i.stateNode=Tv(h,u,i.memoizedProps);else f!==u?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,u===null?wv(h,i.type,i.stateNode):Tv(h,u,i.memoizedProps)):u===null&&i.stateNode!==null&&w_(i,i.memoizedProps,a.memoizedProps)}break;case 27:if(u&4&&i.alternate===null){h=i.stateNode,f=i.memoizedProps;try{for(var A=h.firstChild;A;){var R=A.nextSibling,P=A.nodeName;A[va]||P==="HEAD"||P==="BODY"||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&A.rel.toLowerCase()==="stylesheet"||h.removeChild(A),A=R}for(var k=i.type,x=h.attributes;x.length;)h.removeAttributeNode(x[0]);pt(h,k,f),h[wt]=i,h[jt]=f}catch(X){Me(i,i.return,X)}}case 5:if(ln(r,i),un(i),u&512&&(Fe||a===null||Kt(a,a.return)),i.flags&32){h=i.stateNode;try{us(h,"")}catch(X){Me(i,i.return,X)}}u&4&&i.stateNode!=null&&(h=i.memoizedProps,w_(i,h,a!==null?a.memoizedProps:h)),u&1024&&(Cf=!0);break;case 6:if(ln(r,i),un(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,a=i.stateNode;try{a.nodeValue=u}catch(X){Me(i,i.return,X)}}break;case 3:if(bu=null,h=_n,_n=wu(r.containerInfo),ln(r,i),_n=h,un(i),u&4&&a!==null&&a.memoizedState.isDehydrated)try{ho(r.containerInfo)}catch(X){Me(i,i.return,X)}Cf&&(Cf=!1,O_(i));break;case 4:u=_n,_n=wu(i.stateNode.containerInfo),ln(r,i),un(i),_n=u;break;case 12:ln(r,i),un(i);break;case 13:ln(r,i),un(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(kf=Rn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Nf(i,u)));break;case 22:if(u&512&&(Fe||a===null||Kt(a,a.return)),A=i.memoizedState!==null,R=a!==null&&a.memoizedState!==null,P=Zn,k=Fe,Zn=P||A,Fe=k||R,ln(r,i),Fe=k,Zn=P,un(i),r=i.stateNode,r._current=i,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,u&8192&&(r._visibility=A?r._visibility&-2:r._visibility|1,A&&(r=Zn||Fe,a===null||R||r||Rs(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(a=null,r=i;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){R=a=r;try{if(h=R.stateNode,A)f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{p=R.stateNode,_=R.memoizedProps.style;var V=_!=null&&_.hasOwnProperty("display")?_.display:null;p.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(X){Me(R,R.return,X)}}}else if(r.tag===6){if(a===null){R=r;try{R.stateNode.nodeValue=A?"":R.memoizedProps}catch(X){Me(R,R.return,X)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Nf(i,a))));break;case 19:ln(r,i),un(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Nf(i,u)));break;case 21:break;default:ln(r,i),un(i)}}function un(i){var r=i.flags;if(r&2){try{if(i.tag!==27){e:{for(var a=i.return;a!==null;){if(S_(a)){var u=a;break e}a=a.return}throw Error(s(160))}switch(u.tag){case 27:var h=u.stateNode,f=Rf(i);lu(i,f,h);break;case 5:var p=u.stateNode;u.flags&32&&(us(p,""),u.flags&=-33);var _=Rf(i);lu(i,_,p);break;case 3:case 4:var A=u.stateNode.containerInfo,R=Rf(i);If(i,R,A);break;default:throw Error(s(161))}}}catch(P){Me(i,i.return,P)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function O_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;O_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ei(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)I_(i,r.alternate,r),r=r.sibling}function Rs(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:xi(4,r,r.return),Rs(r);break;case 1:Kt(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&T_(r,r.return,a),Rs(r);break;case 26:case 27:case 5:Kt(r,r.return),Rs(r);break;case 22:Kt(r,r.return),r.memoizedState===null&&Rs(r);break;default:Rs(r)}i=i.sibling}}function Oi(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,h=i,f=r,p=f.flags;switch(f.tag){case 0:case 11:case 15:Oi(h,f,a),Ka(4,f);break;case 1:if(Oi(h,f,a),u=f,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(R){Me(u,u.return,R)}if(u=f,h=u.updateQueue,h!==null){var _=u.stateNode;try{var A=h.shared.hiddenCallbacks;if(A!==null)for(h.shared.hiddenCallbacks=null,h=0;h<A.length;h++)__(A[h],_)}catch(R){Me(u,u.return,R)}}a&&p&64&&E_(f),xr(f,f.return);break;case 26:case 27:case 5:Oi(h,f,a),a&&u===null&&p&4&&A_(f),xr(f,f.return);break;case 12:Oi(h,f,a);break;case 13:Oi(h,f,a),a&&p&4&&D_(h,f);break;case 22:f.memoizedState===null&&Oi(h,f,a),xr(f,f.return);break;default:Oi(h,f,a)}r=r.sibling}}function Df(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&La(a))}function xf(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&La(i))}function Mi(i,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)M_(i,r,a,u),r=r.sibling}function M_(i,r,a,u){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Mi(i,r,a,u),h&2048&&Ka(9,r);break;case 3:Mi(i,r,a,u),h&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&La(i)));break;case 12:if(h&2048){Mi(i,r,a,u),i=r.stateNode;try{var f=r.memoizedProps,p=f.id,_=f.onPostCommit;typeof _=="function"&&_(p,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(A){Me(r,r.return,A)}}else Mi(i,r,a,u);break;case 23:break;case 22:f=r.stateNode,r.memoizedState!==null?f._visibility&4?Mi(i,r,a,u):Ya(i,r):f._visibility&4?Mi(i,r,a,u):(f._visibility|=4,Is(i,r,a,u,(r.subtreeFlags&10256)!==0)),h&2048&&Df(r.alternate,r);break;case 24:Mi(i,r,a,u),h&2048&&xf(r.alternate,r);break;default:Mi(i,r,a,u)}}function Is(i,r,a,u,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var f=i,p=r,_=a,A=u,R=p.flags;switch(p.tag){case 0:case 11:case 15:Is(f,p,_,A,h),Ka(8,p);break;case 23:break;case 22:var P=p.stateNode;p.memoizedState!==null?P._visibility&4?Is(f,p,_,A,h):Ya(f,p):(P._visibility|=4,Is(f,p,_,A,h)),h&&R&2048&&Df(p.alternate,p);break;case 24:Is(f,p,_,A,h),h&&R&2048&&xf(p.alternate,p);break;default:Is(f,p,_,A,h)}r=r.sibling}}function Ya(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,u=r,h=u.flags;switch(u.tag){case 22:Ya(a,u),h&2048&&Df(u.alternate,u);break;case 24:Ya(a,u),h&2048&&xf(u.alternate,u);break;default:Ya(a,u)}r=r.sibling}}var Xa=8192;function Cs(i){if(i.subtreeFlags&Xa)for(i=i.child;i!==null;)V_(i),i=i.sibling}function V_(i){switch(i.tag){case 26:Cs(i),i.flags&Xa&&i.memoizedState!==null&&Ab(_n,i.memoizedState,i.memoizedProps);break;case 5:Cs(i);break;case 3:case 4:var r=_n;_n=wu(i.stateNode.containerInfo),Cs(i),_n=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Xa,Xa=16777216,Cs(i),Xa=r):Cs(i));break;default:Cs(i)}}function P_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function $a(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];lt=u,L_(u,i)}P_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)U_(i),i=i.sibling}function U_(i){switch(i.tag){case 0:case 11:case 15:$a(i),i.flags&2048&&xi(9,i,i.return);break;case 3:$a(i);break;case 12:$a(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&4&&(i.return===null||i.return.tag!==13)?(r._visibility&=-5,uu(i)):$a(i);break;default:$a(i)}}function uu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];lt=u,L_(u,i)}P_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:xi(8,r,r.return),uu(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,uu(r));break;default:uu(r)}i=i.sibling}}function L_(i,r){for(;lt!==null;){var a=lt;switch(a.tag){case 0:case 11:case 15:xi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:La(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,lt=u;else e:for(a=i;lt!==null;){u=lt;var h=u.sibling,f=u.return;if(C_(u),u===a){lt=null;break e}if(h!==null){h.return=f,lt=h;break e}lt=f}}}function P1(i,r,a,u){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(i,r,a,u){return new P1(i,r,a,u)}function Of(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Vi(i,r){var a=i.alternate;return a===null?(a=cn(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&31457280,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function k_(i,r){i.flags&=31457282;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function cu(i,r,a,u,h,f){var p=0;if(u=i,typeof i=="function")Of(i)&&(p=1);else if(typeof i=="string")p=Eb(i,a,bn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case d:return Or(a.children,h,f,r);case g:p=8,h|=24;break;case y:return i=cn(12,a,r,h|2),i.elementType=y,i.lanes=f,i;case M:return i=cn(13,a,r,h),i.elementType=M,i.lanes=f,i;case N:return i=cn(19,a,r,h),i.elementType=N,i.lanes=f,i;case ee:return j_(a,h,f,r);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case E:case w:p=10;break e;case T:p=9;break e;case C:p=11;break e;case H:p=14;break e;case $:p=16,u=null;break e}p=29,a=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=cn(p,a,r,h),r.elementType=i,r.type=u,r.lanes=f,r}function Or(i,r,a,u){return i=cn(7,i,u,r),i.lanes=a,i}function j_(i,r,a,u){i=cn(22,i,u,r),i.elementType=ee,i.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var p=Ai(f,2);p!==null&&(h._pendingVisibility|=2,Vt(p,f,2))}},attach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var p=Ai(f,2);p!==null&&(h._pendingVisibility&=-3,Vt(p,f,2))}}};return i.stateNode=h,i}function Mf(i,r,a){return i=cn(6,i,null,r),i.lanes=a,i}function Vf(i,r,a){return r=cn(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}function ti(i){i.flags|=4}function z_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Sv(r)){if(r=on.current,r!==null&&((we&4194176)===we?Cn!==null:(we&62914560)!==we&&(we&536870912)===0||r!==Cn))throw Va=kh,iy;i.flags|=8192}}function hu(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?rp():536870912,i.lanes|=r,Ds|=r)}function Wa(i,r){if(!Re)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Be(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,u=0;if(r)for(var h=i.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags&31457280,u|=h.flags&31457280,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=u,i.childLanes=a,r}function U1(i,r,a){var u=r.pendingProps;switch(Uh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(r),null;case 1:return Be(r),null;case 3:return a=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Wn(st),is(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Da(r)?ti(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,yn!==null&&(qf(yn),yn=null))),Be(r),null;case 26:return a=r.memoizedState,i===null?(ti(r),a!==null?(Be(r),z_(r,a)):(Be(r),r.flags&=-16777217)):a?a!==i.memoizedState?(ti(r),Be(r),z_(r,a)):(Be(r),r.flags&=-16777217):(i.memoizedProps!==u&&ti(r),Be(r),r.flags&=-16777217),null;case 27:wl(r),a=_i.current;var h=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ti(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Be(r),null}i=bn.current,Da(r)?ty(r):(i=pv(h,u,a),r.stateNode=i,ti(r))}return Be(r),null;case 5:if(wl(r),a=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ti(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Be(r),null}if(i=bn.current,Da(r))ty(r);else{switch(h=Au(_i.current),i){case 1:i=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?h.createElement(a,{is:u.is}):h.createElement(a)}}i[wt]=r,i[jt]=u;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=i;e:switch(pt(i,a,u),a){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ti(r)}}return Be(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&ti(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=_i.current,Da(r)){if(i=r.stateNode,a=r.memoizedProps,u=null,h=Mt,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}i[wt]=r,i=!!(i.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||cv(i.nodeValue,a)),i||Ar(r)}else i=Au(i).createTextNode(u),i[wt]=r,r.stateNode=i}return Be(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=Da(r),u!==null&&u.dehydrated!==null){if(i===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[wt]=r}else xa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Be(r),h=!1}else yn!==null&&(qf(yn),yn=null),h=!0;if(!h)return r.flags&256?(Kn(r),r):(Kn(r),null)}if(Kn(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=u!==null,i=i!==null&&i.memoizedState!==null,a){u=r.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var f=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(f=u.memoizedState.cachePool.pool),f!==h&&(u.flags|=2048)}return a!==i&&a&&(r.child.flags|=8192),hu(r,r.updateQueue),Be(r),null;case 4:return is(),i===null&&Jf(r.stateNode.containerInfo),Be(r),null;case 10:return Wn(r.type),Be(r),null;case 19:if($e(rt),h=r.memoizedState,h===null)return Be(r),null;if(u=(r.flags&128)!==0,f=h.rendering,f===null)if(u)Wa(h,!1);else{if(Ge!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(f=Yl(i),f!==null){for(r.flags|=128,Wa(h,!1),i=f.updateQueue,r.updateQueue=i,hu(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)k_(a,i),a=a.sibling;return ze(rt,rt.current&1|2),r.child}i=i.sibling}h.tail!==null&&Rn()>fu&&(r.flags|=128,u=!0,Wa(h,!1),r.lanes=4194304)}else{if(!u)if(i=Yl(f),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,hu(r,i),Wa(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Re)return Be(r),null}else 2*Rn()-h.renderingStartTime>fu&&a!==536870912&&(r.flags|=128,u=!0,Wa(h,!1),r.lanes=4194304);h.isBackwards?(f.sibling=r.child,r.child=f):(i=h.last,i!==null?i.sibling=f:r.child=f,h.last=f)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Rn(),r.sibling=null,i=rt.current,ze(rt,u?i&1|2:i&1),r):(Be(r),null);case 22:case 23:return Kn(r),zh(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(Be(r),r.subtreeFlags&6&&(r.flags|=8192)):Be(r),a=r.updateQueue,a!==null&&hu(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),i!==null&&$e(Sr),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Wn(st),Be(r),null;case 25:return null}throw Error(s(156,r.tag))}function L1(i,r){switch(Uh(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Wn(st),is(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return wl(r),null;case 13:if(Kn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));xa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return $e(rt),null;case 4:return is(),null;case 10:return Wn(r.type),null;case 22:case 23:return Kn(r),zh(),i!==null&&$e(Sr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Wn(st),null;case 25:return null;default:return null}}function B_(i,r){switch(Uh(r),r.tag){case 3:Wn(st),is();break;case 26:case 27:case 5:wl(r);break;case 4:is();break;case 13:Kn(r);break;case 19:$e(rt);break;case 10:Wn(r.type);break;case 22:case 23:Kn(r),zh(),i!==null&&$e(Sr);break;case 24:Wn(st)}}var k1={getCacheForType:function(i){var r=St(st),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a}},j1=typeof WeakMap=="function"?WeakMap:Map,qe=0,Pe=null,ye=null,we=0,Ue=0,Xt=null,ni=!1,Ns=!1,Pf=!1,ii=0,Ge=0,Pi=0,Mr=0,Uf=0,hn=0,Ds=0,Za=null,Dn=null,Lf=!1,kf=0,fu=1/0,du=null,Ui=null,mu=!1,Vr=null,Ja=0,jf=0,zf=null,eo=0,Bf=null;function $t(){if((qe&2)!==0&&we!==0)return we&-we;if(Z.T!==null){var i=Ts;return i!==0?i:Xf()}return lp()}function q_(){hn===0&&(hn=(we&536870912)===0||Re?ip():536870912);var i=on.current;return i!==null&&(i.flags|=32),hn}function Vt(i,r,a){(i===Pe&&Ue===2||i.cancelPendingCommit!==null)&&(xs(i,0),ri(i,we,hn,!1)),_a(i,a),((qe&2)===0||i!==Pe)&&(i===Pe&&((qe&2)===0&&(Mr|=a),Ge===4&&ri(i,we,hn,!1)),xn(i))}function H_(i,r,a){if((qe&6)!==0)throw Error(s(327));var u=!a&&(r&60)===0&&(r&i.expiredLanes)===0||ya(i,r),h=u?q1(i,r):Gf(i,r,!0),f=u;do{if(h===0){Ns&&!u&&ri(i,r,0,!1);break}else if(h===6)ri(i,r,0,!ni);else{if(a=i.current.alternate,f&&!z1(a)){h=Gf(i,r,!1),f=!1;continue}if(h===2){if(f=r,i.errorRecoveryDisabledLanes&f)var p=0;else p=i.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){r=p;e:{var _=i;h=Za;var A=_.current.memoizedState.isDehydrated;if(A&&(xs(_,p).flags|=256),p=Gf(_,p,!1),p!==2){if(Pf&&!A){_.errorRecoveryDisabledLanes|=f,Mr|=f,h=4;break e}f=Dn,Dn=h,f!==null&&qf(f)}h=p}if(f=!1,h!==2)continue}}if(h===1){xs(i,0),ri(i,r,0,!0);break}e:{switch(u=i,h){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){ri(u,r,hn,!ni);break e}break;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=a,u.finishedLanes=r,(r&62914560)===r&&(f=kf+300-Rn(),10<f)){if(ri(u,r,hn,!ni),Il(u,0)!==0)break e;u.timeoutHandle=dv(F_.bind(null,u,a,Dn,du,Lf,r,hn,Mr,Ds,ni,2,-0,0),f);break e}F_(u,a,Dn,du,Lf,r,hn,Mr,Ds,ni,0,-0,0)}}break}while(!0);xn(i)}function qf(i){Dn===null?Dn=i:Dn.push.apply(Dn,i)}function F_(i,r,a,u,h,f,p,_,A,R,P,k,x){var V=r.subtreeFlags;if((V&8192||(V&16785408)===16785408)&&(ao={stylesheets:null,count:0,unsuspend:Tb},V_(r),r=wb(),r!==null)){i.cancelPendingCommit=r(W_.bind(null,i,a,u,h,p,_,A,1,k,x)),ri(i,f,p,!R);return}W_(i,a,u,h,p,_,A,P,k,x)}function z1(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var h=a[u],f=h.getSnapshot;h=h.value;try{if(!Qt(f(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ri(i,r,a,u){r&=~Uf,r&=~Mr,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var h=r;0<h;){var f=31-Gt(h),p=1<<f;u[f]=-1,h&=~p}a!==0&&sp(i,a,r)}function gu(){return(qe&6)===0?(to(0),!1):!0}function Hf(){if(ye!==null){if(Ue===0)var i=ye.return;else i=ye,$n=Nr=null,Yh(i),vs=null,Pa=0,i=ye;for(;i!==null;)B_(i.alternate,i),i=i.return;ye=null}}function xs(i,r){i.finishedWork=null,i.finishedLanes=0;var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,sb(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Hf(),Pe=i,ye=a=Vi(i.current,null),we=r,Ue=0,Xt=null,ni=!1,Ns=ya(i,r),Pf=!1,Ds=hn=Uf=Mr=Pi=Ge=0,Dn=Za=null,Lf=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var h=31-Gt(u),f=1<<h;r|=i[h],u&=~f}return ii=r,jl(),a}function G_(i,r){me=null,Z.H=Nn,r===Ma?(r=ay(),Ue=3):r===iy?(r=ay(),Ue=4):Ue=r===r_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Xt=r,ye===null&&(Ge=1,su(i,rn(r,i.current)))}function Q_(){var i=Z.H;return Z.H=Nn,i===null?Nn:i}function K_(){var i=Z.A;return Z.A=k1,i}function Ff(){Ge=4,ni||(we&4194176)!==we&&on.current!==null||(Ns=!0),(Pi&134217727)===0&&(Mr&134217727)===0||Pe===null||ri(Pe,we,hn,!1)}function Gf(i,r,a){var u=qe;qe|=2;var h=Q_(),f=K_();(Pe!==i||we!==r)&&(du=null,xs(i,r)),r=!1;var p=Ge;e:do try{if(Ue!==0&&ye!==null){var _=ye,A=Xt;switch(Ue){case 8:Hf(),p=6;break e;case 3:case 2:case 6:on.current===null&&(r=!0);var R=Ue;if(Ue=0,Xt=null,Os(i,_,A,R),a&&Ns){p=0;break e}break;default:R=Ue,Ue=0,Xt=null,Os(i,_,A,R)}}B1(),p=Ge;break}catch(P){G_(i,P)}while(!0);return r&&i.shellSuspendCounter++,$n=Nr=null,qe=u,Z.H=h,Z.A=f,ye===null&&(Pe=null,we=0,jl()),p}function B1(){for(;ye!==null;)Y_(ye)}function q1(i,r){var a=qe;qe|=2;var u=Q_(),h=K_();Pe!==i||we!==r?(du=null,fu=Rn()+500,xs(i,r)):Ns=ya(i,r);e:do try{if(Ue!==0&&ye!==null){r=ye;var f=Xt;t:switch(Ue){case 1:Ue=0,Xt=null,Os(i,r,f,1);break;case 2:if(ry(f)){Ue=0,Xt=null,X_(r);break}r=function(){Ue===2&&Pe===i&&(Ue=7),xn(i)},f.then(r,r);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:ry(f)?(Ue=0,Xt=null,X_(r)):(Ue=0,Xt=null,Os(i,r,f,7));break;case 5:var p=null;switch(ye.tag){case 26:p=ye.memoizedState;case 5:case 27:var _=ye;if(!p||Sv(p)){Ue=0,Xt=null;var A=_.sibling;if(A!==null)ye=A;else{var R=_.return;R!==null?(ye=R,pu(R)):ye=null}break t}}Ue=0,Xt=null,Os(i,r,f,5);break;case 6:Ue=0,Xt=null,Os(i,r,f,6);break;case 8:Hf(),Ge=6;break e;default:throw Error(s(462))}}H1();break}catch(P){G_(i,P)}while(!0);return $n=Nr=null,Z.H=u,Z.A=h,qe=a,ye!==null?0:(Pe=null,we=0,jl(),Ge)}function H1(){for(;ye!==null&&!hS();)Y_(ye)}function Y_(i){var r=p_(i.alternate,i,ii);i.memoizedProps=i.pendingProps,r===null?pu(i):ye=r}function X_(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=c_(a,r,r.pendingProps,r.type,void 0,we);break;case 11:r=c_(a,r,r.pendingProps,r.type.render,r.ref,we);break;case 5:Yh(r);default:B_(a,r),r=ye=k_(r,ii),r=p_(a,r,ii)}i.memoizedProps=i.pendingProps,r===null?pu(i):ye=r}function Os(i,r,a,u){$n=Nr=null,Yh(r),vs=null,Pa=0;var h=r.return;try{if(x1(i,h,r,a,we)){Ge=1,su(i,rn(a,i.current)),ye=null;return}}catch(f){if(h!==null)throw ye=h,f;Ge=1,su(i,rn(a,i.current)),ye=null;return}r.flags&32768?(Re||u===1?i=!0:Ns||(we&536870912)!==0?i=!1:(ni=i=!0,(u===2||u===3||u===6)&&(u=on.current,u!==null&&u.tag===13&&(u.flags|=16384))),$_(r,i)):pu(r)}function pu(i){var r=i;do{if((r.flags&32768)!==0){$_(r,ni);return}i=r.return;var a=U1(r.alternate,r,ii);if(a!==null){ye=a;return}if(r=r.sibling,r!==null){ye=r;return}ye=r=i}while(r!==null);Ge===0&&(Ge=5)}function $_(i,r){do{var a=L1(i.alternate,i);if(a!==null){a.flags&=32767,ye=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){ye=i;return}ye=i=a}while(i!==null);Ge=6,ye=null}function W_(i,r,a,u,h,f,p,_,A,R){var P=Z.T,k=G.p;try{G.p=2,Z.T=null,F1(i,r,a,u,k,h,f,p,_,A,R)}finally{Z.T=P,G.p=k}}function F1(i,r,a,u,h,f,p,_){do Ms();while(Vr!==null);if((qe&6)!==0)throw Error(s(327));var A=i.finishedWork;if(u=i.finishedLanes,A===null)return null;if(i.finishedWork=null,i.finishedLanes=0,A===i.current)throw Error(s(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var R=A.lanes|A.childLanes;if(R|=Mh,AS(i,u,R,f,p,_),i===Pe&&(ye=Pe=null,we=0),(A.subtreeFlags&10256)===0&&(A.flags&10256)===0||mu||(mu=!0,jf=R,zf=a,Y1(Sl,function(){return Ms(),null})),a=(A.flags&15990)!==0,(A.subtreeFlags&15990)!==0||a?(a=Z.T,Z.T=null,f=G.p,G.p=2,p=qe,qe|=4,M1(i,A),x_(A,i),m1(id,i.containerInfo),Cu=!!nd,id=nd=null,i.current=A,I_(i,A.alternate,A),fS(),qe=p,G.p=f,Z.T=a):i.current=A,mu?(mu=!1,Vr=i,Ja=u):Z_(i,R),R=i.pendingLanes,R===0&&(Ui=null),yS(A.stateNode),xn(i),r!==null)for(h=i.onRecoverableError,A=0;A<r.length;A++)R=r[A],h(R.value,{componentStack:R.stack});return(Ja&3)!==0&&Ms(),R=i.pendingLanes,(u&4194218)!==0&&(R&42)!==0?i===Bf?eo++:(eo=0,Bf=i):eo=0,to(0),null}function Z_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,La(r)))}function Ms(){if(Vr!==null){var i=Vr,r=jf;jf=0;var a=op(Ja),u=Z.T,h=G.p;try{if(G.p=32>a?32:a,Z.T=null,Vr===null)var f=!1;else{a=zf,zf=null;var p=Vr,_=Ja;if(Vr=null,Ja=0,(qe&6)!==0)throw Error(s(331));var A=qe;if(qe|=4,U_(p.current),M_(p,p.current,_,a),qe=A,to(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(pa,p)}catch{}f=!0}return f}finally{G.p=h,Z.T=u,Z_(i,r)}}return!1}function J_(i,r,a){r=rn(a,r),r=uf(i.stateNode,r,2),i=Di(i,r,2),i!==null&&(_a(i,2),xn(i))}function Me(i,r,a){if(i.tag===3)J_(i,i,a);else for(;r!==null;){if(r.tag===3){J_(r,i,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ui===null||!Ui.has(u))){i=rn(a,i),a=n_(2),u=Di(r,a,2),u!==null&&(i_(a,u,r,i),_a(u,2),xn(u));break}}r=r.return}}function Qf(i,r,a){var u=i.pingCache;if(u===null){u=i.pingCache=new j1;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(a)||(Pf=!0,h.add(a),i=G1.bind(null,i,r,a),r.then(i,i))}function G1(i,r,a){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,Pe===i&&(we&a)===a&&(Ge===4||Ge===3&&(we&62914560)===we&&300>Rn()-kf?(qe&2)===0&&xs(i,0):Uf|=a,Ds===we&&(Ds=0)),xn(i)}function ev(i,r){r===0&&(r=rp()),i=Ai(i,r),i!==null&&(_a(i,r),xn(i))}function Q1(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),ev(i,a)}function K1(i,r){var a=0;switch(i.tag){case 13:var u=i.stateNode,h=i.memoizedState;h!==null&&(a=h.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),ev(i,a)}function Y1(i,r){return uh(i,r)}var yu=null,Vs=null,Kf=!1,_u=!1,Yf=!1,Pr=0;function xn(i){i!==Vs&&i.next===null&&(Vs===null?yu=Vs=i:Vs=Vs.next=i),_u=!0,Kf||(Kf=!0,$1(X1))}function to(i,r){if(!Yf&&_u){Yf=!0;do for(var a=!1,u=yu;u!==null;){if(i!==0){var h=u.pendingLanes;if(h===0)var f=0;else{var p=u.suspendedLanes,_=u.pingedLanes;f=(1<<31-Gt(42|i)+1)-1,f&=h&~(p&~_),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(a=!0,iv(u,f))}else f=we,f=Il(u,u===Pe?f:0),(f&3)===0||ya(u,f)||(a=!0,iv(u,f));u=u.next}while(a);Yf=!1}}function X1(){_u=Kf=!1;var i=0;Pr!==0&&(rb()&&(i=Pr),Pr=0);for(var r=Rn(),a=null,u=yu;u!==null;){var h=u.next,f=tv(u,r);f===0?(u.next=null,a===null?yu=h:a.next=h,h===null&&(Vs=a)):(a=u,(i!==0||(f&3)!==0)&&(_u=!0)),u=h}to(i)}function tv(i,r){for(var a=i.suspendedLanes,u=i.pingedLanes,h=i.expirationTimes,f=i.pendingLanes&-62914561;0<f;){var p=31-Gt(f),_=1<<p,A=h[p];A===-1?((_&a)===0||(_&u)!==0)&&(h[p]=TS(_,r)):A<=r&&(i.expiredLanes|=_),f&=~_}if(r=Pe,a=we,a=Il(i,i===r?a:0),u=i.callbackNode,a===0||i===r&&Ue===2||i.cancelPendingCommit!==null)return u!==null&&u!==null&&ch(u),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||ya(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(u!==null&&ch(u),op(a)){case 2:case 8:a=tp;break;case 32:a=Sl;break;case 268435456:a=np;break;default:a=Sl}return u=nv.bind(null,i),a=uh(a,u),i.callbackPriority=r,i.callbackNode=a,r}return u!==null&&u!==null&&ch(u),i.callbackPriority=2,i.callbackNode=null,2}function nv(i,r){var a=i.callbackNode;if(Ms()&&i.callbackNode!==a)return null;var u=we;return u=Il(i,i===Pe?u:0),u===0?null:(H_(i,u,r),tv(i,Rn()),i.callbackNode!=null&&i.callbackNode===a?nv.bind(null,i):null)}function iv(i,r){if(Ms())return null;H_(i,r,!0)}function $1(i){ab(function(){(qe&6)!==0?uh(ep,i):i()})}function Xf(){return Pr===0&&(Pr=ip()),Pr}function rv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ol(""+i)}function sv(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function W1(i,r,a,u,h){if(r==="submit"&&a&&a.stateNode===h){var f=rv((h[jt]||null).action),p=u.submitter;p&&(r=(r=p[jt]||null)?rv(r.formAction):p.getAttribute("formAction"),r!==null&&(f=r,p=null));var _=new Ul("action","action",null,u,h);i.push({event:_,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Pr!==0){var A=p?sv(h,p):new FormData(h);rf(a,{pending:!0,data:A,method:h.method,action:f},null,A)}}else typeof f=="function"&&(_.preventDefault(),A=p?sv(h,p):new FormData(h),rf(a,{pending:!0,data:A,method:h.method,action:f},f,A))},currentTarget:h}]})}}for(var $f=0;$f<Wp.length;$f++){var Wf=Wp[$f],Z1=Wf.toLowerCase(),J1=Wf[0].toUpperCase()+Wf.slice(1);pn(Z1,"on"+J1)}pn(Qp,"onAnimationEnd"),pn(Kp,"onAnimationIteration"),pn(Yp,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(p1,"onTransitionRun"),pn(y1,"onTransitionStart"),pn(_1,"onTransitionCancel"),pn(Xp,"onTransitionEnd"),os("onMouseEnter",["mouseout","mouseover"]),os("onMouseLeave",["mouseout","mouseover"]),os("onPointerEnter",["pointerout","pointerover"]),os("onPointerLeave",["pointerout","pointerover"]),pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pr("onBeforeInput",["compositionend","keypress","textInput","paste"]),pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(no));function av(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var u=i[a],h=u.event;u=u.listeners;e:{var f=void 0;if(r)for(var p=u.length-1;0<=p;p--){var _=u[p],A=_.instance,R=_.currentTarget;if(_=_.listener,A!==f&&h.isPropagationStopped())break e;f=_,h.currentTarget=R;try{f(h)}catch(P){ru(P)}h.currentTarget=null,f=A}else for(p=0;p<u.length;p++){if(_=u[p],A=_.instance,R=_.currentTarget,_=_.listener,A!==f&&h.isPropagationStopped())break e;f=_,h.currentTarget=R;try{f(h)}catch(P){ru(P)}h.currentTarget=null,f=A}}}}function Ee(i,r){var a=r[fh];a===void 0&&(a=r[fh]=new Set);var u=i+"__bubble";a.has(u)||(ov(r,i,2,!1),a.add(u))}function Zf(i,r,a){var u=0;r&&(u|=4),ov(a,i,u,r)}var vu="_reactListening"+Math.random().toString(36).slice(2);function Jf(i){if(!i[vu]){i[vu]=!0,cp.forEach(function(a){a!=="selectionchange"&&(eb.has(a)||Zf(a,!1,i),Zf(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[vu]||(r[vu]=!0,Zf("selectionchange",!1,r))}}function ov(i,r,a,u){switch(Dv(r)){case 2:var h=Rb;break;case 8:h=Ib;break;default:h=fd}a=h.bind(null,r,a,i),h=void 0,!Eh||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?i.addEventListener(r,a,{capture:!0,passive:h}):i.addEventListener(r,a,!0):h!==void 0?i.addEventListener(r,a,{passive:h}):i.addEventListener(r,a,!1)}function ed(i,r,a,u,h){var f=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var p=u.tag;if(p===3||p===4){var _=u.stateNode.containerInfo;if(_===h||_.nodeType===8&&_.parentNode===h)break;if(p===4)for(p=u.return;p!==null;){var A=p.tag;if((A===3||A===4)&&(A=p.stateNode.containerInfo,A===h||A.nodeType===8&&A.parentNode===h))return;p=p.return}for(;_!==null;){if(p=gr(_),p===null)return;if(A=p.tag,A===5||A===6||A===26||A===27){u=f=p;continue e}_=_.parentNode}}u=u.return}Ap(function(){var R=f,P=_h(a),k=[];e:{var x=$p.get(i);if(x!==void 0){var V=Ul,X=i;switch(i){case"keypress":if(Vl(a)===0)break e;case"keydown":case"keyup":V=KS;break;case"focusin":X="focus",V=Sh;break;case"focusout":X="blur",V=Sh;break;case"beforeblur":case"afterblur":V=Sh;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=bp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=PS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=$S;break;case Qp:case Kp:case Yp:V=kS;break;case Xp:V=ZS;break;case"scroll":case"scrollend":V=MS;break;case"wheel":V=e1;break;case"copy":case"cut":case"paste":V=zS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Ip;break;case"toggle":case"beforetoggle":V=n1}var le=(r&4)!==0,Qe=!le&&(i==="scroll"||i==="scrollend"),I=le?x!==null?x+"Capture":null:x;le=[];for(var b=R,D;b!==null;){var U=b;if(D=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||D===null||I===null||(U=Ta(b,I),U!=null&&le.push(io(b,U,D))),Qe)break;b=b.return}0<le.length&&(x=new V(x,X,null,a,P),k.push({event:x,listeners:le}))}}if((r&7)===0){e:{if(x=i==="mouseover"||i==="pointerover",V=i==="mouseout"||i==="pointerout",x&&a!==yh&&(X=a.relatedTarget||a.fromElement)&&(gr(X)||X[rs]))break e;if((V||x)&&(x=P.window===P?P:(x=P.ownerDocument)?x.defaultView||x.parentWindow:window,V?(X=a.relatedTarget||a.toElement,V=R,X=X?gr(X):null,X!==null&&(Qe=re(X),le=X.tag,X!==Qe||le!==5&&le!==27&&le!==6)&&(X=null)):(V=null,X=R),V!==X)){if(le=bp,U="onMouseLeave",I="onMouseEnter",b="mouse",(i==="pointerout"||i==="pointerover")&&(le=Ip,U="onPointerLeave",I="onPointerEnter",b="pointer"),Qe=V==null?x:Ea(V),D=X==null?x:Ea(X),x=new le(U,b+"leave",V,a,P),x.target=Qe,x.relatedTarget=D,U=null,gr(P)===R&&(le=new le(I,b+"enter",X,a,P),le.target=D,le.relatedTarget=Qe,U=le),Qe=U,V&&X)t:{for(le=V,I=X,b=0,D=le;D;D=Ps(D))b++;for(D=0,U=I;U;U=Ps(U))D++;for(;0<b-D;)le=Ps(le),b--;for(;0<D-b;)I=Ps(I),D--;for(;b--;){if(le===I||I!==null&&le===I.alternate)break t;le=Ps(le),I=Ps(I)}le=null}else le=null;V!==null&&lv(k,x,V,le,!1),X!==null&&Qe!==null&&lv(k,Qe,X,le,!0)}}e:{if(x=R?Ea(R):window,V=x.nodeName&&x.nodeName.toLowerCase(),V==="select"||V==="input"&&x.type==="file")var Q=Pp;else if(Mp(x))if(Up)Q=f1;else{Q=c1;var ge=u1}else V=x.nodeName,!V||V.toLowerCase()!=="input"||x.type!=="checkbox"&&x.type!=="radio"?R&&ph(R.elementType)&&(Q=Pp):Q=h1;if(Q&&(Q=Q(i,R))){Vp(k,Q,a,P);break e}ge&&ge(i,x,R),i==="focusout"&&R&&x.type==="number"&&R.memoizedProps.value!=null&&gh(x,"number",x.value)}switch(ge=R?Ea(R):window,i){case"focusin":(Mp(ge)||ge.contentEditable==="true")&&(ds=ge,Dh=R,Na=null);break;case"focusout":Na=Dh=ds=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,Fp(k,a,P);break;case"selectionchange":if(g1)break;case"keydown":case"keyup":Fp(k,a,P)}var W;if(Rh)e:{switch(i){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else fs?xp(i,a)&&(ne="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(ne="onCompositionStart");ne&&(Cp&&a.locale!=="ko"&&(fs||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&fs&&(W=wp()):(Ti=P,Th="value"in Ti?Ti.value:Ti.textContent,fs=!0)),ge=Eu(R,ne),0<ge.length&&(ne=new Rp(ne,i,null,a,P),k.push({event:ne,listeners:ge}),W?ne.data=W:(W=Op(a),W!==null&&(ne.data=W)))),(W=r1?s1(i,a):a1(i,a))&&(ne=Eu(R,"onBeforeInput"),0<ne.length&&(ge=new Rp("onBeforeInput","beforeinput",null,a,P),k.push({event:ge,listeners:ne}),ge.data=W)),W1(k,i,R,a,P)}av(k,r)})}function io(i,r,a){return{instance:i,listener:r,currentTarget:a}}function Eu(i,r){for(var a=r+"Capture",u=[];i!==null;){var h=i,f=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Ta(i,a),h!=null&&u.unshift(io(i,h,f)),h=Ta(i,r),h!=null&&u.push(io(i,h,f))),i=i.return}return u}function Ps(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function lv(i,r,a,u,h){for(var f=r._reactName,p=[];a!==null&&a!==u;){var _=a,A=_.alternate,R=_.stateNode;if(_=_.tag,A!==null&&A===u)break;_!==5&&_!==26&&_!==27||R===null||(A=R,h?(R=Ta(a,f),R!=null&&p.unshift(io(a,R,A))):h||(R=Ta(a,f),R!=null&&p.push(io(a,R,A)))),a=a.return}p.length!==0&&i.push({event:r,listeners:p})}var tb=/\r\n?/g,nb=/\u0000|\uFFFD/g;function uv(i){return(typeof i=="string"?i:""+i).replace(tb,`
`).replace(nb,"")}function cv(i,r){return r=uv(r),uv(i)===r}function Tu(){}function Oe(i,r,a,u,h,f){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||us(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&us(i,""+u);break;case"className":Nl(i,"class",u);break;case"tabIndex":Nl(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Nl(i,a,u);break;case"style":Ep(i,u,f);break;case"data":if(r!=="object"){Nl(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=Ol(""+u),i.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&Oe(i,r,"name",h.name,h,null),Oe(i,r,"formEncType",h.formEncType,h,null),Oe(i,r,"formMethod",h.formMethod,h,null),Oe(i,r,"formTarget",h.formTarget,h,null)):(Oe(i,r,"encType",h.encType,h,null),Oe(i,r,"method",h.method,h,null),Oe(i,r,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=Ol(""+u),i.setAttribute(a,u);break;case"onClick":u!=null&&(i.onclick=Tu);break;case"onScroll":u!=null&&Ee("scroll",i);break;case"onScrollEnd":u!=null&&Ee("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}a=Ol(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""+u):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":u===!0?i.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,u):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(a,u):i.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(a):i.setAttribute(a,u);break;case"popover":Ee("beforetoggle",i),Ee("toggle",i),Cl(i,"popover",u);break;case"xlinkActuate":Fn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Fn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Fn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Fn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Fn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Fn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Fn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Fn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Fn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Cl(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xS.get(a)||a,Cl(i,a,u))}}function td(i,r,a,u,h,f){switch(a){case"style":Ep(i,u,f);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof u=="string"?us(i,u):(typeof u=="number"||typeof u=="bigint")&&us(i,""+u);break;case"onScroll":u!=null&&Ee("scroll",i);break;case"onScrollEnd":u!=null&&Ee("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Tu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hp.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),f=i[jt]||null,f=f!=null?f[a]:null,typeof f=="function"&&i.removeEventListener(r,f,h),typeof u=="function")){typeof f!="function"&&f!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,u,h);break e}a in i?i[a]=u:u===!0?i.setAttribute(a,""):Cl(i,a,u)}}}function pt(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",i),Ee("load",i);var u=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Oe(i,r,f,p,a,null)}}h&&Oe(i,r,"srcSet",a.srcSet,a,null),u&&Oe(i,r,"src",a.src,a,null);return;case"input":Ee("invalid",i);var _=f=p=h=null,A=null,R=null;for(u in a)if(a.hasOwnProperty(u)){var P=a[u];if(P!=null)switch(u){case"name":h=P;break;case"type":p=P;break;case"checked":A=P;break;case"defaultChecked":R=P;break;case"value":f=P;break;case"defaultValue":_=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,r));break;default:Oe(i,r,u,P,a,null)}}pp(i,f,_,A,R,p,h,!1),Dl(i);return;case"select":Ee("invalid",i),u=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(_=a[h],_!=null))switch(h){case"value":f=_;break;case"defaultValue":p=_;break;case"multiple":u=_;default:Oe(i,r,h,_,a,null)}r=f,a=p,i.multiple=!!u,r!=null?ls(i,!!u,r,!1):a!=null&&ls(i,!!u,a,!0);return;case"textarea":Ee("invalid",i),f=h=u=null;for(p in a)if(a.hasOwnProperty(p)&&(_=a[p],_!=null))switch(p){case"value":u=_;break;case"defaultValue":h=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:Oe(i,r,p,_,a,null)}_p(i,u,h,f),Dl(i);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(u=a[A],u!=null))switch(A){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Oe(i,r,A,u,a,null)}return;case"dialog":Ee("cancel",i),Ee("close",i);break;case"iframe":case"object":Ee("load",i);break;case"video":case"audio":for(u=0;u<no.length;u++)Ee(no[u],i);break;case"image":Ee("error",i),Ee("load",i);break;case"details":Ee("toggle",i);break;case"embed":case"source":case"link":Ee("error",i),Ee("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(u=a[R],u!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Oe(i,r,R,u,a,null)}return;default:if(ph(r)){for(P in a)a.hasOwnProperty(P)&&(u=a[P],u!==void 0&&td(i,r,P,u,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(u=a[_],u!=null&&Oe(i,r,_,u,a,null))}function ib(i,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,_=null,A=null,R=null,P=null;for(V in a){var k=a[V];if(a.hasOwnProperty(V)&&k!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":A=k;default:u.hasOwnProperty(V)||Oe(i,r,V,null,u,k)}}for(var x in u){var V=u[x];if(k=a[x],u.hasOwnProperty(x)&&(V!=null||k!=null))switch(x){case"type":f=V;break;case"name":h=V;break;case"checked":R=V;break;case"defaultChecked":P=V;break;case"value":p=V;break;case"defaultValue":_=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,r));break;default:V!==k&&Oe(i,r,x,V,u,k)}}mh(i,p,_,A,R,P,f,h);return;case"select":V=p=_=x=null;for(f in a)if(A=a[f],a.hasOwnProperty(f)&&A!=null)switch(f){case"value":break;case"multiple":V=A;default:u.hasOwnProperty(f)||Oe(i,r,f,null,u,A)}for(h in u)if(f=u[h],A=a[h],u.hasOwnProperty(h)&&(f!=null||A!=null))switch(h){case"value":x=f;break;case"defaultValue":_=f;break;case"multiple":p=f;default:f!==A&&Oe(i,r,h,f,u,A)}r=_,a=p,u=V,x!=null?ls(i,!!a,x,!1):!!u!=!!a&&(r!=null?ls(i,!!a,r,!0):ls(i,!!a,a?[]:"",!1));return;case"textarea":V=x=null;for(_ in a)if(h=a[_],a.hasOwnProperty(_)&&h!=null&&!u.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Oe(i,r,_,null,u,h)}for(p in u)if(h=u[p],f=a[p],u.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":x=h;break;case"defaultValue":V=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Oe(i,r,p,h,u,f)}yp(i,x,V);return;case"option":for(var X in a)if(x=a[X],a.hasOwnProperty(X)&&x!=null&&!u.hasOwnProperty(X))switch(X){case"selected":i.selected=!1;break;default:Oe(i,r,X,null,u,x)}for(A in u)if(x=u[A],V=a[A],u.hasOwnProperty(A)&&x!==V&&(x!=null||V!=null))switch(A){case"selected":i.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Oe(i,r,A,x,u,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in a)x=a[le],a.hasOwnProperty(le)&&x!=null&&!u.hasOwnProperty(le)&&Oe(i,r,le,null,u,x);for(R in u)if(x=u[R],V=a[R],u.hasOwnProperty(R)&&x!==V&&(x!=null||V!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(137,r));break;default:Oe(i,r,R,x,u,V)}return;default:if(ph(r)){for(var Qe in a)x=a[Qe],a.hasOwnProperty(Qe)&&x!==void 0&&!u.hasOwnProperty(Qe)&&td(i,r,Qe,void 0,u,x);for(P in u)x=u[P],V=a[P],!u.hasOwnProperty(P)||x===V||x===void 0&&V===void 0||td(i,r,P,x,u,V);return}}for(var I in a)x=a[I],a.hasOwnProperty(I)&&x!=null&&!u.hasOwnProperty(I)&&Oe(i,r,I,null,u,x);for(k in u)x=u[k],V=a[k],!u.hasOwnProperty(k)||x===V||x==null&&V==null||Oe(i,r,k,x,u,V)}var nd=null,id=null;function Au(i){return i.nodeType===9?i:i.ownerDocument}function hv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fv(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function rd(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var sd=null;function rb(){var i=window.event;return i&&i.type==="popstate"?i===sd?!1:(sd=i,!0):(sd=null,!1)}var dv=typeof setTimeout=="function"?setTimeout:void 0,sb=typeof clearTimeout=="function"?clearTimeout:void 0,mv=typeof Promise=="function"?Promise:void 0,ab=typeof queueMicrotask=="function"?queueMicrotask:typeof mv<"u"?function(i){return mv.resolve(null).then(i).catch(ob)}:dv;function ob(i){setTimeout(function(){throw i})}function ad(i,r){var a=r,u=0;do{var h=a.nextSibling;if(i.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(u===0){i.removeChild(h),ho(r);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=h}while(a);ho(r)}function od(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":od(a),dh(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function lb(i,r,a,u){for(;i.nodeType===1;){var h=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[va])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(f=i.getAttribute("rel"),f==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(f!==h.rel||i.getAttribute("href")!==(h.href==null?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(f=i.getAttribute("src"),(f!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===f)return i}else return i;if(i=vn(i.nextSibling),i===null)break}return null}function ub(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=vn(i.nextSibling),i===null))return null;return i}function vn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}function gv(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return i;r--}else a==="/$"&&r++}i=i.previousSibling}return null}function pv(i,r,a){switch(r=Au(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}var fn=new Map,yv=new Set;function wu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var si=G.d;G.d={f:cb,r:hb,D:fb,C:db,L:mb,m:gb,X:yb,S:pb,M:_b};function cb(){var i=si.f(),r=gu();return i||r}function hb(i){var r=ss(i);r!==null&&r.tag===5&&r.type==="form"?Fy(r):si.r(i)}var Us=typeof document>"u"?null:document;function _v(i,r,a){var u=Us;if(u&&typeof r=="string"&&r){var h=tn(r);h='link[rel="'+i+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),yv.has(h)||(yv.add(h),i={rel:i,crossOrigin:a,href:r},u.querySelector(h)===null&&(r=u.createElement("link"),pt(r,"link",i),at(r),u.head.appendChild(r)))}}function fb(i){si.D(i),_v("dns-prefetch",i,null)}function db(i,r){si.C(i,r),_v("preconnect",i,r)}function mb(i,r,a){si.L(i,r,a);var u=Us;if(u&&i&&r){var h='link[rel="preload"][as="'+tn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+tn(a.imageSizes)+'"]')):h+='[href="'+tn(i)+'"]';var f=h;switch(r){case"style":f=Ls(i);break;case"script":f=ks(i)}fn.has(f)||(i=_e({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),fn.set(f,i),u.querySelector(h)!==null||r==="style"&&u.querySelector(ro(f))||r==="script"&&u.querySelector(so(f))||(r=u.createElement("link"),pt(r,"link",i),at(r),u.head.appendChild(r)))}}function gb(i,r){si.m(i,r);var a=Us;if(a&&i){var u=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+tn(u)+'"][href="'+tn(i)+'"]',f=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ks(i)}if(!fn.has(f)&&(i=_e({rel:"modulepreload",href:i},r),fn.set(f,i),a.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(so(f)))return}u=a.createElement("link"),pt(u,"link",i),at(u),a.head.appendChild(u)}}}function pb(i,r,a){si.S(i,r,a);var u=Us;if(u&&i){var h=as(u).hoistableStyles,f=Ls(i);r=r||"default";var p=h.get(f);if(!p){var _={loading:0,preload:null};if(p=u.querySelector(ro(f)))_.loading=5;else{i=_e({rel:"stylesheet",href:i,"data-precedence":r},a),(a=fn.get(f))&&ld(i,a);var A=p=u.createElement("link");at(A),pt(A,"link",i),A._p=new Promise(function(R,P){A.onload=R,A.onerror=P}),A.addEventListener("load",function(){_.loading|=1}),A.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Su(p,r,u)}p={type:"stylesheet",instance:p,count:1,state:_},h.set(f,p)}}}function yb(i,r){si.X(i,r);var a=Us;if(a&&i){var u=as(a).hoistableScripts,h=ks(i),f=u.get(h);f||(f=a.querySelector(so(h)),f||(i=_e({src:i,async:!0},r),(r=fn.get(h))&&ud(i,r),f=a.createElement("script"),at(f),pt(f,"link",i),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},u.set(h,f))}}function _b(i,r){si.M(i,r);var a=Us;if(a&&i){var u=as(a).hoistableScripts,h=ks(i),f=u.get(h);f||(f=a.querySelector(so(h)),f||(i=_e({src:i,async:!0,type:"module"},r),(r=fn.get(h))&&ud(i,r),f=a.createElement("script"),at(f),pt(f,"link",i),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},u.set(h,f))}}function vv(i,r,a,u){var h=(h=_i.current)?wu(h):null;if(!h)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ls(a.href),a=as(h).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Ls(a.href);var f=as(h).hoistableStyles,p=f.get(i);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(i,p),(f=h.querySelector(ro(i)))&&!f._p&&(p.instance=f,p.state.loading=5),fn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},fn.set(i,a),f||vb(h,i,a,p.state))),r&&u===null)throw Error(s(528,""));return p}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ks(a),a=as(h).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Ls(i){return'href="'+tn(i)+'"'}function ro(i){return'link[rel="stylesheet"]['+i+"]"}function Ev(i){return _e({},i,{"data-precedence":i.precedence,precedence:null})}function vb(i,r,a,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),pt(r,"link",a),at(r),i.head.appendChild(r))}function ks(i){return'[src="'+tn(i)+'"]'}function so(i){return"script[async]"+i}function Tv(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+tn(a.href)+'"]');if(u)return r.instance=u,at(u),u;var h=_e({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),at(u),pt(u,"style",h),Su(u,a.precedence,i),r.instance=u;case"stylesheet":h=Ls(a.href);var f=i.querySelector(ro(h));if(f)return r.state.loading|=4,r.instance=f,at(f),f;u=Ev(a),(h=fn.get(h))&&ld(u,h),f=(i.ownerDocument||i).createElement("link"),at(f);var p=f;return p._p=new Promise(function(_,A){p.onload=_,p.onerror=A}),pt(f,"link",u),r.state.loading|=4,Su(f,a.precedence,i),r.instance=f;case"script":return f=ks(a.src),(h=i.querySelector(so(f)))?(r.instance=h,at(h),h):(u=a,(h=fn.get(f))&&(u=_e({},a),ud(u,h)),i=i.ownerDocument||i,h=i.createElement("script"),at(h),pt(h,"link",u),i.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Su(u,a.precedence,i));return r.instance}function Su(i,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,f=h,p=0;p<u.length;p++){var _=u[p];if(_.dataset.precedence===r)f=_;else if(f!==h)break}f?f.parentNode.insertBefore(i,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function ld(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function ud(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var bu=null;function Av(i,r,a){if(bu===null){var u=new Map,h=bu=new Map;h.set(a,u)}else h=bu,u=h.get(a),u||(u=new Map,h.set(a,u));if(u.has(i))return u;for(u.set(i,null),a=a.getElementsByTagName(i),h=0;h<a.length;h++){var f=a[h];if(!(f[va]||f[wt]||i==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(r)||"";p=i+p;var _=u.get(p);_?_.push(f):u.set(p,[f])}}return u}function wv(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function Eb(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Sv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var ao=null;function Tb(){}function Ab(i,r,a){if(ao===null)throw Error(s(475));var u=ao;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ls(a.href),f=i.querySelector(ro(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Ru.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=f,at(f);return}f=i.ownerDocument||i,a=Ev(a),(h=fn.get(h))&&ld(a,h),f=f.createElement("link"),at(f);var p=f;p._p=new Promise(function(_,A){p.onload=_,p.onerror=A}),pt(f,"link",a),r.instance=f}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Ru.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function wb(){if(ao===null)throw Error(s(475));var i=ao;return i.stylesheets&&i.count===0&&cd(i,i.stylesheets),0<i.count?function(r){var a=setTimeout(function(){if(i.stylesheets&&cd(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(a)}}:null}function Ru(){if(this.count--,this.count===0){if(this.stylesheets)cd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Iu=null;function cd(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Iu=new Map,r.forEach(Sb,i),Iu=null,Ru.call(i))}function Sb(i,r){if(!(r.state.loading&4)){var a=Iu.get(i);if(a)var u=a.get(null);else{a=new Map,Iu.set(i,a);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),u=p)}u&&a.set(null,u)}h=r.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||u,f===u&&a.set(null,h),a.set(p,h),this.count++,u=Ru.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),f?f.parentNode.insertBefore(h,f.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),r.state.loading|=4}}var oo={$$typeof:w,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function bb(i,r,a,u,h,f,p,_){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hh(0),this.hiddenUpdates=hh(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function bv(i,r,a,u,h,f,p,_,A,R,P,k){return i=new bb(i,r,a,p,_,A,R,k),r=1,f===!0&&(r|=24),f=cn(3,null,null,r),i.current=f,f.stateNode=i,r=Bh(),r.refCount++,i.pooledCache=r,r.refCount++,f.memoizedState={element:u,isDehydrated:a,cache:r},Af(f),i}function Rv(i){return i?(i=ps,i):ps}function Iv(i,r,a,u,h,f){h=Rv(h),u.context===null?u.context=h:u.pendingContext=h,u=Ni(r),u.payload={element:a},f=f===void 0?null:f,f!==null&&(u.callback=f),a=Di(i,u,r),a!==null&&(Vt(a,i,r),Fa(a,i,r))}function Cv(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function hd(i,r){Cv(i,r),(i=i.alternate)&&Cv(i,r)}function Nv(i){if(i.tag===13){var r=Ai(i,67108864);r!==null&&Vt(r,i,67108864),hd(i,67108864)}}var Cu=!0;function Rb(i,r,a,u){var h=Z.T;Z.T=null;var f=G.p;try{G.p=2,fd(i,r,a,u)}finally{G.p=f,Z.T=h}}function Ib(i,r,a,u){var h=Z.T;Z.T=null;var f=G.p;try{G.p=8,fd(i,r,a,u)}finally{G.p=f,Z.T=h}}function fd(i,r,a,u){if(Cu){var h=dd(u);if(h===null)ed(i,r,u,Nu,a),xv(i,u);else if(Nb(h,i,r,a,u))u.stopPropagation();else if(xv(i,u),r&4&&-1<Cb.indexOf(i)){for(;h!==null;){var f=ss(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=mr(f.pendingLanes);if(p!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;p;){var A=1<<31-Gt(p);_.entanglements[1]|=A,p&=~A}xn(f),(qe&6)===0&&(fu=Rn()+500,to(0))}}break;case 13:_=Ai(f,2),_!==null&&Vt(_,f,2),gu(),hd(f,2)}if(f=dd(u),f===null&&ed(i,r,u,Nu,a),f===h)break;h=f}h!==null&&u.stopPropagation()}else ed(i,r,u,null,a)}}function dd(i){return i=_h(i),md(i)}var Nu=null;function md(i){if(Nu=null,i=gr(i),i!==null){var r=re(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=Ve(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Nu=i,null}function Dv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dS()){case ep:return 2;case tp:return 8;case Sl:case mS:return 32;case np:return 268435456;default:return 32}default:return 32}}var gd=!1,Li=null,ki=null,ji=null,lo=new Map,uo=new Map,zi=[],Cb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xv(i,r){switch(i){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":lo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(r.pointerId)}}function co(i,r,a,u,h,f){return i===null||i.nativeEvent!==f?(i={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:f,targetContainers:[h]},r!==null&&(r=ss(r),r!==null&&Nv(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),i)}function Nb(i,r,a,u,h){switch(r){case"focusin":return Li=co(Li,i,r,a,u,h),!0;case"dragenter":return ki=co(ki,i,r,a,u,h),!0;case"mouseover":return ji=co(ji,i,r,a,u,h),!0;case"pointerover":var f=h.pointerId;return lo.set(f,co(lo.get(f)||null,i,r,a,u,h)),!0;case"gotpointercapture":return f=h.pointerId,uo.set(f,co(uo.get(f)||null,i,r,a,u,h)),!0}return!1}function Ov(i){var r=gr(i.target);if(r!==null){var a=re(r);if(a!==null){if(r=a.tag,r===13){if(r=Ve(a),r!==null){i.blockedOn=r,wS(i.priority,function(){if(a.tag===13){var u=$t(),h=Ai(a,u);h!==null&&Vt(h,a,u),hd(a,u)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Du(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=dd(i.nativeEvent);if(a===null){a=i.nativeEvent;var u=new a.constructor(a.type,a);yh=u,a.target.dispatchEvent(u),yh=null}else return r=ss(a),r!==null&&Nv(r),i.blockedOn=a,!1;r.shift()}return!0}function Mv(i,r,a){Du(i)&&a.delete(r)}function Db(){gd=!1,Li!==null&&Du(Li)&&(Li=null),ki!==null&&Du(ki)&&(ki=null),ji!==null&&Du(ji)&&(ji=null),lo.forEach(Mv),uo.forEach(Mv)}function xu(i,r){i.blockedOn===r&&(i.blockedOn=null,gd||(gd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Db)))}var Ou=null;function Vv(i){Ou!==i&&(Ou=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ou===i&&(Ou=null);for(var r=0;r<i.length;r+=3){var a=i[r],u=i[r+1],h=i[r+2];if(typeof u!="function"){if(md(u||a)===null)continue;break}var f=ss(a);f!==null&&(i.splice(r,3),r-=3,rf(f,{pending:!0,data:h,method:a.method,action:u},u,h))}}))}function ho(i){function r(A){return xu(A,i)}Li!==null&&xu(Li,i),ki!==null&&xu(ki,i),ji!==null&&xu(ji,i),lo.forEach(r),uo.forEach(r);for(var a=0;a<zi.length;a++){var u=zi[a];u.blockedOn===i&&(u.blockedOn=null)}for(;0<zi.length&&(a=zi[0],a.blockedOn===null);)Ov(a),a.blockedOn===null&&zi.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var h=a[u],f=a[u+1],p=h[jt]||null;if(typeof f=="function")p||Vv(a);else if(p){var _=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[jt]||null)_=p.formAction;else if(md(h)!==null)continue}else _=p.action;typeof _=="function"?a[u+1]=_:(a.splice(u,3),u-=3),Vv(a)}}}function pd(i){this._internalRoot=i}Mu.prototype.render=pd.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=$t();Iv(a,u,i,r,null,null)},Mu.prototype.unmount=pd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;i.tag===0&&Ms(),Iv(i.current,2,null,i,null,null),gu(),r[rs]=null}};function Mu(i){this._internalRoot=i}Mu.prototype.unstable_scheduleHydration=function(i){if(i){var r=lp();i={blockedOn:null,target:i,priority:r};for(var a=0;a<zi.length&&r!==0&&r<zi[a].priority;a++);zi.splice(a,0,i),a===0&&Ov(i)}};var Pv=e.version;if(Pv!=="19.0.0")throw Error(s(527,Pv,"19.0.0"));G.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=z(r),i=i!==null?ie(i):null,i=i===null?null:i.stateNode,i};var xb={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,findFiberByHostInstance:gr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{pa=Vu.inject(xb),Ft=Vu}catch{}}return mo.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,u="",h=Zy,f=Jy,p=e_,_=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(p=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(_=r.unstable_transitionCallbacks)),r=bv(i,1,!1,null,null,a,u,h,f,p,_,null),i[rs]=r.current,Jf(i.nodeType===8?i.parentNode:i),new pd(r)},mo.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var u=!1,h="",f=Zy,p=Jy,_=e_,A=null,R=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks),a.formState!==void 0&&(R=a.formState)),r=bv(i,1,!0,r,a??null,u,h,f,p,_,A,R),r.context=Rv(null),a=r.current,u=$t(),h=Ni(u),h.callback=null,Di(a,h,u),r.current.lanes=u,_a(r,u),xn(r),i[rs]=r.current,Jf(i),new Mu(r)},mo.version="19.0.0",mo}var Gv;function qb(){if(Gv)return vd.exports;Gv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vd.exports=Bb(),vd.exports}var Hb=qb();const Fb=CE(Hb);var Gb=NE();/**
 * @remix-run/router v1.14.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xo(){return xo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},xo.apply(this,arguments)}var Xi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xi||(Xi={}));const Qv="popstate";function Qb(t){t===void 0&&(t={});function e(s,o){let{pathname:l,search:c,hash:m}=s.location;return Qd("",{pathname:l,search:c,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ju(o)}return Yb(e,n,null,t)}function Xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Kb(){return Math.random().toString(36).substr(2,8)}function Kv(t,e){return{usr:t.state,key:t.key,idx:e}}function Qd(t,e,n,s){return n===void 0&&(n=null),xo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?sa(e):e,{state:n,key:e&&e.key||s||Kb()})}function Ju(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function sa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function Yb(t,e,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,m=Xi.Pop,d=null,g=y();g==null&&(g=0,c.replaceState(xo({},c.state,{idx:g}),""));function y(){return(c.state||{idx:null}).idx}function E(){m=Xi.Pop;let N=y(),H=N==null?null:N-g;g=N,d&&d({action:m,location:M.location,delta:H})}function T(N,H){m=Xi.Push;let $=Qd(M.location,N,H);g=y()+1;let ee=Kv($,g),pe=M.createHref($);try{c.pushState(ee,"",pe)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;o.location.assign(pe)}l&&d&&d({action:m,location:M.location,delta:1})}function w(N,H){m=Xi.Replace;let $=Qd(M.location,N,H);g=y();let ee=Kv($,g),pe=M.createHref($);c.replaceState(ee,"",pe),l&&d&&d({action:m,location:M.location,delta:0})}function C(N){let H=o.location.origin!=="null"?o.location.origin:o.location.href,$=typeof N=="string"?N:Ju(N);return Xe(H,"No window.location.(origin|href) available to create URL for href: "+$),new URL($,H)}let M={get action(){return m},get location(){return t(o,c)},listen(N){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(Qv,E),d=N,()=>{o.removeEventListener(Qv,E),d=null}},createHref(N){return e(o,N)},createURL:C,encodeLocation(N){let H=C(N);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:T,replace:w,go(N){return c.go(N)}};return M}var Yv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Yv||(Yv={}));function Xb(t,e,n){n===void 0&&(n="/");let s=typeof e=="string"?sa(e):e,o=xm(s.pathname||"/",n);if(o==null)return null;let l=DE(t);$b(l);let c=null;for(let m=0;c==null&&m<l.length;++m)c=sR(l[m],lR(o));return c}function DE(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(l,c,m)=>{let d={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};d.relativePath.startsWith("/")&&(Xe(d.relativePath.startsWith(s),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(s.length));let g=Wi([s,d.relativePath]),y=n.concat(d);l.children&&l.children.length>0&&(Xe(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),DE(l.children,e,y,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:iR(g,l.index),routesMeta:y})};return t.forEach((l,c)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))o(l,c);else for(let d of xE(l.path))o(l,c,d)}),e}function xE(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=xE(s.join("/")),m=[];return m.push(...c.map(d=>d===""?l:[l,d].join("/"))),o&&m.push(...c),m.map(d=>t.startsWith("/")&&d===""?"/":d)}function $b(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Wb=/^:\w+$/,Zb=3,Jb=2,eR=1,tR=10,nR=-2,Xv=t=>t==="*";function iR(t,e){let n=t.split("/"),s=n.length;return n.some(Xv)&&(s+=nR),e&&(s+=Jb),n.filter(o=>!Xv(o)).reduce((o,l)=>o+(Wb.test(l)?Zb:l===""?eR:tR),s)}function rR(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function sR(t,e){let{routesMeta:n}=t,s={},o="/",l=[];for(let c=0;c<n.length;++c){let m=n[c],d=c===n.length-1,g=o==="/"?e:e.slice(o.length)||"/",y=aR({path:m.relativePath,caseSensitive:m.caseSensitive,end:d},g);if(!y)return null;Object.assign(s,y.params);let E=m.route;l.push({params:s,pathname:Wi([o,y.pathname]),pathnameBase:dR(Wi([o,y.pathnameBase])),route:E}),y.pathnameBase!=="/"&&(o=Wi([o,y.pathnameBase]))}return l}function aR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=oR(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,y,E)=>{let{paramName:T,isOptional:w}=y;if(T==="*"){let M=m[E]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const C=m[E];return w&&!C?g[T]=void 0:g[T]=uR(C||"",T),g},{}),pathname:l,pathnameBase:c,pattern:t}}function oR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Dm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(c,m,d)=>(s.push({paramName:m,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function lR(t){try{return decodeURI(t)}catch(e){return Dm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function uR(t,e){try{return decodeURIComponent(t)}catch(n){return Dm(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function xm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function cR(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:o=""}=typeof t=="string"?sa(t):t;return{pathname:n?n.startsWith("/")?n:hR(n,e):e,search:mR(s),hash:gR(o)}}function hR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function wd(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Om(t,e){let n=fR(t);return e?n.map((s,o)=>o===t.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Mm(t,e,n,s){s===void 0&&(s=!1);let o;typeof t=="string"?o=sa(t):(o=xo({},t),Xe(!o.pathname||!o.pathname.includes("?"),wd("?","pathname","search",o)),Xe(!o.pathname||!o.pathname.includes("#"),wd("#","pathname","hash",o)),Xe(!o.search||!o.search.includes("#"),wd("#","search","hash",o)));let l=t===""||o.pathname==="",c=l?"/":o.pathname,m;if(c==null)m=n;else if(s){let E=e.length===0?[]:e[e.length-1].replace(/^\//,"").split("/");if(c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),E.pop();o.pathname=T.join("/")}m="/"+E.join("/")}else{let E=e.length-1;if(c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),E-=1;o.pathname=T.join("/")}m=E>=0?e[E]:"/"}let d=cR(o,m),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(g||y)&&(d.pathname+="/"),d}const Wi=t=>t.join("/").replace(/\/\/+/g,"/"),dR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const OE=["post","put","patch","delete"];new Set(OE);const yR=["get",...OE];new Set(yR);/**
 * React Router v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oo(){return Oo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Oo.apply(this,arguments)}const Vm=O.createContext(null),_R=O.createContext(null),ar=O.createContext(null),Tc=O.createContext(null),or=O.createContext({outlet:null,matches:[],isDataRoute:!1}),ME=O.createContext(null);function vR(t,e){let{relative:n}=e===void 0?{}:e;aa()||Xe(!1);let{basename:s,navigator:o}=O.useContext(ar),{hash:l,pathname:c,search:m}=UE(t,{relative:n}),d=c;return s!=="/"&&(d=c==="/"?s:Wi([s,c])),o.createHref({pathname:d,search:m,hash:l})}function aa(){return O.useContext(Tc)!=null}function tl(){return aa()||Xe(!1),O.useContext(Tc).location}function VE(t){O.useContext(ar).static||O.useLayoutEffect(t)}function PE(){let{isDataRoute:t}=O.useContext(or);return t?OR():ER()}function ER(){aa()||Xe(!1);let t=O.useContext(Vm),{basename:e,future:n,navigator:s}=O.useContext(ar),{matches:o}=O.useContext(or),{pathname:l}=tl(),c=JSON.stringify(Om(o,n.v7_relativeSplatPath)),m=O.useRef(!1);return VE(()=>{m.current=!0}),O.useCallback(function(g,y){if(y===void 0&&(y={}),!m.current)return;if(typeof g=="number"){s.go(g);return}let E=Mm(g,JSON.parse(c),l,y.relative==="path");t==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Wi([e,E.pathname])),(y.replace?s.replace:s.push)(E,y.state,y)},[e,s,c,l,t])}function UE(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=O.useContext(ar),{matches:o}=O.useContext(or),{pathname:l}=tl(),c=JSON.stringify(Om(o,s.v7_relativeSplatPath));return O.useMemo(()=>Mm(t,JSON.parse(c),l,n==="path"),[t,c,l,n])}function TR(t,e){return AR(t,e)}function AR(t,e,n,s){aa()||Xe(!1);let{navigator:o}=O.useContext(ar),{matches:l}=O.useContext(or),c=l[l.length-1],m=c?c.params:{};c&&c.pathname;let d=c?c.pathnameBase:"/";c&&c.route;let g=tl(),y;if(e){var E;let N=typeof e=="string"?sa(e):e;d==="/"||(E=N.pathname)!=null&&E.startsWith(d)||Xe(!1),y=N}else y=g;let T=y.pathname||"/",w=d==="/"?T:T.slice(d.length)||"/",C=Xb(t,{pathname:w}),M=IR(C&&C.map(N=>Object.assign({},N,{params:Object.assign({},m,N.params),pathname:Wi([d,o.encodeLocation?o.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?d:Wi([d,o.encodeLocation?o.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),l,n,s);return e&&M?O.createElement(Tc.Provider,{value:{location:Oo({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Xi.Pop}},M):M}function wR(){let t=xR(),e=pR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:o},n):null,null)}const SR=O.createElement(wR,null);class bR extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?O.createElement(or.Provider,{value:this.props.routeContext},O.createElement(ME.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RR(t){let{routeContext:e,match:n,children:s}=t,o=O.useContext(Vm);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(or.Provider,{value:e},s)}function IR(t,e,n,s){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var l;if((l=n)!=null&&l.errors)t=n.matches;else return null}let c=t,m=(o=n)==null?void 0:o.errors;if(m!=null){let y=c.findIndex(E=>E.route.id&&(m==null?void 0:m[E.route.id]));y>=0||Xe(!1),c=c.slice(0,Math.min(c.length,y+1))}let d=!1,g=-1;if(n&&s&&s.v7_partialHydration)for(let y=0;y<c.length;y++){let E=c[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=y),E.route.loader&&E.route.id&&n.loaderData[E.route.id]===void 0&&(!n.errors||n.errors[E.route.id]===void 0)){d=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}return c.reduceRight((y,E,T)=>{let w,C=!1,M=null,N=null;n&&(w=m&&E.route.id?m[E.route.id]:void 0,M=E.route.errorElement||SR,d&&(g<0&&T===0?(MR("route-fallback"),C=!0,N=null):g===T&&(C=!0,N=E.route.hydrateFallbackElement||null)));let H=e.concat(c.slice(0,T+1)),$=()=>{let ee;return w?ee=M:C?ee=N:E.route.Component?ee=O.createElement(E.route.Component,null):E.route.element?ee=E.route.element:ee=y,O.createElement(RR,{match:E,routeContext:{outlet:y,matches:H,isDataRoute:n!=null},children:ee})};return n&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?O.createElement(bR,{location:n.location,revalidation:n.revalidation,component:M,error:w,children:$(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):$()},null)}var LE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(LE||{}),kE=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kE||{});function CR(t){let e=O.useContext(Vm);return e||Xe(!1),e}function NR(t){let e=O.useContext(_R);return e||Xe(!1),e}function DR(t){let e=O.useContext(or);return e||Xe(!1),e}function jE(t){let e=DR(),n=e.matches[e.matches.length-1];return n.route.id||Xe(!1),n.route.id}function xR(){var t;let e=O.useContext(ME),n=NR(),s=jE();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function OR(){let{router:t}=CR(LE.UseNavigateStable),e=jE(kE.UseNavigateStable),n=O.useRef(!1);return VE(()=>{n.current=!0}),O.useCallback(function(o,l){l===void 0&&(l={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,Oo({fromRouteId:e},l)))},[t,e])}const $v={};function MR(t,e,n){$v[t]||($v[t]=!0)}function Sd(t){let{to:e,replace:n,state:s,relative:o}=t;aa()||Xe(!1);let{future:l,static:c}=O.useContext(ar),{matches:m}=O.useContext(or),{pathname:d}=tl(),g=PE(),y=Mm(e,Om(m,l.v7_relativeSplatPath),d,o==="path"),E=JSON.stringify(y);return O.useEffect(()=>g(JSON.parse(E),{replace:n,state:s,relative:o}),[g,E,o,n,s]),null}function Fi(t){Xe(!1)}function VR(t){let{basename:e="/",children:n=null,location:s,navigationType:o=Xi.Pop,navigator:l,static:c=!1,future:m}=t;aa()&&Xe(!1);let d=e.replace(/^\/*/,"/"),g=O.useMemo(()=>({basename:d,navigator:l,static:c,future:Oo({v7_relativeSplatPath:!1},m)}),[d,m,l,c]);typeof s=="string"&&(s=sa(s));let{pathname:y="/",search:E="",hash:T="",state:w=null,key:C="default"}=s,M=O.useMemo(()=>{let N=xm(y,d);return N==null?null:{location:{pathname:N,search:E,hash:T,state:w,key:C},navigationType:o}},[d,y,E,T,w,C,o]);return M==null?null:O.createElement(ar.Provider,{value:g},O.createElement(Tc.Provider,{children:n,value:M}))}function bd(t){let{children:e,location:n}=t;return TR(Kd(e),n)}new Promise(()=>{});function Kd(t,e){e===void 0&&(e=[]);let n=[];return O.Children.forEach(t,(s,o)=>{if(!O.isValidElement(s))return;let l=[...e,o];if(s.type===O.Fragment){n.push.apply(n,Kd(s.props.children,l));return}s.type!==Fi&&Xe(!1),!s.props.index||!s.props.children||Xe(!1);let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Kd(s.props.children,l)),n.push(c)}),n}/**
 * React Router DOM v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yd(){return Yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Yd.apply(this,arguments)}function PR(t,e){if(t==null)return{};var n={},s=Object.keys(t),o,l;for(l=0;l<s.length;l++)o=s[l],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function UR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LR(t,e){return t.button===0&&(!e||e==="_self")&&!UR(t)}const kR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],jR="startTransition",Wv=Lb[jR];function zR(t){let{basename:e,children:n,future:s,window:o}=t,l=O.useRef();l.current==null&&(l.current=Qb({window:o,v5Compat:!0}));let c=l.current,[m,d]=O.useState({action:c.action,location:c.location}),{v7_startTransition:g}=s||{},y=O.useCallback(E=>{g&&Wv?Wv(()=>d(E)):d(E)},[d,g]);return O.useLayoutEffect(()=>c.listen(y),[c,y]),O.createElement(VR,{basename:e,children:n,location:m.location,navigationType:m.action,navigator:c,future:s})}const BR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mo=O.forwardRef(function(e,n){let{onClick:s,relative:o,reloadDocument:l,replace:c,state:m,target:d,to:g,preventScrollReset:y,unstable_viewTransition:E}=e,T=PR(e,kR),{basename:w}=O.useContext(ar),C,M=!1;if(typeof g=="string"&&qR.test(g)&&(C=g,BR))try{let ee=new URL(window.location.href),pe=g.startsWith("//")?new URL(ee.protocol+g):new URL(g),Y=xm(pe.pathname,w);pe.origin===ee.origin&&Y!=null?g=Y+pe.search+pe.hash:M=!0}catch{}let N=vR(g,{relative:o}),H=HR(g,{replace:c,state:m,target:d,preventScrollReset:y,relative:o,unstable_viewTransition:E});function $(ee){s&&s(ee),ee.defaultPrevented||H(ee)}return O.createElement("a",Yd({},T,{href:C||N,onClick:M||l?s:$,ref:n,target:d}))});var Zv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Zv||(Zv={}));var Jv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Jv||(Jv={}));function HR(t,e){let{target:n,replace:s,state:o,preventScrollReset:l,relative:c,unstable_viewTransition:m}=e===void 0?{}:e,d=PE(),g=tl(),y=UE(t,{relative:c});return O.useCallback(E=>{if(LR(E,n)){E.preventDefault();let T=s!==void 0?s:Ju(g)===Ju(y);d(t,{replace:T,state:o,preventScrollReset:l,relative:c,unstable_viewTransition:m})}},[g,d,y,s,o,n,t,l,c,m])}var e0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},FR=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const o=t[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],c=t[n++],m=t[n++],d=((o&7)<<18|(l&63)<<12|(c&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},BE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<t.length;o+=3){const l=t[o],c=o+1<t.length,m=c?t[o+1]:0,d=o+2<t.length,g=d?t[o+2]:0,y=l>>2,E=(l&3)<<4|m>>4;let T=(m&15)<<2|g>>6,w=g&63;d||(w=64,c||(T=64)),s.push(n[y],n[E],n[T],n[w])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],m=o<t.length?n[t.charAt(o)]:0;++o;const g=o<t.length?n[t.charAt(o)]:64;++o;const E=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||m==null||g==null||E==null)throw new GR;const T=l<<2|m>>4;if(s.push(T),g!==64){const w=m<<4&240|g>>2;if(s.push(w),E!==64){const C=g<<6&192|E;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QR=function(t){const e=zE(t);return BE.encodeByteArray(e,!0)},qE=function(t){return QR(t).replace(/\./g,"")},HE=function(t){try{return BE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=()=>KR().__FIREBASE_DEFAULTS__,XR=()=>{if(typeof process>"u"||typeof e0>"u")return;const t=e0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$R=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&HE(t[1]);return e&&JSON.parse(e)},Pm=()=>{try{return YR()||XR()||$R()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WR=t=>{var e,n;return(n=(e=Pm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},FE=()=>{var t;return(t=Pm())===null||t===void 0?void 0:t.config},GE=t=>{var e;return(e=Pm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function eI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nI(){const t=Dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function iI(){try{return typeof indexedDB=="object"}catch{return!1}}function rI(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="FirebaseError";class pi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=sI,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nl.prototype.create)}}class nl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?aI(l,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new pi(o,m,s)}}function aI(t,e){return t.replace(oI,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const oI=/\{\$([^}]+)}/g;function lI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const l=t[o],c=e[o];if(t0(l)&&t0(c)){if(!Vo(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function t0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function _o(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function vo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function uI(t,e){const n=new cI(t,e);return n.subscribe.bind(n)}class cI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");hI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Rd),o.error===void 0&&(o.error=Rd),o.complete===void 0&&(o.complete=Rd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t){return t&&t._delegate?t._delegate:t}class Hr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new ZR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mI(e))try{this.getOrInitializeService({instanceIdentifier:Lr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Lr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lr){return this.instances.has(e)}getOptions(e=Lr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&c.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:dI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Lr){return this.component?this.component.multipleInstances?e:Lr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dI(t){return t===Lr?void 0:t}function mI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const pI={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},yI=Te.INFO,_I={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},vI=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),o=_I[e];if(o)console[o](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Um{constructor(e){this.name=e,this._logLevel=yI,this._logHandler=vI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const EI=(t,e)=>e.some(n=>t instanceof n);let n0,i0;function TI(){return n0||(n0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AI(){return i0||(i0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QE=new WeakMap,Xd=new WeakMap,KE=new WeakMap,Id=new WeakMap,Lm=new WeakMap;function wI(t){const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Zi(t.result)),o()},c=()=>{s(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&QE.set(n,t)}).catch(()=>{}),Lm.set(e,t),e}function SI(t){if(Xd.has(t))return;const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Xd.set(t,e)}let $d={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bI(t){$d=t($d)}function RI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Cd(this),e,...n);return KE.set(s,e.sort?e.sort():[e]),Zi(s)}:AI().includes(t)?function(...e){return t.apply(Cd(this),e),Zi(QE.get(this))}:function(...e){return Zi(t.apply(Cd(this),e))}}function II(t){return typeof t=="function"?RI(t):(t instanceof IDBTransaction&&SI(t),EI(t,TI())?new Proxy(t,$d):t)}function Zi(t){if(t instanceof IDBRequest)return wI(t);if(Id.has(t))return Id.get(t);const e=II(t);return e!==t&&(Id.set(t,e),Lm.set(e,t)),e}const Cd=t=>Lm.get(t);function CI(t,e,{blocked:n,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(t,e),m=Zi(c);return s&&c.addEventListener("upgradeneeded",d=>{s(Zi(c.result),d.oldVersion,d.newVersion,Zi(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),m.then(d=>{l&&d.addEventListener("close",()=>l()),o&&d.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const NI=["get","getKey","getAll","getAllKeys","count"],DI=["put","add","delete","clear"],Nd=new Map;function r0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nd.get(e))return Nd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=DI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||NI.includes(n)))return;const l=async function(c,...m){const d=this.transaction(c,o?"readwrite":"readonly");let g=d.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&d.done]))[0]};return Nd.set(e,l),l}bI(t=>({...t,get:(e,n,s)=>r0(e,n)||t.get(e,n,s),has:(e,n)=>!!r0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function OI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wd="@firebase/app",s0="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new Um("@firebase/app"),MI="@firebase/app-compat",VI="@firebase/analytics-compat",PI="@firebase/analytics",UI="@firebase/app-check-compat",LI="@firebase/app-check",kI="@firebase/auth",jI="@firebase/auth-compat",zI="@firebase/database",BI="@firebase/database-compat",qI="@firebase/functions",HI="@firebase/functions-compat",FI="@firebase/installations",GI="@firebase/installations-compat",QI="@firebase/messaging",KI="@firebase/messaging-compat",YI="@firebase/performance",XI="@firebase/performance-compat",$I="@firebase/remote-config",WI="@firebase/remote-config-compat",ZI="@firebase/storage",JI="@firebase/storage-compat",eC="@firebase/firestore",tC="@firebase/firestore-compat",nC="firebase",iC="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="[DEFAULT]",rC={[Wd]:"fire-core",[MI]:"fire-core-compat",[PI]:"fire-analytics",[VI]:"fire-analytics-compat",[LI]:"fire-app-check",[UI]:"fire-app-check-compat",[kI]:"fire-auth",[jI]:"fire-auth-compat",[zI]:"fire-rtdb",[BI]:"fire-rtdb-compat",[qI]:"fire-fn",[HI]:"fire-fn-compat",[FI]:"fire-iid",[GI]:"fire-iid-compat",[QI]:"fire-fcm",[KI]:"fire-fcm-compat",[YI]:"fire-perf",[XI]:"fire-perf-compat",[$I]:"fire-rc",[WI]:"fire-rc-compat",[ZI]:"fire-gcs",[JI]:"fire-gcs-compat",[eC]:"fire-fst",[tC]:"fire-fst-compat","fire-js":"fire-js",[nC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=new Map,Jd=new Map;function sC(t,e){try{t.container.addComponent(e)}catch(n){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $s(t){const e=t.name;if(Jd.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;Jd.set(e,t);for(const n of ec.values())sC(n,t);return!0}function km(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ji=new nl("app","Firebase",aC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=iC;function YE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Zd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Ji.create("bad-app-name",{appName:String(o)});if(n||(n=FE()),!n)throw Ji.create("no-options");const l=ec.get(o);if(l){if(Vo(n,l.options)&&Vo(s,l.config))return l;throw Ji.create("duplicate-app",{appName:o})}const c=new gI(o);for(const d of Jd.values())c.addComponent(d);const m=new oC(n,s,c);return ec.set(o,m),m}function lC(t=Zd){const e=ec.get(t);if(!e&&t===Zd&&FE())return YE();if(!e)throw Ji.create("no-app",{appName:t});return e}function er(t,e,n){var s;let o=(s=rC[t])!==null&&s!==void 0?s:t;n&&(o+=`-${n}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const m=[`Unable to register library "${o}" with version "${e}":`];l&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&m.push("and"),c&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(m.join(" "));return}$s(new Hr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="firebase-heartbeat-database",cC=1,Po="firebase-heartbeat-store";let Dd=null;function XE(){return Dd||(Dd=CI(uC,cC,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Po)}}}).catch(t=>{throw Ji.create("idb-open",{originalErrorMessage:t.message})})),Dd}async function hC(t){try{return await(await XE()).transaction(Po).objectStore(Po).get($E(t))}catch(e){if(e instanceof pi)Fr.warn(e.message);else{const n=Ji.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fr.warn(n.message)}}}async function a0(t,e){try{const s=(await XE()).transaction(Po,"readwrite");await s.objectStore(Po).put(e,$E(t)),await s.done}catch(n){if(n instanceof pi)Fr.warn(n.message);else{const s=Ji.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fr.warn(s.message)}}}function $E(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=1024,dC=30*24*60*60*1e3;class mC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=o0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)))return this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const m=new Date(c.date).valueOf();return Date.now()-m<=dC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=o0(),{heartbeatsToSend:s,unsentEntries:o}=gC(this._heartbeatsCache.heartbeats),l=qE(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}}function o0(){return new Date().toISOString().substring(0,10)}function gC(t,e=fC){const n=[];let s=t.slice();for(const o of t){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),l0(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),l0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class pC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iI()?rI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return a0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return a0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function l0(t){return qE(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t){$s(new Hr("platform-logger",e=>new xI(e),"PRIVATE")),$s(new Hr("heartbeat",e=>new mC(e),"PRIVATE")),er(Wd,s0,t),er(Wd,s0,"esm2017"),er("fire-js","")}yC("");var _C="firebase",vC="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er(_C,vC,"app");var EC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B,jm=jm||{},oe=EC||self;function Ac(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function wc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function TC(t,e,n){return t.call.apply(t.bind,arguments)}function AC(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,s),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function Ct(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ct=TC:Ct=AC,Ct.apply(null,arguments)}function Pu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function dt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(s,o,l){for(var c=Array(arguments.length-2),m=2;m<arguments.length;m++)c[m-2]=arguments[m];return e.prototype[o].apply(s,c)}}function lr(){this.s=this.s,this.o=this.o}var wC=0;lr.prototype.s=!1;lr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),wC!=0)};lr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const WE=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function zm(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function u0(t,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(Ac(s)){const o=t.length||0,l=s.length||0;t.length=o+l;for(let c=0;c<l;c++)t[o+c]=s[c]}else t.push(s)}}function Nt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Nt.prototype.h=function(){this.defaultPrevented=!0};var SC=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};oe.addEventListener("test",n,e),oe.removeEventListener("test",n,e)}catch{}return t}();function Uo(t){return/^[\s\xa0]*$/.test(t)}function Sc(){var t=oe.navigator;return t&&(t=t.userAgent)?t:""}function On(t){return Sc().indexOf(t)!=-1}function Bm(t){return Bm[" "](t),t}Bm[" "]=function(){};function bC(t,e){var n=_N;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var RC=On("Opera"),Ws=On("Trident")||On("MSIE"),ZE=On("Edge"),em=ZE||Ws,JE=On("Gecko")&&!(Sc().toLowerCase().indexOf("webkit")!=-1&&!On("Edge"))&&!(On("Trident")||On("MSIE"))&&!On("Edge"),IC=Sc().toLowerCase().indexOf("webkit")!=-1&&!On("Edge");function eT(){var t=oe.document;return t?t.documentMode:void 0}var tm;e:{var xd="",Od=function(){var t=Sc();if(JE)return/rv:([^\);]+)(\)|;)/.exec(t);if(ZE)return/Edge\/([\d\.]+)/.exec(t);if(Ws)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(IC)return/WebKit\/(\S+)/.exec(t);if(RC)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Od&&(xd=Od?Od[1]:""),Ws){var Md=eT();if(Md!=null&&Md>parseFloat(xd)){tm=String(Md);break e}}tm=xd}var nm;if(oe.document&&Ws){var c0=eT();nm=c0||parseInt(tm,10)||void 0}else nm=void 0;var CC=nm;function Lo(t,e){if(Nt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(JE){e:{try{Bm(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:NC[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Lo.$.h.call(this)}}dt(Lo,Nt);var NC={2:"touch",3:"pen",4:"mouse"};Lo.prototype.h=function(){Lo.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var bc="closure_listenable_"+(1e6*Math.random()|0),DC=0;function xC(t,e,n,s,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=o,this.key=++DC,this.fa=this.ia=!1}function Rc(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function qm(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function OC(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function tT(t){const e={};for(const n in t)e[n]=t[n];return e}const h0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nT(t,e){let n,s;for(let o=1;o<arguments.length;o++){s=arguments[o];for(n in s)t[n]=s[n];for(let l=0;l<h0.length;l++)n=h0[l],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function Ic(t){this.src=t,this.g={},this.h=0}Ic.prototype.add=function(t,e,n,s,o){var l=t.toString();t=this.g[l],t||(t=this.g[l]=[],this.h++);var c=rm(t,e,s,o);return-1<c?(e=t[c],n||(e.ia=!1)):(e=new xC(e,this.src,l,!!s,o),e.ia=n,t.push(e)),e};function im(t,e){var n=e.type;if(n in t.g){var s=t.g[n],o=WE(s,e),l;(l=0<=o)&&Array.prototype.splice.call(s,o,1),l&&(Rc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function rm(t,e,n,s){for(var o=0;o<t.length;++o){var l=t[o];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==s)return o}return-1}var Hm="closure_lm_"+(1e6*Math.random()|0),Vd={};function iT(t,e,n,s,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)iT(t,e[l],n,s,o);return null}return n=aT(n),t&&t[bc]?t.O(e,n,wc(s)?!!s.capture:!1,o):MC(t,e,n,!1,s,o)}function MC(t,e,n,s,o,l){if(!e)throw Error("Invalid event type");var c=wc(o)?!!o.capture:!!o,m=Gm(t);if(m||(t[Hm]=m=new Ic(t)),n=m.add(e,n,s,c,l),n.proxy)return n;if(s=VC(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)SC||(o=c),o===void 0&&(o=!1),t.addEventListener(e.toString(),s,o);else if(t.attachEvent)t.attachEvent(sT(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function VC(){function t(n){return e.call(t.src,t.listener,n)}const e=PC;return t}function rT(t,e,n,s,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)rT(t,e[l],n,s,o);else s=wc(s)?!!s.capture:!!s,n=aT(n),t&&t[bc]?(t=t.i,e=String(e).toString(),e in t.g&&(l=t.g[e],n=rm(l,n,s,o),-1<n&&(Rc(l[n]),Array.prototype.splice.call(l,n,1),l.length==0&&(delete t.g[e],t.h--)))):t&&(t=Gm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=rm(e,n,s,o)),(n=-1<t?e[t]:null)&&Fm(n))}function Fm(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[bc])im(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(sT(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=Gm(e))?(im(n,t),n.h==0&&(n.src=null,e[Hm]=null)):Rc(t)}}}function sT(t){return t in Vd?Vd[t]:Vd[t]="on"+t}function PC(t,e){if(t.fa)t=!0;else{e=new Lo(e,this);var n=t.listener,s=t.la||t.src;t.ia&&Fm(t),t=n.call(s,e)}return t}function Gm(t){return t=t[Hm],t instanceof Ic?t:null}var Pd="__closure_events_fn_"+(1e9*Math.random()>>>0);function aT(t){return typeof t=="function"?t:(t[Pd]||(t[Pd]=function(e){return t.handleEvent(e)}),t[Pd])}function ft(){lr.call(this),this.i=new Ic(this),this.S=this,this.J=null}dt(ft,lr);ft.prototype[bc]=!0;ft.prototype.removeEventListener=function(t,e,n,s){rT(this,t,e,n,s)};function Et(t,e){var n,s=t.J;if(s)for(n=[];s;s=s.J)n.push(s);if(t=t.S,s=e.type||e,typeof e=="string")e=new Nt(e,t);else if(e instanceof Nt)e.target=e.target||t;else{var o=e;e=new Nt(s,t),nT(e,o)}if(o=!0,n)for(var l=n.length-1;0<=l;l--){var c=e.g=n[l];o=Uu(c,s,!0,e)&&o}if(c=e.g=t,o=Uu(c,s,!0,e)&&o,o=Uu(c,s,!1,e)&&o,n)for(l=0;l<n.length;l++)c=e.g=n[l],o=Uu(c,s,!1,e)&&o}ft.prototype.N=function(){if(ft.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)Rc(n[s]);delete t.g[e],t.h--}}this.J=null};ft.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};ft.prototype.P=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function Uu(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var c=e[l];if(c&&!c.fa&&c.capture==n){var m=c.listener,d=c.la||c.src;c.ia&&im(t.i,c),o=m.call(d,s)!==!1&&o}}return o&&!s.defaultPrevented}var Qm=oe.JSON.stringify;class UC{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function LC(){var t=Km;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class kC{constructor(){this.h=this.g=null}add(e,n){const s=oT.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var oT=new UC(()=>new jC,t=>t.reset());class jC{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function zC(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function BC(t){oe.setTimeout(()=>{throw t},0)}let ko,jo=!1,Km=new kC,lT=()=>{const t=oe.Promise.resolve(void 0);ko=()=>{t.then(qC)}};var qC=()=>{for(var t;t=LC();){try{t.h.call(t.g)}catch(n){BC(n)}var e=oT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}jo=!1};function Cc(t,e){ft.call(this),this.h=t||1,this.g=e||oe,this.j=Ct(this.qb,this),this.l=Date.now()}dt(Cc,ft);B=Cc.prototype;B.ga=!1;B.T=null;B.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Et(this,"tick"),this.ga&&(Ym(this),this.start()))}};B.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ym(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}B.N=function(){Cc.$.N.call(this),Ym(this),delete this.g};function Xm(t,e,n){if(typeof t=="function")n&&(t=Ct(t,n));else if(t&&typeof t.handleEvent=="function")t=Ct(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:oe.setTimeout(t,e||0)}function uT(t){t.g=Xm(()=>{t.g=null,t.i&&(t.i=!1,uT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class HC extends lr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:uT(this)}N(){super.N(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zo(t){lr.call(this),this.h=t,this.g={}}dt(zo,lr);var f0=[];function cT(t,e,n,s){Array.isArray(n)||(n&&(f0[0]=n.toString()),n=f0);for(var o=0;o<n.length;o++){var l=iT(e,n[o],s||t.handleEvent,!1,t.h||t);if(!l)break;t.g[l.key]=l}}function hT(t){qm(t.g,function(e,n){this.g.hasOwnProperty(n)&&Fm(e)},t),t.g={}}zo.prototype.N=function(){zo.$.N.call(this),hT(this)};zo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Nc(){this.g=!0}Nc.prototype.Ea=function(){this.g=!1};function FC(t,e,n,s,o,l){t.info(function(){if(t.g)if(l)for(var c="",m=l.split("&"),d=0;d<m.length;d++){var g=m[d].split("=");if(1<g.length){var y=g[0];g=g[1];var E=y.split("_");c=2<=E.length&&E[1]=="type"?c+(y+"="+g+"&"):c+(y+"=redacted&")}}else c=null;else c=l;return"XMLHTTP REQ ("+s+") [attempt "+o+"]: "+e+`
`+n+`
`+c})}function GC(t,e,n,s,o,l,c){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+o+"]: "+e+`
`+n+`
`+l+" "+c})}function Hs(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+KC(t,n)+(s?" "+s:"")})}function QC(t,e){t.info(function(){return"TIMEOUT: "+e})}Nc.prototype.info=function(){};function KC(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var o=s[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if(l!="noop"&&l!="stop"&&l!="close")for(var c=1;c<o.length;c++)o[c]=""}}}}return Qm(n)}catch{return e}}var Wr={},d0=null;function Dc(){return d0=d0||new ft}Wr.Ta="serverreachability";function fT(t){Nt.call(this,Wr.Ta,t)}dt(fT,Nt);function Bo(t){const e=Dc();Et(e,new fT(e))}Wr.STAT_EVENT="statevent";function dT(t,e){Nt.call(this,Wr.STAT_EVENT,t),this.stat=e}dt(dT,Nt);function Pt(t){const e=Dc();Et(e,new dT(e,t))}Wr.Ua="timingevent";function mT(t,e){Nt.call(this,Wr.Ua,t),this.size=e}dt(mT,Nt);function rl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){t()},e)}var xc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $m(){}$m.prototype.h=null;function m0(t){return t.h||(t.h=t.i())}function pT(){}var sl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Wm(){Nt.call(this,"d")}dt(Wm,Nt);function Zm(){Nt.call(this,"c")}dt(Zm,Nt);var sm;function Oc(){}dt(Oc,$m);Oc.prototype.g=function(){return new XMLHttpRequest};Oc.prototype.i=function(){return{}};sm=new Oc;function al(t,e,n,s){this.l=t,this.j=e,this.m=n,this.W=s||1,this.U=new zo(this),this.P=YC,t=em?125:void 0,this.V=new Cc(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new yT}function yT(){this.i=null,this.g="",this.h=!1}var YC=45e3,_T={},am={};B=al.prototype;B.setTimeout=function(t){this.P=t};function om(t,e,n){t.L=1,t.A=Vc(hi(e)),t.u=n,t.S=!0,vT(t,null)}function vT(t,e){t.G=Date.now(),ol(t),t.B=hi(t.A);var n=t.B,s=t.W;Array.isArray(s)||(s=[String(s)]),IT(n.i,"t",s),t.o=0,n=t.l.J,t.h=new yT,t.g=YT(t.l,n?e:null,!t.u),0<t.O&&(t.M=new HC(Ct(t.Pa,t,t.g),t.O)),cT(t.U,t.g,"readystatechange",t.nb),e=t.I?tT(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Bo(),FC(t.j,t.v,t.B,t.m,t.W,t.u)}B.nb=function(t){t=t.target;const e=this.M;e&&Mn(t)==3?e.l():this.Pa(t)};B.Pa=function(t){try{if(t==this.g)e:{const y=Mn(this.g);var e=this.g.Ia();const E=this.g.da();if(!(3>y)&&(y!=3||em||this.g&&(this.h.h||this.g.ja()||_0(this.g)))){this.J||y!=4||e==7||(e==8||0>=E?Bo(3):Bo(2)),Mc(this);var n=this.g.da();this.ca=n;t:if(ET(this)){var s=_0(this.g);t="";var o=s.length,l=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kr(this),bo(this);var c="";break t}this.h.i=new oe.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:l&&e==o-1});s.length=0,this.h.g+=t,this.o=0,c=this.h.g}else c=this.g.ja();if(this.i=n==200,GC(this.j,this.v,this.B,this.m,this.W,y,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,d=this.g;if((m=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Uo(m)){var g=m;break t}}g=null}if(n=g)Hs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lm(this,n);else{this.i=!1,this.s=3,Pt(12),kr(this),bo(this);break e}}this.S?(TT(this,y,c),em&&this.i&&y==3&&(cT(this.U,this.V,"tick",this.mb),this.V.start())):(Hs(this.j,this.m,c,null),lm(this,c)),y==4&&kr(this),this.i&&!this.J&&(y==4?FT(this.l,this):(this.i=!1,ol(this)))}else gN(this.g),n==400&&0<c.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),kr(this),bo(this)}}}catch{}finally{}};function ET(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function TT(t,e,n){let s=!0,o;for(;!t.J&&t.o<n.length;)if(o=XC(t,n),o==am){e==4&&(t.s=4,Pt(14),s=!1),Hs(t.j,t.m,null,"[Incomplete Response]");break}else if(o==_T){t.s=4,Pt(15),Hs(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else Hs(t.j,t.m,o,null),lm(t,o);ET(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Pt(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),rg(e),e.M=!0,Pt(11))):(Hs(t.j,t.m,n,"[Invalid Chunked Response]"),kr(t),bo(t))}B.mb=function(){if(this.g){var t=Mn(this.g),e=this.g.ja();this.o<e.length&&(Mc(this),TT(this,t,e),this.i&&t!=4&&ol(this))}};function XC(t,e){var n=t.o,s=e.indexOf(`
`,n);return s==-1?am:(n=Number(e.substring(n,s)),isNaN(n)?_T:(s+=1,s+n>e.length?am:(e=e.slice(s,s+n),t.o=s+n,e)))}B.cancel=function(){this.J=!0,kr(this)};function ol(t){t.Y=Date.now()+t.P,AT(t,t.P)}function AT(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=rl(Ct(t.lb,t),e)}function Mc(t){t.C&&(oe.clearTimeout(t.C),t.C=null)}B.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(QC(this.j,this.B),this.L!=2&&(Bo(),Pt(17)),kr(this),this.s=2,bo(this)):AT(this,this.Y-t)};function bo(t){t.l.H==0||t.J||FT(t.l,t)}function kr(t){Mc(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ym(t.V),hT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function lm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||um(n.i,t))){if(!t.K&&um(n.i,t)&&n.H==3){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var o=s;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ic(n),kc(n);else break e;ig(n),Pt(18)}}else n.Fa=o[1],0<n.Fa-n.V&&37500>o[2]&&n.G&&n.A==0&&!n.v&&(n.v=rl(Ct(n.ib,n),6e3));if(1>=DT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else jr(n,11)}else if((t.K||n.g==t)&&ic(n),!Uo(e))for(o=n.Ja.g.parse(e),e=0;e<o.length;e++){let g=o[e];if(n.V=g[0],g=g[1],n.H==2)if(g[0]=="c"){n.K=g[1],n.pa=g[2];const y=g[3];y!=null&&(n.ra=y,n.l.info("VER="+n.ra));const E=g[4];E!=null&&(n.Ga=E,n.l.info("SVER="+n.Ga));const T=g[5];T!=null&&typeof T=="number"&&0<T&&(s=1.5*T,n.L=s,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const w=t.g;if(w){const C=w.g?w.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(C){var l=s.i;l.g||C.indexOf("spdy")==-1&&C.indexOf("quic")==-1&&C.indexOf("h2")==-1||(l.j=l.l,l.g=new Set,l.h&&(Jm(l,l.h),l.h=null))}if(s.F){const M=w.g?w.g.getResponseHeader("X-HTTP-Session-Id"):null;M&&(s.Da=M,ke(s.I,s.F,M))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),s=n;var c=t;if(s.wa=KT(s,s.J?s.pa:null,s.Y),c.K){xT(s.i,c);var m=c,d=s.L;d&&m.setTimeout(d),m.C&&(Mc(m),ol(m)),s.g=c}else qT(s);0<n.j.length&&jc(n)}else g[0]!="stop"&&g[0]!="close"||jr(n,7);else n.H==3&&(g[0]=="stop"||g[0]=="close"?g[0]=="stop"?jr(n,7):ng(n):g[0]!="noop"&&n.h&&n.h.Aa(g),n.A=0)}}Bo(4)}catch{}}function $C(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ac(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function WC(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ac(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const s in t)e[n++]=s;return e}}}function wT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ac(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=WC(t),s=$C(t),o=s.length,l=0;l<o;l++)e.call(void 0,s[l],n&&n[l],t)}var ST=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZC(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),o=null;if(0<=s){var l=t[n].substring(0,s);o=t[n].substring(s+1)}else l=t[n];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Br(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Br){this.h=t.h,tc(this,t.j),this.s=t.s,this.g=t.g,nc(this,t.m),this.l=t.l;var e=t.i,n=new qo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),g0(this,n),this.o=t.o}else t&&(e=String(t).match(ST))?(this.h=!1,tc(this,e[1]||"",!0),this.s=Eo(e[2]||""),this.g=Eo(e[3]||"",!0),nc(this,e[4]),this.l=Eo(e[5]||"",!0),g0(this,e[6]||"",!0),this.o=Eo(e[7]||"")):(this.h=!1,this.i=new qo(null,this.h))}Br.prototype.toString=function(){var t=[],e=this.j;e&&t.push(To(e,p0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(To(e,p0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(To(n,n.charAt(0)=="/"?tN:eN,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",To(n,iN)),t.join("")};function hi(t){return new Br(t)}function tc(t,e,n){t.j=n?Eo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function nc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function g0(t,e,n){e instanceof qo?(t.i=e,rN(t.i,t.h)):(n||(e=To(e,nN)),t.i=new qo(e,t.h))}function ke(t,e,n){t.i.set(e,n)}function Vc(t){return ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Eo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function To(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,JC),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function JC(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var p0=/[#\/\?@]/g,eN=/[#\?:]/g,tN=/[#\?]/g,nN=/[#\?@]/g,iN=/#/g;function qo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ur(t){t.g||(t.g=new Map,t.h=0,t.i&&ZC(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}B=qo.prototype;B.add=function(t,e){ur(this),this.i=null,t=la(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function bT(t,e){ur(t),e=la(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function RT(t,e){return ur(t),e=la(t,e),t.g.has(e)}B.forEach=function(t,e){ur(this),this.g.forEach(function(n,s){n.forEach(function(o){t.call(e,o,s,this)},this)},this)};B.ta=function(){ur(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const o=t[s];for(let l=0;l<o.length;l++)n.push(e[s])}return n};B.Z=function(t){ur(this);let e=[];if(typeof t=="string")RT(this,t)&&(e=e.concat(this.g.get(la(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};B.set=function(t,e){return ur(this),this.i=null,t=la(this,t),RT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};B.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function IT(t,e,n){bT(t,e),0<n.length&&(t.i=null,t.g.set(la(t,e),zm(n)),t.h+=n.length)}B.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const l=encodeURIComponent(String(s)),c=this.Z(s);for(s=0;s<c.length;s++){var o=l;c[s]!==""&&(o+="="+encodeURIComponent(String(c[s]))),t.push(o)}}return this.i=t.join("&")};function la(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function rN(t,e){e&&!t.j&&(ur(t),t.i=null,t.g.forEach(function(n,s){var o=s.toLowerCase();s!=o&&(bT(this,s),IT(this,o,n))},t)),t.j=e}var sN=class{constructor(t,e){this.g=t,this.map=e}};function CT(t){this.l=t||aN,oe.PerformanceNavigationTiming?(t=oe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(oe.g&&oe.g.Ka&&oe.g.Ka()&&oe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var aN=10;function NT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function DT(t){return t.h?1:t.g?t.g.size:0}function um(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Jm(t,e){t.g?t.g.add(e):t.h=e}function xT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}CT.prototype.cancel=function(){if(this.i=OT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function OT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return zm(t.i)}var oN=class{stringify(t){return oe.JSON.stringify(t,void 0)}parse(t){return oe.JSON.parse(t,void 0)}};function lN(){this.g=new oN}function uN(t,e,n){const s=n||"";try{wT(t,function(o,l){let c=o;wc(o)&&(c=Qm(o)),e.push(s+l+"="+encodeURIComponent(c))})}catch(o){throw e.push(s+"type="+encodeURIComponent("_badmap")),o}}function cN(t,e){const n=new Nc;if(oe.Image){const s=new Image;s.onload=Pu(Lu,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Pu(Lu,n,s,"TestLoadImage: error",!1,e),s.onabort=Pu(Lu,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Pu(Lu,n,s,"TestLoadImage: timeout",!1,e),oe.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function Lu(t,e,n,s,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(s)}catch{}}function Pc(t){this.l=t.ec||null,this.j=t.ob||!1}dt(Pc,$m);Pc.prototype.g=function(){return new Uc(this.l,this.j)};Pc.prototype.i=function(t){return function(){return t}}({});function Uc(t,e){ft.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=eg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dt(Uc,ft);var eg=0;B=Uc.prototype;B.open=function(t,e){if(this.readyState!=eg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ho(this)};B.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||oe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ll(this)),this.readyState=eg};B.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ho(this)),this.g&&(this.readyState=3,Ho(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;MT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function MT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}B.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ll(this):Ho(this),this.readyState==3&&MT(this)}};B.Za=function(t){this.g&&(this.response=this.responseText=t,ll(this))};B.Ya=function(t){this.g&&(this.response=t,ll(this))};B.ka=function(){this.g&&ll(this)};function ll(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ho(t)}B.setRequestHeader=function(t,e){this.v.append(t,e)};B.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};B.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ho(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Uc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var hN=oe.JSON.parse;function Ke(t){ft.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=VT,this.L=this.M=!1}dt(Ke,ft);var VT="",fN=/^https?$/i,dN=["POST","PUT"];B=Ke.prototype;B.Oa=function(t){this.M=t};B.ha=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():sm.g(),this.C=this.u?m0(this.u):m0(sm),this.g.onreadystatechange=Ct(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(l){y0(this,l);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var o in s)n.set(o,s[o]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const l of s.keys())n.set(l,s.get(l));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(l=>l.toLowerCase()=="content-type"),o=oe.FormData&&t instanceof oe.FormData,!(0<=WE(dN,e))||s||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,c]of n)this.g.setRequestHeader(l,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{LT(this),0<this.B&&((this.L=mN(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ct(this.ua,this)):this.A=Xm(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(l){y0(this,l)}};function mN(t){return Ws&&typeof t.timeout=="number"&&t.ontimeout!==void 0}B.ua=function(){typeof jm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Et(this,"timeout"),this.abort(8))};function y0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,PT(t),Lc(t)}function PT(t){t.F||(t.F=!0,Et(t,"complete"),Et(t,"error"))}B.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Et(this,"complete"),Et(this,"abort"),Lc(this))};B.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lc(this,!0)),Ke.$.N.call(this)};B.La=function(){this.s||(this.G||this.v||this.l?UT(this):this.kb())};B.kb=function(){UT(this)};function UT(t){if(t.h&&typeof jm<"u"&&(!t.C[1]||Mn(t)!=4||t.da()!=2)){if(t.v&&Mn(t)==4)Xm(t.La,0,t);else if(Et(t,"readystatechange"),Mn(t)==4){t.h=!1;try{const c=t.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=c===0){var o=String(t.I).match(ST)[1]||null;!o&&oe.self&&oe.self.location&&(o=oe.self.location.protocol.slice(0,-1)),s=!fN.test(o?o.toLowerCase():"")}n=s}if(n)Et(t,"complete"),Et(t,"success");else{t.m=6;try{var l=2<Mn(t)?t.g.statusText:""}catch{l=""}t.j=l+" ["+t.da()+"]",PT(t)}}finally{Lc(t)}}}}function Lc(t,e){if(t.g){LT(t);const n=t.g,s=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Et(t,"ready");try{n.onreadystatechange=s}catch{}}}function LT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(oe.clearTimeout(t.A),t.A=null)}B.isActive=function(){return!!this.g};function Mn(t){return t.g?t.g.readyState:0}B.da=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}};B.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};B.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),hN(e)}};function _0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case VT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function gN(t){const e={};t=(t.g&&2<=Mn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let s=0;s<t.length;s++){if(Uo(t[s]))continue;var n=zC(t[s]);const o=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const l=e[o]||[];e[o]=l,l.push(n)}OC(e,function(s){return s.join(", ")})}B.Ia=function(){return this.m};B.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function kT(t){let e="";return qm(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function tg(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=kT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ke(t,e,n))}function go(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function jT(t){this.Ga=0,this.j=[],this.l=new Nc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=go("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=go("baseRetryDelayMs",5e3,t),this.hb=go("retryDelaySeedMs",1e4,t),this.eb=go("forwardChannelMaxRetries",2,t),this.xa=go("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new CT(t&&t.concurrentRequestLimit),this.Ja=new lN,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}B=jT.prototype;B.ra=8;B.H=1;function ng(t){if(zT(t),t.H==3){var e=t.W++,n=hi(t.I);if(ke(n,"SID",t.K),ke(n,"RID",e),ke(n,"TYPE","terminate"),ul(t,n),e=new al(t,t.l,e),e.L=2,e.A=Vc(hi(n)),n=!1,oe.navigator&&oe.navigator.sendBeacon)try{n=oe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&oe.Image&&(new Image().src=e.A,n=!0),n||(e.g=YT(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ol(e)}QT(t)}function kc(t){t.g&&(rg(t),t.g.cancel(),t.g=null)}function zT(t){kc(t),t.u&&(oe.clearTimeout(t.u),t.u=null),ic(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&oe.clearTimeout(t.m),t.m=null)}function jc(t){if(!NT(t.i)&&!t.m){t.m=!0;var e=t.Na;ko||lT(),jo||(ko(),jo=!0),Km.add(e,t),t.C=0}}function pN(t,e){return DT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=rl(Ct(t.Na,t,e),GT(t,t.C)),t.C++,!0)}B.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const o=new al(this,this.l,t);let l=this.s;if(this.U&&(l?(l=tT(l),nT(l,this.U)):l=this.U),this.o!==null||this.O||(o.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var s=this.j[n];if("__data__"in s.map&&(s=s.map.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=BT(this,o,e),n=hi(this.I),ke(n,"RID",t),ke(n,"CVER",22),this.F&&ke(n,"X-HTTP-Session-Id",this.F),ul(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(kT(l)))+"&"+e:this.o&&tg(n,this.o,l)),Jm(this.i,o),this.bb&&ke(n,"TYPE","init"),this.P?(ke(n,"$req",e),ke(n,"SID","null"),o.aa=!0,om(o,n,null)):om(o,n,e),this.H=2}}else this.H==3&&(t?v0(this,t):this.j.length==0||NT(this.i)||v0(this))};function v0(t,e){var n;e?n=e.m:n=t.W++;const s=hi(t.I);ke(s,"SID",t.K),ke(s,"RID",n),ke(s,"AID",t.V),ul(t,s),t.o&&t.s&&tg(s,t.o,t.s),n=new al(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=BT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Jm(t.i,n),om(n,s,e)}function ul(t,e){t.na&&qm(t.na,function(n,s){ke(e,s,n)}),t.h&&wT({},function(n,s){ke(e,s,n)})}function BT(t,e,n){n=Math.min(t.j.length,n);var s=t.h?Ct(t.h.Va,t.h,t):null;e:{var o=t.j;let l=-1;for(;;){const c=["count="+n];l==-1?0<n?(l=o[0].g,c.push("ofs="+l)):l=0:c.push("ofs="+l);let m=!0;for(let d=0;d<n;d++){let g=o[d].g;const y=o[d].map;if(g-=l,0>g)l=Math.max(0,o[d].g-100),m=!1;else try{uN(y,c,"req"+g+"_")}catch{s&&s(y)}}if(m){s=c.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,s}function qT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ko||lT(),jo||(ko(),jo=!0),Km.add(e,t),t.A=0}}function ig(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=rl(Ct(t.Ma,t),GT(t,t.A)),t.A++,!0)}B.Ma=function(){if(this.u=null,HT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=rl(Ct(this.jb,this),t)}};B.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Pt(10),kc(this),HT(this))};function rg(t){t.B!=null&&(oe.clearTimeout(t.B),t.B=null)}function HT(t){t.g=new al(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=hi(t.wa);ke(e,"RID","rpc"),ke(e,"SID",t.K),ke(e,"AID",t.V),ke(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ke(e,"TO",t.qa),ke(e,"TYPE","xmlhttp"),ul(t,e),t.o&&t.s&&tg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Vc(hi(e)),n.u=null,n.S=!0,vT(n,t)}B.ib=function(){this.v!=null&&(this.v=null,kc(this),ig(this),Pt(19))};function ic(t){t.v!=null&&(oe.clearTimeout(t.v),t.v=null)}function FT(t,e){var n=null;if(t.g==e){ic(t),rg(t),t.g=null;var s=2}else if(um(t.i,e))n=e.F,xT(t.i,e),s=1;else return;if(t.H!=0){if(e.i)if(s==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var o=t.C;s=Dc(),Et(s,new mT(s,n)),jc(t)}else qT(t);else if(o=e.s,o==3||o==0&&0<e.ca||!(s==1&&pN(t,e)||s==2&&ig(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:jr(t,5);break;case 4:jr(t,10);break;case 3:jr(t,6);break;default:jr(t,2)}}}function GT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function jr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var s=Ct(t.pb,t);n||(n=new Br("//www.google.com/images/cleardot.gif"),oe.location&&oe.location.protocol=="http"||tc(n,"https"),Vc(n)),cN(n.toString(),s)}else Pt(2);t.H=0,t.h&&t.h.za(e),QT(t),zT(t)}B.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Pt(2)):(this.l.info("Failed to ping google.com"),Pt(1))};function QT(t){if(t.H=0,t.ma=[],t.h){const e=OT(t.i);(e.length!=0||t.j.length!=0)&&(u0(t.ma,e),u0(t.ma,t.j),t.i.i.length=0,zm(t.j),t.j.length=0),t.h.ya()}}function KT(t,e,n){var s=n instanceof Br?hi(n):new Br(n);if(s.g!="")e&&(s.g=e+"."+s.g),nc(s,s.m);else{var o=oe.location;s=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var l=new Br(null);s&&tc(l,s),e&&(l.g=e),o&&nc(l,o),n&&(l.l=n),s=l}return n=t.F,e=t.Da,n&&e&&ke(s,n,e),ke(s,"VER",t.ra),ul(t,s),s}function YT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ke(new Pc({ob:n})):new Ke(t.va),e.Oa(t.J),e}B.isActive=function(){return!!this.h&&this.h.isActive(this)};function XT(){}B=XT.prototype;B.Ba=function(){};B.Aa=function(){};B.za=function(){};B.ya=function(){};B.isActive=function(){return!0};B.Va=function(){};function rc(){if(Ws&&!(10<=Number(CC)))throw Error("Environmental error: no available transport.")}rc.prototype.g=function(t,e){return new Zt(t,e)};function Zt(t,e){ft.call(this),this.g=new jT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Uo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Uo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ua(this)}dt(Zt,ft);Zt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Pt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=KT(t,null,t.Y),jc(t)};Zt.prototype.close=function(){ng(this.g)};Zt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Qm(t),t=n);e.j.push(new sN(e.fb++,t)),e.H==3&&jc(e)};Zt.prototype.N=function(){this.g.h=null,delete this.j,ng(this.g),delete this.g,Zt.$.N.call(this)};function $T(t){Wm.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}dt($T,Wm);function WT(){Zm.call(this),this.status=1}dt(WT,Zm);function ua(t){this.g=t}dt(ua,XT);ua.prototype.Ba=function(){Et(this.g,"a")};ua.prototype.Aa=function(t){Et(this.g,new $T(t))};ua.prototype.za=function(t){Et(this.g,new WT)};ua.prototype.ya=function(){Et(this.g,"b")};function yN(){this.blockSize=-1}function En(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}dt(En,yN);En.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ud(t,e,n){n||(n=0);var s=Array(16);if(typeof e=="string")for(var o=0;16>o;++o)s[o]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(o=0;16>o;++o)s[o]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],o=t.g[2];var l=t.g[3],c=e+(l^n&(o^l))+s[0]+3614090360&4294967295;e=n+(c<<7&4294967295|c>>>25),c=l+(o^e&(n^o))+s[1]+3905402710&4294967295,l=e+(c<<12&4294967295|c>>>20),c=o+(n^l&(e^n))+s[2]+606105819&4294967295,o=l+(c<<17&4294967295|c>>>15),c=n+(e^o&(l^e))+s[3]+3250441966&4294967295,n=o+(c<<22&4294967295|c>>>10),c=e+(l^n&(o^l))+s[4]+4118548399&4294967295,e=n+(c<<7&4294967295|c>>>25),c=l+(o^e&(n^o))+s[5]+1200080426&4294967295,l=e+(c<<12&4294967295|c>>>20),c=o+(n^l&(e^n))+s[6]+2821735955&4294967295,o=l+(c<<17&4294967295|c>>>15),c=n+(e^o&(l^e))+s[7]+4249261313&4294967295,n=o+(c<<22&4294967295|c>>>10),c=e+(l^n&(o^l))+s[8]+1770035416&4294967295,e=n+(c<<7&4294967295|c>>>25),c=l+(o^e&(n^o))+s[9]+2336552879&4294967295,l=e+(c<<12&4294967295|c>>>20),c=o+(n^l&(e^n))+s[10]+4294925233&4294967295,o=l+(c<<17&4294967295|c>>>15),c=n+(e^o&(l^e))+s[11]+2304563134&4294967295,n=o+(c<<22&4294967295|c>>>10),c=e+(l^n&(o^l))+s[12]+1804603682&4294967295,e=n+(c<<7&4294967295|c>>>25),c=l+(o^e&(n^o))+s[13]+4254626195&4294967295,l=e+(c<<12&4294967295|c>>>20),c=o+(n^l&(e^n))+s[14]+2792965006&4294967295,o=l+(c<<17&4294967295|c>>>15),c=n+(e^o&(l^e))+s[15]+1236535329&4294967295,n=o+(c<<22&4294967295|c>>>10),c=e+(o^l&(n^o))+s[1]+4129170786&4294967295,e=n+(c<<5&4294967295|c>>>27),c=l+(n^o&(e^n))+s[6]+3225465664&4294967295,l=e+(c<<9&4294967295|c>>>23),c=o+(e^n&(l^e))+s[11]+643717713&4294967295,o=l+(c<<14&4294967295|c>>>18),c=n+(l^e&(o^l))+s[0]+3921069994&4294967295,n=o+(c<<20&4294967295|c>>>12),c=e+(o^l&(n^o))+s[5]+3593408605&4294967295,e=n+(c<<5&4294967295|c>>>27),c=l+(n^o&(e^n))+s[10]+38016083&4294967295,l=e+(c<<9&4294967295|c>>>23),c=o+(e^n&(l^e))+s[15]+3634488961&4294967295,o=l+(c<<14&4294967295|c>>>18),c=n+(l^e&(o^l))+s[4]+3889429448&4294967295,n=o+(c<<20&4294967295|c>>>12),c=e+(o^l&(n^o))+s[9]+568446438&4294967295,e=n+(c<<5&4294967295|c>>>27),c=l+(n^o&(e^n))+s[14]+3275163606&4294967295,l=e+(c<<9&4294967295|c>>>23),c=o+(e^n&(l^e))+s[3]+4107603335&4294967295,o=l+(c<<14&4294967295|c>>>18),c=n+(l^e&(o^l))+s[8]+1163531501&4294967295,n=o+(c<<20&4294967295|c>>>12),c=e+(o^l&(n^o))+s[13]+2850285829&4294967295,e=n+(c<<5&4294967295|c>>>27),c=l+(n^o&(e^n))+s[2]+4243563512&4294967295,l=e+(c<<9&4294967295|c>>>23),c=o+(e^n&(l^e))+s[7]+1735328473&4294967295,o=l+(c<<14&4294967295|c>>>18),c=n+(l^e&(o^l))+s[12]+2368359562&4294967295,n=o+(c<<20&4294967295|c>>>12),c=e+(n^o^l)+s[5]+4294588738&4294967295,e=n+(c<<4&4294967295|c>>>28),c=l+(e^n^o)+s[8]+2272392833&4294967295,l=e+(c<<11&4294967295|c>>>21),c=o+(l^e^n)+s[11]+1839030562&4294967295,o=l+(c<<16&4294967295|c>>>16),c=n+(o^l^e)+s[14]+4259657740&4294967295,n=o+(c<<23&4294967295|c>>>9),c=e+(n^o^l)+s[1]+2763975236&4294967295,e=n+(c<<4&4294967295|c>>>28),c=l+(e^n^o)+s[4]+1272893353&4294967295,l=e+(c<<11&4294967295|c>>>21),c=o+(l^e^n)+s[7]+4139469664&4294967295,o=l+(c<<16&4294967295|c>>>16),c=n+(o^l^e)+s[10]+3200236656&4294967295,n=o+(c<<23&4294967295|c>>>9),c=e+(n^o^l)+s[13]+681279174&4294967295,e=n+(c<<4&4294967295|c>>>28),c=l+(e^n^o)+s[0]+3936430074&4294967295,l=e+(c<<11&4294967295|c>>>21),c=o+(l^e^n)+s[3]+3572445317&4294967295,o=l+(c<<16&4294967295|c>>>16),c=n+(o^l^e)+s[6]+76029189&4294967295,n=o+(c<<23&4294967295|c>>>9),c=e+(n^o^l)+s[9]+3654602809&4294967295,e=n+(c<<4&4294967295|c>>>28),c=l+(e^n^o)+s[12]+3873151461&4294967295,l=e+(c<<11&4294967295|c>>>21),c=o+(l^e^n)+s[15]+530742520&4294967295,o=l+(c<<16&4294967295|c>>>16),c=n+(o^l^e)+s[2]+3299628645&4294967295,n=o+(c<<23&4294967295|c>>>9),c=e+(o^(n|~l))+s[0]+4096336452&4294967295,e=n+(c<<6&4294967295|c>>>26),c=l+(n^(e|~o))+s[7]+1126891415&4294967295,l=e+(c<<10&4294967295|c>>>22),c=o+(e^(l|~n))+s[14]+2878612391&4294967295,o=l+(c<<15&4294967295|c>>>17),c=n+(l^(o|~e))+s[5]+4237533241&4294967295,n=o+(c<<21&4294967295|c>>>11),c=e+(o^(n|~l))+s[12]+1700485571&4294967295,e=n+(c<<6&4294967295|c>>>26),c=l+(n^(e|~o))+s[3]+2399980690&4294967295,l=e+(c<<10&4294967295|c>>>22),c=o+(e^(l|~n))+s[10]+4293915773&4294967295,o=l+(c<<15&4294967295|c>>>17),c=n+(l^(o|~e))+s[1]+2240044497&4294967295,n=o+(c<<21&4294967295|c>>>11),c=e+(o^(n|~l))+s[8]+1873313359&4294967295,e=n+(c<<6&4294967295|c>>>26),c=l+(n^(e|~o))+s[15]+4264355552&4294967295,l=e+(c<<10&4294967295|c>>>22),c=o+(e^(l|~n))+s[6]+2734768916&4294967295,o=l+(c<<15&4294967295|c>>>17),c=n+(l^(o|~e))+s[13]+1309151649&4294967295,n=o+(c<<21&4294967295|c>>>11),c=e+(o^(n|~l))+s[4]+4149444226&4294967295,e=n+(c<<6&4294967295|c>>>26),c=l+(n^(e|~o))+s[11]+3174756917&4294967295,l=e+(c<<10&4294967295|c>>>22),c=o+(e^(l|~n))+s[2]+718787259&4294967295,o=l+(c<<15&4294967295|c>>>17),c=n+(l^(o|~e))+s[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(o+(c<<21&4294967295|c>>>11))&4294967295,t.g[2]=t.g[2]+o&4294967295,t.g[3]=t.g[3]+l&4294967295}En.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,s=this.m,o=this.h,l=0;l<e;){if(o==0)for(;l<=n;)Ud(this,t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<e;)if(s[o++]=t.charCodeAt(l++),o==this.blockSize){Ud(this,s),o=0;break}}else for(;l<e;)if(s[o++]=t[l++],o==this.blockSize){Ud(this,s),o=0;break}}this.h=o,this.i+=e};En.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)t[n++]=this.g[e]>>>s&255;return t};function De(t,e){this.h=e;for(var n=[],s=!0,o=t.length-1;0<=o;o--){var l=t[o]|0;s&&l==e||(n[o]=l,s=!1)}this.g=n}var _N={};function sg(t){return-128<=t&&128>t?bC(t,function(e){return new De([e|0],0>e?-1:0)}):new De([t|0],0>t?-1:0)}function Vn(t){if(isNaN(t)||!isFinite(t))return Gs;if(0>t)return _t(Vn(-t));for(var e=[],n=1,s=0;t>=n;s++)e[s]=t/n|0,n*=cm;return new De(e,0)}function ZT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return _t(ZT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Vn(Math.pow(e,8)),s=Gs,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),e);8>l?(l=Vn(Math.pow(e,l)),s=s.R(l).add(Vn(c))):(s=s.R(n),s=s.add(Vn(c)))}return s}var cm=4294967296,Gs=sg(0),hm=sg(1),E0=sg(16777216);B=De.prototype;B.ea=function(){if(dn(this))return-_t(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);t+=(0<=s?s:cm+s)*e,e*=cm}return t};B.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ai(this))return"0";if(dn(this))return"-"+_t(this).toString(t);for(var e=Vn(Math.pow(t,6)),n=this,s="";;){var o=ac(n,e).g;n=sc(n,o.R(e));var l=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=o,ai(n))return l+s;for(;6>l.length;)l="0"+l;s=l+s}};B.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ai(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function dn(t){return t.h==-1}B.X=function(t){return t=sc(this,t),dn(t)?-1:ai(t)?0:1};function _t(t){for(var e=t.g.length,n=[],s=0;s<e;s++)n[s]=~t.g[s];return new De(n,~t.h).add(hm)}B.abs=function(){return dn(this)?_t(this):this};B.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0,o=0;o<=e;o++){var l=s+(this.D(o)&65535)+(t.D(o)&65535),c=(l>>>16)+(this.D(o)>>>16)+(t.D(o)>>>16);s=c>>>16,l&=65535,c&=65535,n[o]=c<<16|l}return new De(n,n[n.length-1]&-2147483648?-1:0)};function sc(t,e){return t.add(_t(e))}B.R=function(t){if(ai(this)||ai(t))return Gs;if(dn(this))return dn(t)?_t(this).R(_t(t)):_t(_t(this).R(t));if(dn(t))return _t(this.R(_t(t)));if(0>this.X(E0)&&0>t.X(E0))return Vn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var o=0;o<t.g.length;o++){var l=this.D(s)>>>16,c=this.D(s)&65535,m=t.D(o)>>>16,d=t.D(o)&65535;n[2*s+2*o]+=c*d,ku(n,2*s+2*o),n[2*s+2*o+1]+=l*d,ku(n,2*s+2*o+1),n[2*s+2*o+1]+=c*m,ku(n,2*s+2*o+1),n[2*s+2*o+2]+=l*m,ku(n,2*s+2*o+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new De(n,0)};function ku(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function po(t,e){this.g=t,this.h=e}function ac(t,e){if(ai(e))throw Error("division by zero");if(ai(t))return new po(Gs,Gs);if(dn(t))return e=ac(_t(t),e),new po(_t(e.g),_t(e.h));if(dn(e))return e=ac(t,_t(e)),new po(_t(e.g),e.h);if(30<t.g.length){if(dn(t)||dn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=hm,s=e;0>=s.X(t);)n=T0(n),s=T0(s);var o=js(n,1),l=js(s,1);for(s=js(s,2),n=js(n,2);!ai(s);){var c=l.add(s);0>=c.X(t)&&(o=o.add(n),l=c),s=js(s,1),n=js(n,1)}return e=sc(t,o.R(e)),new po(o,e)}for(o=Gs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),s=Math.ceil(Math.log(n)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),l=Vn(n),c=l.R(e);dn(c)||0<c.X(t);)n-=s,l=Vn(n),c=l.R(e);ai(l)&&(l=hm),o=o.add(l),t=sc(t,c)}return new po(o,t)}B.gb=function(t){return ac(this,t).h};B.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&t.D(s);return new De(n,this.h&t.h)};B.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|t.D(s);return new De(n,this.h|t.h)};B.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^t.D(s);return new De(n,this.h^t.h)};function T0(t){for(var e=t.g.length+1,n=[],s=0;s<e;s++)n[s]=t.D(s)<<1|t.D(s-1)>>>31;return new De(n,t.h)}function js(t,e){var n=e>>5;e%=32;for(var s=t.g.length-n,o=[],l=0;l<s;l++)o[l]=0<e?t.D(l+n)>>>e|t.D(l+n+1)<<32-e:t.D(l+n);return new De(o,t.h)}rc.prototype.createWebChannel=rc.prototype.g;Zt.prototype.send=Zt.prototype.u;Zt.prototype.open=Zt.prototype.m;Zt.prototype.close=Zt.prototype.close;xc.NO_ERROR=0;xc.TIMEOUT=8;xc.HTTP_ERROR=6;gT.COMPLETE="complete";pT.EventType=sl;sl.OPEN="a";sl.CLOSE="b";sl.ERROR="c";sl.MESSAGE="d";ft.prototype.listen=ft.prototype.O;Ke.prototype.listenOnce=Ke.prototype.P;Ke.prototype.getLastError=Ke.prototype.Sa;Ke.prototype.getLastErrorCode=Ke.prototype.Ia;Ke.prototype.getStatus=Ke.prototype.da;Ke.prototype.getResponseJson=Ke.prototype.Wa;Ke.prototype.getResponseText=Ke.prototype.ja;Ke.prototype.send=Ke.prototype.ha;Ke.prototype.setWithCredentials=Ke.prototype.Oa;En.prototype.digest=En.prototype.l;En.prototype.reset=En.prototype.reset;En.prototype.update=En.prototype.j;De.prototype.add=De.prototype.add;De.prototype.multiply=De.prototype.R;De.prototype.modulo=De.prototype.gb;De.prototype.compare=De.prototype.X;De.prototype.toNumber=De.prototype.ea;De.prototype.toString=De.prototype.toString;De.prototype.getBits=De.prototype.D;De.fromNumber=Vn;De.fromString=ZT;var vN=function(){return new rc},EN=function(){return Dc()},Ld=xc,TN=gT,AN=Wr,A0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ju=pT,wN=Ke,SN=En,Qs=De;const w0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ca="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new Um("@firebase/firestore");function yo(){return Gr.logLevel}function K(t,...e){if(Gr.logLevel<=Te.DEBUG){const n=e.map(ag);Gr.debug(`Firestore (${ca}): ${t}`,...n)}}function fi(t,...e){if(Gr.logLevel<=Te.ERROR){const n=e.map(ag);Gr.error(`Firestore (${ca}): ${t}`,...n)}}function Fo(t,...e){if(Gr.logLevel<=Te.WARN){const n=e.map(ag);Gr.warn(`Firestore (${ca}): ${t}`,...n)}}function ag(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t="Unexpected state"){const e=`FIRESTORE (${ca}) INTERNAL ASSERTION FAILED: `+t;throw fi(e),new Error(e)}function Le(t,e){t||ae()}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qt.UNAUTHENTICATED))}shutdown(){}}class IN{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const o=d=>this.i!==s?(s=this.i,n(d)):Promise.resolve();let l=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ci,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const d=l;e.enqueueRetryable(async()=>{await d.promise,await o(this.currentUser)})},m=d=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(d=>m(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?m(d):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ci)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Le(typeof s.accessToken=="string"),new bN(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new qt(e)}}class CN{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class NN{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new CN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const s=l=>{l.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,K("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string"),this.R=n.token,new DN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=ON(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<n&&(s+=e.charAt(o[l]%e.length))}return s}}function Ce(t,e){return t<e?-1:t>e?1:0}function Zs(t,e,n){return t.length===e.length&&t.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new F(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new it(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new it(0,0))}static max(){return new ue(new it(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n,s){n===void 0?n=0:n>e.length&&ae(),s===void 0?s=e.length-n:s>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Go.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Go?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const l=e.get(o),c=n.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class je extends Go{construct(e,n,s){return new je(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new F(L.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new je(n)}static emptyPath(){return new je([])}}const MN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends Go{construct(e,n,s){return new vt(e,n,s)}static isValidIdentifier(e){return MN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vt(["__name__"])}static fromServerFormat(e){const n=[];let s="",o=0;const l=()=>{if(s.length===0)throw new F(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new F(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new F(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(l(),o++)}if(l(),c)throw new F(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(je.fromString(e))}static fromName(e){return new J(je.fromString(e).popFirst(5))}static empty(){return new J(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new je(e.slice()))}}function VN(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,o=ue.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new nr(o,J.empty(),e)}function PN(t){return new nr(t.readTime,t.key,-1)}class nr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new nr(ue.min(),J.empty(),-1)}static max(){return new nr(ue.max(),J.empty(),-1)}}function UN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==LN)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,s)=>{n(e)})}static reject(e){return new j((n,s)=>{s(e)})}static waitFor(e){return new j((n,s)=>{let o=0,l=0,c=!1;e.forEach(m=>{++o,m.next(()=>{++l,c&&l===o&&n()},d=>s(d))}),c=!0,l===o&&n()})}static or(e){let n=j.resolve(!1);for(const s of e)n=n.next(o=>o?j.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,l)=>{s.push(n.call(this,o,l))}),this.waitFor(s)}static mapArray(e,n){return new j((s,o)=>{const l=e.length,c=new Array(l);let m=0;for(let d=0;d<l;d++){const g=d;n(e[g]).next(y=>{c[g]=y,++m,m===l&&s(c)},y=>o(y))}})}static doWhile(e,n){return new j((s,o)=>{const l=()=>{e()===!0?n().next(()=>{l()},o):s()};l()})}}function hl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.se(s),this.oe=s=>n.writeSequenceNumber(s))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}og._e=-1;function zc(t){return t==null}function oc(t){return t===0&&1/t==-1/0}function jN(t){return typeof t=="number"&&Number.isInteger(t)&&!oc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.comparator=e,this.root=n||yt.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yt.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zu(this.root,e,this.comparator,!0)}}class zu{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yt{constructor(e,n,s,o,l){this.key=e,this.value=n,this.color=s??yt.RED,this.left=o??yt.EMPTY,this.right=l??yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,l){return new yt(e??this.key,n??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,s),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();const e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}}yt.EMPTY=null,yt.RED=!0,yt.BLACK=!1;yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,s,o,l){return this}insert(e,n,s){return new yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new b0(this.data.getIterator())}getIteratorFrom(e){return new b0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tt(this.comparator);return n.data=e,n}}class b0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new Wt([])}unionWith(e){let n=new Tt(vt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Wt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new tA("Invalid base64 string: "+l):l}}(e);return new xt(n)}static fromUint8Array(e){const n=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const zN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(t){if(Le(!!t),typeof t=="string"){let e=0;const n=zN.exec(t);if(Le(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qr(t){return typeof t=="string"?xt.fromBase64String(t):xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ug(t){const e=t.mapValue.fields.__previous_value__;return lg(e)?ug(e):e}function Qo(t){const e=ir(t.mapValue.fields.__local_write_time__.timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n,s,o,l,c,m,d,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=d,this.useFetchStreams=g}}class Ko{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ko("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ko&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu={mapValue:{}};function Kr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lg(t)?4:qN(t)?9007199254740991:10:ae()}function jn(t,e){if(t===e)return!0;const n=Kr(t);if(n!==Kr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qo(t).isEqual(Qo(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=ir(o.timestampValue),m=ir(l.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,l){return Qr(o.bytesValue).isEqual(Qr(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,l){return tt(o.geoPointValue.latitude)===tt(l.geoPointValue.latitude)&&tt(o.geoPointValue.longitude)===tt(l.geoPointValue.longitude)}(t,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return tt(o.integerValue)===tt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=tt(o.doubleValue),m=tt(l.doubleValue);return c===m?oc(c)===oc(m):isNaN(c)&&isNaN(m)}return!1}(t,e);case 9:return Zs(t.arrayValue.values||[],e.arrayValue.values||[],jn);case 10:return function(o,l){const c=o.mapValue.fields||{},m=l.mapValue.fields||{};if(S0(c)!==S0(m))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(m[d]===void 0||!jn(c[d],m[d])))return!1;return!0}(t,e);default:return ae()}}function Yo(t,e){return(t.values||[]).find(n=>jn(n,e))!==void 0}function Js(t,e){if(t===e)return 0;const n=Kr(t),s=Kr(e);if(n!==s)return Ce(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return function(l,c){const m=tt(l.integerValue||l.doubleValue),d=tt(c.integerValue||c.doubleValue);return m<d?-1:m>d?1:m===d?0:isNaN(m)?isNaN(d)?0:-1:1}(t,e);case 3:return R0(t.timestampValue,e.timestampValue);case 4:return R0(Qo(t),Qo(e));case 5:return Ce(t.stringValue,e.stringValue);case 6:return function(l,c){const m=Qr(l),d=Qr(c);return m.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const m=l.split("/"),d=c.split("/");for(let g=0;g<m.length&&g<d.length;g++){const y=Ce(m[g],d[g]);if(y!==0)return y}return Ce(m.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const m=Ce(tt(l.latitude),tt(c.latitude));return m!==0?m:Ce(tt(l.longitude),tt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(l,c){const m=l.values||[],d=c.values||[];for(let g=0;g<m.length&&g<d.length;++g){const y=Js(m[g],d[g]);if(y)return y}return Ce(m.length,d.length)}(t.arrayValue,e.arrayValue);case 10:return function(l,c){if(l===Bu.mapValue&&c===Bu.mapValue)return 0;if(l===Bu.mapValue)return 1;if(c===Bu.mapValue)return-1;const m=l.fields||{},d=Object.keys(m),g=c.fields||{},y=Object.keys(g);d.sort(),y.sort();for(let E=0;E<d.length&&E<y.length;++E){const T=Ce(d[E],y[E]);if(T!==0)return T;const w=Js(m[d[E]],g[y[E]]);if(w!==0)return w}return Ce(d.length,y.length)}(t.mapValue,e.mapValue);default:throw ae()}}function R0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=ir(t),s=ir(e),o=Ce(n.seconds,s.seconds);return o!==0?o:Ce(n.nanos,s.nanos)}function ea(t){return fm(t)}function fm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=ir(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",o=!0;for(const l of n.values||[])o?o=!1:s+=",",s+=fm(l);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${fm(n.fields[c])}`;return o+"}"}(t.mapValue):ae()}function I0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dm(t){return!!t&&"integerValue"in t}function cg(t){return!!t&&"arrayValue"in t}function C0(t){return!!t&&"nullValue"in t}function N0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gu(t){return!!t&&"mapValue"in t}function Ro(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Zr(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ro(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ro(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.value=e}static empty(){return new Ht({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Gu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ro(n)}setAll(e){let n=vt.emptyPath(),s={},o=[];e.forEach((c,m)=>{if(!n.isImmediateParentOf(m)){const d=this.getFieldsMap(n);this.applyChanges(d,s,o),s={},o=[],n=m.popLast()}c?s[m.lastSegment()]=Ro(c):o.push(m.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,s,o)}delete(e){const n=this.field(e.popLast());Gu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Gu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Zr(n,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new Ht(Ro(this.value))}}function nA(t){const e=[];return Zr(t.fields,(n,s)=>{const o=new vt([n]);if(Gu(s)){const l=nA(s.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new Wt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n,s,o,l,c,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=m}static newInvalidDocument(e){return new It(e,0,ue.min(),ue.min(),ue.min(),Ht.empty(),0)}static newFoundDocument(e,n,s,o){return new It(e,1,n,ue.min(),s,o,0)}static newNoDocument(e,n){return new It(e,2,n,ue.min(),ue.min(),Ht.empty(),0)}static newUnknownDocument(e,n){return new It(e,3,n,ue.min(),ue.min(),Ht.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n){this.position=e,this.inclusive=n}}function D0(t,e,n){let s=0;for(let o=0;o<t.position.length;o++){const l=e[o],c=t.position[o];if(l.field.isKeyField()?s=J.comparator(J.fromName(c.referenceValue),n.key):s=Js(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function x0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n="asc"){this.field=e,this.dir=n}}function HN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{}class nt extends iA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new GN(e,n,s):n==="array-contains"?new YN(e,s):n==="in"?new XN(e,s):n==="not-in"?new $N(e,s):n==="array-contains-any"?new WN(e,s):new nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new QN(e,s):new KN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Js(n,this.value)):n!==null&&Kr(this.value)===Kr(n)&&this.matchesComparison(Js(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tn extends iA{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Tn(e,n)}matches(e){return rA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function rA(t){return t.op==="and"}function sA(t){return FN(t)&&rA(t)}function FN(t){for(const e of t.filters)if(e instanceof Tn)return!1;return!0}function mm(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+ea(t.value);if(sA(t))return t.filters.map(e=>mm(e)).join(",");{const e=t.filters.map(n=>mm(n)).join(",");return`${t.op}(${e})`}}function aA(t,e){return t instanceof nt?function(s,o){return o instanceof nt&&s.op===o.op&&s.field.isEqual(o.field)&&jn(s.value,o.value)}(t,e):t instanceof Tn?function(s,o){return o instanceof Tn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,c,m)=>l&&aA(c,o.filters[m]),!0):!1}(t,e):void ae()}function oA(t){return t instanceof nt?function(n){return`${n.field.canonicalString()} ${n.op} ${ea(n.value)}`}(t):t instanceof Tn?function(n){return n.op.toString()+" {"+n.getFilters().map(oA).join(" ,")+"}"}(t):"Filter"}class GN extends nt{constructor(e,n,s){super(e,n,s),this.key=J.fromName(s.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class QN extends nt{constructor(e,n){super(e,"in",n),this.keys=lA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class KN extends nt{constructor(e,n){super(e,"not-in",n),this.keys=lA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>J.fromName(s.referenceValue))}class YN extends nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cg(n)&&Yo(n.arrayValue,this.value)}}class XN extends nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yo(this.value.arrayValue,n)}}class $N extends nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Yo(this.value.arrayValue,n)}}class WN extends nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Yo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,n=null,s=[],o=[],l=null,c=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=m,this.ce=null}}function O0(t,e=null,n=[],s=[],o=null,l=null,c=null){return new ZN(t,e,n,s,o,l,c)}function hg(t){const e=he(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>mm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),zc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ea(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ea(s)).join(",")),e.ce=n}return e.ce}function fg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!x0(t.startAt,e.startAt)&&x0(t.endAt,e.endAt)}function gm(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n=null,s=[],o=[],l=null,c="F",m=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=m,this.endAt=d,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function JN(t,e,n,s,o,l,c,m){return new ha(t,e,n,s,o,l,c,m)}function dg(t){return new ha(t)}function M0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uA(t){return t.collectionGroup!==null}function Io(t){const e=he(t);if(e.le===null){e.le=[];const n=new Set;for(const l of e.explicitOrderBy)e.le.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Tt(vt.comparator);return c.filters.forEach(d=>{d.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.le.push(new Xo(l,s))}),n.has(vt.keyField().canonicalString())||e.le.push(new Xo(vt.keyField(),s))}return e.le}function Pn(t){const e=he(t);return e.he||(e.he=e2(e,Io(t))),e.he}function e2(t,e){if(t.limitType==="F")return O0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Xo(o.field,l)});const n=t.endAt?new lc(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new lc(t.startAt.position,t.startAt.inclusive):null;return O0(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function pm(t,e){const n=t.filters.concat([e]);return new ha(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ym(t,e,n){return new ha(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bc(t,e){return fg(Pn(t),Pn(e))&&t.limitType===e.limitType}function cA(t){return`${hg(Pn(t))}|lt:${t.limitType}`}function zs(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>oA(o)).join(", ")}]`),zc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>ea(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>ea(o)).join(",")),`Target(${s})`}(Pn(t))}; limitType=${t.limitType})`}function qc(t,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):J.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(t,e)&&function(s,o){for(const l of Io(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(t,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(t,e)&&function(s,o){return!(s.startAt&&!function(c,m,d){const g=D0(c,m,d);return c.inclusive?g<=0:g<0}(s.startAt,Io(s),o)||s.endAt&&!function(c,m,d){const g=D0(c,m,d);return c.inclusive?g>=0:g>0}(s.endAt,Io(s),o))}(t,e)}function t2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hA(t){return(e,n)=>{let s=!1;for(const o of Io(t)){const l=n2(o,e,n);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function n2(t,e,n){const s=t.field.isKeyField()?J.comparator(e.key,n.key):function(l,c,m){const d=c.data.field(l),g=m.data.field(l);return d!==null&&g!==null?Js(d,g):ae()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Zr(this.inner,(n,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return eA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=new He(J.comparator);function di(){return i2}const fA=new He(J.comparator);function Ao(...t){let e=fA;for(const n of t)e=e.insert(n.key,n);return e}function dA(t){let e=fA;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function zr(){return Co()}function mA(){return Co()}function Co(){return new fa(t=>t.toString(),(t,e)=>t.isEqual(e))}const r2=new He(J.comparator),s2=new Tt(J.comparator);function ve(...t){let e=s2;for(const n of t)e=e.add(n);return e}const a2=new Tt(Ce);function o2(){return a2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oc(e)?"-0":e}}function pA(t){return{integerValue:""+t}}function l2(t,e){return jN(e)?pA(e):gA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(){this._=void 0}}function u2(t,e,n){return t instanceof uc?function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&lg(l)&&(l=ug(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(n,e):t instanceof $o?_A(t,e):t instanceof Wo?vA(t,e):function(o,l){const c=yA(o,l),m=V0(c)+V0(o.Ie);return dm(c)&&dm(o.Ie)?pA(m):gA(o.serializer,m)}(t,e)}function c2(t,e,n){return t instanceof $o?_A(t,e):t instanceof Wo?vA(t,e):n}function yA(t,e){return t instanceof cc?function(s){return dm(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class uc extends Hc{}class $o extends Hc{constructor(e){super(),this.elements=e}}function _A(t,e){const n=EA(e);for(const s of t.elements)n.some(o=>jn(o,s))||n.push(s);return{arrayValue:{values:n}}}class Wo extends Hc{constructor(e){super(),this.elements=e}}function vA(t,e){let n=EA(e);for(const s of t.elements)n=n.filter(o=>!jn(o,s));return{arrayValue:{values:n}}}class cc extends Hc{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function V0(t){return tt(t.integerValue||t.doubleValue)}function EA(t){return cg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function h2(t,e){return t.field.isEqual(e.field)&&function(s,o){return s instanceof $o&&o instanceof $o||s instanceof Wo&&o instanceof Wo?Zs(s.elements,o.elements,jn):s instanceof cc&&o instanceof cc?jn(s.Ie,o.Ie):s instanceof uc&&o instanceof uc}(t.transform,e.transform)}class f2{constructor(e,n){this.version=e,this.transformResults=n}}class mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mn}static exists(e){return new mn(void 0,e)}static updateTime(e){return new mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Fc{}function TA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mg(t.key,mn.none()):new fl(t.key,t.data,mn.none());{const n=t.data,s=Ht.empty();let o=new Tt(vt.comparator);for(let l of e.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new cr(t.key,s,new Wt(o.toArray()),mn.none())}}function d2(t,e,n){t instanceof fl?function(o,l,c){const m=o.value.clone(),d=U0(o.fieldTransforms,l,c.transformResults);m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(t,e,n):t instanceof cr?function(o,l,c){if(!Qu(o.precondition,l))return void l.convertToUnknownDocument(c.version);const m=U0(o.fieldTransforms,l,c.transformResults),d=l.data;d.setAll(AA(o)),d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function No(t,e,n,s){return t instanceof fl?function(l,c,m,d){if(!Qu(l.precondition,c))return m;const g=l.value.clone(),y=L0(l.fieldTransforms,d,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(t,e,n,s):t instanceof cr?function(l,c,m,d){if(!Qu(l.precondition,c))return m;const g=L0(l.fieldTransforms,d,c),y=c.data;return y.setAll(AA(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(t,e,n,s):function(l,c,m){return Qu(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m}(t,e,n)}function m2(t,e){let n=null;for(const s of t.fieldTransforms){const o=e.data.field(s.field),l=yA(s.transform,o||null);l!=null&&(n===null&&(n=Ht.empty()),n.set(s.field,l))}return n||null}function P0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Zs(s,o,(l,c)=>h2(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fl extends Fc{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cr extends Fc{constructor(e,n,s,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function AA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function U0(t,e,n){const s=new Map;Le(t.length===n.length);for(let o=0;o<n.length;o++){const l=t[o],c=l.transform,m=e.data.field(l.field);s.set(l.field,c2(c,m,n[o]))}return s}function L0(t,e,n){const s=new Map;for(const o of t){const l=o.transform,c=n.data.field(o.field);s.set(o.field,u2(l,c,e))}return s}class mg extends Fc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g2 extends Fc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&d2(l,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=No(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=No(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=mA();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let m=this.applyToLocalView(c,l.mutatedFields);m=n.has(o.key)?null:m;const d=TA(c,m);d!==null&&s.set(o.key,d),c.isValidDocument()||c.convertToNoDocument(ue.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&Zs(this.mutations,e.mutations,(n,s)=>P0(n,s))&&Zs(this.baseMutations,e.baseMutations,(n,s)=>P0(n,s))}}class gg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Le(e.mutations.length===s.length);let o=function(){return r2}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new gg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,Se;function v2(t){switch(t){default:return ae();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function wA(t){if(t===void 0)return fi("GRPC error has no .code"),L.UNKNOWN;switch(t){case et.OK:return L.OK;case et.CANCELLED:return L.CANCELLED;case et.UNKNOWN:return L.UNKNOWN;case et.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case et.INTERNAL:return L.INTERNAL;case et.UNAVAILABLE:return L.UNAVAILABLE;case et.UNAUTHENTICATED:return L.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case et.NOT_FOUND:return L.NOT_FOUND;case et.ALREADY_EXISTS:return L.ALREADY_EXISTS;case et.PERMISSION_DENIED:return L.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case et.ABORTED:return L.ABORTED;case et.OUT_OF_RANGE:return L.OUT_OF_RANGE;case et.UNIMPLEMENTED:return L.UNIMPLEMENTED;case et.DATA_LOSS:return L.DATA_LOSS;default:return ae()}}(Se=et||(et={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=new Qs([4294967295,4294967295],0);function k0(t){const e=E2().encode(t),n=new SN;return n.update(e),new Uint8Array(n.digest())}function j0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Qs([n,s],0),new Qs([o,l],0)]}class pg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new wo(`Invalid padding: ${n}`);if(s<0)throw new wo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new wo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new wo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Qs.fromNumber(this.Te)}de(e,n,s){let o=e.add(n.multiply(Qs.fromNumber(s)));return o.compare(T2)===1&&(o=new Qs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=k0(e),[s,o]=j0(n);for(let l=0;l<this.hashCount;l++){const c=this.de(s,o,l);if(!this.Ae(c))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new pg(l,o,n);return s.forEach(m=>c.insert(m)),c}insert(e){if(this.Te===0)return;const n=k0(e),[s,o]=j0(n);for(let l=0;l<this.hashCount;l++){const c=this.de(s,o,l);this.Re(c)}}Re(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n,s,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,dl.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Gc(ue.min(),o,new He(Ce),di(),ve())}}class dl{constructor(e,n,s,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new dl(s,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n,s,o){this.Ve=e,this.removedTargetIds=n,this.key=s,this.me=o}}class SA{constructor(e,n){this.targetId=e,this.fe=n}}class bA{constructor(e,n,s=xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class z0{constructor(){this.ge=0,this.pe=q0(),this.ye=xt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ve(),n=ve(),s=ve();return this.pe.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ae()}}),new dl(this.ye,this.we,e,n,s)}Fe(){this.Se=!1,this.pe=q0()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Le(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class A2{constructor(e){this.Le=e,this.ke=new Map,this.qe=di(),this.Qe=B0(),this.Ke=new He(Ce)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(n);break;case 3:this.je(n)&&(s.Be(),s.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.Ce(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((s,o)=>{this.je(o)&&n(o)})}Je(e){const n=e.targetId,s=e.fe.count,o=this.Ye(n);if(o){const l=o.target;if(gm(l))if(s===0){const c=new J(l.path);this.We(n,c,It.newNoDocument(c,ue.min()))}else Le(s===1);else{const c=this.Ze(n);if(c!==s){const m=this.Xe(e),d=m?this.et(m,e,c):1;if(d!==0){this.He(n);const g=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=n;let c,m;try{c=Qr(s).toUint8Array()}catch(d){if(d instanceof tA)return Fo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{m=new pg(c,o,l)}catch(d){return Fo(d instanceof wo?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return m.Te===0?null:m}et(e,n,s){return n.fe.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let o=0;return s.forEach(l=>{const c=this.Le.nt(),m=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.We(n,l,null),o++)}),o}it(e){const n=new Map;this.ke.forEach((l,c)=>{const m=this.Ye(c);if(m){if(l.current&&gm(m.target)){const d=new J(m.target.path);this.qe.get(d)!==null||this.st(c,d)||this.We(c,d,It.newNoDocument(d,e))}l.De&&(n.set(c,l.ve()),l.Fe())}});let s=ve();this.Qe.forEach((l,c)=>{let m=!0;c.forEachWhile(d=>{const g=this.Ye(d);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(l))}),this.qe.forEach((l,c)=>c.setReadTime(e));const o=new Gc(e,n,this.Ke,this.qe,s);return this.qe=di(),this.Qe=B0(),this.Ke=new He(Ce),o}Ue(e,n){if(!this.je(e))return;const s=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,s),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const o=this.ze(e);this.st(e,n)?o.Me(n,1):o.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),s&&(this.qe=this.qe.insert(n,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new z0,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Tt(Ce),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new z0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function B0(){return new He(J.comparator)}function q0(){return new He(J.comparator)}const w2={asc:"ASCENDING",desc:"DESCENDING"},S2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b2={and:"AND",or:"OR"};class R2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _m(t,e){return t.useProto3Json||zc(e)?e:{value:e}}function hc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function I2(t,e){return hc(t,e.toTimestamp())}function Un(t){return Le(!!t),ue.fromTimestamp(function(n){const s=ir(n);return new it(s.seconds,s.nanos)}(t))}function yg(t,e){return function(s){return new je(["projects",s.projectId,"databases",s.database])}(t).child("documents").child(e).canonicalString()}function IA(t){const e=je.fromString(t);return Le(xA(e)),e}function vm(t,e){return yg(t.databaseId,e.path)}function kd(t,e){const n=IA(e);if(n.get(1)!==t.databaseId.projectId)throw new F(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(CA(n))}function Em(t,e){return yg(t.databaseId,e)}function C2(t){const e=IA(t);return e.length===4?je.emptyPath():CA(e)}function Tm(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CA(t){return Le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function H0(t,e,n){return{name:vm(t,e),fields:n.value.mapValue.fields}}function N2(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,y){return g.useProto3Json?(Le(y===void 0||typeof y=="string"),xt.fromBase64String(y||"")):(Le(y===void 0||y instanceof Uint8Array),xt.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&function(g){const y=g.code===void 0?L.UNKNOWN:wA(g.code);return new F(y,g.message||"")}(c);n=new bA(s,o,l,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=kd(t,s.document.name),l=Un(s.document.updateTime),c=s.document.createTime?Un(s.document.createTime):ue.min(),m=new Ht({mapValue:{fields:s.document.fields}}),d=It.newFoundDocument(o,l,c,m),g=s.targetIds||[],y=s.removedTargetIds||[];n=new Ku(g,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=kd(t,s.document),l=s.readTime?Un(s.readTime):ue.min(),c=It.newNoDocument(o,l),m=s.removedTargetIds||[];n=new Ku([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=kd(t,s.document),l=s.removedTargetIds||[];n=new Ku([],l,o,null)}else{if(!("filter"in e))return ae();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new _2(o,l),m=s.targetId;n=new SA(m,c)}}return n}function D2(t,e){let n;if(e instanceof fl)n={update:H0(t,e.key,e.value)};else if(e instanceof mg)n={delete:vm(t,e.key)};else if(e instanceof cr)n={update:H0(t,e.key,e.data),updateMask:j2(e.fieldMask)};else{if(!(e instanceof g2))return ae();n={verify:vm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const m=c.transform;if(m instanceof uc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof $o)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Wo)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof cc)return{fieldPath:c.field.canonicalString(),increment:m.Ie};throw ae()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:I2(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ae()}(t,e.precondition)),n}function x2(t,e){return t&&t.length>0?(Le(e!==void 0),t.map(n=>function(o,l){let c=o.updateTime?Un(o.updateTime):Un(l);return c.isEqual(ue.min())&&(c=Un(l)),new f2(c,o.transformResults||[])}(n,e))):[]}function O2(t,e){return{documents:[Em(t,e.path)]}}function M2(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=Em(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Em(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const o=function(d){if(d.length!==0)return DA(Tn.create(d,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const l=function(d){if(d.length!==0)return d.map(g=>function(E){return{field:Bs(E.field),direction:U2(E.dir)}}(g))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=_m(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),n}function V2(t){let e=C2(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Le(s===1);const y=n.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(E){const T=NA(E);return T instanceof Tn&&sA(T)?T.getFilters():[T]}(n.where));let c=[];n.orderBy&&(c=function(E){return E.map(T=>function(C){return new Xo(qs(C.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(T))}(n.orderBy));let m=null;n.limit&&(m=function(E){let T;return T=typeof E=="object"?E.value:E,zc(T)?null:T}(n.limit));let d=null;n.startAt&&(d=function(E){const T=!!E.before,w=E.values||[];return new lc(w,T)}(n.startAt));let g=null;return n.endAt&&(g=function(E){const T=!E.before,w=E.values||[];return new lc(w,T)}(n.endAt)),JN(e,o,c,l,m,"F",d,g)}function P2(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=qs(n.unaryFilter.field);return nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=qs(n.unaryFilter.field);return nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=qs(n.unaryFilter.field);return nt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=qs(n.unaryFilter.field);return nt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return nt.create(qs(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Tn.create(n.compositeFilter.filters.map(s=>NA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function U2(t){return w2[t]}function L2(t){return S2[t]}function k2(t){return b2[t]}function Bs(t){return{fieldPath:t.canonicalString()}}function qs(t){return vt.fromServerFormat(t.fieldPath)}function DA(t){return t instanceof nt?function(n){if(n.op==="=="){if(N0(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NAN"}};if(C0(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(N0(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NOT_NAN"}};if(C0(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bs(n.field),op:L2(n.op),value:n.value}}}(t):t instanceof Tn?function(n){const s=n.getFilters().map(o=>DA(o));return s.length===1?s[0]:{compositeFilter:{op:k2(n.op),filters:s}}}(t):ae()}function j2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n,s,o,l=ue.min(),c=ue.min(),m=xt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=d}withSequenceNumber(e){return new $i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.ut=e}}function B2(t){const e=V2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ym(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.on=new H2}addToCollectionParentIndex(e,n){return this.on.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(nr.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(nr.min())}updateCollectionGroup(e,n,s){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class H2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Tt(je.comparator),l=!o.has(s);return this.index[n]=o.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Tt(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ta(0)}static Nn(){return new ta(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.changes=new fa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?j.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&No(s.mutation,o,Wt.empty(),it.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ve()){const o=zr();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(l=>{let c=Ao();return l.forEach((m,d)=>{c=c.insert(m,d.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const s=zr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ve()))}populateOverlays(e,n,s){const o=[];return s.forEach(l=>{n.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,m)=>{n.set(c,m)})})}computeViews(e,n,s,o){let l=di();const c=Co(),m=function(){return Co()}();return n.forEach((d,g)=>{const y=s.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof cr)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),No(y.mutation,g,y.mutation.getFieldMask(),it.now())):c.set(g.key,Wt.empty())}),this.recalculateAndSaveOverlays(e,l).next(d=>(d.forEach((g,y)=>c.set(g,y)),n.forEach((g,y)=>{var E;return m.set(g,new G2(y,(E=c.get(g))!==null&&E!==void 0?E:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Co();let o=new He((c,m)=>c-m),l=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const m of c)m.keys().forEach(d=>{const g=n.get(d);if(g===null)return;let y=s.get(d)||Wt.empty();y=m.applyToLocalView(g,y),s.set(d,y);const E=(o.get(m.batchId)||ve()).add(d);o=o.insert(m.batchId,E)})}).next(()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const d=m.getNext(),g=d.key,y=d.value,E=mA();y.forEach(T=>{if(!l.has(T)){const w=TA(n.get(T),s.get(T));w!==null&&E.set(T,w),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return j.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(c){return J.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-l.size):j.resolve(zr());let m=-1,d=l;return c.next(g=>j.forEach(g,(y,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),l.get(y)?j.resolve():this.remoteDocumentCache.getEntry(e,y).next(T=>{d=d.insert(y,T)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,d,g,ve())).next(y=>({batchId:m,changes:dA(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(s=>{let o=Ao();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const l=n.collectionGroup;let c=Ao();return this.indexManager.getCollectionParents(e,l).next(m=>j.forEach(m,d=>{const g=function(E,T){return new ha(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(y=>{y.forEach((E,T)=>{c=c.insert(E,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,o))).next(c=>{l.forEach((d,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,It.newInvalidDocument(y)))});let m=Ao();return c.forEach((d,g)=>{const y=l.get(d);y!==void 0&&No(y.mutation,g,Wt.empty(),it.now()),qc(n,g)&&(m=m.insert(d,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return j.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Un(o.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(o){return{name:o.name,query:B2(o.bundledQuery),readTime:Un(o.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.overlays=new He(J.comparator),this.lr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const s=zr();return j.forEach(n,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,l)=>{this.lt(e,n,l)}),j.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.lr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.lr.delete(s)),j.resolve()}getOverlaysForCollection(e,n,s){const o=zr(),l=n.length+1,c=new J(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const d=m.getNext().value,g=d.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&d.largestBatchId>s&&o.set(d.getKey(),d)}return j.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let l=new He((g,y)=>g-y);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=zr(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const m=zr(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((g,y)=>m.set(g,y)),!(m.size()>=o)););return j.resolve(m)}lt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.lr.get(o.largestBatchId).delete(s.key);this.lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new y2(n,s));let l=this.lr.get(n);l===void 0&&(l=ve(),this.lr.set(n,l)),this.lr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(){this.hr=new Tt(ct.Pr),this.Ir=new Tt(ct.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const s=new ct(e,n);this.hr=this.hr.add(s),this.Ir=this.Ir.add(s)}Er(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.dr(new ct(e,n))}Ar(e,n){e.forEach(s=>this.removeReference(s,n))}Rr(e){const n=new J(new je([])),s=new ct(n,e),o=new ct(n,e+1),l=[];return this.Ir.forEachInRange([s,o],c=>{this.dr(c),l.push(c.key)}),l}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new J(new je([])),s=new ct(n,e),o=new ct(n,e+1);let l=ve();return this.Ir.forEachInRange([s,o],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new ct(e,0),s=this.hr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class ct{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return J.comparator(e.key,n.key)||Ce(e.gr,n.gr)}static Tr(e,n){return Ce(e.gr,n.gr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Tt(ct.Pr)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const l=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new p2(l,n,s,o);this.mutationQueue.push(c);for(const m of o)this.yr=this.yr.add(new ct(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return j.resolve(c)}lookupMutationBatch(e,n){return j.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Sr(s),l=o<0?0:o;return j.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new ct(n,0),o=new ct(n,Number.POSITIVE_INFINITY),l=[];return this.yr.forEachInRange([s,o],c=>{const m=this.wr(c.gr);l.push(m)}),j.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Tt(Ce);return n.forEach(o=>{const l=new ct(o,0),c=new ct(o,Number.POSITIVE_INFINITY);this.yr.forEachInRange([l,c],m=>{s=s.add(m.gr)})}),j.resolve(this.br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let l=s;J.isDocumentKey(l)||(l=l.child(""));const c=new ct(new J(l),0);let m=new Tt(Ce);return this.yr.forEachWhile(d=>{const g=d.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(d.gr)),!0)},c),j.resolve(this.br(m))}br(e){const n=[];return e.forEach(s=>{const o=this.wr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Le(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.yr;return j.forEach(n.mutations,o=>{const l=new ct(o.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.yr=s})}Fn(e){}containsKey(e,n){const s=new ct(n,0),o=this.yr.firstAfterOrEqual(s);return j.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.Cr=e,this.docs=function(){return new He(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),l=o?o.size:0,c=this.Cr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return j.resolve(s?s.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let s=di();return n.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():It.newInvalidDocument(o))}),j.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let l=di();const c=n.path,m=new J(c.child("")),d=this.docs.getIteratorFrom(m);for(;d.hasNext();){const{key:g,value:{document:y}}=d.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||UN(PN(y),s)<=0||(o.has(y.key)||qc(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return j.resolve(l)}getAllFromCollectionGroup(e,n,s,o){ae()}vr(e,n){return j.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new W2(this)}getSize(e){return j.resolve(this.size)}}class W2 extends F2{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this._r.addEntry(e,o)):this._r.removeEntry(s)}),j.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.persistence=e,this.Fr=new fa(n=>hg(n),fg),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Mr=0,this.Or=new _g,this.targetCount=0,this.Nr=ta.On()}forEachTarget(e,n){return this.Fr.forEach((s,o)=>n(o)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Mr&&(this.Mr=n),j.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new ta(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.kn(n),j.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,s){let o=0;const l=[];return this.Fr.forEach((c,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Fr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),j.waitFor(l).next(()=>o)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const s=this.Fr.get(n)||null;return j.resolve(s)}addMatchingKeys(e,n,s){return this.Or.Er(n,s),j.resolve()}removeMatchingKeys(e,n,s){this.Or.Ar(n,s);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),j.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Or.mr(n);return j.resolve(s)}containsKey(e,n){return j.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n){this.Br={},this.overlays={},this.Lr=new og(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Z2(this),this.indexManager=new q2,this.remoteDocumentCache=function(o){return new $2(o)}(s=>this.referenceDelegate.Qr(s)),this.serializer=new z2(n),this.Kr=new K2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Y2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Br[e.toKey()];return s||(s=new X2(n,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,s){K("MemoryPersistence","Starting transaction:",e);const o=new eD(this.Lr.next());return this.referenceDelegate.$r(),s(o).next(l=>this.referenceDelegate.Ur(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Wr(e,n){return j.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,n)))}}class eD extends kN{constructor(e){super(),this.currentSequenceNumber=e}}class vg{constructor(e){this.persistence=e,this.Gr=new _g,this.zr=null}static jr(e){return new vg(e)}get Hr(){if(this.zr)return this.zr;throw ae()}addReference(e,n,s){return this.Gr.addReference(s,n),this.Hr.delete(s.toString()),j.resolve()}removeReference(e,n,s){return this.Gr.removeReference(s,n),this.Hr.add(s.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),j.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(o=>this.Hr.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(l=>this.Hr.add(l.toString()))}).next(()=>s.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Hr,s=>{const o=J.fromPath(s);return this.Jr(e,o).next(l=>{l||n.removeEntry(o,ue.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(s=>{s?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return j.or([()=>j.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ki=s,this.qi=o}static Qi(e,n){let s=ve(),o=ve();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Eg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,s,o){const l={result:null};return this.zi(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ji(e,n,o,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new tD;return this.Hi(e,n,c).next(m=>{if(l.result=m,this.$i)return this.Ji(e,n,c,m.size)})}).next(()=>l.result)}Ji(e,n,s,o){return s.documentReadCount<this.Ui?(yo()<=Te.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",zs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),j.resolve()):(yo()<=Te.DEBUG&&K("QueryEngine","Query:",zs(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Wi*o?(yo()<=Te.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",zs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pn(n))):j.resolve())}zi(e,n){if(M0(n))return j.resolve(null);let s=Pn(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=ym(n,null,"F"),s=Pn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=ve(...l);return this.Gi.getDocuments(e,c).next(m=>this.indexManager.getMinOffset(e,s).next(d=>{const g=this.Yi(n,m);return this.Zi(n,g,c,d.readTime)?this.zi(e,ym(n,null,"F")):this.Xi(e,g,n,d)}))})))}ji(e,n,s,o){return M0(n)||o.isEqual(ue.min())?j.resolve(null):this.Gi.getDocuments(e,s).next(l=>{const c=this.Yi(n,l);return this.Zi(n,c,s,o)?j.resolve(null):(yo()<=Te.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),zs(n)),this.Xi(e,c,n,VN(o,-1)).next(m=>m))})}Yi(e,n){let s=new Tt(hA(e));return n.forEach((o,l)=>{qc(e,l)&&(s=s.add(l))}),s}Zi(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Hi(e,n,s){return yo()<=Te.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",zs(n)),this.Gi.getDocumentsMatchingQuery(e,n,nr.min(),s)}Xi(e,n,s,o){return this.Gi.getDocumentsMatchingQuery(e,s,o).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n,s,o){this.persistence=e,this.es=n,this.serializer=o,this.ts=new He(Ce),this.ns=new fa(l=>hg(l),fg),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(s)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q2(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function rD(t,e,n,s){return new iD(t,e,n,s)}async function OA(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,n.os(e),n.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],m=[];let d=ve();for(const g of o){c.push(g.batchId);for(const y of g.mutations)d=d.add(y.key)}for(const g of l){m.push(g.batchId);for(const y of g.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(s,d).next(g=>({_s:g,removedBatchIds:c,addedBatchIds:m}))})})}function sD(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=n.ss.newChangeBuffer({trackRemovals:!0});return function(m,d,g,y){const E=g.batch,T=E.keys();let w=j.resolve();return T.forEach(C=>{w=w.next(()=>y.getEntry(d,C)).next(M=>{const N=g.docVersions.get(C);Le(N!==null),M.version.compareTo(N)<0&&(E.applyToRemoteDocument(M,g),M.isValidDocument()&&(M.setReadTime(g.commitVersion),y.addEntry(M)))})}),w.next(()=>m.mutationQueue.removeMutationBatch(d,E))}(n,s,e,l).next(()=>l.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let d=ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(d=d.add(m.batch.mutations[g].key));return d}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function MA(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function aD(t,e){const n=he(t),s=e.snapshotVersion;let o=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.ss.newChangeBuffer({trackRemovals:!0});o=n.ts;const m=[];e.targetChanges.forEach((y,E)=>{const T=o.get(E);if(!T)return;m.push(n.qr.removeMatchingKeys(l,y.removedDocuments,E).next(()=>n.qr.addMatchingKeys(l,y.addedDocuments,E)));let w=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?w=w.withResumeToken(xt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,s)),o=o.insert(E,w),function(M,N,H){return M.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(T,w,y)&&m.push(n.qr.updateTargetData(l,w))});let d=di(),g=ve();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),m.push(oD(l,c,e.documentUpdates).next(y=>{d=y.us,g=y.cs})),!s.isEqual(ue.min())){const y=n.qr.getLastRemoteSnapshotVersion(l).next(E=>n.qr.setTargetsMetadata(l,l.currentSequenceNumber,s));m.push(y)}return j.waitFor(m).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,d,g)).next(()=>d)}).then(l=>(n.ts=o,l))}function oD(t,e,n){let s=ve(),o=ve();return n.forEach(l=>s=s.add(l)),e.getEntries(t,s).next(l=>{let c=di();return n.forEach((m,d)=>{const g=l.get(m);d.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),d.isNoDocument()&&d.version.isEqual(ue.min())?(e.removeEntry(m,d.readTime),c=c.insert(m,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(d),c=c.insert(m,d)):K("LocalStore","Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",d.version)}),{us:c,cs:o}})}function lD(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function uD(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.qr.getTargetData(s,e).next(l=>l?(o=l,j.resolve(o)):n.qr.allocateTargetId(s).next(c=>(o=new $i(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.qr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.ts=n.ts.insert(s.targetId,s),n.ns.set(e,s.targetId)),s})}async function Am(t,e,n){const s=he(t),o=s.ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!hl(c))throw c;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}s.ts=s.ts.remove(e),s.ns.delete(o.target)}function F0(t,e,n){const s=he(t);let o=ue.min(),l=ve();return s.persistence.runTransaction("Execute query","readwrite",c=>function(d,g,y){const E=he(d),T=E.ns.get(y);return T!==void 0?j.resolve(E.ts.get(T)):E.qr.getTargetData(g,y)}(s,c,Pn(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.qr.getMatchingKeysForTargetId(c,m.targetId).next(d=>{l=d})}).next(()=>s.es.getDocumentsMatchingQuery(c,e,n?o:ue.min(),n?l:ve())).next(m=>(cD(s,t2(e),m),{documents:m,ls:l})))}function cD(t,e,n){let s=t.rs.get(e)||ue.min();n.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),t.rs.set(e,s)}class G0{constructor(){this.activeTargetIds=o2()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hD{constructor(){this.eo=new G0,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,s){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new G0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu=null;function jd(){return qu===null?qu=function(){return 268435456+Math.round(2147483648*Math.random())}():qu++,"0x"+qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class gD extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.mo=s+"://"+n.host,this.fo=`projects/${o}/databases/${l}`,this.po=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}get yo(){return!1}wo(n,s,o,l,c){const m=jd(),d=this.So(n,s);K("RestConnection",`Sending RPC '${n}' ${m}:`,d,o);const g={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(g,l,c),this.Do(n,d,g,o).then(y=>(K("RestConnection",`Received RPC '${n}' ${m}: `,y),y),y=>{throw Fo("RestConnection",`RPC '${n}' ${m} failed with error: `,y,"url: ",d,"request:",o),y})}Co(n,s,o,l,c,m){return this.wo(n,s,o,l,c)}bo(n,s,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ca}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((l,c)=>n[c]=l),o&&o.headers.forEach((l,c)=>n[c]=l)}So(n,s){const o=dD[n];return`${this.mo}/v1/${s}:${o}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,s,o){const l=jd();return new Promise((c,m)=>{const d=new wN;d.setWithCredentials(!0),d.listenOnce(TN.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Ld.NO_ERROR:const y=d.getResponseJson();K(Rt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case Ld.TIMEOUT:K(Rt,`RPC '${e}' ${l} timed out`),m(new F(L.DEADLINE_EXCEEDED,"Request time out"));break;case Ld.HTTP_ERROR:const E=d.getStatus();if(K(Rt,`RPC '${e}' ${l} failed with status:`,E,"response text:",d.getResponseText()),E>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const w=T==null?void 0:T.error;if(w&&w.status&&w.message){const C=function(N){const H=N.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(H)>=0?H:L.UNKNOWN}(w.status);m(new F(C,w.message))}else m(new F(L.UNKNOWN,"Server responded with status "+d.getStatus()))}else m(new F(L.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{K(Rt,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(o);K(Rt,`RPC '${e}' ${l} sending request:`,o),d.send(n,"POST",g,s,15)})}vo(e,n,s){const o=jd(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=vN(),m=EN(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.bo(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const y=l.join("");K(Rt,`Creating RPC '${e}' stream ${o}: ${y}`,d);const E=c.createWebChannel(y,d);let T=!1,w=!1;const C=new mD({co:N=>{w?K(Rt,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(T||(K(Rt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),K(Rt,`RPC '${e}' stream ${o} sending:`,N),E.send(N))},lo:()=>E.close()}),M=(N,H,$)=>{N.listen(H,ee=>{try{$(ee)}catch(pe){setTimeout(()=>{throw pe},0)}})};return M(E,ju.EventType.OPEN,()=>{w||K(Rt,`RPC '${e}' stream ${o} transport opened.`)}),M(E,ju.EventType.CLOSE,()=>{w||(w=!0,K(Rt,`RPC '${e}' stream ${o} transport closed`),C.Ro())}),M(E,ju.EventType.ERROR,N=>{w||(w=!0,Fo(Rt,`RPC '${e}' stream ${o} transport errored:`,N),C.Ro(new F(L.UNAVAILABLE,"The operation could not be completed")))}),M(E,ju.EventType.MESSAGE,N=>{var H;if(!w){const $=N.data[0];Le(!!$);const ee=$,pe=ee.error||((H=ee[0])===null||H===void 0?void 0:H.error);if(pe){K(Rt,`RPC '${e}' stream ${o} received error:`,pe);const Y=pe.status;let be=function(Z){const _e=et[Z];if(_e!==void 0)return wA(_e)}(Y),At=pe.message;be===void 0&&(be=L.INTERNAL,At="Unknown error status: "+Y+" with message "+pe.message),w=!0,C.Ro(new F(be,At)),E.close()}else K(Rt,`RPC '${e}' stream ${o} received:`,$),C.Vo($)}}),M(m,AN.STAT_EVENT,N=>{N.stat===A0.PROXY?K(Rt,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===A0.NOPROXY&&K(Rt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{C.Ao()},0),C}}function zd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t){return new R2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,n,s=1e3,o=1.5,l=6e4){this.si=e,this.timerId=n,this.Fo=s,this.Mo=o,this.xo=l,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),s=Math.max(0,Date.now()-this.Bo),o=Math.max(0,n-s);o>0&&K("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,o,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n,s,o,l,c,m,d){this.si=e,this.Ko=s,this.$o=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=d,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new VA(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(fi(n.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Uo===n&&this.s_(s,o)},s=>{e(()=>{const o=new F(L.UNKNOWN,"Fetching auth token failed: "+s.message);return this.o_(o)})})}s_(e,n){const s=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{s(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(o=>{s(()=>this.o_(o))}),this.stream.onMessage(o=>{s(()=>this.onMessage(o))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pD extends PA{constructor(e,n,s,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=N2(this.serializer,e),s=function(l){if(!("targetChange"in l))return ue.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ue.min():c.readTime?Un(c.readTime):ue.min()}(e);return this.listener.a_(n,s)}u_(e){const n={};n.database=Tm(this.serializer),n.addTarget=function(l,c){let m;const d=c.target;if(m=gm(d)?{documents:O2(l,d)}:{query:M2(l,d)},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=RA(l,c.resumeToken);const g=_m(l,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(ue.min())>0){m.readTime=hc(l,c.snapshotVersion.toTimestamp());const g=_m(l,c.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=P2(this.serializer,e);s&&(n.labels=s),this.e_(n)}c_(e){const n={};n.database=Tm(this.serializer),n.removeTarget=e,this.e_(n)}}class yD extends PA{constructor(e,n,s,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=x2(e.writeResults,e.commitTime),s=Un(e.commitTime);return this.listener.I_(s,n)}return Le(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Tm(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>D2(this.serializer,s))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D extends class{}{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.d_=!1}A_(){if(this.d_)throw new F(L.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.wo(e,n,s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(L.UNKNOWN,o.toString())})}Co(e,n,s,o){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,n,s,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new F(L.UNKNOWN,l.toString())})}terminate(){this.d_=!0}}class vD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(fi(n),this.f_=!1):K("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,n,s,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=l,this.F_.ro(c=>{s.enqueueAndForget(async()=>{Jr(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(d){const g=he(d);g.C_.add(4),await ml(g),g.M_.set("Unknown"),g.C_.delete(4),await Kc(g)}(this))})}),this.M_=new vD(s,o)}}async function Kc(t){if(Jr(t))for(const e of t.v_)await e(!0)}async function ml(t){for(const e of t.v_)await e(!1)}function UA(t,e){const n=he(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),wg(n)?Ag(n):da(n).Ho()&&Tg(n,e))}function LA(t,e){const n=he(t),s=da(n);n.D_.delete(e),s.Ho()&&kA(n,e),n.D_.size===0&&(s.Ho()?s.Zo():Jr(n)&&n.M_.set("Unknown"))}function Tg(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}da(t).u_(e)}function kA(t,e){t.x_.Oe(e),da(t).c_(e)}function Ag(t){t.x_=new A2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),da(t).start(),t.M_.g_()}function wg(t){return Jr(t)&&!da(t).jo()&&t.D_.size>0}function Jr(t){return he(t).C_.size===0}function jA(t){t.x_=void 0}async function TD(t){t.D_.forEach((e,n)=>{Tg(t,e)})}async function AD(t,e){jA(t),wg(t)?(t.M_.w_(e),Ag(t)):t.M_.set("Unknown")}async function wD(t,e,n){if(t.M_.set("Online"),e instanceof bA&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const m of l.targetIds)o.D_.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.D_.delete(m),o.x_.removeTarget(m))}(t,e)}catch(s){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await fc(t,s)}else if(e instanceof Ku?t.x_.$e(e):e instanceof SA?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ue.min()))try{const s=await MA(t.localStore);n.compareTo(s)>=0&&await function(l,c){const m=l.x_.it(c);return m.targetChanges.forEach((d,g)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.D_.get(g);y&&l.D_.set(g,y.withResumeToken(d.resumeToken,c))}}),m.targetMismatches.forEach((d,g)=>{const y=l.D_.get(d);if(!y)return;l.D_.set(d,y.withResumeToken(xt.EMPTY_BYTE_STRING,y.snapshotVersion)),kA(l,d);const E=new $i(y.target,d,g,y.sequenceNumber);Tg(l,E)}),l.remoteSyncer.applyRemoteEvent(m)}(t,n)}catch(s){K("RemoteStore","Failed to raise snapshot:",s),await fc(t,s)}}async function fc(t,e,n){if(!hl(e))throw e;t.C_.add(1),await ml(t),t.M_.set("Offline"),n||(n=()=>MA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Kc(t)})}function zA(t,e){return e().catch(n=>fc(t,n,e))}async function Yc(t){const e=he(t),n=rr(e);let s=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;SD(e);)try{const o=await lD(e.localStore,s);if(o===null){e.b_.length===0&&n.Zo();break}s=o.batchId,bD(e,o)}catch(o){await fc(e,o)}BA(e)&&qA(e)}function SD(t){return Jr(t)&&t.b_.length<10}function bD(t,e){t.b_.push(e);const n=rr(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function BA(t){return Jr(t)&&!rr(t).jo()&&t.b_.length>0}function qA(t){rr(t).start()}async function RD(t){rr(t).E_()}async function ID(t){const e=rr(t);for(const n of t.b_)e.P_(n.mutations)}async function CD(t,e,n){const s=t.b_.shift(),o=gg.from(s,e,n);await zA(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await Yc(t)}async function ND(t,e){e&&rr(t).h_&&await async function(s,o){if(function(c){return v2(c)&&c!==L.ABORTED}(o.code)){const l=s.b_.shift();rr(s).Yo(),await zA(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Yc(s)}}(t,e),BA(t)&&qA(t)}async function K0(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const s=Jr(n);n.C_.add(3),await ml(n),s&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Kc(n)}async function DD(t,e){const n=he(t);e?(n.C_.delete(2),await Kc(n)):e||(n.C_.add(2),await ml(n),n.M_.set("Unknown"))}function da(t){return t.O_||(t.O_=function(n,s,o){const l=he(n);return l.A_(),new pD(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(t.datastore,t.asyncQueue,{ho:TD.bind(null,t),Io:AD.bind(null,t),a_:wD.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),wg(t)?Ag(t):t.M_.set("Unknown")):(await t.O_.stop(),jA(t))})),t.O_}function rr(t){return t.N_||(t.N_=function(n,s,o){const l=he(n);return l.A_(),new yD(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(t.datastore,t.asyncQueue,{ho:RD.bind(null,t),Io:ND.bind(null,t),T_:ID.bind(null,t),I_:CD.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await Yc(t)):(await t.N_.stop(),t.b_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n,s,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,l){const c=Date.now()+s,m=new Sg(e,n,c,o,l);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bg(t,e){if(fi("AsyncQueue",`${e}: ${t}`),hl(t))return new F(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.comparator=e?(n,s)=>e(n,s)||J.comparator(n.key,s.key):(n,s)=>J.comparator(n.key,s.key),this.keyedMap=Ao(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new Ks(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ks)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ks;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.B_=new He(J.comparator)}track(e){const n=e.doc.key,s=this.B_.get(n);s?e.type!==0&&s.type===3?this.B_=this.B_.insert(n,e):e.type===3&&s.type!==1?this.B_=this.B_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.B_=this.B_.remove(n):e.type===1&&s.type===2?this.B_=this.B_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):ae():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,s)=>{e.push(s)}),e}}class na{constructor(e,n,s,o,l,c,m,d,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=d,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,l){const c=[];return n.forEach(m=>{c.push({type:0,doc:m})}),new na(e,n,Ks.emptySet(n),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.k_=void 0,this.listeners=[]}}class OD{constructor(){this.queries=new fa(e=>cA(e),Bc),this.onlineState="Unknown",this.q_=new Set}}async function HA(t,e){const n=he(t),s=e.query;let o=!1,l=n.queries.get(s);if(l||(o=!0,l=new xD),o)try{l.k_=await n.onListen(s)}catch(c){const m=bg(c,`Initialization of query '${zs(e.query)}' failed`);return void e.onError(m)}n.queries.set(s,l),l.listeners.push(e),e.Q_(n.onlineState),l.k_&&e.K_(l.k_)&&Rg(n)}async function FA(t,e){const n=he(t),s=e.query;let o=!1;const l=n.queries.get(s);if(l){const c=l.listeners.indexOf(e);c>=0&&(l.listeners.splice(c,1),o=l.listeners.length===0)}if(o)return n.queries.delete(s),n.onUnlisten(s)}function MD(t,e){const n=he(t);let s=!1;for(const o of e){const l=o.query,c=n.queries.get(l);if(c){for(const m of c.listeners)m.K_(o)&&(s=!0);c.k_=o}}s&&Rg(n)}function VD(t,e,n){const s=he(t),o=s.queries.get(e);if(o)for(const l of o.listeners)l.onError(n);s.queries.delete(e)}function Rg(t){t.q_.forEach(e=>{e.next()})}class GA{constructor(e,n,s){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=s||{}}K_(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new na(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.J_||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.key=e}}class KA{constructor(e){this.key=e}}class PD{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ve(),this.mutatedKeys=ve(),this._a=hA(e),this.aa=new Ks(this._a)}get ua(){return this.ia}ca(e,n){const s=n?n.la:new Y0,o=n?n.aa:this.aa;let l=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const d=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((y,E)=>{const T=o.get(y),w=qc(this.query,E)?E:null,C=!!T&&this.mutatedKeys.has(T.key),M=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let N=!1;T&&w?T.data.isEqual(w.data)?C!==M&&(s.track({type:3,doc:w}),N=!0):this.ha(T,w)||(s.track({type:2,doc:w}),N=!0,(d&&this._a(w,d)>0||g&&this._a(w,g)<0)&&(m=!0)):!T&&w?(s.track({type:0,doc:w}),N=!0):T&&!w&&(s.track({type:1,doc:T}),N=!0,(d||g)&&(m=!0)),N&&(w?(c=c.add(w),l=M?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{aa:c,la:s,Zi:m,mutatedKeys:l}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const l=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const c=e.la.L_();c.sort((y,E)=>function(w,C){const M=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return M(w)-M(C)}(y.type,E.type)||this._a(y.doc,E.doc)),this.Pa(s),o=o!=null&&o;const m=n&&!o?this.Ia():[],d=this.oa.size===0&&this.current&&!o?1:0,g=d!==this.sa;return this.sa=d,c.length!==0||g?{snapshot:new na(this.query,e.aa,l,c,e.mutatedKeys,d===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ta:m}:{Ta:m}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Y0,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ve(),this.aa.forEach(s=>{this.Ea(s.key)&&(this.oa=this.oa.add(s.key))});const n=[];return e.forEach(s=>{this.oa.has(s)||n.push(new KA(s))}),this.oa.forEach(s=>{e.has(s)||n.push(new QA(s))}),n}da(e){this.ia=e.ls,this.oa=ve();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return na.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class UD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class LD{constructor(e){this.key=e,this.Ra=!1}}class kD{constructor(e,n,s,o,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Va={},this.ma=new fa(m=>cA(m),Bc),this.fa=new Map,this.ga=new Set,this.pa=new He(J.comparator),this.ya=new Map,this.wa=new _g,this.Sa={},this.ba=new Map,this.Da=ta.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function jD(t,e){const n=XD(t);let s,o;const l=n.ma.get(e);if(l)s=l.targetId,n.sharedClientState.addLocalQueryTarget(s),o=l.view.Aa();else{const c=await uD(n.localStore,Pn(e)),m=n.sharedClientState.addLocalQueryTarget(c.targetId);s=c.targetId,o=await zD(n,e,s,m==="current",c.resumeToken),n.isPrimaryClient&&UA(n.remoteStore,c)}return o}async function zD(t,e,n,s,o){t.va=(E,T,w)=>async function(M,N,H,$){let ee=N.view.ca(H);ee.Zi&&(ee=await F0(M.localStore,N.query,!1).then(({documents:At})=>N.view.ca(At,ee)));const pe=$&&$.targetChanges.get(N.targetId),Y=$&&$.targetMismatches.get(N.targetId)!=null,be=N.view.applyChanges(ee,M.isPrimaryClient,pe,Y);return $0(M,N.targetId,be.Ta),be.snapshot}(t,E,T,w);const l=await F0(t.localStore,e,!0),c=new PD(e,l.ls),m=c.ca(l.documents),d=dl.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",o),g=c.applyChanges(m,t.isPrimaryClient,d);$0(t,n,g.Ta);const y=new UD(e,n,c);return t.ma.set(e,y),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),g.snapshot}async function BD(t,e){const n=he(t),s=n.ma.get(e),o=n.fa.get(s.targetId);if(o.length>1)return n.fa.set(s.targetId,o.filter(l=>!Bc(l,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Am(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),LA(n.remoteStore,s.targetId),wm(n,s.targetId)}).catch(cl)):(wm(n,s.targetId),await Am(n.localStore,s.targetId,!0))}async function qD(t,e,n){const s=$D(t);try{const o=await function(c,m){const d=he(c),g=it.now(),y=m.reduce((w,C)=>w.add(C.key),ve());let E,T;return d.persistence.runTransaction("Locally write mutations","readwrite",w=>{let C=di(),M=ve();return d.ss.getEntries(w,y).next(N=>{C=N,C.forEach((H,$)=>{$.isValidDocument()||(M=M.add(H))})}).next(()=>d.localDocuments.getOverlayedDocuments(w,C)).next(N=>{E=N;const H=[];for(const $ of m){const ee=m2($,E.get($.key).overlayedDocument);ee!=null&&H.push(new cr($.key,ee,nA(ee.value.mapValue),mn.exists(!0)))}return d.mutationQueue.addMutationBatch(w,g,H,m)}).next(N=>{T=N;const H=N.applyToLocalDocumentSet(E,M);return d.documentOverlayCache.saveOverlays(w,N.batchId,H)})}).then(()=>({batchId:T.batchId,changes:dA(E)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(c,m,d){let g=c.Sa[c.currentUser.toKey()];g||(g=new He(Ce)),g=g.insert(m,d),c.Sa[c.currentUser.toKey()]=g}(s,o.batchId,n),await gl(s,o.changes),await Yc(s.remoteStore)}catch(o){const l=bg(o,"Failed to persist write");n.reject(l)}}async function YA(t,e){const n=he(t);try{const s=await aD(n.localStore,e);e.targetChanges.forEach((o,l)=>{const c=n.ya.get(l);c&&(Le(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Ra=!0:o.modifiedDocuments.size>0?Le(c.Ra):o.removedDocuments.size>0&&(Le(c.Ra),c.Ra=!1))}),await gl(n,s,e)}catch(s){await cl(s)}}function X0(t,e,n){const s=he(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ma.forEach((l,c)=>{const m=c.view.Q_(e);m.snapshot&&o.push(m.snapshot)}),function(c,m){const d=he(c);d.onlineState=m;let g=!1;d.queries.forEach((y,E)=>{for(const T of E.listeners)T.Q_(m)&&(g=!0)}),g&&Rg(d)}(s.eventManager,e),o.length&&s.Va.a_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function HD(t,e,n){const s=he(t);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.ya.get(e),l=o&&o.key;if(l){let c=new He(J.comparator);c=c.insert(l,It.newNoDocument(l,ue.min()));const m=ve().add(l),d=new Gc(ue.min(),new Map,new He(Ce),c,m);await YA(s,d),s.pa=s.pa.remove(l),s.ya.delete(e),Ig(s)}else await Am(s.localStore,e,!1).then(()=>wm(s,e,n)).catch(cl)}async function FD(t,e){const n=he(t),s=e.batch.batchId;try{const o=await sD(n.localStore,e);$A(n,s,null),XA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await gl(n,o)}catch(o){await cl(o)}}async function GD(t,e,n){const s=he(t);try{const o=await function(c,m){const d=he(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return d.mutationQueue.lookupMutationBatch(g,m).next(E=>(Le(E!==null),y=E.keys(),d.mutationQueue.removeMutationBatch(g,E))).next(()=>d.mutationQueue.performConsistencyCheck(g)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(g,y,m)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>d.localDocuments.getDocuments(g,y))})}(s.localStore,e);$A(s,e,n),XA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await gl(s,o)}catch(o){await cl(o)}}function XA(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function $A(t,e,n){const s=he(t);let o=s.Sa[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),s.Sa[s.currentUser.toKey()]=o}}function wm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.fa.get(e))t.ma.delete(s),n&&t.Va.Fa(s,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(s=>{t.wa.containsKey(s)||WA(t,s)})}function WA(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(LA(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),Ig(t))}function $0(t,e,n){for(const s of n)s instanceof QA?(t.wa.addReference(s.key,e),QD(t,s)):s instanceof KA?(K("SyncEngine","Document no longer in limbo: "+s.key),t.wa.removeReference(s.key,e),t.wa.containsKey(s.key)||WA(t,s.key)):ae()}function QD(t,e){const n=e.key,s=n.path.canonicalString();t.pa.get(n)||t.ga.has(s)||(K("SyncEngine","New document in limbo: "+n),t.ga.add(s),Ig(t))}function Ig(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new J(je.fromString(e)),s=t.Da.next();t.ya.set(s,new LD(n)),t.pa=t.pa.insert(n,s),UA(t.remoteStore,new $i(Pn(dg(n.path)),s,"TargetPurposeLimboResolution",og._e))}}async function gl(t,e,n){const s=he(t),o=[],l=[],c=[];s.ma.isEmpty()||(s.ma.forEach((m,d)=>{c.push(s.va(d,e,n).then(g=>{if((g||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(d.targetId,g!=null&&g.fromCache?"not-current":"current"),g){o.push(g);const y=Eg.Qi(d.targetId,g);l.push(y)}}))}),await Promise.all(c),s.Va.a_(o),await async function(d,g){const y=he(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>j.forEach(g,T=>j.forEach(T.ki,w=>y.persistence.referenceDelegate.addReference(E,T.targetId,w)).next(()=>j.forEach(T.qi,w=>y.persistence.referenceDelegate.removeReference(E,T.targetId,w)))))}catch(E){if(!hl(E))throw E;K("LocalStore","Failed to update sequence numbers: "+E)}for(const E of g){const T=E.targetId;if(!E.fromCache){const w=y.ts.get(T),C=w.snapshotVersion,M=w.withLastLimboFreeSnapshotVersion(C);y.ts=y.ts.insert(T,M)}}}(s.localStore,l))}async function KD(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const s=await OA(n.localStore,e);n.currentUser=e,function(l,c){l.ba.forEach(m=>{m.forEach(d=>{d.reject(new F(L.CANCELLED,c))})}),l.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await gl(n,s._s)}}function YD(t,e){const n=he(t),s=n.ya.get(e);if(s&&s.Ra)return ve().add(s.key);{let o=ve();const l=n.fa.get(e);if(!l)return o;for(const c of l){const m=n.ma.get(c);o=o.unionWith(m.view.ua)}return o}}function XD(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HD.bind(null,e),e.Va.a_=MD.bind(null,e.eventManager),e.Va.Fa=VD.bind(null,e.eventManager),e}function $D(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GD.bind(null,e),e}class W0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Qc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return rD(this.persistence,new nD,e.initialUser,this.serializer)}createPersistence(e){return new J2(vg.jr,this.serializer)}createSharedClientState(e){return new hD}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class WD{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>X0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=KD.bind(null,this.syncEngine),await DD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new OD}()}createDatastore(e){const n=Qc(e.databaseInfo.databaseId),s=function(l){return new gD(l)}(e.databaseInfo);return function(l,c,m,d){return new _D(l,c,m,d)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,l,c,m){return new ED(s,o,l,c,m)}(this.localStore,this.datastore,e.asyncQueue,n=>X0(this.syncEngine,n,0),function(){return Q0.D()?new Q0:new fD}())}createSyncEngine(e,n){return function(o,l,c,m,d,g,y){const E=new kD(o,l,c,m,d,g);return y&&(E.Ca=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const s=he(n);K("RemoteStore","RemoteStore shutting down."),s.C_.add(5),await ml(s),s.F_.shutdown(),s.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):fi("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=qt.UNAUTHENTICATED,this.clientId=JT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async l=>{K("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(s,l=>(K("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=bg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Bd(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async o=>{s.isEqual(o)||(await OA(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Z0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ex(t);K("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(o=>K0(e.remoteStore,o)),t.setAppCheckTokenChangeListener((o,l)=>K0(e.remoteStore,l)),t._onlineComponents=e}function JD(t){return t.name==="FirebaseError"?t.code===L.FAILED_PRECONDITION||t.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function ex(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!JD(n))throw n;Fo("Error using user provided cache. Falling back to memory cache: "+n),await Bd(t,new W0)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await Bd(t,new W0);return t._offlineComponents}async function JA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await Z0(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await Z0(t,new WD))),t._onlineComponents}function tx(t){return JA(t).then(e=>e.syncEngine)}async function ew(t){const e=await JA(t),n=e.eventManager;return n.onListen=jD.bind(null,e.syncEngine),n.onUnlisten=BD.bind(null,e.syncEngine),n}function nx(t,e,n={}){const s=new ci;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,m,d,g){const y=new ZA({next:T=>{c.enqueueAndForget(()=>FA(l,E));const w=T.docs.has(m);!w&&T.fromCache?g.reject(new F(L.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&T.fromCache&&d&&d.source==="server"?g.reject(new F(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new GA(dg(m.path),y,{includeMetadataChanges:!0,J_:!0});return HA(l,E)}(await ew(t),t.asyncQueue,e,n,s)),s.promise}function ix(t,e,n={}){const s=new ci;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,m,d,g){const y=new ZA({next:T=>{c.enqueueAndForget(()=>FA(l,E)),T.fromCache&&d.source==="server"?g.reject(new F(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new GA(m,y,{includeMetadataChanges:!0,J_:!0});return HA(l,E)}(await ew(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(t,e,n){if(!n)throw new F(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rx(t,e,n,s){if(e===!0&&s===!0)throw new F(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eE(t){if(!J.isDocumentKey(t))throw new F(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tE(t){if(J.isDocumentKey(t))throw new F(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function zn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xc(t);throw new F(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new F(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new F(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new F(L.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new F(L.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new F(L.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cg{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new F(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new F(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nE(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new RN;switch(s.type){case"firstParty":return new NN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new F(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=J0.get(n);s&&(K("ComponentProvider","Removing Datastore"),J0.delete(n),s.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new es(this.firestore,e,this._query)}}class Lt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}}class tr extends es{constructor(e,n,s){super(e,n,dg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new J(e))}withConverter(e){return new tr(this.firestore,e,this._path)}}function Yr(t,e,...n){if(t=ht(t),nw("collection","path",e),t instanceof Cg){const s=je.fromString(e,...n);return tE(s),new tr(t,null,s)}{if(!(t instanceof Lt||t instanceof tr))throw new F(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(je.fromString(e,...n));return tE(s),new tr(t.firestore,null,s)}}function mi(t,e,...n){if(t=ht(t),arguments.length===1&&(e=JT.newId()),nw("doc","path",e),t instanceof Cg){const s=je.fromString(e,...n);return eE(s),new Lt(t,null,new J(s))}{if(!(t instanceof Lt||t instanceof tr))throw new F(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(je.fromString(e,...n));return eE(s),new Lt(t.firestore,t instanceof tr?t.converter:null,new J(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new VA(this,"async_queue_retry"),this.iu=()=>{const n=zd();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=zd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=zd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new ci;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!hl(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(s=>{this.eu=s,this.tu=!1;const o=function(c){let m=c.message||"";return c.stack&&(m=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),m}(s);throw fi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.tu=!1,s))));return this.Ja=n,n}enqueueAfterDelay(e,n,s){this.su(),this.ru.indexOf(e)>-1&&(n=0);const o=Sg.createAndSchedule(this,e,n,s,l=>this.au(l));return this.Xa.push(o),o}su(){this.eu&&ae()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class ts extends Cg{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=function(){return new sx}(),this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||iw(this),this._firestoreClient.terminate()}}function ax(t,e,n){n||(n="(default)");const s=km(t,"firestore");if(s.isInitialized(n)){const o=s.getImmediate({identifier:n}),l=s.getOptions(n);if(Vo(l,e))return o;throw new F(L.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new F(L.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new F(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return s.initialize({options:e,instanceIdentifier:n})}function Ng(t){return t._firestoreClient||iw(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function iw(t){var e,n,s;const o=t._freezeSettings(),l=function(m,d,g,y){return new BN(m,d,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,tw(y.experimentalLongPollingOptions),y.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._firestoreClient=new ZD(t._authCredentials,t._appCheckCredentials,t._queue,l),!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.localCache.kind,_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ia(xt.fromBase64String(e))}catch(n){throw new F(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ia(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=/^__.*__$/;class lx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new cr(e,this.data,this.fieldMask,n,this.fieldTransforms):new fl(e,this.data,n,this.fieldTransforms)}}class rw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new cr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function sw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}class Og{constructor(e,n,s,o,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Pu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Og(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Tu({path:s,du:!1});return o.Au(e),o}Ru(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Tu({path:s,du:!1});return o.Pu(),o}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return dc(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(sw(this.Iu)&&ox.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class ux{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Qc(e)}pu(e,n,s,o=!1){return new Og({Iu:e,methodName:n,gu:s,path:vt.emptyPath(),du:!1,fu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wc(t){const e=t._freezeSettings(),n=Qc(t._databaseId);return new ux(t._databaseId,!!e.ignoreUndefinedProperties,n)}function aw(t,e,n,s,o,l={}){const c=t.pu(l.merge||l.mergeFields?2:0,e,n,o);Mg("Data must be an object, but it was:",c,s);const m=ow(s,c);let d,g;if(l.merge)d=new Wt(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const E of l.mergeFields){const T=Sm(e,E,n);if(!c.contains(T))throw new F(L.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);uw(y,T)||y.push(T)}d=new Wt(y),g=c.fieldTransforms.filter(E=>d.covers(E.field))}else d=null,g=c.fieldTransforms;return new lx(new Ht(m),d,g)}class Zc extends Dg{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zc}}function cx(t,e,n,s){const o=t.pu(1,e,n);Mg("Data must be an object, but it was:",o,s);const l=[],c=Ht.empty();Zr(s,(d,g)=>{const y=Vg(e,d,n);g=ht(g);const E=o.Ru(y);if(g instanceof Zc)l.push(y);else{const T=pl(g,E);T!=null&&(l.push(y),c.set(y,T))}});const m=new Wt(l);return new rw(c,m,o.fieldTransforms)}function hx(t,e,n,s,o,l){const c=t.pu(1,e,n),m=[Sm(e,s,n)],d=[o];if(l.length%2!=0)throw new F(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)m.push(Sm(e,l[T])),d.push(l[T+1]);const g=[],y=Ht.empty();for(let T=m.length-1;T>=0;--T)if(!uw(g,m[T])){const w=m[T];let C=d[T];C=ht(C);const M=c.Ru(w);if(C instanceof Zc)g.push(w);else{const N=pl(C,M);N!=null&&(g.push(w),y.set(w,N))}}const E=new Wt(g);return new rw(y,E,c.fieldTransforms)}function fx(t,e,n,s=!1){return pl(n,t.pu(s?4:3,e))}function pl(t,e){if(lw(t=ht(t)))return Mg("Unsupported field value:",e,t),ow(t,e);if(t instanceof Dg)return function(s,o){if(!sw(o.Iu))throw o.mu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.mu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(s,o){const l=[];let c=0;for(const m of s){let d=pl(m,o.Vu(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}}(t,e)}return function(s,o){if((s=ht(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return l2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=it.fromDate(s);return{timestampValue:hc(o.serializer,l)}}if(s instanceof it){const l=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:hc(o.serializer,l)}}if(s instanceof xg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ia)return{bytesValue:RA(o.serializer,s._byteString)};if(s instanceof Lt){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.mu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:yg(s.firestore._databaseId||o.databaseId,s._key.path)}}throw o.mu(`Unsupported field value: ${Xc(s)}`)}(t,e)}function ow(t,e){const n={};return eA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zr(t,(s,o)=>{const l=pl(o,e.Eu(s));l!=null&&(n[s]=l)}),{mapValue:{fields:n}}}function lw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof xg||t instanceof ia||t instanceof Lt||t instanceof Dg)}function Mg(t,e,n){if(!lw(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Xc(n);throw s==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+s)}}function Sm(t,e,n){if((e=ht(e))instanceof $c)return e._internalPath;if(typeof e=="string")return Vg(t,e);throw dc("Field path arguments must be of type string or ",t,!1,void 0,n)}const dx=new RegExp("[~\\*/\\[\\]]");function Vg(t,e,n){if(e.search(dx)>=0)throw dc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $c(...e.split("."))._internalPath}catch{throw dc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dc(t,e,n,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${s}`),c&&(d+=` in document ${o}`),d+=")"),new F(L.INVALID_ARGUMENT,m+t+d)}function uw(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,n,s,o,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mx extends cw{data(){return super.data()}}function Jc(t,e){return typeof e=="string"?Vg(t,e):e instanceof $c?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pg{}class hw extends Pg{}function Ug(t,e,...n){let s=[];e instanceof Pg&&s.push(e),s=s.concat(n),function(l){const c=l.filter(d=>d instanceof Lg).length,m=l.filter(d=>d instanceof eh).length;if(c>1||c>0&&m>0)throw new F(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)t=o._apply(t);return t}class eh extends hw{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new eh(e,n,s)}_apply(e){const n=this._parse(e);return dw(e._query,n),new es(e.firestore,e.converter,pm(e._query,n))}_parse(e){const n=Wc(e.firestore);return function(l,c,m,d,g,y,E){let T;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new F(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){rE(E,y);const w=[];for(const C of E)w.push(iE(d,l,C));T={arrayValue:{values:w}}}else T=iE(d,l,E)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||rE(E,y),T=fx(m,c,E,y==="in"||y==="not-in");return nt.create(g,y,T)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function fw(t,e,n){const s=e,o=Jc("where",t);return eh._create(o,s,n)}class Lg extends Pg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Tn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,l){let c=o;const m=l.getFlattenedFilters();for(const d of m)dw(c,d),c=pm(c,d)}(e._query,n),new es(e.firestore,e.converter,pm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kg extends hw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new kg(e,n)}_apply(e){const n=function(o,l,c){if(o.startAt!==null)throw new F(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new F(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xo(l,c)}(e._query,this._field,this._direction);return new es(e.firestore,e.converter,function(o,l){const c=o.explicitOrderBy.concat([l]);return new ha(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function px(t,e="asc"){const n=e,s=Jc("orderBy",t);return kg._create(s,n)}function iE(t,e,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new F(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uA(e)&&n.indexOf("/")!==-1)throw new F(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(je.fromString(n));if(!J.isDocumentKey(s))throw new F(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return I0(t,new J(s))}if(n instanceof Lt)return I0(t,n._key);throw new F(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xc(n)}.`)}function rE(t,e){if(!Array.isArray(t)||t.length===0)throw new F(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dw(t,e){const n=function(o,l){for(const c of o)for(const m of c.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null}(t.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new F(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class yx{convertValue(e,n="none"){switch(Kr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Zr(e,(o,l)=>{s[o]=this.convertValue(l,n)}),s}convertGeoPoint(e){return new xg(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ug(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Qo(e));default:return null}}convertTimestamp(e){const n=ir(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=je.fromString(e);Le(xA(s));const o=new Ko(s.get(1),s.get(3)),l=new J(s.popFirst(5));return o.isEqual(n)||fi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(t,e,n){let s;return s=t?t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gw extends cw{constructor(e,n,s,o,l,c){super(e,n,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Jc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Yu extends gw{data(e={}){return super.data(e)}}class _x{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new So(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Yu(this._firestore,this._userDataWriter,s.key,s,new So(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(m=>{const d=new Yu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new So(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>l||m.type!==3).map(m=>{const d=new Yu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new So(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,y=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),y=c.indexOf(m.doc.key)),{type:vx(m.type),doc:d,oldIndex:g,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function vx(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t){t=zn(t,Lt);const e=zn(t.firestore,ts);return nx(Ng(e),t._key).then(n=>Ax(e,t,n))}class pw extends yx{constructor(e){super(),this.firestore=e}convertBytes(e){return new ia(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}}function Zo(t){t=zn(t,es);const e=zn(t.firestore,ts),n=Ng(e),s=new pw(e);return gx(t._query),ix(n,t._query).then(o=>new _x(e,s,t,o))}function Tx(t,e,n){t=zn(t,Lt);const s=zn(t.firestore,ts),o=mw(t.converter,e);return th(s,[aw(Wc(s),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,mn.none())])}function jg(t,e,n,...s){t=zn(t,Lt);const o=zn(t.firestore,ts),l=Wc(o);let c;return c=typeof(e=ht(e))=="string"||e instanceof $c?hx(l,"updateDoc",t._key,e,n,s):cx(l,"updateDoc",t._key,e),th(o,[c.toMutation(t._key,mn.exists(!0))])}function zg(t){return th(zn(t.firestore,ts),[new mg(t._key,mn.none())])}function yw(t,e){const n=zn(t.firestore,ts),s=mi(t),o=mw(t.converter,e);return th(n,[aw(Wc(t.firestore),"addDoc",s._key,o,t.converter!==null,{}).toMutation(s._key,mn.exists(!1))]).then(()=>s)}function th(t,e){return function(s,o){const l=new ci;return s.asyncQueue.enqueueAndForget(async()=>qD(await tx(s),o,l)),l.promise}(Ng(t),e)}function Ax(t,e,n){const s=n.docs.get(e._key),o=new pw(t);return new gw(t,o,e._key,s,new So(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){ca=o})(oa),$s(new Hr("firestore",(s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),m=new ts(new IN(s.getProvider("auth-internal")),new xN(s.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new F(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ko(g.options.projectId,y)}(c,o),c);return l=Object.assign({useFetchStreams:n},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),er(w0,"4.4.0",e),er(w0,"4.4.0","esm2017")})();function Bg(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function _w(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wx=_w,vw=new nl("auth","Firebase",_w());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=new Um("@firebase/auth");function Sx(t,...e){mc.logLevel<=Te.WARN&&mc.warn(`Auth (${oa}): ${t}`,...e)}function Xu(t,...e){mc.logLevel<=Te.ERROR&&mc.error(`Auth (${oa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t,...e){throw qg(t,...e)}function Ln(t,...e){return qg(t,...e)}function bx(t,e,n){const s=Object.assign(Object.assign({},wx()),{[e]:n});return new nl("auth","Firebase",s).create(e,{appName:t.name})}function qg(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return vw.create(t,...e)}function se(t,e,...n){if(!t)throw qg(e,...n)}function oi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xu(e),new Error(e)}function gi(t,e){t||oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Rx(){return sE()==="http:"||sE()==="https:"}function sE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Rx()||eI()||"connection"in navigator)?navigator.onLine:!0}function Cx(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n){this.shortDelay=e,this.longDelay=n,gi(n>e,"Short delay should be less than long delay!"),this.isMobile=JR()||tI()}get(){return Ix()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t,e){gi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=new yl(3e4,6e4);function hr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function yi(t,e,n,s,o={}){return Tw(t,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const m=il(Object.assign({key:t.config.apiKey},c)).slice(1),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode),Ew.fetch()(Aw(t,t.config.apiHost,n,m),Object.assign({method:e,headers:d,referrerPolicy:"no-referrer"},l))})}async function Tw(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},Nx),e);try{const o=new Ox(t),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Hu(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const m=l.ok?c.errorMessage:c.error.message,[d,g]=m.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hu(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Hu(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw Hu(t,"user-disabled",c);const y=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw bx(t,y,g);An(t,y)}}catch(o){if(o instanceof pi)throw o;An(t,"network-request-failed",{message:String(o)})}}async function _l(t,e,n,s,o={}){const l=await yi(t,e,n,s,o);return"mfaPendingCredential"in l&&An(t,"multi-factor-auth-required",{_serverResponse:l}),l}function Aw(t,e,n,s){const o=`${e}${n}?${s}`;return t.config.emulator?Hg(t.config,o):`${t.config.apiScheme}://${o}`}function xx(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ox{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ln(this.auth,"network-request-failed")),Dx.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hu(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ln(t,e,s);return o.customData._tokenResponse=n,o}function aE(t){return t!==void 0&&t.enterprise!==void 0}class Mx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return xx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Vx(t,e){return yi(t,"GET","/v2/recaptchaConfig",hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px(t,e){return yi(t,"POST","/v1/accounts:delete",e)}async function Ux(t,e){return yi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Lx(t,e=!1){const n=ht(t),s=await n.getIdToken(e),o=Fg(s);se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:Do(qd(o.auth_time)),issuedAtTime:Do(qd(o.iat)),expirationTime:Do(qd(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function qd(t){return Number(t)*1e3}function Fg(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Xu("JWT malformed, contained fewer than 3 sections"),null;try{const o=HE(n);return o?JSON.parse(o):(Xu("Failed to decode base64 JWT payload"),null)}catch(o){return Xu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function kx(t){const e=Fg(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof pi&&jx(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function jx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Do(this.lastLoginAt),this.creationTime=Do(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(t){var e;const n=t.auth,s=await t.getIdToken(),o=await ra(t,Ux(n,{idToken:s}));se(o==null?void 0:o.users.length,n,"internal-error");const l=o.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Hx(l.providerUserInfo):[],m=qx(t.providerData,c),d=t.isAnonymous,g=!(t.email&&l.passwordHash)&&!(m!=null&&m.length),y=d?g:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new ww(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(t,E)}async function Bx(t){const e=ht(t);await gc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qx(t,e){return[...t.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Hx(t){return t.map(e=>{var{providerId:n}=e,s=Bg(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(t,e){const n=await Tw(t,{},async()=>{const s=il({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=t.config,c=Aw(t,o,"/v1/token",`key=${l}`),m=await t._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",Ew.fetch()(c,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Gx(t,e){return yi(t,"POST","/v2/accounts:revokeToken",hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return se(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:l}=await Fx(e,n);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:l}=n,c=new Jo;return s&&(se(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(se(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(se(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jo,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qr{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,l=Bg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ww(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await ra(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Lx(this,e)}reload(){return Bx(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await gc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ra(this,Px(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,l,c,m,d,g,y;const E=(s=n.displayName)!==null&&s!==void 0?s:void 0,T=(o=n.email)!==null&&o!==void 0?o:void 0,w=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,C=(c=n.photoURL)!==null&&c!==void 0?c:void 0,M=(m=n.tenantId)!==null&&m!==void 0?m:void 0,N=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,H=(g=n.createdAt)!==null&&g!==void 0?g:void 0,$=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:ee,emailVerified:pe,isAnonymous:Y,providerData:be,stsTokenManager:At}=n;se(ee&&At,e,"internal-error");const gn=Jo.fromJSON(this.name,At);se(typeof ee=="string",e,"internal-error"),qi(E,e.name),qi(T,e.name),se(typeof pe=="boolean",e,"internal-error"),se(typeof Y=="boolean",e,"internal-error"),qi(w,e.name),qi(C,e.name),qi(M,e.name),qi(N,e.name),qi(H,e.name),qi($,e.name);const Z=new qr({uid:ee,auth:e,email:T,emailVerified:pe,displayName:E,isAnonymous:Y,photoURL:C,phoneNumber:w,tenantId:M,stsTokenManager:gn,createdAt:H,lastLoginAt:$});return be&&Array.isArray(be)&&(Z.providerData=be.map(_e=>Object.assign({},_e))),N&&(Z._redirectEventId=N),Z}static async _fromIdTokenResponse(e,n,s=!1){const o=new Jo;o.updateFromServerResponse(n);const l=new qr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await gc(l),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=new Map;function li(t){gi(t instanceof Function,"Expected a class definition");let e=oE.get(t);return e?(gi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,oE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Sw.type="NONE";const lE=Sw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t,e,n){return`firebase:${t}:${e}:${n}`}class Ys{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=$u(this.userKey,o.apiKey,l),this.fullPersistenceKey=$u("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ys(li(lE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||li(lE);const c=$u(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const y=await g._get(c);if(y){const E=qr._fromJSON(e,y);g!==l&&(m=E),l=g;break}}catch{}const d=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new Ys(l,e,s):(l=d[0],m&&await l._set(c,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Ys(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Iw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Nw(e))return"Blackberry";if(Dw(e))return"Webos";if(Gg(e))return"Safari";if((e.includes("chrome/")||Rw(e))&&!e.includes("edge/"))return"Chrome";if(Cw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function bw(t=Dt()){return/firefox\//i.test(t)}function Gg(t=Dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Rw(t=Dt()){return/crios\//i.test(t)}function Iw(t=Dt()){return/iemobile/i.test(t)}function Cw(t=Dt()){return/android/i.test(t)}function Nw(t=Dt()){return/blackberry/i.test(t)}function Dw(t=Dt()){return/webos/i.test(t)}function nh(t=Dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Qx(t=Dt()){var e;return nh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Kx(){return nI()&&document.documentMode===10}function xw(t=Dt()){return nh(t)||Cw(t)||Dw(t)||Nw(t)||/windows phone/i.test(t)||Iw(t)}function Yx(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(t,e=[]){let n;switch(t){case"Browser":n=uE(Dt());break;case"Worker":n=`${uE(Dt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,m)=>{try{const d=e(l);c(d)}catch(d){m(d)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $x(t,e={}){return yi(t,"GET","/v2/passwordPolicy",hr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=6;class Zx{constructor(e){var n,s,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:Wx,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,l,c,m;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(s=d.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsLowercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(m=d.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),d}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cE(this),this.idTokenSubscription=new cE(this),this.beforeStateQueue=new Xx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Ys.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===m)&&(d!=null&&d.user)&&(o=d.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Cx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ht(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $x(this),n=new Zx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Gx(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&li(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await Ys.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(m,this,"internal-error"),m.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,s,o);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ow(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Sx(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ns(t){return ht(t)}class cE{constructor(e){this.auth=e,this.observer=null,this.addObserver=uI(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Mw(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=o=>{const l=Ln("internal-error");l.customData=o,n(l)},s.type="text/javascript",s.charset="UTF-8",eO().appendChild(s)})}function tO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const nO="https://www.google.com/recaptcha/enterprise.js?render=",iO="recaptcha-enterprise",rO="NO_RECAPTCHA";class sO{constructor(e){this.type=iO,this.auth=ns(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,m)=>{Vx(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new Mx(d);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(d=>{m(d)})})}function o(l,c,m){const d=window.grecaptcha;aE(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(rO)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((l,c)=>{s(this.auth).then(m=>{if(!n&&aE(window.grecaptcha))o(m,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}Mw(nO+m).then(()=>{o(m,l,c)}).catch(d=>{c(d)})}}).catch(m=>{c(m)})})}}async function hE(t,e,n,s=!1){const o=new sO(t);let l;try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const c=Object.assign({},e);return s?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Rm(t,e,n,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await hE(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await hE(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t,e){const n=km(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(Vo(l,e??{}))return o;An(o,"already-initialized")}return n.initialize({options:e})}function oO(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(li);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function lO(t,e,n){const s=ns(t);se(s._canInitEmulator,s,"emulator-config-failed"),se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=Vw(e),{host:c,port:m}=uO(e),d=m===null?"":`:${m}`;s.config.emulator={url:`${l}//${c}${d}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:c,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),cO()}function Vw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uO(t){const e=Vw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:fE(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:fE(c)}}}function fE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,n){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}async function hO(t,e){return yi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fO(t,e){return _l(t,"POST","/v1/accounts:signInWithPassword",hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dO(t,e){return _l(t,"POST","/v1/accounts:signInWithEmailLink",hr(t,e))}async function mO(t,e){return _l(t,"POST","/v1/accounts:signInWithEmailLink",hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el extends Qg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new el(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new el(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rm(e,n,"signInWithPassword",fO);case"emailLink":return dO(e,{email:this._email,oobCode:this._password});default:An(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rm(e,s,"signUpPassword",hO);case"emailLink":return mO(e,{idToken:n,email:this._email,oobCode:this._password});default:An(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xs(t,e){return _l(t,"POST","/v1/accounts:signInWithIdp",hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="http://localhost";class Xr extends Qg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):An("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,l=Bg(n,["providerId","signInMethod"]);if(!s||!o)return null;const c=new Xr(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Xs(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Xs(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xs(e,n)}buildRequest(){const e={requestUri:gO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=il(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yO(t){const e=_o(vo(t)).link,n=e?_o(vo(e)).deep_link_id:null,s=_o(vo(t)).deep_link_id;return(s?_o(vo(s)).link:null)||s||n||e||t}class Kg{constructor(e){var n,s,o,l,c,m;const d=_o(vo(e)),g=(n=d.apiKey)!==null&&n!==void 0?n:null,y=(s=d.oobCode)!==null&&s!==void 0?s:null,E=pO((o=d.mode)!==null&&o!==void 0?o:null);se(g&&y&&E,"argument-error"),this.apiKey=g,this.operation=E,this.code=y,this.continueUrl=(l=d.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=d.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(m=d.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=yO(e);try{return new Kg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.providerId=ma.PROVIDER_ID}static credential(e,n){return el._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Kg.parseLink(n);return se(s,"argument-error"),el._fromEmailAndCode(e,s.code,s.tenantId)}}ma.PROVIDER_ID="password";ma.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ma.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends Pw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends vl{constructor(){super("facebook.com")}static credential(e){return Xr._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends vl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xr._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Qi.credential(n,s)}catch{return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com";Qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends vl{constructor(){super("github.com")}static credential(e){return Xr._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.GITHUB_SIGN_IN_METHOD="github.com";Ki.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends vl{constructor(){super("twitter.com")}static credential(e,n){return Xr._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Yi.credential(n,s)}catch{return null}}}Yi.TWITTER_SIGN_IN_METHOD="twitter.com";Yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(t,e){return _l(t,"POST","/v1/accounts:signUp",hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const l=await qr._fromIdTokenResponse(e,s,o),c=dE(s);return new $r({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=dE(s);return new $r({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function dE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends pi{constructor(e,n,s,o){var l;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,pc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new pc(e,n,s,o)}}function Uw(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?pc._fromErrorAndOperation(t,l,e,s):l})}async function vO(t,e,n=!1){const s=await ra(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $r._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(t,e,n=!1){const{auth:s}=t,o="reauthenticate";try{const l=await ra(t,Uw(s,o,e,t),n);se(l.idToken,s,"internal-error");const c=Fg(l.idToken);se(c,s,"internal-error");const{sub:m}=c;return se(t.uid===m,s,"user-mismatch"),$r._forOperation(t,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&An(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lw(t,e,n=!1){const s="signIn",o=await Uw(t,s,e),l=await $r._fromIdTokenResponse(t,s,o);return n||await t._updateCurrentUser(l.user),l}async function TO(t,e){return Lw(ns(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kw(t){const e=ns(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function AO(t,e,n){const s=ns(t),c=await Rm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_O).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&kw(t),d}),m=await $r._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(m.user),m}function wO(t,e,n){return TO(ht(t),ma.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&kw(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(t,e){return yi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mE(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=ht(t),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await ra(s,SO(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const m=s.providerData.find(({providerId:d})=>d==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function bO(t,e,n,s){return ht(t).onIdTokenChanged(e,n,s)}function RO(t,e,n){return ht(t).beforeAuthStateChanged(e,n)}function IO(t,e,n,s){return ht(t).onAuthStateChanged(e,n,s)}const yc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yc,"1"),this.storage.removeItem(yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(){const t=Dt();return Gg(t)||nh(t)}const NO=1e3,DO=10;class zw extends jw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=CO()&&Yx(),this.fallbackToPolling=xw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,m,d)=>{this.notifyListeners(c,d)});return}const s=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const c=this.storage.getItem(s);if(e.newValue!==c)e.newValue!==null?this.storage.setItem(s,e.newValue):this.storage.removeItem(s);else if(this.localCache[s]===e.newValue&&!n)return}const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);Kx()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,DO):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},NO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zw.type="LOCAL";const xO=zw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw extends jw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Bw.type="SESSION";const qw=Bw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new ih(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:l}=n.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async g=>g(n.origin,l)),d=await OO(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((m,d)=>{const g=Yg("",20);o.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(E){const T=E;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(T.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return window}function VO(t){kn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(){return typeof kn().WorkerGlobalScope<"u"&&typeof kn().importScripts=="function"}async function PO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function LO(){return Hw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="firebaseLocalStorageDb",kO=1,_c="firebaseLocalStorage",Gw="fbase_key";class El{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rh(t,e){return t.transaction([_c],e?"readwrite":"readonly").objectStore(_c)}function jO(){const t=indexedDB.deleteDatabase(Fw);return new El(t).toPromise()}function Im(){const t=indexedDB.open(Fw,kO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(_c,{keyPath:Gw})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(_c)?e(s):(s.close(),await jO(),e(await Im()))})})}async function gE(t,e,n){const s=rh(t,!0).put({[Gw]:e,value:n});return new El(s).toPromise()}async function zO(t,e){const n=rh(t,!1).get(e),s=await new El(n).toPromise();return s===void 0?null:s.value}function pE(t,e){const n=rh(t,!0).delete(e);return new El(n).toPromise()}const BO=800,qO=3;class Qw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Im(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>qO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(LO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await PO(),!this.activeServiceWorker)return;this.sender=new MO(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Im();return await gE(e,yc,"1"),await pE(e,yc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>gE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>zO(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=rh(o,!1).getAll();return new El(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Qw.type="LOCAL";const HO=Qw;new yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t,e){return e?li(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg extends Qg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GO(t){return Lw(t.auth,new Xg(t),t.bypassAuthState)}function QO(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),EO(n,new Xg(t),t.bypassAuthState)}async function KO(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),vO(n,new Xg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,n,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:l,error:c,type:m}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(d))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GO;case"linkViaPopup":case"linkViaRedirect":return KO;case"reauthViaPopup":case"reauthViaRedirect":return QO;default:An(this.auth,"internal-error")}}resolve(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=new yl(2e3,1e4);class Fs extends Kw{constructor(e,n,s,o,l){super(e,n,o,l),this.provider=s,this.authWindow=null,this.pollId=null,Fs.currentPopupAction&&Fs.currentPopupAction.cancel(),Fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){gi(this.filter.length===1,"Popup operations only handle one event");const e=Yg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YO.get())};e()}}Fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO="pendingRedirect",Wu=new Map;class $O extends Kw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Wu.get(this.auth._key());if(!e){try{const s=await WO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Wu.set(this.auth._key(),e)}return this.bypassAuthState||Wu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WO(t,e){const n=e4(e),s=JO(t);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function ZO(t,e){Wu.set(t._key(),e)}function JO(t){return li(t._redirectPersistence)}function e4(t){return $u(XO,t.config.apiKey,t.name)}async function t4(t,e,n=!1){const s=ns(t),o=FO(s,e),c=await new $O(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=10*60*1e3;class i4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!r4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Yw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ln(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n4&&this.cachedEventUids.clear(),this.cachedEventUids.has(yE(e))}saveEventToCache(e){this.cachedEventUids.add(yE(e)),this.lastProcessedEventTime=Date.now()}}function yE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Yw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function r4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(t,e={}){return yi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o4=/^https?/;async function l4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await s4(t);for(const n of e)try{if(u4(n))return}catch{}An(t,"unauthorized-domain")}function u4(t){const e=bm(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!o4.test(n))return!1;if(a4.test(t))return s===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=new yl(3e4,6e4);function _E(){const t=kn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function h4(t){return new Promise((e,n)=>{var s,o,l;function c(){_E(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_E(),n(Ln(t,"network-request-failed"))},timeout:c4.get()})}if(!((o=(s=kn().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=kn().gapi)===null||l===void 0)&&l.load)c();else{const m=tO("iframefcb");return kn()[m]=()=>{gapi.load?c():n(Ln(t,"network-request-failed"))},Mw(`https://apis.google.com/js/api.js?onload=${m}`).catch(d=>n(d))}}).catch(e=>{throw Zu=null,e})}let Zu=null;function f4(t){return Zu=Zu||h4(t),Zu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=new yl(5e3,15e3),m4="__/auth/iframe",g4="emulator/auth/iframe",p4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _4(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Hg(e,g4):`https://${t.config.authDomain}/${m4}`,s={apiKey:e.apiKey,appName:t.name,v:oa},o=y4.get(t.config.apiHost);o&&(s.eid=o);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${il(s).slice(1)}`}async function v4(t){const e=await f4(t),n=kn().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:_4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p4,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=Ln(t,"network-request-failed"),m=kn().setTimeout(()=>{l(c)},d4.get());function d(){kn().clearTimeout(m),o(s)}s.ping(d).then(d,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T4=500,A4=600,w4="_blank",S4="http://localhost";class vE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function b4(t,e,n,s=T4,o=A4){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const d=Object.assign(Object.assign({},E4),{width:s.toString(),height:o.toString(),top:l,left:c}),g=Dt().toLowerCase();n&&(m=Rw(g)?w4:n),bw(g)&&(e=e||S4,d.scrollbars="yes");const y=Object.entries(d).reduce((T,[w,C])=>`${T}${w}=${C},`,"");if(Qx(g)&&m!=="_self")return R4(e||"",m),new vE(null);const E=window.open(e||"",m,y);se(E,t,"popup-blocked");try{E.focus()}catch{}return new vE(E)}function R4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="__/auth/handler",C4="emulator/auth/handler",N4=encodeURIComponent("fac");async function EE(t,e,n,s,o,l){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:oa,eventId:o};if(e instanceof Pw){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",lI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,E]of Object.entries({}))c[y]=E}if(e instanceof vl){const y=e.getScopes().filter(E=>E!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const m=c;for(const y of Object.keys(m))m[y]===void 0&&delete m[y];const d=await t._getAppCheckToken(),g=d?`#${N4}=${encodeURIComponent(d)}`:"";return`${D4(t)}?${il(m).slice(1)}${g}`}function D4({config:t}){return t.emulator?Hg(t,C4):`https://${t.authDomain}/${I4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="webStorageSupport";class x4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qw,this._completeRedirectFn=t4,this._overrideRedirectResult=ZO}async _openPopup(e,n,s,o){var l;gi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await EE(e,n,s,bm(),o);return b4(e,c,Yg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const l=await EE(e,n,s,bm(),o);return VO(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(gi(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await v4(e),s=new i4(e);return n.register("authEvent",o=>(se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hd,{type:Hd},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Hd];c!==void 0&&n(!!c),An(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=l4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xw()||Gg()||nh()}}const O4=x4;var TE="@firebase/auth",AE="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function P4(t){$s(new Hr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;se(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:c,authDomain:m,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ow(t)},g=new Jx(s,o,l,d);return oO(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),$s(new Hr("auth-internal",e=>{const n=ns(e.getProvider("auth").getImmediate());return(s=>new M4(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),er(TE,AE,V4(t)),er(TE,AE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=5*60,L4=GE("authIdTokenMaxAge")||U4;let wE=null;const k4=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>L4)return;const o=n==null?void 0:n.token;wE!==o&&(wE=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function j4(t=lC()){const e=km(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aO(t,{popupRedirectResolver:O4,persistence:[HO,xO,qw]}),s=GE("authTokenSyncURL");if(s){const l=k4(s);RO(n,l,()=>l(n.currentUser)),bO(n,c=>l(c))}const o=WR("auth");return o&&lO(n,`http://${o}`),n}P4("Browser");const z4={apiKey:"AIzaSyCcrGeP8uj0LlZ9CQJFwF5YpJ43rO6EByU",authDomain:"rein-firebase-test.firebaseapp.com",databaseURL:"https://rein-firebase-test-default-rtdb.europe-west1.firebasedatabase.app",projectId:"rein-firebase-test",storageBucket:"rein-firebase-test.appspot.com",messagingSenderId:"270166841798",appId:"1:270166841798:web:2d2c7a5f4bee100f387ac7"},Xw=YE(z4),Hi=j4(Xw),Ut=ax(Xw,{experimentalForceLongPolling:!0}),SE=()=>`https://picsum.photos/id/${Math.floor(Math.random()*500)}/200/300`,fr=O.createContext(null),B4=({children:t})=>{const[e,n]=O.useState(null),[s,o]=O.useState(!0);console.log("user",e);const l=async(y,E)=>{try{const T=await wO(Hi,y,E);return n(T.user),!0}catch(T){throw console.error("Error signing in:",T),T}},c=async()=>{await Hi.signOut(),n(null)},m=async(y,E)=>{const T=y.split("@")[0],w=SE();try{const C=await AO(Hi,y,E);T&&await mE(C.user,{displayName:T,photoURL:w}),n({...C.user,displayName:T,photoURL:w})}catch(C){throw console.error("Error creating user:",C.code,C.message),C}},d=async({displayName:y})=>{if(!Hi.currentUser)return!1;const E=y??Hi.currentUser.displayName,T=Hi.currentUser.photoURL??SE();try{return await mE(Hi.currentUser,{displayName:E,photoURL:T}),n(w=>w?{...w,displayName:E,photoURL:T}:null),!0}catch(w){return console.error("Error updating profile:",w),!1}};O.useEffect(()=>{o(!0);const y=IO(Hi,E=>{console.log("onAuthStateChanged!!"),n(E),o(!1)});return()=>y()},[]);const g=O.useMemo(()=>({isLoading:s,user:e,signOut:c,signIn:l,createUser:m,updateUser:d}),[s,e]);return v.jsx(fr.Provider,{value:g,children:t})},$w=()=>{const t=O.useContext(fr);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},wn=()=>$w().user,Ww=async t=>(await Zo(Yr(Ut,t))).docs.map(n=>({id:n.id,...n.data()})),Zw=async(t,e)=>{try{const n=await zg(mi(Ut,e,t));return console.log(`Deleted item with ID: ${t} from collection: ${e}`," dockref: ",n),!0}catch(n){return console.log("Error Deleting: ",n),!1}},Jw=async(t,e)=>{try{const n=await yw(Yr(Ut,e),{...t});return console.log("Document written with ID: ",n.id),{id:n.id,...t}}catch(n){return console.error("Error adding document: ",n),!1}},eS=async(t,e,n)=>{try{const s=await jg(mi(Ut,n,e),{...t});return console.log("Document updated with ID: ",e," docref: ",s),!0}catch(s){return console.error("Error updating document: ",s),!1}},bE=async(t,e,n)=>{try{const s=await jg(mi(Ut,n,e),{...t});return console.log("Document updated with ID: ",e," docref: ",s),!0}catch(s){return console.error("Error updating document: ",s),!1}},q4=async(t,e,n,s)=>{if(await tS(t,n,s))return console.log("Relation already exists"),!1;const l=`${n}-${s}`;console.log("Relation ID: ",l);try{return await Tx(mi(Ut,t,l),e),console.log("Relation added with ID: ",l),l}catch(c){return console.error("Error adding relation: ",c),!1}},H4=async(t,e,n)=>{let s;if(!n)s=await Zo(Yr(Ut,t));else{const o=Ug(Yr(Ut,t),fw(e,"==",n));s=await Zo(o)}return s.docs.map(o=>({id:o.id,...o.data()}))},F4=async(t,e,n)=>{const s=`${e}-${n}`;try{if(!await tS(t,e,n))return console.log("Relation does not exist"),!0}catch(o){return console.error("Error checking relation: ",o),!1}try{return await zg(mi(Ut,t,s)),console.log("Relation deleted with ID: ",s),!0}catch(o){return console.error("Error deleting relation: ",o),!1}},tS=async(t,e,n)=>{const s=`${e}-${n}`,o=mi(Ut,t,s);return(await Ex(o)).exists()},Ur="games",G4=()=>{const t=wn(),[e,n]=O.useState([]),[s,o]=O.useState(!0),l=t==null?void 0:t.uid,c=O.useCallback(async()=>{if(!l)return;o(!0);const T=await Ww(Ur);n(T),o(!1)},[l]),m=async T=>{const w=await Jw({name:T.name,players:[],playerUids:[]},Ur);return w?(n(C=>[...C,w]),w):(alert("Error adding game"),null)},d=async(T,w)=>{var pe;const C=w||l;if(!C)return!1;const M=e.find(Y=>Y.id===T);if(!M)return alert("Game not found"),!1;if((pe=M.players)!=null&&pe.some(Y=>Y.uid===C))return!1;const N={uid:C,displayName:(t==null?void 0:t.displayName)||"",playerRole:"player"},H=[...M.players||[],N],$=[...M.playerUids||[],C];return await bE({players:H,playerUids:$},T,Ur)?(n(Y=>Y.map(be=>be.id===T?{...be,players:H,playerUids:$}:be)),!0):(alert("Error joining game"),!1)},g=async(T,w)=>{var ee,pe;const C=w||l;if(!C)return!1;const M=e.find(Y=>Y.id===T);if(!M)return alert("Game not found"),!1;const N=((ee=M.players)==null?void 0:ee.filter(Y=>Y.uid!==C))||[],H=((pe=M.playerUids)==null?void 0:pe.filter(Y=>Y!==C))||[];return await bE({players:N,playerUids:H},T,Ur)?(n(Y=>Y.map(be=>be.id===T?{...be,players:N,playerUids:H}:be)),!0):(alert("Error leaving game"),!1)};O.useCallback(async()=>{if(!l)return[];const T=Ug(Yr(Ut,Ur),fw("playerUids","array-contains",{uid:l}));return(await Zo(T)).docs.map(M=>({id:M.id,...M.data()}))},[l]);const y=async T=>{n(C=>C.filter(M=>M.id!==T));const w=await Zw(T,Ur);return w||alert("Error deleting game"),!!w},E=async T=>{const w={name:T.name,description:T.description||""};return await eS(w,T.id,Ur)?(n(M=>M.map(N=>N.id===T.id?{...N,...T}:N)),!0):(alert("Error updating game"),!1)};return O.useEffect(()=>{l&&c()},[c]),{games:e,gamesLoading:s,joinGamePlayer:d,leaveGamePlayer:g,addGame:m,refreshGames:c,deleteGame:y,editGame:E}},nS=O.createContext(null),Q4=({children:t})=>{const e=wn(),{games:n,gamesLoading:s,addGame:o,refreshGames:l,joinGamePlayer:c,leaveGamePlayer:m,deleteGame:d,editGame:g}=G4(),[y,E]=O.useState(null),T=O.useMemo(()=>n.filter(C=>{var M;return(M=C.players)==null?void 0:M.some(N=>N.uid===e.uid)}),[n,e==null?void 0:e.uid]),w=O.useMemo(()=>({games:n,gamesLoading:s,addGame:o,refreshGames:l,deleteGame:d,editGame:g,joinGamePlayer:c,leaveGamePlayer:m,myGames:T,selectedGame:y,setSelectedGame:E}),[n,s,y]);return v.jsx(nS.Provider,{value:w,children:t})},sh=()=>{const t=O.useContext(nS);if(!t)throw new Error("useGamesContext must be used within a gamesProvider");return t},iS=t=>{const{user:e,signIn:n,signOut:s}=O.useContext(fr),o=()=>{e?s():n("test@test.no","123456"),t.onClickAction&&t.onClickAction()};return v.jsx("div",{children:v.jsx("span",{style:{display:"flex",alignItems:"center"},onClick:o,children:e?"Logout":"Login"})})},K4=()=>v.jsxs("div",{children:[v.jsx("h1",{children:"content"}),v.jsx(Mo,{to:"/magicitems",children:"Magic Items"}),v.jsx(iS,{})]}),Y4=()=>{const{user:t,signIn:e,signOut:n}=O.useContext(fr),[s,o]=O.useState(""),[l,c]=O.useState(""),[m,d]=O.useState(""),[g,y]=O.useState(!1),E=async T=>{var w;if(T.preventDefault(),t){n();return}if(!s||!l){alert("Please enter username and password");return}y(!0),d("");try{let C;s==="admin"&&l==="admin"?C=await e("test@test.no","123456"):C=await e(s,l),console.log(C),((w=C==null?void 0:C.error)==null?void 0:w.length)>0&&d(C.error[1])}catch(C){console.error(C),d("An unexpected error occurred.")}finally{y(!1)}};return g?v.jsx("div",{className:"flex justify-center align-center mt-[10vh]",children:v.jsx("div",{className:"bg-white p-4 shadow-md rounded-md max-w-[300px]",children:v.jsx("p",{children:"Loading..."})})}):v.jsx("div",{className:"flex justify-center align-center mt-[10vh]",children:v.jsxs("form",{className:"bg-white p-4 shadow-md rounded-md max-w-[300px]",onSubmit:E,children:[v.jsx("label",{htmlFor:"username",children:"Username:"}),v.jsx("input",{type:"text",id:"username",className:"w-full p-2 mb-4 bg-gray-200 rounded-md",value:s,onChange:T=>o(T.target.value),required:!0}),v.jsx("label",{htmlFor:"password",children:"Password:"}),v.jsx("input",{type:"password",id:"password",className:"w-full p-2 mb-4 bg-gray-200 rounded-md",value:l,onChange:T=>c(T.target.value),required:!0}),m.length>0&&v.jsx("div",{children:m}),v.jsxs("div",{className:"flex justify-between align-center",children:[v.jsx("button",{className:"bg-misc text-white p-2 rounded-sm hover:bg-blue-800",type:"submit",children:"Login"}),v.jsx("div",{className:"flex flex-col justify-center",children:v.jsx(Mo,{to:"/register",children:"Register"})})]})]})})},X4=()=>{const{createUser:t}=O.useContext(fr),[e,n]=O.useState(""),[s,o]=O.useState(""),[l,c]=O.useState(""),m=async d=>{if(d.preventDefault(),!e||!s||!l){alert("Please fill in all fields");return}if(s.length<6){alert("Password must be at least 6 characters long");return}if(s!==l){alert("Passwords do not match");return}await t(e,s)};return v.jsx("div",{className:"flex justify-center align-center mt-[10vh]",children:v.jsxs("form",{className:"flex flex-col justify-center align-center p-4 bg-white rounded-sm shadow-md",onSubmit:m,children:[v.jsx("label",{htmlFor:"email",children:"Email:"}),v.jsx("input",{className:"w-full p-4 mb-4 bg-gray-200 rounded-md",type:"email",id:"email",value:e,onChange:d=>n(d.target.value),required:!0}),v.jsx("label",{htmlFor:"password",children:"Password:"}),v.jsx("input",{className:"w-full p-4 mb-4 bg-gray-200 rounded-md",type:"password",id:"password",value:s,onChange:d=>o(d.target.value),required:!0}),v.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password:"}),v.jsx("input",{className:"w-full p-4 mb-4 bg-gray-200 rounded-md",type:"password",id:"confirmPassword",value:l,onChange:d=>c(d.target.value),required:!0}),v.jsx("button",{className:"bg-green-600 p-2 rounded-sm text-white self-end",type:"submit",children:"Register"})]})})},$4=t=>{const[e,n]=O.useState(""),[s,o]=O.useState(""),l=c=>{if(c.preventDefault(),e!==s){alert("Passwords do not match");return}};return v.jsxs("div",{className:"pt-4 ",children:[v.jsx("div",{className:"text-start border-b-2 border-gray-200 mb-3",children:"Password:"}),v.jsx("form",{className:"w-full",onSubmit:l,children:v.jsx("table",{className:"w-full",children:v.jsxs("tbody",{children:[v.jsxs("tr",{children:[v.jsx("th",{className:"text-start",children:v.jsx("label",{htmlFor:"password",children:"Password:"})}),v.jsx("th",{children:v.jsx("input",{type:"password",id:"password",defaultValue:"",placeholder:"*****",onChange:c=>n(c.target.value),required:!0,disabled:!0})})]}),v.jsxs("tr",{children:[v.jsx("th",{className:"text-start",children:v.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password:"})}),v.jsx("th",{children:v.jsx("input",{type:"password",id:"confirmPassword",value:"",placeholder:"*****",onChange:c=>o(c.target.value),required:!0,disabled:!0})})]}),v.jsx("tr",{children:v.jsx("th",{colSpan:2,children:v.jsx("div",{className:"w-full flex justify-end",children:v.jsx("button",{className:"bg-green-500 disabled:bg-gray-300 rounded-sm p-1",type:"submit",disabled:!0,children:"Disabled"})})})})]})})})]})},W4=t=>{const[e,n]=O.useState(""),s=O.useRef(null);let o=t.user.displayName,l=t.user.email;const c=async d=>{if(d.preventDefault(),e.length<3){alert("Name is too short");return}t.setIsUpdating(!0),await t.handleUpdateUser(e)&&t.setIsUpdating(!1)},m=d=>{d.preventDefault(),n(t.user.displayName),s.current.value=t.user.displayName};return v.jsxs("div",{className:"pt-4",children:[v.jsx("div",{className:"text-start border-b-2 border-gray-200 mb-3",children:"User Info:"}),v.jsx("form",{className:"w-full",onSubmit:c,children:v.jsx("table",{className:"w-full",children:v.jsxs("tbody",{children:[v.jsxs("tr",{children:[v.jsx("th",{className:"text-start",children:v.jsx("label",{htmlFor:"name",children:"Name:"})}),v.jsx("th",{className:"w-[50%]",children:v.jsx("input",{type:"text",id:"name",className:"w-full",defaultValue:o,ref:s,onChange:d=>n(d.target.value),required:!0})})]}),v.jsxs("tr",{children:[v.jsx("th",{className:"text-start",children:v.jsx("label",{htmlFor:"email",children:"Email:"})}),v.jsx("th",{children:v.jsx("input",{type:"text",id:"email",value:l,required:!0,disabled:!0})})]}),v.jsx("tr",{children:v.jsx("th",{colSpan:2,children:v.jsxs("div",{className:"w-full flex justify-end",children:[e!==""&&e!==o&&v.jsx("button",{className:"bg-blue-500 disabled:bg-gray-300 rounded-sm p-1",type:"reset",onClick:m,children:"Reset"}),v.jsx("button",{className:"bg-green-500 disabled:bg-gray-300 rounded-sm p-1 ml-2",type:"submit",disabled:e===""||e===o,children:"Update"})]})})})]})})})]})},Z4=t=>v.jsxs("div",{className:"justify-center p-4 bg-white rounded-md shadow-md m-4 text-center",children:[v.jsx("div",{className:"semi-bold",children:"Edit User"}),v.jsx(W4,{...t}),v.jsx($4,{})]}),rS=()=>{const{user:t,updateUser:e}=O.useContext(fr),[n,s]=O.useState(!1);if(!t)return v.jsx("div",{children:v.jsx("span",{children:"Fetching User"})});const o=async l=>await e({displayName:l});return n?v.jsx("div",{className:"flex flex-col justify-center items-center w-full",children:v.jsx("div",{className:"justify-center p-4 bg-white rounded-md shadow-md m-4 text-center",children:v.jsx("span",{children:"Updating User"})})}):v.jsx("div",{className:"flex flex-col justify-center items-center w-full",children:v.jsx(Z4,{user:t,setIsUpdating:s,handleUpdateUser:o})})},sS=t=>{const e=O.useRef(null),[n,s]=O.useState(!1),o=t.item.mi_title,l=t.item.mi_type,c=t.item.mi_attunement,m=t.item.mi_description,d=()=>{t.getModalItem(t.item)};return O.useEffect(()=>{if(!e.current)return;const g=new ResizeObserver(y=>{y[0].contentRect.height<100?s(!1):s(!0)});return g.observe(e.current),()=>{g.disconnect()}},[]),v.jsxs("div",{className:"flex flex-col justify-start p-4 bg-white hover:bg-green-50 rounded-md drop-shadow-md cursor-pointer mt-2 bg-linear-to-t from-white to-100%",onClick:d,children:[v.jsx("div",{className:"font-semibold",children:o}),v.jsxs("div",{className:"text-gray-500 text-sm",children:[l,c?" Requires Attunement":""]}),v.jsx("div",{className:"text-sm mt-3 max-h-[100px] overflow-y-hidden text-ellipsis break-normal",ref:e,children:m}),v.jsx("div",{className:`h-[20px] mt-[-20px] bg-linear-to-t from-white to-100% z-10 ${n?"block":"hidden"}`})]})},J4=O.forwardRef(({modalItem:t,onEditSaved:e},n)=>{const[s,o]=O.useState(t.mi_title),[l,c]=O.useState(t.mi_type),[m,d]=O.useState(t.mi_attunement),[g,y]=O.useState(t.mi_description),E=T=>{T.preventDefault(),e({mi_title:s,mi_type:l,mi_attunement:m,mi_description:g})};return O.useImperativeHandle(n,()=>({submit:E})),v.jsx(v.Fragment,{children:v.jsxs("form",{onSubmit:E,children:[v.jsx("label",{className:"text-sm",children:"Title:"}),v.jsx("input",{className:"w-full p-2 bg-gray-200 rounded-md mb-4",name:"title",value:s,type:"text",onChange:T=>o(T.target.value)}),v.jsx("label",{className:"text-sm",children:"Type:"}),v.jsx("input",{className:"w-full p-2 bg-gray-200 rounded-md mt-1 mb-4",name:"type",value:l,type:"text",onChange:T=>c(T.target.value)}),v.jsxs("div",{className:"flex flex-row items-center justify-start gap-2 mb-4",children:[v.jsx("div",{className:"text-sm",children:"requires attunement? "}),v.jsx("input",{name:"attunement",type:"checkbox",checked:m,onChange:T=>d(T.target.checked)})]}),v.jsx("textarea",{className:"w-full p-2 bg-gray-200 rounded-md mt-1",rows:5,name:"description",value:g,onChange:T=>y(T.target.value)})]})})}),Fd="magic_item_favorites",$g=()=>{const{user:t}=$w(),[e,n]=O.useState([]),[s,o]=O.useState(!0),l=t==null?void 0:t.uid,c=O.useCallback(async()=>{if(!l)return;o(!0);const T=(await H4(Fd,"uid",l)).map(w=>w.itemId);n(T),o(!1)},[l]),m=E=>e.includes(E),d=async(E,T)=>{if(!l||m(E))return;const w={uid:l,displayName:(t==null?void 0:t.displayName)||"",itemId:E,itemName:T||""};await q4(Fd,w,l,E),n(C=>[...C,E])},g=async E=>{l&&(await F4(Fd,l,E),n(T=>T.filter(w=>w!==E)))},y=async(E,T)=>{m(E)?await g(E):await d(E,T||void 0)};return O.useEffect(()=>{c()},[c]),{favoriteItemIds:e,isFavorited:m,addFavorite:d,removeFavorite:g,toggleFavorite:y,loadingFavourites:s}};var aS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},sr=ui.createContext&&ui.createContext(aS),eM=["attr","size","title"];function tM(t,e){if(t==null)return{};var n=nM(t,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function nM(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},vc.apply(this,arguments)}function RE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function Ec(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RE(Object(n),!0).forEach(function(s){iM(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function iM(t,e,n){return e=rM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rM(t){var e=sM(t,"string");return typeof e=="symbol"?e:e+""}function sM(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oS(t){return t&&t.map((e,n)=>ui.createElement(e.tag,Ec({key:n},e.attr),oS(e.child)))}function dr(t){return e=>ui.createElement(aM,vc({attr:Ec({},t.attr)},e),oS(t.child))}function aM(t){var e=n=>{var{attr:s,size:o,title:l}=t,c=tM(t,eM),m=o||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),ui.createElement("svg",vc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,c,{className:d,style:Ec(Ec({color:t.color||n.color},n.style),t.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),l&&ui.createElement("title",null,l),t.children)};return sr!==void 0?ui.createElement(sr.Consumer,null,n=>e(n)):e(aS)}function lS(t){return dr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9l2.6-2.4C267.2 438.6 256 404.6 256 368c0-97.2 78.8-176 176-176c28.3 0 55 6.7 78.7 18.5c.9-6.5 1.3-13 1.3-19.6l0-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1l0 5.8c0 41.5 17.2 81.2 47.6 109.5zM432 512a144 144 0 1 0 0-288 144 144 0 1 0 0 288zm16-208l0 48 48 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-48 0 0 48c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-48-48 0c-8.8 0-16-7.2-16-16s7.2-16 16-16l48 0 0-48c0-8.8 7.2-16 16-16s16 7.2 16 16z"},child:[]}]})(t)}function Wg(t){return dr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9l2.6-2.4C267.2 438.6 256 404.6 256 368c0-97.2 78.8-176 176-176c28.3 0 55 6.7 78.7 18.5c.9-6.5 1.3-13 1.3-19.6l0-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1l0 5.8c0 41.5 17.2 81.2 47.6 109.5zM432 512a144 144 0 1 0 0-288 144 144 0 1 0 0 288zm59.3-180.7L454.6 368l36.7 36.7c6.2 6.2 6.2 16.4 0 22.6s-16.4 6.2-22.6 0L432 390.6l-36.7 36.7c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6L409.4 368l-36.7-36.7c-6.2-6.2-6.2-16.4 0-22.6s16.4-6.2 22.6 0L432 345.4l36.7-36.7c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"},child:[]}]})(t)}function Zg(t){return dr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"},child:[]}]})(t)}function Cm(t){return dr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"},child:[]}]})(t)}function oM(t){return dr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(t)}function Jg(t){return dr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function lM(t){return dr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function ah(t){return dr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(t)}const uM=({modalItem:t})=>v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"text-lg font-semibold",children:t.mi_title}),v.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:[t.mi_type," ",t.mi_attunement?"requires attunement":""]}),v.jsx("div",{className:"mim-description",children:t.mi_description})]}),cM=t=>{const[e,n]=O.useState(!1),[s,o]=O.useState(!1),l=O.useRef(null),{addFavorite:c,removeFavorite:m,isFavorited:d}=$g(),g=N=>{N.preventDefault(),c(t.modalItem.id,t.modalItem.mi_title)},y=N=>{N.preventDefault(),m(t.modalItem.id)};O.useEffect(()=>{n(!0)},[]);const E=N=>{var H;N.preventDefault(),(H=l.current)==null||H.submit(N)},T=()=>{o(!1),t.onClose()},w=()=>{o(N=>!N)},C=()=>{window.confirm(`Are you sure you want to delete ${t.modalItem.mi_title}?`)&&(o(!1),t.onDelete(t.modalItem.id))},M=N=>{t.onEditSaved(N,t.modalItem.id),T()};return t.modalItem==null||!e?null:Gb.createPortal(v.jsx("div",{className:"fixed top-0 left-0 w-full h-full flex justify-center items-start z-1000 bg-[#00000080]",onClick:T,children:v.jsx("div",{className:"bg-white rounded-md p-4 m-4 w-full max-w-[800px]",onClick:N=>N.stopPropagation(),children:v.jsxs(sr.Provider,{value:{size:"18px"},children:[s?v.jsx(J4,{ref:l,modalItem:t.modalItem,onEditSaved:M}):v.jsx(uM,{modalItem:t.modalItem}),v.jsxs("div",{className:"flex flex-row justify-end items-center mt-2",children:[s&&v.jsx("button",{className:"p-2 bg-confirm hover:bg-confirm-dark text-white ml-1 rounded-sm",onClick:E,children:v.jsx(Jg,{})}),v.jsx("button",{className:`p-2 bg-${s?"cancel":"misc"} text-white ml-1 rounded-sm 
              hover:bg-${s?"cancel-dark":"misc-dark"} `,onClick:w,children:s?v.jsx(ah,{}):v.jsx(Zg,{})}),d(t.modalItem.id)?v.jsx("button",{className:"p-2 bg-misc hover:bg-misc-dark text-white ml-1 rounded-sm",onClick:y,children:v.jsx(Wg,{})}):v.jsx("button",{className:"p-2 bg-misc hover:bg-misc-dark text-white ml-1 rounded-sm",onClick:g,children:v.jsx(lS,{})}),v.jsx("button",{className:"p-2 bg-cancel hover:bg-cancel-dark text-white ml-1 rounded-sm",onClick:C,children:v.jsx(Cm,{})})]})]})})}),document.getElementById("modal"))},hM=t=>{const[e,n]=O.useState(!0),[s,o]=O.useState(""),[l,c]=O.useState(""),[m,d]=O.useState(!1),[g,y]=O.useState(""),[E,T]=O.useState(null),w=async M=>{if(M.preventDefault(),s===""||l===""||g===""){T("Please fill in all fields");return}const N={mi_title:s,mi_type:l,mi_attunement:m,mi_description:g};await t.addMagicItem(N)?(o(""),d(!1),c(""),y(""),T(null)):T("Error adding item")},C=()=>{n(M=>!M)};return v.jsx(sr.Provider,{value:{size:"18px"},children:v.jsxs("div",{className:"flex flex-col justify-start p-4 bg-white drop-shadow-md rounded-md my-2",children:[v.jsxs("div",{className:"flex flex-row justify-between items-center",children:[v.jsx("div",{className:"text-lg font-semibold",children:"Add New Item"}),v.jsx("button",{className:"p-2 bg-gray-200 rounded-sm",type:"button",onClick:C,children:e?v.jsx(Zg,{}):v.jsx(ah,{})})]}),v.jsx("div",{className:e?"hidden":"block",children:v.jsxs("div",{className:"flex flex-col justify-between items-center w-full min-w-[200px]",children:[v.jsxs("form",{className:"w-full",onSubmit:w,children:[v.jsx("input",{className:"w-full bg-gray-100 my-1 p-1 rounded-sm",name:"title",placeholder:"Title",value:s,type:"text",onChange:M=>o(M.target.value)}),v.jsx("input",{className:"w-full bg-gray-100 my-1 p-1 rounded-sm",name:"type",placeholder:"Type",value:l,type:"text",onChange:M=>c(M.target.value)}),v.jsxs("div",{className:"flex flex-row w-full justify-between",children:[v.jsx("div",{className:"",children:"Requires Attunement?"}),v.jsx("input",{className:"",type:"checkbox",checked:m,onChange:M=>d(M.target.checked)})]}),v.jsx("div",{className:"mt-1 w-full",children:v.jsx("textarea",{rows:5,className:"w-full p-1 bg-gray-100 rounded-sm",name:"description",placeholder:"Description",value:g,onChange:M=>y(M.target.value)})}),v.jsx("div",{className:"w-full mt-1",children:v.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white cursor-pointer",children:"Add Item"})})]}),E&&v.jsx("div",{className:"w-full bg-red-100 mt-1 text-center",children:E})]})})]})})};function IE(){const{innerWidth:t,innerHeight:e}=window;return{width:t,height:e}}function fM(){const[t,e]=O.useState(IE());return O.useEffect(()=>{function n(){e(IE())}return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}const dM=({children:t})=>v.jsx("div",{className:"fex flex-col p-1 w-[440px] min-h-1 justify-top align-center",children:t}),mM=({children:t})=>{const{width:e}=fM();let n=0,s=[];t=t.flat(),e<1e3?n=1:n=Math.floor(e/432);for(let o=0;o<n;o++){let l=[];for(let c=o;c<t.length;c+=n)l.push(t[c]);s.push({key:o,childrenItems:l})}return v.jsx(v.Fragment,{children:s.map(o=>v.jsx(dM,{children:o.childrenItems},o.key))})},gM=t=>{const e=s=>{s.preventDefault(),t.searchText.trim()},n=s=>{s.preventDefault(),t.setSearchText("")};return v.jsx(sr.Provider,{value:{size:"18px"},children:v.jsxs("div",{className:"flex flex-col my-2",children:[v.jsxs("div",{className:"flex flex-row p-4 bg-white drop-shadow-md rounded-md z-2",children:[v.jsx("input",{className:"block m-0 p-0 px-2 mr-1 w-full bg-gray-200 rounded-sm",name:"search_text",type:"text",placeholder:"Search title...",value:t.searchText,onChange:s=>t.setSearchText(s.target.value)}),v.jsx("button",{className:"p-2 bg-confirm hover:bg-confirm-dark text-white rounded-sm",onClick:e,children:v.jsx(lM,{})})]}),t.searchText!==""&&v.jsxs("div",{className:"flex flex-row items-center z-1 bg-amber-50 p-4 rounded-b-md drop-shadow-md mt-[-4px]",children:[v.jsxs("span",{className:"w-full",children:['Filtering for: "',t.searchText,'"']}),v.jsx("button",{className:"p-2 bg-blue-600 text-white rounded-sm",onClick:n,children:v.jsx(oM,{})})]})]})})},Fu="magic_items",uS=()=>{const t=wn(),[e,n]=O.useState([]),[s,o]=O.useState(!0),{favoriteItemIds:l}=$g(),c=t==null?void 0:t.uid,m=O.useCallback(async()=>{if(!c)return;o(!0);const E=new Set(l),w=(await Ww(Fu)).map(C=>({...C,is_favorite:E.has(C.id)}));n(w),console.log("Merged Items",w),o(!1)},[l,c]),d=async E=>{const T=await Jw(E,Fu);return T?(n(w=>[...w,T]),T):(alert("Error adding item"),null)},g=async E=>{n(w=>w.filter(C=>C.id!==E));const T=await Zw(E,Fu);return T||alert("Error deleting item"),!!T},y=async(E,T)=>{const w={...E};delete w.is_favorite,delete w.id;const C=await eS(w,T,Fu);return C?n(M=>M.map(N=>N.id===T?E:N)):alert("Error updating item"),!!C};return O.useEffect(()=>{m()},[m]),{magicItems:e,addMagicItem:d,deleteMagicItem:g,updateMagicItem:y,refreshMagicItemsHook:m,loading:s}},pM=()=>{const{user:t}=O.useContext(fr),{magicItems:e,addMagicItem:n,deleteMagicItem:s,updateMagicItem:o,loading:l}=uS(),[c,m]=O.useState(null),[d,g]=O.useState(""),y=O.useMemo(()=>d?e.filter(T=>T.mi_title.toLowerCase().includes(d.toLowerCase())):e,[e,d]),E=async T=>{m(null),await s(T)};return t?l?v.jsx("div",{children:v.jsx("span",{children:"Loading..."})}):v.jsxs(v.Fragment,{children:[v.jsx(cM,{modalItem:c,onClose:()=>m(null),onDelete:E,onEditSaved:o}),v.jsx("div",{className:"flex items-start justify-center",children:v.jsxs(mM,{children:[v.jsx(gM,{searchText:d,setSearchText:g},"magic_item_search"),v.jsx(hM,{addMagicItem:n},"add_magic_item_form"),y.map(T=>v.jsx(sS,{item:T,getModalItem:m},T.id)),y.length===0&&v.jsx("p",{children:"No magic items found."},"no_magic_items_found")]})})]}):v.jsx("div",{children:v.jsx("span",{children:"Fetching User"})})},yM=()=>{const t=wn(),{magicItems:e,loading:n}=uS(),{favoriteItemIds:s}=$g(),{myGames:o}=sh(),l=O.useMemo(()=>e.filter(c=>s.includes(c.id)),[e,s]);return t?n?v.jsx("div",{children:v.jsx("span",{children:"Loading..."})}):v.jsxs("div",{children:[v.jsx("h1",{children:"Player Page"}),v.jsxs("div",{className:"flex flex-row justify-start items-start w-full",children:[v.jsxs("div",{className:"flex flex-col w-[50%]",children:[v.jsx("div",{children:"Your games"}),v.jsx("div",{className:"w-[400px]"}),o.length===0&&v.jsx("div",{children:"No campaigns found"}),o.map(c=>{var m;return v.jsxs("div",{className:"flex flex-col mb-4 bg-white p-4 rounded-md shadow-md",children:[v.jsx("h2",{children:c.name}),v.jsxs("div",{className:"flex flex-row justify-start items-center",children:[v.jsx("span",{children:"Players: "}),(m=c.players)==null?void 0:m.map(d=>v.jsx("span",{className:"ml-2",children:d.name},d.uid))]}),v.jsx("div",{className:"flex flex-row justify-start items-center mt-2",children:v.jsx("button",{className:"bg-cancel text-white p-2 rounded-md",children:v.jsx(Wg,{className:"mr-2"})})})]},c.id)})]}),v.jsxs("div",{className:"flex flex-col w-[50%]",children:[v.jsxs("div",{children:[v.jsx("h2",{children:"Favourited Items"}),l.length===0&&v.jsx("div",{children:"No favourited items"})]}),v.jsx("div",{className:"w-[400px]",children:l.map(c=>v.jsx(sS,{item:c,getModalItem:()=>c},c.id))})]})]})]}):v.jsx("div",{children:v.jsx("span",{children:"Fetching User"})})},_M=t=>{var w,C,M;const e=wn(),[n,s]=O.useState(!1),[o,l]=O.useState(t.game.name),[c,m]=O.useState(!1),{joinGamePlayer:d,leaveGamePlayer:g}=sh(),y=async N=>{if(N.preventDefault(),m(!0),o==t.game.name)return m(!1),!1;if(o==="")return m(!1),!0;await t.editAction({...t.game,name:o})&&s(!1),m(!1)},E=async N=>(N.preventDefault(),m(!0),await d(t.game.id,e==null?void 0:e.uid),m(!1),!0),T=async(N,H)=>{const $=H||(e==null?void 0:e.uid);if($)return N.preventDefault(),m(!0),await g(t.game.id,$),m(!1),!0};return!e||!e.uid?v.jsx("div",{children:"No User..."}):c?v.jsx("div",{className:"flex flex-col justify-start items-center w-full min-w-[200px] p-4 bg-white rounded-md drop-shadow-md mt-2 space-y-2",children:v.jsx("div",{className:"w-full text-center text-gray-500",children:"Loading..."})}):v.jsx(sr.Provider,{value:{size:"18px"},children:v.jsxs("div",{className:"flex flex-col justify-start items-start p-4 bg-white rounded-md drop-shadow-md mt-2",children:[v.jsx("div",{className:"w-full text-end text-xs text-gray-500",children:t.game.id}),n?v.jsxs("form",{className:"flex flex-row justify-between items-center w-full mb-2",onSubmit:y,children:[v.jsx("input",{className:"w-full bg-gray-100 my-1 p-1 rounded-sm",type:"text",placeholder:"Game Name",name:"title",defaultValue:t.game.name,onChange:N=>l(N.target.value)}),v.jsx("button",{className:"p-2 bg-green-400 hover:bg-green-800 text-white ml-1 rounded-sm",type:"submit",children:v.jsx(Jg,{})})]}):v.jsx("div",{className:"text-lg mb-2",children:t.game.name}),((w=t.game.players)==null?void 0:w.length)!==0&&v.jsx("div",{className:"text-sm text-gray-400",children:"Players:"}),(C=t.game.players)==null?void 0:C.map(N=>v.jsxs("div",{className:"flex flex-row justify-between items-center w-full",children:[v.jsx("div",{className:"text-sm text-gray-400 pl-2",children:N.displayName}),n&&v.jsx("button",{className:"bg-red-400 text-white p-2 ml-2 rounded-sm cursor-pointer",onClick:H=>{T(H,N.uid)},children:v.jsx(Cm,{})})]},N.uid)),v.jsxs("div",{className:"flex flex-row justify-end items-center w-full",children:[!n&&((M=t.game.players)!=null&&M.some(N=>N.uid===e.uid)?v.jsx("button",{className:"bg-red-400 text-white p-2 ml-2 rounded-sm cursor-pointer",onClick:N=>T(N),children:v.jsx(Wg,{})}):v.jsx("button",{className:"bg-blue-400 text-white p-2 ml-2 rounded-sm cursor-pointer",onClick:N=>E(N),children:v.jsx(lS,{})})),v.jsx("button",{className:"bg-blue-400 text-white p-2 ml-2 rounded-sm cursor-pointer",onClick:()=>s(N=>!N),children:n?v.jsx(ah,{}):v.jsx(Zg,{})}),v.jsx("button",{className:"bg-red-400 text-white p-2 ml-2 rounded-sm cursor-pointer",onClick:()=>t.deleteAction(t.game.id),children:v.jsx(Cm,{})})]})]},t.game.id)})},vM=()=>{const t=wn(),[e,n]=O.useState(""),[s,o]=O.useState(!1),{games:l,gamesLoading:c,addGame:m,deleteGame:d,editGame:g,joinGamePlayer:y,leaveGamePlayer:E}=sh(),T=async C=>{if(C.preventDefault(),e===""){alert("Please enter a game name");return}await m({name:e})?n(""):alert("Error adding game")},w=async C=>{o(!0),await d(C)||alert("Error deleting game"),o(!1)};return t?c||s?v.jsx("div",{children:"Loading..."}):v.jsx("div",{className:"flex flex-col justify-start items-center w-full min-w-[200px]",children:v.jsxs("div",{className:"w-[330px]",children:[v.jsx("div",{className:"p-4 bg-white drop-shadow-md rounded-md my-2",children:v.jsxs("form",{className:"flex flex-row justify-start items-center",onSubmit:T,children:[v.jsx("input",{className:"w-full bg-gray-100 my-1 p-1 rounded-sm",type:"text",placeholder:"Game Name",name:"title",value:e,onChange:C=>n(C.target.value)}),v.jsx(sr.Provider,{value:{size:"18px"},children:v.jsx("button",{className:"bg-confirm text-white p-2 ml-1 rounded-sm",type:"submit",children:v.jsx(Jg,{})})})]})}),l.map(C=>v.jsx(_M,{game:C,deleteAction:w,editAction:g},C.id))]})}):v.jsx("div",{children:"Please log in to view this page."})},EM="game_notes",TM=(t,e)=>{const n=wn(),[s,o]=O.useState([]),[l,c]=O.useState(!1),[m,d]=O.useState(null),g=async()=>{if(!t){o([]);return}c(!0),d(null);try{const w=Yr(Ut,"games",t,"game_notes");let C=Ug(w,px("createdAt","desc"));const N=(await Zo(C)).docs.map(H=>({id:H.id,...H.data()}));o(N)}catch(w){console.error("Error fetching notes:",w),d(w)}finally{c(!1)}},y=O.useCallback(async(w,C)=>{const M=Yr(Ut,"games",w,EM);C.title=C.title||"Untitled Note",C.userId=n==null?void 0:n.uid,C.createdAt=C.createdAt||new Date,C.gameId=C.gameId||w,C.noteType=C.noteType||"other";const N=await yw(M,C);return N?(o(H=>[...H,{id:N.id,...C}]),N.id):(alert("Error adding note"),null)},[t]),E=O.useCallback(async w=>{t&&(o(C=>C.filter(M=>M.id!==w)),await zg(mi(Ut,"games",t,"game_notes",w)))},[t]),T=O.useCallback(async w=>{if(!t)return;const C=w.id;delete w.id,delete w.createdAt;const M=mi(Ut,"games",t,"game_notes",C);await jg(M,{...w,updatedAt:it.now()})},[t]);return O.useEffect(()=>{g()},[t,e]),{notes:s,gameLoading:l,addNoteToGame:y,updateNote:T,deleteNote:E}},AM=t=>{const e=wn();return!(e==null?void 0:e.uid)||!t.gameId?v.jsx("div",{children:"Please log in to add notes."}):v.jsxs("div",{className:"bg-white p-4 rounded shadow-md flex flex-col",children:[v.jsx("h1",{children:"Game Notes"}),v.jsx("div",{}),v.jsxs("form",{children:[v.jsxs("label",{children:["Note Type:",v.jsxs("select",{name:"noteType",className:"bg-gray-100 p-2 rounded",defaultValue:"other",required:!0,children:[v.jsx("option",{value:"character",children:"Character"}),v.jsx("option",{value:"faction",children:"Faction"}),v.jsx("option",{value:"lore",children:"Lore"}),v.jsx("option",{value:"location",children:"Location"}),v.jsx("option",{value:"item",children:"Item"}),v.jsx("option",{value:"quest",children:"Quest"}),v.jsx("option",{value:"other",children:"Other"})]})]}),v.jsx("br",{}),v.jsxs("label",{children:["Title:",v.jsx("input",{type:"text",name:"title",className:"bg-gray-100 p-2 rounded",required:!0})]}),v.jsx("br",{}),v.jsxs("label",{children:["Content:",v.jsx("textarea",{name:"content",className:"bg-gray-100 p-2 rounded",required:!0})]}),v.jsx("br",{}),v.jsx("button",{type:"submit",className:"bg-confirm text-white p-2 rounded",children:"Add Note"})]})]})},wM=()=>{const[t,e]=O.useState(""),n=wn(),s=n==null?void 0:n.uid,{games:o,gamesLoading:l,myGames:c}=sh();O.useEffect(()=>{!t&&o.length>0&&e(o[0].id)},[s,o]);const{addNoteToGame:m,notes:d,deleteNote:g}=TM(t),y=async w=>{w.preventDefault(),t&&await m(t,{gameId:t,userId:s,noteType:"other",title:"New Note",content:"This is a new note.",createdAt:new Date})},E=async(w,C)=>{w.preventDefault(),t&&await g(C)},T=["character","faction","lore","location","item","quest","other"];return l?v.jsx("div",{children:"Loading..."}):v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsxs("div",{className:"flex flex-row justify-start items-center bg-white mt-[0px] w-full",children:[v.jsxs("div",{className:"p-1",children:[v.jsx("span",{className:"mr-1",children:"Game:"}),v.jsx("select",{className:"p-2 border rounded mb-4 bg-gray-100 z-1",onChange:w=>e(w.target.value),value:t,children:o.map(w=>v.jsx("option",{value:w.gameId,children:w.gameName},w.gameId))})]}),v.jsxs("div",{className:"p-1 ml-4",children:[v.jsx("span",{className:"mr-1",children:"Type:"}),v.jsx("select",{className:"p-2 border rounded mb-4 bg-gray-100 z-1",onChange:w=>{},value:"other",children:T.map(w=>v.jsx("option",{value:w,children:w.charAt(0).toUpperCase()+w.slice(1)},w))})]})]}),v.jsxs("div",{className:"flex flex-row p-4",children:[v.jsx("span",{children:"Selected game id: "}),v.jsx("div",{className:"ml-4",children:t||"none"})]}),t!==""&&v.jsx("button",{className:"p-2 bg-misc text-white rounded",onClick:y,children:"Add Note"}),v.jsx(AM,{gameId:t,addNoteToGame:m}),d.map(w=>v.jsxs("div",{className:"p-2 border-b",children:[v.jsx("p",{children:w.content}),v.jsxs("small",{children:["Created by: ",w.createdBy]}),v.jsxs("small",{children:["At: ",new Date(w.createdAt).toLocaleString()]}),v.jsx("button",{className:"p-2 bg-cancel text-white rounded ml-2",onClick:C=>E(C,w.id),children:"Delete"})]},w.id))]})},cS=[{name:"home",path:"/home",element:v.jsx(K4,{})},{name:"Profile",path:"/profile",element:v.jsx(rS,{})},{name:"Player",path:"/player",element:v.jsx(yM,{})},{name:"Magic items",path:"/magicitems",element:v.jsx(pM,{})},{name:"Games",path:"/games",element:v.jsx(vM,{})},{name:"GameNotes",path:"/gamenotes",element:v.jsx(wM,{})}],SM=()=>{const{isLoading:t,user:e}=O.useContext(fr);return t?v.jsx("div",{children:"Loading..."}):e?e.displayName?v.jsxs(bd,{children:[cS.map(n=>v.jsx(Fi,{path:n.path,element:n.element},n.name)),v.jsx(Fi,{path:"*",element:v.jsx(Sd,{replace:!0,to:"/magicitems"})})]}):v.jsxs(bd,{children:[v.jsx(Fi,{path:"/profile",element:v.jsx(rS,{})}),v.jsx(Fi,{path:"*",element:v.jsx(Sd,{replace:!0,to:"/profile"})})]}):v.jsxs(bd,{children:[v.jsx(Fi,{path:"/login",element:v.jsx(Y4,{})}),v.jsx(Fi,{path:"/register",element:v.jsx(X4,{})}),v.jsx(Fi,{path:"*",element:v.jsx(Sd,{replace:!0,to:"/login"})})]})},bM="/assets/fatrat_logo-CrDK9lAO.png",RM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAAAKklEQVQ4T2NgGGjACHTAf0ocwUSJZpBeig2g1AGU6x8NRMrDkGE0EBkYAOpQAw2SH5GVAAAAAElFTkSuQmCC",IM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAABM0lEQVQ4T8WTv0uCURSGvwrMBKMhJ8c2Rf8EaygIgmxwqanBrc2tIWiWlramNhcHx9YMIgiK5qIQiiaxHAJryHreODdudkmcuvB4zz0/3nP47jWK/mnFXd+JEQeYIn8F8nANfVe/jLE5RExdt63ww+xp1ejnGOS8hWJAKIlvFx4tT50PIK3cRXNKwHGJPW9Cc+xbXuwFW/EMTCpnDHbgNSB0gu8Iul6shp0NTBklcO4FRPzJ9olrovGQgPOlrKtf6Gx1n/2rWNeag1PQhwqJyFcFTfxjxTjpw51boQSeQWM3A2I9fGVfYYPDhZd4g13xEhawrwaE6orrgZSgDe+W8MBegJnBMTmvwR10QC/y6xqX4MmKz9jXYdgzX1WxS7rHfoMWHELDxAIDfLv0X/i1dIUjrU811FzYdVWZZwAAAABJRU5ErkJggg==",Gd="flex flex-row text-black cursor-pointer no-underline hover:text-gray-800 hover:text-shadow-sm p-2",CM=t=>{const e=wn();return v.jsxs("div",{className:"absolute top-0 right-0 min-w-[300px] bg-white flex flex-col items-stretch shadow-lg z-1000 h-screen",children:[v.jsx("div",{onClick:()=>t.setShowUserMenu(!1),children:v.jsx(sr.Provider,{value:{color:"black",size:"20px"},children:v.jsx("div",{className:"p-4 cursor-pointer flex flex-row justify-end",children:v.jsx(ah,{})})})}),v.jsxs("div",{className:"flex flex-col justify-start items-start",children:[v.jsxs("div",{className:"flex flex-row items-end justify-start gap-2 p-2 border-b-1 border-gray-300 w-full",children:[" ",e?e.photoURL&&v.jsx("img",{src:e.photoURL,alt:"user",className:"w-[40px] h-[40px] rounded-sm"}):null,v.jsx("div",{className:"text-gray-700",children:e?e.displayName??"UserName":"No User"})]}),!!t.user&&cS.map(n=>n.name==="home"?null:v.jsx(Mo,{className:Gd,to:n.path,onClick:()=>t.setShowUserMenu(!1),children:n.name},n.name)),!!t.user&&v.jsx("div",{className:Gd,children:v.jsx(iS,{onClickAction:()=>t.setShowUserMenu(!1)})}),!t.user&&v.jsx(Mo,{className:Gd,to:"login",onClick:()=>t.setShowUserMenu(!1),children:"Log in"})]})]})},NM=()=>{const t=wn(),[e,n]=O.useState(!1);return v.jsxs("header",{className:"w-full flex items-center justify-between px-5 py-1 bg-white shadow-md",children:[v.jsx(Mo,{to:"/home",children:v.jsx("img",{src:bM,alt:"Fat Rat Logo",className:"w-[60px] h-[60px]"})}),v.jsx("div",{className:"flex items-center gap-1",onClick:()=>n(!0),children:v.jsx("div",{className:"flex items-center cursor-pointer ml-3",children:v.jsx("img",{src:e?IM:RM,alt:"burger_menu"})})}),e&&v.jsx(CM,{user:t,showUserMenu:e,setShowUserMenu:n})]})};function DM(){return v.jsxs(zR,{children:[v.jsx("div",{id:"modal"}),v.jsx("div",{className:"w-full h-screen",children:v.jsx(B4,{children:v.jsxs(Q4,{children:[v.jsx(NM,{}),v.jsx(SM,{})]})})})]})}Fb.createRoot(document.getElementById("root")).render(v.jsx(ui.StrictMode,{children:v.jsx(DM,{})}));
