function mb(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function m0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ld={exports:{}},ao={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function gb(){if(Sv)return ao;Sv=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var m in o)m!=="key"&&(l[m]=o[m])}else l=o;return o=l.ref,{$$typeof:e,type:s,key:c,ref:o!==void 0?o:null,props:l}}return ao.Fragment=t,ao.jsx=n,ao.jsxs=n,ao}var wv;function pb(){return wv||(wv=1,ld.exports=gb()),ld.exports}var A=pb(),ud={exports:{}},ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function yb(){if(Rv)return ft;Rv=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function T(S){return S===null||typeof S!="object"?null:(S=v&&S[v]||S["@@iterator"],typeof S=="function"?S:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,j={};function O(S,z,et){this.props=S,this.context=z,this.refs=j,this.updater=et||I}O.prototype.isReactComponent={},O.prototype.setState=function(S,z){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,z,"setState")},O.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function Y(){}Y.prototype=O.prototype;function J(S,z,et){this.props=S,this.context=z,this.refs=j,this.updater=et||I}var nt=J.prototype=new Y;nt.constructor=J,L(nt,O.prototype),nt.isPureReactComponent=!0;var bt=Array.isArray,rt={H:null,A:null,T:null,S:null},Lt=Object.prototype.hasOwnProperty;function Ae(S,z,et,Z,F,Tt){return et=Tt.ref,{$$typeof:e,type:S,key:z,ref:et!==void 0?et:null,props:Tt}}function mn(S,z){return Ae(S.type,z,void 0,void 0,void 0,S.props)}function $(S){return typeof S=="object"&&S!==null&&S.$$typeof===e}function yt(S){var z={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(et){return z[et]})}var Ze=/\/+/g;function jn(S,z){return typeof S=="object"&&S!==null&&S.key!=null?yt(""+S.key):z.toString(36)}function An(){}function zn(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(An,An):(S.status="pending",S.then(function(z){S.status==="pending"&&(S.status="fulfilled",S.value=z)},function(z){S.status==="pending"&&(S.status="rejected",S.reason=z)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function Le(S,z,et,Z,F){var Tt=typeof S;(Tt==="undefined"||Tt==="boolean")&&(S=null);var dt=!1;if(S===null)dt=!0;else switch(Tt){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(S.$$typeof){case e:case t:dt=!0;break;case y:return dt=S._init,Le(dt(S._payload),z,et,Z,F)}}if(dt)return F=F(S),dt=Z===""?"."+jn(S,0):Z,bt(F)?(et="",dt!=null&&(et=dt.replace(Ze,"$&/")+"/"),Le(F,z,et,"",function($t){return $t})):F!=null&&($(F)&&(F=mn(F,et+(F.key==null||S&&S.key===F.key?"":(""+F.key).replace(Ze,"$&/")+"/")+dt)),z.push(F)),1;dt=0;var Me=Z===""?".":Z+":";if(bt(S))for(var Ct=0;Ct<S.length;Ct++)Z=S[Ct],Tt=Me+jn(Z,Ct),dt+=Le(Z,z,et,Tt,F);else if(Ct=T(S),typeof Ct=="function")for(S=Ct.call(S),Ct=0;!(Z=S.next()).done;)Z=Z.value,Tt=Me+jn(Z,Ct++),dt+=Le(Z,z,et,Tt,F);else if(Tt==="object"){if(typeof S.then=="function")return Le(zn(S),z,et,Z,F);throw z=String(S),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return dt}function q(S,z,et){if(S==null)return S;var Z=[],F=0;return Le(S,Z,"","",function(Tt){return z.call(et,Tt,F++)}),Z}function ct(S){if(S._status===-1){var z=S._result;z=z(),z.then(function(et){(S._status===0||S._status===-1)&&(S._status=1,S._result=et)},function(et){(S._status===0||S._status===-1)&&(S._status=2,S._result=et)}),S._status===-1&&(S._status=0,S._result=z)}if(S._status===1)return S._result.default;throw S._result}var it=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function xt(){}return ft.Children={map:q,forEach:function(S,z,et){q(S,function(){z.apply(this,arguments)},et)},count:function(S){var z=0;return q(S,function(){z++}),z},toArray:function(S){return q(S,function(z){return z})||[]},only:function(S){if(!$(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},ft.Component=O,ft.Fragment=n,ft.Profiler=o,ft.PureComponent=J,ft.StrictMode=s,ft.Suspense=d,ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rt,ft.act=function(){throw Error("act(...) is not supported in production builds of React.")},ft.cache=function(S){return function(){return S.apply(null,arguments)}},ft.cloneElement=function(S,z,et){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var Z=L({},S.props),F=S.key,Tt=void 0;if(z!=null)for(dt in z.ref!==void 0&&(Tt=void 0),z.key!==void 0&&(F=""+z.key),z)!Lt.call(z,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&z.ref===void 0||(Z[dt]=z[dt]);var dt=arguments.length-2;if(dt===1)Z.children=et;else if(1<dt){for(var Me=Array(dt),Ct=0;Ct<dt;Ct++)Me[Ct]=arguments[Ct+2];Z.children=Me}return Ae(S.type,F,void 0,void 0,Tt,Z)},ft.createContext=function(S){return S={$$typeof:c,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:l,_context:S},S},ft.createElement=function(S,z,et){var Z,F={},Tt=null;if(z!=null)for(Z in z.key!==void 0&&(Tt=""+z.key),z)Lt.call(z,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(F[Z]=z[Z]);var dt=arguments.length-2;if(dt===1)F.children=et;else if(1<dt){for(var Me=Array(dt),Ct=0;Ct<dt;Ct++)Me[Ct]=arguments[Ct+2];F.children=Me}if(S&&S.defaultProps)for(Z in dt=S.defaultProps,dt)F[Z]===void 0&&(F[Z]=dt[Z]);return Ae(S,Tt,void 0,void 0,null,F)},ft.createRef=function(){return{current:null}},ft.forwardRef=function(S){return{$$typeof:m,render:S}},ft.isValidElement=$,ft.lazy=function(S){return{$$typeof:y,_payload:{_status:-1,_result:S},_init:ct}},ft.memo=function(S,z){return{$$typeof:g,type:S,compare:z===void 0?null:z}},ft.startTransition=function(S){var z=rt.T,et={};rt.T=et;try{var Z=S(),F=rt.S;F!==null&&F(et,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(xt,it)}catch(Tt){it(Tt)}finally{rt.T=z}},ft.unstable_useCacheRefresh=function(){return rt.H.useCacheRefresh()},ft.use=function(S){return rt.H.use(S)},ft.useActionState=function(S,z,et){return rt.H.useActionState(S,z,et)},ft.useCallback=function(S,z){return rt.H.useCallback(S,z)},ft.useContext=function(S){return rt.H.useContext(S)},ft.useDebugValue=function(){},ft.useDeferredValue=function(S,z){return rt.H.useDeferredValue(S,z)},ft.useEffect=function(S,z){return rt.H.useEffect(S,z)},ft.useId=function(){return rt.H.useId()},ft.useImperativeHandle=function(S,z,et){return rt.H.useImperativeHandle(S,z,et)},ft.useInsertionEffect=function(S,z){return rt.H.useInsertionEffect(S,z)},ft.useLayoutEffect=function(S,z){return rt.H.useLayoutEffect(S,z)},ft.useMemo=function(S,z){return rt.H.useMemo(S,z)},ft.useOptimistic=function(S,z){return rt.H.useOptimistic(S,z)},ft.useReducer=function(S,z,et){return rt.H.useReducer(S,z,et)},ft.useRef=function(S){return rt.H.useRef(S)},ft.useState=function(S){return rt.H.useState(S)},ft.useSyncExternalStore=function(S,z,et){return rt.H.useSyncExternalStore(S,z,et)},ft.useTransition=function(){return rt.H.useTransition()},ft.version="19.0.0",ft}var bv;function Em(){return bv||(bv=1,ud.exports=yb()),ud.exports}var x=Em();const oi=m0(x),_b=mb({__proto__:null,default:oi},[x]);var cd={exports:{}},oo={},hd={exports:{}},fd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function vb(){return Iv||(Iv=1,function(e){function t(q,ct){var it=q.length;q.push(ct);t:for(;0<it;){var xt=it-1>>>1,S=q[xt];if(0<o(S,ct))q[xt]=ct,q[it]=S,it=xt;else break t}}function n(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var ct=q[0],it=q.pop();if(it!==ct){q[0]=it;t:for(var xt=0,S=q.length,z=S>>>1;xt<z;){var et=2*(xt+1)-1,Z=q[et],F=et+1,Tt=q[F];if(0>o(Z,it))F<S&&0>o(Tt,Z)?(q[xt]=Tt,q[F]=it,xt=F):(q[xt]=Z,q[et]=it,xt=et);else if(F<S&&0>o(Tt,it))q[xt]=Tt,q[F]=it,xt=F;else break t}}return ct}function o(q,ct){var it=q.sortIndex-ct.sortIndex;return it!==0?it:q.id-ct.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,m=c.now();e.unstable_now=function(){return c.now()-m}}var d=[],g=[],y=1,v=null,T=3,I=!1,L=!1,j=!1,O=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function nt(q){for(var ct=n(g);ct!==null;){if(ct.callback===null)s(g);else if(ct.startTime<=q)s(g),ct.sortIndex=ct.expirationTime,t(d,ct);else break;ct=n(g)}}function bt(q){if(j=!1,nt(q),!L)if(n(d)!==null)L=!0,zn();else{var ct=n(g);ct!==null&&Le(bt,ct.startTime-q)}}var rt=!1,Lt=-1,Ae=5,mn=-1;function $(){return!(e.unstable_now()-mn<Ae)}function yt(){if(rt){var q=e.unstable_now();mn=q;var ct=!0;try{t:{L=!1,j&&(j=!1,Y(Lt),Lt=-1),I=!0;var it=T;try{e:{for(nt(q),v=n(d);v!==null&&!(v.expirationTime>q&&$());){var xt=v.callback;if(typeof xt=="function"){v.callback=null,T=v.priorityLevel;var S=xt(v.expirationTime<=q);if(q=e.unstable_now(),typeof S=="function"){v.callback=S,nt(q),ct=!0;break e}v===n(d)&&s(d),nt(q)}else s(d);v=n(d)}if(v!==null)ct=!0;else{var z=n(g);z!==null&&Le(bt,z.startTime-q),ct=!1}}break t}finally{v=null,T=it,I=!1}ct=void 0}}finally{ct?Ze():rt=!1}}}var Ze;if(typeof J=="function")Ze=function(){J(yt)};else if(typeof MessageChannel<"u"){var jn=new MessageChannel,An=jn.port2;jn.port1.onmessage=yt,Ze=function(){An.postMessage(null)}}else Ze=function(){O(yt,0)};function zn(){rt||(rt=!0,Ze())}function Le(q,ct){Lt=O(function(){q(e.unstable_now())},ct)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){L||I||(L=!0,zn())},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ae=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(q){switch(T){case 1:case 2:case 3:var ct=3;break;default:ct=T}var it=T;T=ct;try{return q()}finally{T=it}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,ct){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var it=T;T=q;try{return ct()}finally{T=it}},e.unstable_scheduleCallback=function(q,ct,it){var xt=e.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?xt+it:xt):it=xt,q){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=it+S,q={id:y++,callback:ct,priorityLevel:q,startTime:it,expirationTime:S,sortIndex:-1},it>xt?(q.sortIndex=it,t(g,q),n(d)===null&&q===n(g)&&(j?(Y(Lt),Lt=-1):j=!0,Le(bt,it-xt))):(q.sortIndex=S,t(d,q),L||I||(L=!0,zn())),q},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(q){var ct=T;return function(){var it=T;T=ct;try{return q.apply(this,arguments)}finally{T=it}}}}(fd)),fd}var Cv;function Eb(){return Cv||(Cv=1,hd.exports=vb()),hd.exports}var dd={exports:{}},Re={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function Tb(){if(Dv)return Re;Dv=1;var e=Em();function t(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(d,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:d,containerInfo:g,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Re.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Re.createPortal=function(d,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(d,g,null,y)},Re.flushSync=function(d){var g=c.T,y=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=g,s.p=y,s.d.f()}},Re.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(d,g))},Re.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Re.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var y=g.as,v=m(y,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:I}):y==="script"&&s.d.X(d,{crossOrigin:v,integrity:T,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Re.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=m(g.as,g.crossOrigin);s.d.M(d,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(d)},Re.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=m(y,g.crossOrigin);s.d.L(d,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Re.preloadModule=function(d,g){if(typeof d=="string")if(g){var y=m(g.as,g.crossOrigin);s.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(d)},Re.requestFormReset=function(d){s.d.r(d)},Re.unstable_batchedUpdates=function(d,g){return d(g)},Re.useFormState=function(d,g,y){return c.H.useFormState(d,g,y)},Re.useFormStatus=function(){return c.H.useHostTransitionStatus()},Re.version="19.0.0",Re}var Nv;function g0(){if(Nv)return dd.exports;Nv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),dd.exports=Tb(),dd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function Ab(){if(Ov)return oo;Ov=1;var e=Eb(),t=Em(),n=g0();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),I=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),nt=Symbol.for("react.offscreen"),bt=Symbol.for("react.memo_cache_sentinel"),rt=Symbol.iterator;function Lt(i){return i===null||typeof i!="object"?null:(i=rt&&i[rt]||i["@@iterator"],typeof i=="function"?i:null)}var Ae=Symbol.for("react.client.reference");function mn(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Ae?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case d:return"Fragment";case m:return"Portal";case y:return"Profiler";case g:return"StrictMode";case j:return"Suspense";case O:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case I:return(i.displayName||"Context")+".Provider";case T:return(i._context.displayName||"Context")+".Consumer";case L:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Y:return r=i.displayName||null,r!==null?r:mn(i.type)||"Memo";case J:r=i._payload,i=i._init;try{return mn(i(r))}catch{}}return null}var $=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt=Object.assign,Ze,jn;function An(i){if(Ze===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ze=r&&r[1]||"",jn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ze+i+jn}var zn=!1;function Le(i,r){if(!i||zn)return"";zn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var U=function(){throw Error()};if(Object.defineProperty(U.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(U,[])}catch(N){var D=N}Reflect.construct(i,[],U)}else{try{U.call()}catch(N){D=N}i.call(U.prototype)}}else{try{throw Error()}catch(N){D=N}(U=i())&&typeof U.catch=="function"&&U.catch(function(){})}}catch(N){if(N&&D&&typeof N.stack=="string")return[N.stack,D.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=u.DetermineComponentFrameRoot(),p=f[0],_=f[1];if(p&&_){var E=p.split(`
`),R=_.split(`
`);for(h=u=0;u<E.length&&!E[u].includes("DetermineComponentFrameRoot");)u++;for(;h<R.length&&!R[h].includes("DetermineComponentFrameRoot");)h++;if(u===E.length||h===R.length)for(u=E.length-1,h=R.length-1;1<=u&&0<=h&&E[u]!==R[h];)h--;for(;1<=u&&0<=h;u--,h--)if(E[u]!==R[h]){if(u!==1||h!==1)do if(u--,h--,0>h||E[u]!==R[h]){var M=`
`+E[u].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=u&&0<=h);break}}}finally{zn=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?An(a):""}function q(i){switch(i.tag){case 26:case 27:case 5:return An(i.type);case 16:return An("Lazy");case 13:return An("Suspense");case 19:return An("SuspenseList");case 0:case 15:return i=Le(i.type,!1),i;case 11:return i=Le(i.type.render,!1),i;case 1:return i=Le(i.type,!0),i;default:return""}}function ct(i){try{var r="";do r+=q(i),i=i.return;while(i);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function it(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function xt(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function S(i){if(it(i)!==i)throw Error(s(188))}function z(i){var r=i.alternate;if(!r){if(r=it(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,u=r;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(u=h.return,u!==null){a=u;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return S(h),i;if(f===u)return S(h),r;f=f.sibling}throw Error(s(188))}if(a.return!==u.return)a=h,u=f;else{for(var p=!1,_=h.child;_;){if(_===a){p=!0,a=h,u=f;break}if(_===u){p=!0,u=h,a=f;break}_=_.sibling}if(!p){for(_=f.child;_;){if(_===a){p=!0,a=f,u=h;break}if(_===u){p=!0,u=f,a=h;break}_=_.sibling}if(!p)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function et(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=et(i),r!==null)return r;i=i.sibling}return null}var Z=Array.isArray,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tt={pending:!1,data:null,method:null,action:null},dt=[],Me=-1;function Ct(i){return{current:i}}function $t(i){0>Me||(i.current=dt[Me],dt[Me]=null,Me--)}function zt(i,r){Me++,dt[Me]=i.current,i.current=r}var Sn=Ct(null),ua=Ct(null),gi=Ct(null),ml=Ct(null);function gl(i,r){switch(zt(gi,r),zt(ua,i),zt(Sn,null),i=r.nodeType,i){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?Z_(r):0;break;default:if(i=i===8?r.parentNode:r,r=i.tagName,i=i.namespaceURI)i=Z_(i),r=J_(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}$t(Sn),zt(Sn,r)}function $r(){$t(Sn),$t(ua),$t(gi)}function Zc(i){i.memoizedState!==null&&zt(ml,i);var r=Sn.current,a=J_(r,i.type);r!==a&&(zt(ua,i),zt(Sn,a))}function pl(i){ua.current===i&&($t(Sn),$t(ua)),ml.current===i&&($t(ml),eo._currentValue=Tt)}var Jc=Object.prototype.hasOwnProperty,th=e.unstable_scheduleCallback,eh=e.unstable_cancelCallback,QS=e.unstable_shouldYield,KS=e.unstable_requestPaint,wn=e.unstable_now,YS=e.unstable_getCurrentPriorityLevel,Bg=e.unstable_ImmediatePriority,qg=e.unstable_UserBlockingPriority,yl=e.unstable_NormalPriority,XS=e.unstable_LowPriority,Hg=e.unstable_IdlePriority,$S=e.log,WS=e.unstable_setDisableYieldValue,ca=null,He=null;function ZS(i){if(He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(ca,i,void 0,(i.current.flags&128)===128)}catch{}}function pi(i){if(typeof $S=="function"&&WS(i),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(ca,i)}catch{}}var Fe=Math.clz32?Math.clz32:ew,JS=Math.log,tw=Math.LN2;function ew(i){return i>>>=0,i===0?32:31-(JS(i)/tw|0)|0}var _l=128,vl=4194304;function cr(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function El(i,r){var a=i.pendingLanes;if(a===0)return 0;var u=0,h=i.suspendedLanes,f=i.pingedLanes,p=i.warmLanes;i=i.finishedLanes!==0;var _=a&134217727;return _!==0?(a=_&~h,a!==0?u=cr(a):(f&=_,f!==0?u=cr(f):i||(p=_&~p,p!==0&&(u=cr(p))))):(_=a&~h,_!==0?u=cr(_):f!==0?u=cr(f):i||(p=a&~p,p!==0&&(u=cr(p)))),u===0?0:r!==0&&r!==u&&(r&h)===0&&(h=u&-u,p=r&-r,h>=p||h===32&&(p&4194176)!==0)?r:u}function ha(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function nw(i,r){switch(i){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fg(){var i=_l;return _l<<=1,(_l&4194176)===0&&(_l=128),i}function Gg(){var i=vl;return vl<<=1,(vl&62914560)===0&&(vl=4194304),i}function nh(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function fa(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function iw(i,r,a,u,h,f){var p=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var _=i.entanglements,E=i.expirationTimes,R=i.hiddenUpdates;for(a=p&~a;0<a;){var M=31-Fe(a),U=1<<M;_[M]=0,E[M]=-1;var D=R[M];if(D!==null)for(R[M]=null,M=0;M<D.length;M++){var N=D[M];N!==null&&(N.lane&=-536870913)}a&=~U}u!==0&&Qg(i,u,0),f!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=f&~(p&~r))}function Qg(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Fe(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|a&4194218}function Kg(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var u=31-Fe(a),h=1<<u;h&r|i[u]&r&&(i[u]|=r),a&=~h}}function Yg(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Xg(){var i=F.p;return i!==0?i:(i=window.event,i===void 0?32:yv(i.type))}function rw(i,r){var a=F.p;try{return F.p=i,r()}finally{F.p=a}}var yi=Math.random().toString(36).slice(2),Se="__reactFiber$"+yi,ke="__reactProps$"+yi,Wr="__reactContainer$"+yi,ih="__reactEvents$"+yi,sw="__reactListeners$"+yi,aw="__reactHandles$"+yi,$g="__reactResources$"+yi,da="__reactMarker$"+yi;function rh(i){delete i[Se],delete i[ke],delete i[ih],delete i[sw],delete i[aw]}function hr(i){var r=i[Se];if(r)return r;for(var a=i.parentNode;a;){if(r=a[Wr]||a[Se]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=nv(i);i!==null;){if(a=i[Se])return a;i=nv(i)}return r}i=a,a=i.parentNode}return null}function Zr(i){if(i=i[Se]||i[Wr]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function ma(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Jr(i){var r=i[$g];return r||(r=i[$g]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ae(i){i[da]=!0}var Wg=new Set,Zg={};function fr(i,r){ts(i,r),ts(i+"Capture",r)}function ts(i,r){for(Zg[i]=r,i=0;i<r.length;i++)Wg.add(r[i])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ow=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jg={},tp={};function lw(i){return Jc.call(tp,i)?!0:Jc.call(Jg,i)?!1:ow.test(i)?tp[i]=!0:(Jg[i]=!0,!1)}function Tl(i,r,a){if(lw(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function Al(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function qn(i,r,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+u)}}function Je(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ep(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function uw(i){var r=ep(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return h.call(this)},set:function(p){u=""+p,f.call(this,p)}}),Object.defineProperty(i,r,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(p){u=""+p},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Sl(i){i._valueTracker||(i._valueTracker=uw(i))}function np(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return i&&(u=ep(i)?i.checked?"true":"false":i.value),i=u,i!==a?(r.setValue(i),!0):!1}function wl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var cw=/[\n"\\]/g;function tn(i){return i.replace(cw,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function sh(i,r,a,u,h,f,p,_){i.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?i.type=p:i.removeAttribute("type"),r!=null?p==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Je(r)):i.value!==""+Je(r)&&(i.value=""+Je(r)):p!=="submit"&&p!=="reset"||i.removeAttribute("value"),r!=null?ah(i,p,Je(r)):a!=null?ah(i,p,Je(a)):u!=null&&i.removeAttribute("value"),h==null&&f!=null&&(i.defaultChecked=!!f),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.name=""+Je(_):i.removeAttribute("name")}function ip(i,r,a,u,h,f,p,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(i.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null))return;a=a!=null?""+Je(a):"",r=r!=null?""+Je(r):a,_||r===i.value||(i.value=r),i.defaultValue=r}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=_?i.checked:!!u,i.defaultChecked=!!u,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.name=p)}function ah(i,r,a){r==="number"&&wl(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function es(i,r,a,u){if(i=i.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<i.length;a++)h=r.hasOwnProperty("$"+i[a].value),i[a].selected!==h&&(i[a].selected=h),h&&u&&(i[a].defaultSelected=!0)}else{for(a=""+Je(a),r=null,h=0;h<i.length;h++){if(i[h].value===a){i[h].selected=!0,u&&(i[h].defaultSelected=!0);return}r!==null||i[h].disabled||(r=i[h])}r!==null&&(r.selected=!0)}}function rp(i,r,a){if(r!=null&&(r=""+Je(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+Je(a):""}function sp(i,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(Z(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=Je(r),i.defaultValue=a,u=i.textContent,u===a&&u!==""&&u!==null&&(i.value=u)}function ns(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var hw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ap(i,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,a):typeof a!="number"||a===0||hw.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function op(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var h in r)u=r[h],r.hasOwnProperty(h)&&a[h]!==u&&ap(i,h,u)}else for(var f in r)r.hasOwnProperty(f)&&ap(i,f,r[f])}function oh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rl(i){return dw.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var lh=null;function uh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var is=null,rs=null;function lp(i){var r=Zr(i);if(r&&(i=r.stateNode)){var a=i[ke]||null;t:switch(i=r.stateNode,r.type){case"input":if(sh(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==i&&u.form===i.form){var h=u[ke]||null;if(!h)throw Error(s(90));sh(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===i.form&&np(u)}break t;case"textarea":rp(i,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&es(i,!!a.multiple,r,!1)}}}var ch=!1;function up(i,r,a){if(ch)return i(r,a);ch=!0;try{var u=i(r);return u}finally{if(ch=!1,(is!==null||rs!==null)&&(lu(),is&&(r=is,i=rs,rs=is=null,lp(r),i)))for(r=0;r<i.length;r++)lp(i[r])}}function ga(i,r){var a=i.stateNode;if(a===null)return null;var u=a[ke]||null;if(u===null)return null;a=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var hh=!1;if(Bn)try{var pa={};Object.defineProperty(pa,"passive",{get:function(){hh=!0}}),window.addEventListener("test",pa,pa),window.removeEventListener("test",pa,pa)}catch{hh=!1}var _i=null,fh=null,bl=null;function cp(){if(bl)return bl;var i,r=fh,a=r.length,u,h="value"in _i?_i.value:_i.textContent,f=h.length;for(i=0;i<a&&r[i]===h[i];i++);var p=a-i;for(u=1;u<=p&&r[a-u]===h[f-u];u++);return bl=h.slice(i,1<u?1-u:void 0)}function Il(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Cl(){return!0}function hp(){return!1}function je(i){function r(a,u,h,f,p){this._reactName=a,this._targetInst=h,this.type=u,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var _ in i)i.hasOwnProperty(_)&&(a=i[_],this[_]=a?a(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Cl:hp,this.isPropagationStopped=hp,this}return yt(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Cl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Cl)},persist:function(){},isPersistent:Cl}),r}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=je(dr),ya=yt({},dr,{view:0,detail:0}),mw=je(ya),dh,mh,_a,Nl=yt({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ph,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==_a&&(_a&&i.type==="mousemove"?(dh=i.screenX-_a.screenX,mh=i.screenY-_a.screenY):mh=dh=0,_a=i),dh)},movementY:function(i){return"movementY"in i?i.movementY:mh}}),fp=je(Nl),gw=yt({},Nl,{dataTransfer:0}),pw=je(gw),yw=yt({},ya,{relatedTarget:0}),gh=je(yw),_w=yt({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),vw=je(_w),Ew=yt({},dr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Tw=je(Ew),Aw=yt({},dr,{data:0}),dp=je(Aw),Sw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ww={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bw(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Rw[i])?!!r[i]:!1}function ph(){return bw}var Iw=yt({},ya,{key:function(i){if(i.key){var r=Sw[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Il(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ww[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ph,charCode:function(i){return i.type==="keypress"?Il(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Il(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Cw=je(Iw),Dw=yt({},Nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mp=je(Dw),Nw=yt({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ph}),Ow=je(Nw),Mw=yt({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),xw=je(Mw),Vw=yt({},Nl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Pw=je(Vw),Uw=yt({},dr,{newState:0,oldState:0}),Lw=je(Uw),kw=[9,13,27,32],yh=Bn&&"CompositionEvent"in window,va=null;Bn&&"documentMode"in document&&(va=document.documentMode);var jw=Bn&&"TextEvent"in window&&!va,gp=Bn&&(!yh||va&&8<va&&11>=va),pp=" ",yp=!1;function _p(i,r){switch(i){case"keyup":return kw.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vp(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ss=!1;function zw(i,r){switch(i){case"compositionend":return vp(r);case"keypress":return r.which!==32?null:(yp=!0,pp);case"textInput":return i=r.data,i===pp&&yp?null:i;default:return null}}function Bw(i,r){if(ss)return i==="compositionend"||!yh&&_p(i,r)?(i=cp(),bl=fh=_i=null,ss=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return gp&&r.locale!=="ko"?null:r.data;default:return null}}var qw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ep(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!qw[i.type]:r==="textarea"}function Tp(i,r,a,u){is?rs?rs.push(u):rs=[u]:is=u,r=du(r,"onChange"),0<r.length&&(a=new Dl("onChange","change",null,a,u),i.push({event:a,listeners:r}))}var Ea=null,Ta=null;function Hw(i){K_(i,0)}function Ol(i){var r=ma(i);if(np(r))return i}function Ap(i,r){if(i==="change")return r}var Sp=!1;if(Bn){var _h;if(Bn){var vh="oninput"in document;if(!vh){var wp=document.createElement("div");wp.setAttribute("oninput","return;"),vh=typeof wp.oninput=="function"}_h=vh}else _h=!1;Sp=_h&&(!document.documentMode||9<document.documentMode)}function Rp(){Ea&&(Ea.detachEvent("onpropertychange",bp),Ta=Ea=null)}function bp(i){if(i.propertyName==="value"&&Ol(Ta)){var r=[];Tp(r,Ta,i,uh(i)),up(Hw,r)}}function Fw(i,r,a){i==="focusin"?(Rp(),Ea=r,Ta=a,Ea.attachEvent("onpropertychange",bp)):i==="focusout"&&Rp()}function Gw(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ol(Ta)}function Qw(i,r){if(i==="click")return Ol(r)}function Kw(i,r){if(i==="input"||i==="change")return Ol(r)}function Yw(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Ge=typeof Object.is=="function"?Object.is:Yw;function Aa(i,r){if(Ge(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var h=a[u];if(!Jc.call(r,h)||!Ge(i[h],r[h]))return!1}return!0}function Ip(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Cp(i,r){var a=Ip(i);i=0;for(var u;a;){if(a.nodeType===3){if(u=i+a.textContent.length,i<=r&&u>=r)return{node:a,offset:r-i};i=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ip(a)}}function Dp(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Dp(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Np(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=wl(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=wl(i.document)}return r}function Eh(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}function Xw(i,r){var a=Np(r);r=i.focusedElem;var u=i.selectionRange;if(a!==r&&r&&r.ownerDocument&&Dp(r.ownerDocument.documentElement,r)){if(u!==null&&Eh(r)){if(i=u.start,a=u.end,a===void 0&&(a=i),"selectionStart"in r)r.selectionStart=i,r.selectionEnd=Math.min(a,r.value.length);else if(a=(i=r.ownerDocument||document)&&i.defaultView||window,a.getSelection){a=a.getSelection();var h=r.textContent.length,f=Math.min(u.start,h);u=u.end===void 0?f:Math.min(u.end,h),!a.extend&&f>u&&(h=u,u=f,f=h),h=Cp(r,f);var p=Cp(r,u);h&&p&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==p.node||a.focusOffset!==p.offset)&&(i=i.createRange(),i.setStart(h.node,h.offset),a.removeAllRanges(),f>u?(a.addRange(i),a.extend(p.node,p.offset)):(i.setEnd(p.node,p.offset),a.addRange(i)))}}for(i=[],a=r;a=a.parentNode;)a.nodeType===1&&i.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<i.length;r++)a=i[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var $w=Bn&&"documentMode"in document&&11>=document.documentMode,as=null,Th=null,Sa=null,Ah=!1;function Op(i,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ah||as==null||as!==wl(u)||(u=as,"selectionStart"in u&&Eh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Sa&&Aa(Sa,u)||(Sa=u,u=du(Th,"onSelect"),0<u.length&&(r=new Dl("onSelect","select",null,r,a),i.push({event:r,listeners:u}),r.target=as)))}function mr(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var os={animationend:mr("Animation","AnimationEnd"),animationiteration:mr("Animation","AnimationIteration"),animationstart:mr("Animation","AnimationStart"),transitionrun:mr("Transition","TransitionRun"),transitionstart:mr("Transition","TransitionStart"),transitioncancel:mr("Transition","TransitionCancel"),transitionend:mr("Transition","TransitionEnd")},Sh={},Mp={};Bn&&(Mp=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function gr(i){if(Sh[i])return Sh[i];if(!os[i])return i;var r=os[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in Mp)return Sh[i]=r[a];return i}var xp=gr("animationend"),Vp=gr("animationiteration"),Pp=gr("animationstart"),Ww=gr("transitionrun"),Zw=gr("transitionstart"),Jw=gr("transitioncancel"),Up=gr("transitionend"),Lp=new Map,kp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function gn(i,r){Lp.set(i,r),fr(r,[i])}var en=[],ls=0,wh=0;function Ml(){for(var i=ls,r=wh=ls=0;r<i;){var a=en[r];en[r++]=null;var u=en[r];en[r++]=null;var h=en[r];en[r++]=null;var f=en[r];if(en[r++]=null,u!==null&&h!==null){var p=u.pending;p===null?h.next=h:(h.next=p.next,p.next=h),u.pending=h}f!==0&&jp(a,h,f)}}function xl(i,r,a,u){en[ls++]=i,en[ls++]=r,en[ls++]=a,en[ls++]=u,wh|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Rh(i,r,a,u){return xl(i,r,a,u),Vl(i)}function vi(i,r){return xl(i,null,null,r),Vl(i)}function jp(i,r,a){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a);for(var h=!1,f=i.return;f!==null;)f.childLanes|=a,u=f.alternate,u!==null&&(u.childLanes|=a),f.tag===22&&(i=f.stateNode,i===null||i._visibility&1||(h=!0)),i=f,f=f.return;h&&r!==null&&i.tag===3&&(f=i.stateNode,h=31-Fe(a),f=f.hiddenUpdates,i=f[h],i===null?f[h]=[r]:i.push(r),r.lane=a|536870912)}function Vl(i){if(50<Ya)throw Ya=0,Mf=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var us={},zp=new WeakMap;function nn(i,r){if(typeof i=="object"&&i!==null){var a=zp.get(i);return a!==void 0?a:(r={value:i,source:r,stack:ct(r)},zp.set(i,r),r)}return{value:i,source:r,stack:ct(r)}}var cs=[],hs=0,Pl=null,Ul=0,rn=[],sn=0,pr=null,Hn=1,Fn="";function yr(i,r){cs[hs++]=Ul,cs[hs++]=Pl,Pl=i,Ul=r}function Bp(i,r,a){rn[sn++]=Hn,rn[sn++]=Fn,rn[sn++]=pr,pr=i;var u=Hn;i=Fn;var h=32-Fe(u)-1;u&=~(1<<h),a+=1;var f=32-Fe(r)+h;if(30<f){var p=h-h%5;f=(u&(1<<p)-1).toString(32),u>>=p,h-=p,Hn=1<<32-Fe(r)+h|a<<h|u,Fn=f+i}else Hn=1<<f|a<<h|u,Fn=i}function bh(i){i.return!==null&&(yr(i,1),Bp(i,1,0))}function Ih(i){for(;i===Pl;)Pl=cs[--hs],cs[hs]=null,Ul=cs[--hs],cs[hs]=null;for(;i===pr;)pr=rn[--sn],rn[sn]=null,Fn=rn[--sn],rn[sn]=null,Hn=rn[--sn],rn[sn]=null}var xe=null,me=null,wt=!1,pn=null,Rn=!1,Ch=Error(s(519));function _r(i){var r=Error(s(418,""));throw ba(nn(r,i)),Ch}function qp(i){var r=i.stateNode,a=i.type,u=i.memoizedProps;switch(r[Se]=i,r[ke]=u,a){case"dialog":vt("cancel",r),vt("close",r);break;case"iframe":case"object":case"embed":vt("load",r);break;case"video":case"audio":for(a=0;a<$a.length;a++)vt($a[a],r);break;case"source":vt("error",r);break;case"img":case"image":case"link":vt("error",r),vt("load",r);break;case"details":vt("toggle",r);break;case"input":vt("invalid",r),ip(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Sl(r);break;case"select":vt("invalid",r);break;case"textarea":vt("invalid",r),sp(r,u.value,u.defaultValue,u.children),Sl(r)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||W_(r.textContent,a)?(u.popover!=null&&(vt("beforetoggle",r),vt("toggle",r)),u.onScroll!=null&&vt("scroll",r),u.onScrollEnd!=null&&vt("scrollend",r),u.onClick!=null&&(r.onclick=mu),r=!0):r=!1,r||_r(i)}function Hp(i){for(xe=i.return;xe;)switch(xe.tag){case 3:case 27:Rn=!0;return;case 5:case 13:Rn=!1;return;default:xe=xe.return}}function wa(i){if(i!==xe)return!1;if(!wt)return Hp(i),wt=!0,!1;var r=!1,a;if((a=i.tag!==3&&i.tag!==27)&&((a=i.tag===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Xf(i.type,i.memoizedProps)),a=!a),a&&(r=!0),r&&me&&_r(i),Hp(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(r===0){me=_n(i.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;i=i.nextSibling}me=null}}else me=xe?_n(i.stateNode.nextSibling):null;return!0}function Ra(){me=xe=null,wt=!1}function ba(i){pn===null?pn=[i]:pn.push(i)}var Ia=Error(s(460)),Fp=Error(s(474)),Dh={then:function(){}};function Gp(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ll(){}function Qp(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(Ll,Ll),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===Ia?Error(s(483)):i;default:if(typeof r.status=="string")r.then(Ll,Ll);else{if(i=Vt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=u}},function(u){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===Ia?Error(s(483)):i}throw Ca=r,Ia}}var Ca=null;function Kp(){if(Ca===null)throw Error(s(459));var i=Ca;return Ca=null,i}var fs=null,Da=0;function kl(i){var r=Da;return Da+=1,fs===null&&(fs=[]),Qp(fs,i,r)}function Na(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function jl(i,r){throw r.$$typeof===l?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Yp(i){var r=i._init;return r(i._payload)}function Xp(i){function r(b,w){if(i){var C=b.deletions;C===null?(b.deletions=[w],b.flags|=16):C.push(w)}}function a(b,w){if(!i)return null;for(;w!==null;)r(b,w),w=w.sibling;return null}function u(b){for(var w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function h(b,w){return b=Oi(b,w),b.index=0,b.sibling=null,b}function f(b,w,C){return b.index=C,i?(C=b.alternate,C!==null?(C=C.index,C<w?(b.flags|=33554434,w):C):(b.flags|=33554434,w)):(b.flags|=1048576,w)}function p(b){return i&&b.alternate===null&&(b.flags|=33554434),b}function _(b,w,C,V){return w===null||w.tag!==6?(w=wf(C,b.mode,V),w.return=b,w):(w=h(w,C),w.return=b,w)}function E(b,w,C,V){var G=C.type;return G===d?M(b,w,C.props.children,V,C.key):w!==null&&(w.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===J&&Yp(G)===w.type)?(w=h(w,C.props),Na(w,C),w.return=b,w):(w=iu(C.type,C.key,C.props,null,b.mode,V),Na(w,C),w.return=b,w)}function R(b,w,C,V){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=Rf(C,b.mode,V),w.return=b,w):(w=h(w,C.children||[]),w.return=b,w)}function M(b,w,C,V,G){return w===null||w.tag!==7?(w=Cr(C,b.mode,V,G),w.return=b,w):(w=h(w,C),w.return=b,w)}function U(b,w,C){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=wf(""+w,b.mode,C),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case c:return C=iu(w.type,w.key,w.props,null,b.mode,C),Na(C,w),C.return=b,C;case m:return w=Rf(w,b.mode,C),w.return=b,w;case J:var V=w._init;return w=V(w._payload),U(b,w,C)}if(Z(w)||Lt(w))return w=Cr(w,b.mode,C,null),w.return=b,w;if(typeof w.then=="function")return U(b,kl(w),C);if(w.$$typeof===I)return U(b,tu(b,w),C);jl(b,w)}return null}function D(b,w,C,V){var G=w!==null?w.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return G!==null?null:_(b,w,""+C,V);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case c:return C.key===G?E(b,w,C,V):null;case m:return C.key===G?R(b,w,C,V):null;case J:return G=C._init,C=G(C._payload),D(b,w,C,V)}if(Z(C)||Lt(C))return G!==null?null:M(b,w,C,V,null);if(typeof C.then=="function")return D(b,w,kl(C),V);if(C.$$typeof===I)return D(b,w,tu(b,C),V);jl(b,C)}return null}function N(b,w,C,V,G){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return b=b.get(C)||null,_(w,b,""+V,G);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case c:return b=b.get(V.key===null?C:V.key)||null,E(w,b,V,G);case m:return b=b.get(V.key===null?C:V.key)||null,R(w,b,V,G);case J:var gt=V._init;return V=gt(V._payload),N(b,w,C,V,G)}if(Z(V)||Lt(V))return b=b.get(C)||null,M(w,b,V,G,null);if(typeof V.then=="function")return N(b,w,C,kl(V),G);if(V.$$typeof===I)return N(b,w,C,tu(w,V),G);jl(w,V)}return null}function K(b,w,C,V){for(var G=null,gt=null,X=w,tt=w=0,ue=null;X!==null&&tt<C.length;tt++){X.index>tt?(ue=X,X=null):ue=X.sibling;var Rt=D(b,X,C[tt],V);if(Rt===null){X===null&&(X=ue);break}i&&X&&Rt.alternate===null&&r(b,X),w=f(Rt,w,tt),gt===null?G=Rt:gt.sibling=Rt,gt=Rt,X=ue}if(tt===C.length)return a(b,X),wt&&yr(b,tt),G;if(X===null){for(;tt<C.length;tt++)X=U(b,C[tt],V),X!==null&&(w=f(X,w,tt),gt===null?G=X:gt.sibling=X,gt=X);return wt&&yr(b,tt),G}for(X=u(X);tt<C.length;tt++)ue=N(X,b,tt,C[tt],V),ue!==null&&(i&&ue.alternate!==null&&X.delete(ue.key===null?tt:ue.key),w=f(ue,w,tt),gt===null?G=ue:gt.sibling=ue,gt=ue);return i&&X.forEach(function(ki){return r(b,ki)}),wt&&yr(b,tt),G}function lt(b,w,C,V){if(C==null)throw Error(s(151));for(var G=null,gt=null,X=w,tt=w=0,ue=null,Rt=C.next();X!==null&&!Rt.done;tt++,Rt=C.next()){X.index>tt?(ue=X,X=null):ue=X.sibling;var ki=D(b,X,Rt.value,V);if(ki===null){X===null&&(X=ue);break}i&&X&&ki.alternate===null&&r(b,X),w=f(ki,w,tt),gt===null?G=ki:gt.sibling=ki,gt=ki,X=ue}if(Rt.done)return a(b,X),wt&&yr(b,tt),G;if(X===null){for(;!Rt.done;tt++,Rt=C.next())Rt=U(b,Rt.value,V),Rt!==null&&(w=f(Rt,w,tt),gt===null?G=Rt:gt.sibling=Rt,gt=Rt);return wt&&yr(b,tt),G}for(X=u(X);!Rt.done;tt++,Rt=C.next())Rt=N(X,b,tt,Rt.value,V),Rt!==null&&(i&&Rt.alternate!==null&&X.delete(Rt.key===null?tt:Rt.key),w=f(Rt,w,tt),gt===null?G=Rt:gt.sibling=Rt,gt=Rt);return i&&X.forEach(function(db){return r(b,db)}),wt&&yr(b,tt),G}function Qt(b,w,C,V){if(typeof C=="object"&&C!==null&&C.type===d&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case c:t:{for(var G=C.key;w!==null;){if(w.key===G){if(G=C.type,G===d){if(w.tag===7){a(b,w.sibling),V=h(w,C.props.children),V.return=b,b=V;break t}}else if(w.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===J&&Yp(G)===w.type){a(b,w.sibling),V=h(w,C.props),Na(V,C),V.return=b,b=V;break t}a(b,w);break}else r(b,w);w=w.sibling}C.type===d?(V=Cr(C.props.children,b.mode,V,C.key),V.return=b,b=V):(V=iu(C.type,C.key,C.props,null,b.mode,V),Na(V,C),V.return=b,b=V)}return p(b);case m:t:{for(G=C.key;w!==null;){if(w.key===G)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){a(b,w.sibling),V=h(w,C.children||[]),V.return=b,b=V;break t}else{a(b,w);break}else r(b,w);w=w.sibling}V=Rf(C,b.mode,V),V.return=b,b=V}return p(b);case J:return G=C._init,C=G(C._payload),Qt(b,w,C,V)}if(Z(C))return K(b,w,C,V);if(Lt(C)){if(G=Lt(C),typeof G!="function")throw Error(s(150));return C=G.call(C),lt(b,w,C,V)}if(typeof C.then=="function")return Qt(b,w,kl(C),V);if(C.$$typeof===I)return Qt(b,w,tu(b,C),V);jl(b,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,w!==null&&w.tag===6?(a(b,w.sibling),V=h(w,C),V.return=b,b=V):(a(b,w),V=wf(C,b.mode,V),V.return=b,b=V),p(b)):a(b,w)}return function(b,w,C,V){try{Da=0;var G=Qt(b,w,C,V);return fs=null,G}catch(X){if(X===Ia)throw X;var gt=un(29,X,null,b.mode);return gt.lanes=V,gt.return=b,gt}finally{}}}var vr=Xp(!0),$p=Xp(!1),ds=Ct(null),zl=Ct(0);function Wp(i,r){i=ei,zt(zl,i),zt(ds,r),ei=i|r.baseLanes}function Nh(){zt(zl,ei),zt(ds,ds.current)}function Oh(){ei=zl.current,$t(ds),$t(zl)}var an=Ct(null),bn=null;function Ei(i){var r=i.alternate;zt(ie,ie.current&1),zt(an,i),bn===null&&(r===null||ds.current!==null||r.memoizedState!==null)&&(bn=i)}function Zp(i){if(i.tag===22){if(zt(ie,ie.current),zt(an,i),bn===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(bn=i)}}else Ti()}function Ti(){zt(ie,ie.current),zt(an,an.current)}function Gn(i){$t(an),bn===i&&(bn=null),$t(ie)}var ie=Ct(0);function Bl(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var tR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},eR=e.unstable_scheduleCallback,nR=e.unstable_NormalPriority,re={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mh(){return{controller:new tR,data:new Map,refCount:0}}function Oa(i){i.refCount--,i.refCount===0&&eR(nR,function(){i.controller.abort()})}var Ma=null,xh=0,ms=0,gs=null;function iR(i,r){if(Ma===null){var a=Ma=[];xh=0,ms=zf(),gs={status:"pending",value:void 0,then:function(u){a.push(u)}}}return xh++,r.then(Jp,Jp),r}function Jp(){if(--xh===0&&Ma!==null){gs!==null&&(gs.status="fulfilled");var i=Ma;Ma=null,ms=0,gs=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function rR(i,r){var a=[],u={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(u.status="rejected",u.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),u}var ty=$.S;$.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&iR(i,r),ty!==null&&ty(i,r)};var Er=Ct(null);function Vh(){var i=Er.current;return i!==null?i:Vt.pooledCache}function ql(i,r){r===null?zt(Er,Er.current):zt(Er,r.pool)}function ey(){var i=Vh();return i===null?null:{parent:re._currentValue,pool:i}}var Ai=0,mt=null,Nt=null,Wt=null,Hl=!1,ps=!1,Tr=!1,Fl=0,xa=0,ys=null,sR=0;function Yt(){throw Error(s(321))}function Ph(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!Ge(i[a],r[a]))return!1;return!0}function Uh(i,r,a,u,h,f){return Ai=f,mt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=i===null||i.memoizedState===null?Ar:Si,Tr=!1,f=a(u,h),Tr=!1,ps&&(f=iy(r,a,u,h)),ny(i),f}function ny(i){$.H=In;var r=Nt!==null&&Nt.next!==null;if(Ai=0,Wt=Nt=mt=null,Hl=!1,xa=0,ys=null,r)throw Error(s(300));i===null||oe||(i=i.dependencies,i!==null&&Jl(i)&&(oe=!0))}function iy(i,r,a,u){mt=i;var h=0;do{if(ps&&(ys=null),xa=0,ps=!1,25<=h)throw Error(s(301));if(h+=1,Wt=Nt=null,i.updateQueue!=null){var f=i.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}$.H=Sr,f=r(a,u)}while(ps);return f}function aR(){var i=$.H,r=i.useState()[0];return r=typeof r.then=="function"?Va(r):r,i=i.useState()[0],(Nt!==null?Nt.memoizedState:null)!==i&&(mt.flags|=1024),r}function Lh(){var i=Fl!==0;return Fl=0,i}function kh(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function jh(i){if(Hl){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Hl=!1}Ai=0,Wt=Nt=mt=null,ps=!1,xa=Fl=0,ys=null}function ze(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?mt.memoizedState=Wt=i:Wt=Wt.next=i,Wt}function Zt(){if(Nt===null){var i=mt.alternate;i=i!==null?i.memoizedState:null}else i=Nt.next;var r=Wt===null?mt.memoizedState:Wt.next;if(r!==null)Wt=r,Nt=i;else{if(i===null)throw mt.alternate===null?Error(s(467)):Error(s(310));Nt=i,i={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Wt===null?mt.memoizedState=Wt=i:Wt=Wt.next=i}return Wt}var Gl;Gl=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Va(i){var r=xa;return xa+=1,ys===null&&(ys=[]),i=Qp(ys,i,r),r=mt,(Wt===null?r.memoizedState:Wt.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?Ar:Si),i}function Ql(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Va(i);if(i.$$typeof===I)return we(i)}throw Error(s(438,String(i)))}function zh(i){var r=null,a=mt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=mt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Gl(),mt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),u=0;u<i;u++)a[u]=bt;return r.index++,a}function Qn(i,r){return typeof r=="function"?r(i):r}function Kl(i){var r=Zt();return Bh(r,Nt,i)}function Bh(i,r,a){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var h=i.baseQueue,f=u.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}r.baseQueue=h=f,u.pending=null}if(f=i.baseState,h===null)i.memoizedState=f;else{r=h.next;var _=p=null,E=null,R=r,M=!1;do{var U=R.lane&-536870913;if(U!==R.lane?(At&U)===U:(Ai&U)===U){var D=R.revertLane;if(D===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),U===ms&&(M=!0);else if((Ai&D)===D){R=R.next,D===ms&&(M=!0);continue}else U={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},E===null?(_=E=U,p=f):E=E.next=U,mt.lanes|=D,Mi|=D;U=R.action,Tr&&a(f,U),f=R.hasEagerState?R.eagerState:a(f,U)}else D={lane:U,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},E===null?(_=E=D,p=f):E=E.next=D,mt.lanes|=U,Mi|=U;R=R.next}while(R!==null&&R!==r);if(E===null?p=f:E.next=_,!Ge(f,i.memoizedState)&&(oe=!0,M&&(a=gs,a!==null)))throw a;i.memoizedState=f,i.baseState=p,i.baseQueue=E,u.lastRenderedState=f}return h===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function qh(i){var r=Zt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var u=a.dispatch,h=a.pending,f=r.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=i(f,p.action),p=p.next;while(p!==h);Ge(f,r.memoizedState)||(oe=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,u]}function ry(i,r,a){var u=mt,h=Zt(),f=wt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var p=!Ge((Nt||h).memoizedState,a);if(p&&(h.memoizedState=a,oe=!0),h=h.queue,Gh(oy.bind(null,u,h,i),[i]),h.getSnapshot!==r||p||Wt!==null&&Wt.memoizedState.tag&1){if(u.flags|=2048,_s(9,ay.bind(null,u,h,a,r),{destroy:void 0},null),Vt===null)throw Error(s(349));f||(Ai&60)!==0||sy(u,r,a)}return a}function sy(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=mt.updateQueue,r===null?(r=Gl(),mt.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function ay(i,r,a,u){r.value=a,r.getSnapshot=u,ly(r)&&uy(i)}function oy(i,r,a){return a(function(){ly(r)&&uy(i)})}function ly(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!Ge(i,a)}catch{return!0}}function uy(i){var r=vi(i,2);r!==null&&Ve(r,i,2)}function Hh(i){var r=ze();if(typeof i=="function"){var a=i;if(i=a(),Tr){pi(!0);try{a()}finally{pi(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:i},r}function cy(i,r,a,u){return i.baseState=a,Bh(i,Nt,typeof u=="function"?u:Qn)}function oR(i,r,a,u,h){if($l(i))throw Error(s(485));if(i=r.action,i!==null){var f={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};$.T!==null?a(!0):f.isTransition=!1,u(f),a=r.pending,a===null?(f.next=r.pending=f,hy(r,f)):(f.next=a.next,r.pending=a.next=f)}}function hy(i,r){var a=r.action,u=r.payload,h=i.state;if(r.isTransition){var f=$.T,p={};$.T=p;try{var _=a(h,u),E=$.S;E!==null&&E(p,_),fy(i,r,_)}catch(R){Fh(i,r,R)}finally{$.T=f}}else try{f=a(h,u),fy(i,r,f)}catch(R){Fh(i,r,R)}}function fy(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){dy(i,r,u)},function(u){return Fh(i,r,u)}):dy(i,r,a)}function dy(i,r,a){r.status="fulfilled",r.value=a,my(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,hy(i,a)))}function Fh(i,r,a){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,my(r),r=r.next;while(r!==u)}i.action=null}function my(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function gy(i,r){return r}function py(i,r){if(wt){var a=Vt.formState;if(a!==null){t:{var u=mt;if(wt){if(me){e:{for(var h=me,f=Rn;h.nodeType!==8;){if(!f){h=null;break e}if(h=_n(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){me=_n(h.nextSibling),u=h.data==="F!";break t}}_r(u)}u=!1}u&&(r=a[0])}}return a=ze(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gy,lastRenderedState:r},a.queue=u,a=Vy.bind(null,mt,u),u.dispatch=a,u=Hh(!1),f=$h.bind(null,mt,!1,u.queue),u=ze(),h={state:r,dispatch:null,action:i,pending:null},u.queue=h,a=oR.bind(null,mt,h,f,a),h.dispatch=a,u.memoizedState=i,[r,a,!1]}function yy(i){var r=Zt();return _y(r,Nt,i)}function _y(i,r,a){r=Bh(i,r,gy)[0],i=Kl(Qn)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?Va(r):r;var u=Zt(),h=u.queue,f=h.dispatch;return a!==u.memoizedState&&(mt.flags|=2048,_s(9,lR.bind(null,h,a),{destroy:void 0},null)),[r,f,i]}function lR(i,r){i.action=r}function vy(i){var r=Zt(),a=Nt;if(a!==null)return _y(r,a,i);Zt(),r=r.memoizedState,a=Zt();var u=a.queue.dispatch;return a.memoizedState=i,[r,u,!1]}function _s(i,r,a,u){return i={tag:i,create:r,inst:a,deps:u,next:null},r=mt.updateQueue,r===null&&(r=Gl(),mt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(u=a.next,a.next=i,i.next=u,r.lastEffect=i),i}function Ey(){return Zt().memoizedState}function Yl(i,r,a,u){var h=ze();mt.flags|=i,h.memoizedState=_s(1|r,a,{destroy:void 0},u===void 0?null:u)}function Xl(i,r,a,u){var h=Zt();u=u===void 0?null:u;var f=h.memoizedState.inst;Nt!==null&&u!==null&&Ph(u,Nt.memoizedState.deps)?h.memoizedState=_s(r,a,f,u):(mt.flags|=i,h.memoizedState=_s(1|r,a,f,u))}function Ty(i,r){Yl(8390656,8,i,r)}function Gh(i,r){Xl(2048,8,i,r)}function Ay(i,r){return Xl(4,2,i,r)}function Sy(i,r){return Xl(4,4,i,r)}function wy(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Ry(i,r,a){a=a!=null?a.concat([i]):null,Xl(4,4,wy.bind(null,r,i),a)}function Qh(){}function by(i,r){var a=Zt();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&Ph(r,u[1])?u[0]:(a.memoizedState=[i,r],i)}function Iy(i,r){var a=Zt();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&Ph(r,u[1]))return u[0];if(u=i(),Tr){pi(!0);try{i()}finally{pi(!1)}}return a.memoizedState=[u,r],u}function Kh(i,r,a){return a===void 0||(Ai&1073741824)!==0?i.memoizedState=r:(i.memoizedState=a,i=D_(),mt.lanes|=i,Mi|=i,a)}function Cy(i,r,a,u){return Ge(a,r)?a:ds.current!==null?(i=Kh(i,a,u),Ge(i,r)||(oe=!0),i):(Ai&42)===0?(oe=!0,i.memoizedState=a):(i=D_(),mt.lanes|=i,Mi|=i,r)}function Dy(i,r,a,u,h){var f=F.p;F.p=f!==0&&8>f?f:8;var p=$.T,_={};$.T=_,$h(i,!1,r,a);try{var E=h(),R=$.S;if(R!==null&&R(_,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var M=rR(E,u);Pa(i,r,M,Xe(i))}else Pa(i,r,u,Xe(i))}catch(U){Pa(i,r,{then:function(){},status:"rejected",reason:U},Xe())}finally{F.p=f,$.T=p}}function uR(){}function Yh(i,r,a,u){if(i.tag!==5)throw Error(s(476));var h=Ny(i).queue;Dy(i,h,r,Tt,a===null?uR:function(){return Oy(i),a(u)})}function Ny(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:Tt,baseState:Tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:Tt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Oy(i){var r=Ny(i).next.queue;Pa(i,r,{},Xe())}function Xh(){return we(eo)}function My(){return Zt().memoizedState}function xy(){return Zt().memoizedState}function cR(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=Xe();i=bi(a);var u=Ii(r,i,a);u!==null&&(Ve(u,r,a),ka(u,r,a)),r={cache:Mh()},i.payload=r;return}r=r.return}}function hR(i,r,a){var u=Xe();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},$l(i)?Py(r,a):(a=Rh(i,r,a,u),a!==null&&(Ve(a,i,u),Uy(a,r,u)))}function Vy(i,r,a){var u=Xe();Pa(i,r,a,u)}function Pa(i,r,a,u){var h={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if($l(i))Py(r,h);else{var f=i.alternate;if(i.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var p=r.lastRenderedState,_=f(p,a);if(h.hasEagerState=!0,h.eagerState=_,Ge(_,p))return xl(i,r,h,0),Vt===null&&Ml(),!1}catch{}finally{}if(a=Rh(i,r,h,u),a!==null)return Ve(a,i,u),Uy(a,r,u),!0}return!1}function $h(i,r,a,u){if(u={lane:2,revertLane:zf(),action:u,hasEagerState:!1,eagerState:null,next:null},$l(i)){if(r)throw Error(s(479))}else r=Rh(i,a,u,2),r!==null&&Ve(r,i,2)}function $l(i){var r=i.alternate;return i===mt||r!==null&&r===mt}function Py(i,r){ps=Hl=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function Uy(i,r,a){if((a&4194176)!==0){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,Kg(i,a)}}var In={readContext:we,use:Ql,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt};In.useCacheRefresh=Yt,In.useMemoCache=Yt,In.useHostTransitionStatus=Yt,In.useFormState=Yt,In.useActionState=Yt,In.useOptimistic=Yt;var Ar={readContext:we,use:Ql,useCallback:function(i,r){return ze().memoizedState=[i,r===void 0?null:r],i},useContext:we,useEffect:Ty,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,Yl(4194308,4,wy.bind(null,r,i),a)},useLayoutEffect:function(i,r){return Yl(4194308,4,i,r)},useInsertionEffect:function(i,r){Yl(4,2,i,r)},useMemo:function(i,r){var a=ze();r=r===void 0?null:r;var u=i();if(Tr){pi(!0);try{i()}finally{pi(!1)}}return a.memoizedState=[u,r],u},useReducer:function(i,r,a){var u=ze();if(a!==void 0){var h=a(r);if(Tr){pi(!0);try{a(r)}finally{pi(!1)}}}else h=r;return u.memoizedState=u.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},u.queue=i,i=i.dispatch=hR.bind(null,mt,i),[u.memoizedState,i]},useRef:function(i){var r=ze();return i={current:i},r.memoizedState=i},useState:function(i){i=Hh(i);var r=i.queue,a=Vy.bind(null,mt,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:Qh,useDeferredValue:function(i,r){var a=ze();return Kh(a,i,r)},useTransition:function(){var i=Hh(!1);return i=Dy.bind(null,mt,i.queue,!0,!1),ze().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var u=mt,h=ze();if(wt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Vt===null)throw Error(s(349));(At&60)!==0||sy(u,r,a)}h.memoizedState=a;var f={value:a,getSnapshot:r};return h.queue=f,Ty(oy.bind(null,u,f,i),[i]),u.flags|=2048,_s(9,ay.bind(null,u,f,a,r),{destroy:void 0},null),a},useId:function(){var i=ze(),r=Vt.identifierPrefix;if(wt){var a=Fn,u=Hn;a=(u&~(1<<32-Fe(u)-1)).toString(32)+a,r=":"+r+"R"+a,a=Fl++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=sR++,r=":"+r+"r"+a.toString(32)+":";return i.memoizedState=r},useCacheRefresh:function(){return ze().memoizedState=cR.bind(null,mt)}};Ar.useMemoCache=zh,Ar.useHostTransitionStatus=Xh,Ar.useFormState=py,Ar.useActionState=py,Ar.useOptimistic=function(i){var r=ze();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=$h.bind(null,mt,!0,a),a.dispatch=r,[i,r]};var Si={readContext:we,use:Ql,useCallback:by,useContext:we,useEffect:Gh,useImperativeHandle:Ry,useInsertionEffect:Ay,useLayoutEffect:Sy,useMemo:Iy,useReducer:Kl,useRef:Ey,useState:function(){return Kl(Qn)},useDebugValue:Qh,useDeferredValue:function(i,r){var a=Zt();return Cy(a,Nt.memoizedState,i,r)},useTransition:function(){var i=Kl(Qn)[0],r=Zt().memoizedState;return[typeof i=="boolean"?i:Va(i),r]},useSyncExternalStore:ry,useId:My};Si.useCacheRefresh=xy,Si.useMemoCache=zh,Si.useHostTransitionStatus=Xh,Si.useFormState=yy,Si.useActionState=yy,Si.useOptimistic=function(i,r){var a=Zt();return cy(a,Nt,i,r)};var Sr={readContext:we,use:Ql,useCallback:by,useContext:we,useEffect:Gh,useImperativeHandle:Ry,useInsertionEffect:Ay,useLayoutEffect:Sy,useMemo:Iy,useReducer:qh,useRef:Ey,useState:function(){return qh(Qn)},useDebugValue:Qh,useDeferredValue:function(i,r){var a=Zt();return Nt===null?Kh(a,i,r):Cy(a,Nt.memoizedState,i,r)},useTransition:function(){var i=qh(Qn)[0],r=Zt().memoizedState;return[typeof i=="boolean"?i:Va(i),r]},useSyncExternalStore:ry,useId:My};Sr.useCacheRefresh=xy,Sr.useMemoCache=zh,Sr.useHostTransitionStatus=Xh,Sr.useFormState=vy,Sr.useActionState=vy,Sr.useOptimistic=function(i,r){var a=Zt();return Nt!==null?cy(a,Nt,i,r):(a.baseState=i,[i,a.queue.dispatch])};function Wh(i,r,a,u){r=i.memoizedState,a=a(u,r),a=a==null?r:yt({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Zh={isMounted:function(i){return(i=i._reactInternals)?it(i)===i:!1},enqueueSetState:function(i,r,a){i=i._reactInternals;var u=Xe(),h=bi(u);h.payload=r,a!=null&&(h.callback=a),r=Ii(i,h,u),r!==null&&(Ve(r,i,u),ka(r,i,u))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var u=Xe(),h=bi(u);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Ii(i,h,u),r!==null&&(Ve(r,i,u),ka(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=Xe(),u=bi(a);u.tag=2,r!=null&&(u.callback=r),r=Ii(i,u,a),r!==null&&(Ve(r,i,a),ka(r,i,a))}};function Ly(i,r,a,u,h,f,p){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,f,p):r.prototype&&r.prototype.isPureReactComponent?!Aa(a,u)||!Aa(h,f):!0}function ky(i,r,a,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==i&&Zh.enqueueReplaceState(r,r.state,null)}function wr(i,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(i=i.defaultProps){a===r&&(a=yt({},a));for(var h in i)a[h]===void 0&&(a[h]=i[h])}return a}var Wl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function jy(i){Wl(i)}function zy(i){console.error(i)}function By(i){Wl(i)}function Zl(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function qy(i,r,a){try{var u=i.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Jh(i,r,a){return a=bi(a),a.tag=3,a.payload={element:null},a.callback=function(){Zl(i,r)},a}function Hy(i){return i=bi(i),i.tag=3,i}function Fy(i,r,a,u){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=u.value;i.payload=function(){return h(f)},i.callback=function(){qy(r,a,u)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(i.callback=function(){qy(r,a,u),typeof h!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var _=u.stack;this.componentDidCatch(u.value,{componentStack:_!==null?_:""})})}function fR(i,r,a,u,h){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&La(r,a,h,!0),a=an.current,a!==null){switch(a.tag){case 13:return bn===null?Pf():a.alternate===null&&Gt===0&&(Gt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,u===Dh?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),Lf(i,u,h)),!1;case 22:return a.flags|=65536,u===Dh?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),Lf(i,u,h)),!1}throw Error(s(435,a.tag))}return Lf(i,u,h),Pf(),!1}if(wt)return r=an.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,u!==Ch&&(i=Error(s(422),{cause:u}),ba(nn(i,a)))):(u!==Ch&&(r=Error(s(423),{cause:u}),ba(nn(r,a))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,u=nn(u,a),h=Jh(i.stateNode,u,h),gf(i,h),Gt!==4&&(Gt=2)),!1;var f=Error(s(520),{cause:u});if(f=nn(f,a),Qa===null?Qa=[f]:Qa.push(f),Gt!==4&&(Gt=2),r===null)return!0;u=nn(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=h&-h,a.lanes|=i,i=Jh(a.stateNode,u,i),gf(a,i),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(xi===null||!xi.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Hy(h),Fy(h,i,a,u),gf(a,h),!1}a=a.return}while(a!==null);return!1}var Gy=Error(s(461)),oe=!1;function ge(i,r,a,u){r.child=i===null?$p(r,null,a,u):vr(r,i.child,a,u)}function Qy(i,r,a,u,h){a=a.render;var f=r.ref;if("ref"in u){var p={};for(var _ in u)_!=="ref"&&(p[_]=u[_])}else p=u;return br(r),u=Uh(i,r,a,p,f,h),_=Lh(),i!==null&&!oe?(kh(i,r,h),Kn(i,r,h)):(wt&&_&&bh(r),r.flags|=1,ge(i,r,u,h),r.child)}function Ky(i,r,a,u,h){if(i===null){var f=a.type;return typeof f=="function"&&!Sf(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,Yy(i,r,f,u,h)):(i=iu(a.type,null,u,r,r.mode,h),i.ref=r.ref,i.return=r,r.child=i)}if(f=i.child,!uf(i,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Aa,a(p,u)&&i.ref===r.ref)return Kn(i,r,h)}return r.flags|=1,i=Oi(f,u),i.ref=r.ref,i.return=r,r.child=i}function Yy(i,r,a,u,h){if(i!==null){var f=i.memoizedProps;if(Aa(f,u)&&i.ref===r.ref)if(oe=!1,r.pendingProps=u=f,uf(i,h))(i.flags&131072)!==0&&(oe=!0);else return r.lanes=i.lanes,Kn(i,r,h)}return tf(i,r,a,u,h)}function Xy(i,r,a){var u=r.pendingProps,h=u.children,f=(r.stateNode._pendingVisibility&2)!==0,p=i!==null?i.memoizedState:null;if(Ua(i,r),u.mode==="hidden"||f){if((r.flags&128)!==0){if(u=p!==null?p.baseLanes|a:a,i!==null){for(h=r.child=i.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;r.childLanes=f&~u}else r.childLanes=0,r.child=null;return $y(i,r,u,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&ql(r,p!==null?p.cachePool:null),p!==null?Wp(r,p):Nh(),Zp(r);else return r.lanes=r.childLanes=536870912,$y(i,r,p!==null?p.baseLanes|a:a,a)}else p!==null?(ql(r,p.cachePool),Wp(r,p),Ti(),r.memoizedState=null):(i!==null&&ql(r,null),Nh(),Ti());return ge(i,r,h,a),r.child}function $y(i,r,a,u){var h=Vh();return h=h===null?null:{parent:re._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},i!==null&&ql(r,null),Nh(),Zp(r),i!==null&&La(i,r,u,!0),null}function Ua(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=2097664)}}function tf(i,r,a,u,h){return br(r),a=Uh(i,r,a,u,void 0,h),u=Lh(),i!==null&&!oe?(kh(i,r,h),Kn(i,r,h)):(wt&&u&&bh(r),r.flags|=1,ge(i,r,a,h),r.child)}function Wy(i,r,a,u,h,f){return br(r),r.updateQueue=null,a=iy(r,u,a,h),ny(i),u=Lh(),i!==null&&!oe?(kh(i,r,f),Kn(i,r,f)):(wt&&u&&bh(r),r.flags|=1,ge(i,r,a,f),r.child)}function Zy(i,r,a,u,h){if(br(r),r.stateNode===null){var f=us,p=a.contextType;typeof p=="object"&&p!==null&&(f=we(p)),f=new a(u,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Zh,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=u,f.state=r.memoizedState,f.refs={},df(r),p=a.contextType,f.context=typeof p=="object"&&p!==null?we(p):us,f.state=r.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Wh(r,a,p,u),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Zh.enqueueReplaceState(f,f.state,null),za(r,u,f,h),ja(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){f=r.stateNode;var _=r.memoizedProps,E=wr(a,_);f.props=E;var R=f.context,M=a.contextType;p=us,typeof M=="object"&&M!==null&&(p=we(M));var U=a.getDerivedStateFromProps;M=typeof U=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=r.pendingProps!==_,M||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||R!==p)&&ky(r,f,u,p),Ri=!1;var D=r.memoizedState;f.state=D,za(r,u,f,h),ja(),R=r.memoizedState,_||D!==R||Ri?(typeof U=="function"&&(Wh(r,a,U,u),R=r.memoizedState),(E=Ri||Ly(r,a,E,u,D,R,p))?(M||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=R),f.props=u,f.state=R,f.context=p,u=E):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{f=r.stateNode,mf(i,r),p=r.memoizedProps,M=wr(a,p),f.props=M,U=r.pendingProps,D=f.context,R=a.contextType,E=us,typeof R=="object"&&R!==null&&(E=we(R)),_=a.getDerivedStateFromProps,(R=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==U||D!==E)&&ky(r,f,u,E),Ri=!1,D=r.memoizedState,f.state=D,za(r,u,f,h),ja();var N=r.memoizedState;p!==U||D!==N||Ri||i!==null&&i.dependencies!==null&&Jl(i.dependencies)?(typeof _=="function"&&(Wh(r,a,_,u),N=r.memoizedState),(M=Ri||Ly(r,a,M,u,D,N,E)||i!==null&&i.dependencies!==null&&Jl(i.dependencies))?(R||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(u,N,E),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(u,N,E)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===i.memoizedProps&&D===i.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===i.memoizedProps&&D===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=N),f.props=u,f.state=N,f.context=E,u=M):(typeof f.componentDidUpdate!="function"||p===i.memoizedProps&&D===i.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===i.memoizedProps&&D===i.memoizedState||(r.flags|=1024),u=!1)}return f=u,Ua(i,r),u=(r.flags&128)!==0,f||u?(f=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,i!==null&&u?(r.child=vr(r,i.child,null,h),r.child=vr(r,null,a,h)):ge(i,r,a,h),r.memoizedState=f.state,i=r.child):i=Kn(i,r,h),i}function Jy(i,r,a,u){return Ra(),r.flags|=256,ge(i,r,a,u),r.child}var ef={dehydrated:null,treeContext:null,retryLane:0};function nf(i){return{baseLanes:i,cachePool:ey()}}function rf(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=cn),i}function t_(i,r,a){var u=r.pendingProps,h=!1,f=(r.flags&128)!==0,p;if((p=f)||(p=i!==null&&i.memoizedState===null?!1:(ie.current&2)!==0),p&&(h=!0,r.flags&=-129),p=(r.flags&32)!==0,r.flags&=-33,i===null){if(wt){if(h?Ei(r):Ti(),wt){var _=me,E;if(E=_){t:{for(E=_,_=Rn;E.nodeType!==8;){if(!_){_=null;break t}if(E=_n(E.nextSibling),E===null){_=null;break t}}_=E}_!==null?(r.memoizedState={dehydrated:_,treeContext:pr!==null?{id:Hn,overflow:Fn}:null,retryLane:536870912},E=un(18,null,null,0),E.stateNode=_,E.return=r,r.child=E,xe=r,me=null,E=!0):E=!1}E||_r(r)}if(_=r.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return _.data==="$!"?r.lanes=16:r.lanes=536870912,null;Gn(r)}return _=u.children,u=u.fallback,h?(Ti(),h=r.mode,_=af({mode:"hidden",children:_},h),u=Cr(u,h,a,null),_.return=r,u.return=r,_.sibling=u,r.child=_,h=r.child,h.memoizedState=nf(a),h.childLanes=rf(i,p,a),r.memoizedState=ef,u):(Ei(r),sf(r,_))}if(E=i.memoizedState,E!==null&&(_=E.dehydrated,_!==null)){if(f)r.flags&256?(Ei(r),r.flags&=-257,r=of(i,r,a)):r.memoizedState!==null?(Ti(),r.child=i.child,r.flags|=128,r=null):(Ti(),h=u.fallback,_=r.mode,u=af({mode:"visible",children:u.children},_),h=Cr(h,_,a,null),h.flags|=2,u.return=r,h.return=r,u.sibling=h,r.child=u,vr(r,i.child,null,a),u=r.child,u.memoizedState=nf(a),u.childLanes=rf(i,p,a),r.memoizedState=ef,r=h);else if(Ei(r),_.data==="$!"){if(p=_.nextSibling&&_.nextSibling.dataset,p)var R=p.dgst;p=R,u=Error(s(419)),u.stack="",u.digest=p,ba({value:u,source:null,stack:null}),r=of(i,r,a)}else if(oe||La(i,r,a,!1),p=(a&i.childLanes)!==0,oe||p){if(p=Vt,p!==null){if(u=a&-a,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(p.suspendedLanes|a))!==0?0:u,u!==0&&u!==E.retryLane)throw E.retryLane=u,vi(i,u),Ve(p,i,u),Gy}_.data==="$?"||Pf(),r=of(i,r,a)}else _.data==="$?"?(r.flags|=128,r.child=i.child,r=IR.bind(null,i),_._reactRetry=r,r=null):(i=E.treeContext,me=_n(_.nextSibling),xe=r,wt=!0,pn=null,Rn=!1,i!==null&&(rn[sn++]=Hn,rn[sn++]=Fn,rn[sn++]=pr,Hn=i.id,Fn=i.overflow,pr=r),r=sf(r,u.children),r.flags|=4096);return r}return h?(Ti(),h=u.fallback,_=r.mode,E=i.child,R=E.sibling,u=Oi(E,{mode:"hidden",children:u.children}),u.subtreeFlags=E.subtreeFlags&31457280,R!==null?h=Oi(R,h):(h=Cr(h,_,a,null),h.flags|=2),h.return=r,u.return=r,u.sibling=h,r.child=u,u=h,h=r.child,_=i.child.memoizedState,_===null?_=nf(a):(E=_.cachePool,E!==null?(R=re._currentValue,E=E.parent!==R?{parent:R,pool:R}:E):E=ey(),_={baseLanes:_.baseLanes|a,cachePool:E}),h.memoizedState=_,h.childLanes=rf(i,p,a),r.memoizedState=ef,u):(Ei(r),a=i.child,i=a.sibling,a=Oi(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,i!==null&&(p=r.deletions,p===null?(r.deletions=[i],r.flags|=16):p.push(i)),r.child=a,r.memoizedState=null,a)}function sf(i,r){return r=af({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function af(i,r){return b_(i,r,0,null)}function of(i,r,a){return vr(r,i.child,null,a),i=sf(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function e_(i,r,a){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),hf(i.return,r,a)}function lf(i,r,a,u,h){var f=i.memoizedState;f===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:h}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=u,f.tail=a,f.tailMode=h)}function n_(i,r,a){var u=r.pendingProps,h=u.revealOrder,f=u.tail;if(ge(i,r,u.children,a),u=ie.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&e_(i,a,r);else if(i.tag===19)e_(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(zt(ie,u),h){case"forwards":for(a=r.child,h=null;a!==null;)i=a.alternate,i!==null&&Bl(i)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),lf(r,!1,h,a,f);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(i=h.alternate,i!==null&&Bl(i)===null){r.child=h;break}i=h.sibling,h.sibling=a,a=h,h=i}lf(r,!0,a,null,f);break;case"together":lf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Kn(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),Mi|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(La(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=Oi(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=Oi(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function uf(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Jl(i)))}function dR(i,r,a){switch(r.tag){case 3:gl(r,r.stateNode.containerInfo),wi(r,re,i.memoizedState.cache),Ra();break;case 27:case 5:Zc(r);break;case 4:gl(r,r.stateNode.containerInfo);break;case 10:wi(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ei(r),r.flags|=128,null):(a&r.child.childLanes)!==0?t_(i,r,a):(Ei(r),i=Kn(i,r,a),i!==null?i.sibling:null);Ei(r);break;case 19:var h=(i.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(La(i,r,a,!1),u=(a&r.childLanes)!==0),h){if(u)return n_(i,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),zt(ie,ie.current),u)break;return null;case 22:case 23:return r.lanes=0,Xy(i,r,a);case 24:wi(r,re,i.memoizedState.cache)}return Kn(i,r,a)}function i_(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)oe=!0;else{if(!uf(i,a)&&(r.flags&128)===0)return oe=!1,dR(i,r,a);oe=(i.flags&131072)!==0}else oe=!1,wt&&(r.flags&1048576)!==0&&Bp(r,Ul,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var u=r.elementType,h=u._init;if(u=h(u._payload),r.type=u,typeof u=="function")Sf(u)?(i=wr(u,i),r.tag=1,r=Zy(null,r,u,i,a)):(r.tag=0,r=tf(null,r,u,i,a));else{if(u!=null){if(h=u.$$typeof,h===L){r.tag=11,r=Qy(null,r,u,i,a);break t}else if(h===Y){r.tag=14,r=Ky(null,r,u,i,a);break t}}throw r=mn(u)||u,Error(s(306,r,""))}}return r;case 0:return tf(i,r,r.type,r.pendingProps,a);case 1:return u=r.type,h=wr(u,r.pendingProps),Zy(i,r,u,h,a);case 3:t:{if(gl(r,r.stateNode.containerInfo),i===null)throw Error(s(387));var f=r.pendingProps;h=r.memoizedState,u=h.element,mf(i,r),za(r,f,null,a);var p=r.memoizedState;if(f=p.cache,wi(r,re,f),f!==h.cache&&ff(r,[re],a,!0),ja(),f=p.element,h.isDehydrated)if(h={element:f,isDehydrated:!1,cache:p.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=Jy(i,r,f,a);break t}else if(f!==u){u=nn(Error(s(424)),r),ba(u),r=Jy(i,r,f,a);break t}else for(me=_n(r.stateNode.containerInfo.firstChild),xe=r,wt=!0,pn=null,Rn=!0,a=$p(r,null,f,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ra(),f===u){r=Kn(i,r,a);break t}ge(i,r,f,a)}r=r.child}return r;case 26:return Ua(i,r),i===null?(a=av(r.type,null,r.pendingProps,null))?r.memoizedState=a:wt||(a=r.type,i=r.pendingProps,u=gu(gi.current).createElement(a),u[Se]=r,u[ke]=i,pe(u,a,i),ae(u),r.stateNode=u):r.memoizedState=av(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Zc(r),i===null&&wt&&(u=r.stateNode=iv(r.type,r.pendingProps,gi.current),xe=r,Rn=!0,me=_n(u.firstChild)),u=r.pendingProps.children,i!==null||wt?ge(i,r,u,a):r.child=vr(r,null,u,a),Ua(i,r),r.child;case 5:return i===null&&wt&&((h=u=me)&&(u=HR(u,r.type,r.pendingProps,Rn),u!==null?(r.stateNode=u,xe=r,me=_n(u.firstChild),Rn=!1,h=!0):h=!1),h||_r(r)),Zc(r),h=r.type,f=r.pendingProps,p=i!==null?i.memoizedProps:null,u=f.children,Xf(h,f)?u=null:p!==null&&Xf(h,p)&&(r.flags|=32),r.memoizedState!==null&&(h=Uh(i,r,aR,null,null,a),eo._currentValue=h),Ua(i,r),ge(i,r,u,a),r.child;case 6:return i===null&&wt&&((i=a=me)&&(a=FR(a,r.pendingProps,Rn),a!==null?(r.stateNode=a,xe=r,me=null,i=!0):i=!1),i||_r(r)),null;case 13:return t_(i,r,a);case 4:return gl(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=vr(r,null,u,a):ge(i,r,u,a),r.child;case 11:return Qy(i,r,r.type,r.pendingProps,a);case 7:return ge(i,r,r.pendingProps,a),r.child;case 8:return ge(i,r,r.pendingProps.children,a),r.child;case 12:return ge(i,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,wi(r,r.type,u.value),ge(i,r,u.children,a),r.child;case 9:return h=r.type._context,u=r.pendingProps.children,br(r),h=we(h),u=u(h),r.flags|=1,ge(i,r,u,a),r.child;case 14:return Ky(i,r,r.type,r.pendingProps,a);case 15:return Yy(i,r,r.type,r.pendingProps,a);case 19:return n_(i,r,a);case 22:return Xy(i,r,a);case 24:return br(r),u=we(re),i===null?(h=Vh(),h===null&&(h=Vt,f=Mh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),r.memoizedState={parent:u,cache:h},df(r),wi(r,re,h)):((i.lanes&a)!==0&&(mf(i,r),za(r,null,null,a),ja()),h=i.memoizedState,f=r.memoizedState,h.parent!==u?(h={parent:u,cache:u},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),wi(r,re,u)):(u=f.cache,wi(r,re,u),u!==h.cache&&ff(r,[re],a,!0))),ge(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var cf=Ct(null),Rr=null,Yn=null;function wi(i,r,a){zt(cf,r._currentValue),r._currentValue=a}function Xn(i){i._currentValue=cf.current,$t(cf)}function hf(i,r,a){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===a)break;i=i.return}}function ff(i,r,a,u){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var _=f;f=h;for(var E=0;E<r.length;E++)if(_.context===r[E]){f.lanes|=a,_=f.alternate,_!==null&&(_.lanes|=a),hf(f.return,a,i),u||(p=null);break t}f=_.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(s(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),hf(p,a,i),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===i){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function La(i,r,a,u){i=null;for(var h=r,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var _=h.type;Ge(h.pendingProps.value,p.value)||(i!==null?i.push(_):i=[_])}}else if(h===ml.current){if(p=h.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(eo):i=[eo])}h=h.return}i!==null&&ff(r,i,a,u),r.flags|=262144}function Jl(i){for(i=i.firstContext;i!==null;){if(!Ge(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function br(i){Rr=i,Yn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function we(i){return r_(Rr,i)}function tu(i,r){return Rr===null&&br(i),r_(i,r)}function r_(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Yn===null){if(i===null)throw Error(s(308));Yn=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Yn=Yn.next=r;return a}var Ri=!1;function df(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function bi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ii(i,r,a){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(qt&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,r=Vl(i),jp(i,null,a),r}return xl(i,u,r,a),Vl(i)}function ka(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,Kg(i,a)}}function gf(i,r){var a=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=r:f=f.next=r}else h=f=r;a={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:u.shared,callbacks:u.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var pf=!1;function ja(){if(pf){var i=gs;if(i!==null)throw i}}function za(i,r,a,u){pf=!1;var h=i.updateQueue;Ri=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,_=h.shared.pending;if(_!==null){h.shared.pending=null;var E=_,R=E.next;E.next=null,p===null?f=R:p.next=R,p=E;var M=i.alternate;M!==null&&(M=M.updateQueue,_=M.lastBaseUpdate,_!==p&&(_===null?M.firstBaseUpdate=R:_.next=R,M.lastBaseUpdate=E))}if(f!==null){var U=h.baseState;p=0,M=R=E=null,_=f;do{var D=_.lane&-536870913,N=D!==_.lane;if(N?(At&D)===D:(u&D)===D){D!==0&&D===ms&&(pf=!0),M!==null&&(M=M.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});t:{var K=i,lt=_;D=r;var Qt=a;switch(lt.tag){case 1:if(K=lt.payload,typeof K=="function"){U=K.call(Qt,U,D);break t}U=K;break t;case 3:K.flags=K.flags&-65537|128;case 0:if(K=lt.payload,D=typeof K=="function"?K.call(Qt,U,D):K,D==null)break t;U=yt({},U,D);break t;case 2:Ri=!0}}D=_.callback,D!==null&&(i.flags|=64,N&&(i.flags|=8192),N=h.callbacks,N===null?h.callbacks=[D]:N.push(D))}else N={lane:D,tag:_.tag,payload:_.payload,callback:_.callback,next:null},M===null?(R=M=N,E=U):M=M.next=N,p|=D;if(_=_.next,_===null){if(_=h.shared.pending,_===null)break;N=_,_=N.next,N.next=null,h.lastBaseUpdate=N,h.shared.pending=null}}while(!0);M===null&&(E=U),h.baseState=E,h.firstBaseUpdate=R,h.lastBaseUpdate=M,f===null&&(h.shared.lanes=0),Mi|=p,i.lanes=p,i.memoizedState=U}}function s_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function a_(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)s_(a[i],r)}function Ba(i,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var h=u.next;a=h;do{if((a.tag&i)===i){u=void 0;var f=a.create,p=a.inst;u=f(),p.destroy=u}a=a.next}while(a!==h)}}catch(_){Mt(r,r.return,_)}}function Ci(i,r,a){try{var u=r.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var f=h.next;u=f;do{if((u.tag&i)===i){var p=u.inst,_=p.destroy;if(_!==void 0){p.destroy=void 0,h=r;var E=a;try{_()}catch(R){Mt(h,E,R)}}}u=u.next}while(u!==f)}}catch(R){Mt(r,r.return,R)}}function o_(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{a_(r,a)}catch(u){Mt(i,i.return,u)}}}function l_(i,r,a){a.props=wr(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(u){Mt(i,r,u)}}function Ir(i,r){try{var a=i.ref;if(a!==null){var u=i.stateNode;switch(i.tag){case 26:case 27:case 5:var h=u;break;default:h=u}typeof a=="function"?i.refCleanup=a(h):a.current=h}}catch(f){Mt(i,r,f)}}function Qe(i,r){var a=i.ref,u=i.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(h){Mt(i,r,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Mt(i,r,h)}else a.current=null}function u_(i){var r=i.type,a=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(h){Mt(i,i.return,h)}}function c_(i,r,a){try{var u=i.stateNode;kR(u,i.type,a,r),u[ke]=r}catch(h){Mt(i,i.return,h)}}function h_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function yf(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||h_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function _f(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(i,r):a.insertBefore(i,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(i,a)):(r=a,r.appendChild(i)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=mu));else if(u!==4&&u!==27&&(i=i.child,i!==null))for(_f(i,r,a),i=i.sibling;i!==null;)_f(i,r,a),i=i.sibling}function eu(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(u!==4&&u!==27&&(i=i.child,i!==null))for(eu(i,r,a),i=i.sibling;i!==null;)eu(i,r,a),i=i.sibling}var $n=!1,Ft=!1,vf=!1,f_=typeof WeakSet=="function"?WeakSet:Set,le=null,d_=!1;function mR(i,r){if(i=i.containerInfo,Kf=Tu,i=Np(i),Eh(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var h=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,_=-1,E=-1,R=0,M=0,U=i,D=null;e:for(;;){for(var N;U!==a||h!==0&&U.nodeType!==3||(_=p+h),U!==f||u!==0&&U.nodeType!==3||(E=p+u),U.nodeType===3&&(p+=U.nodeValue.length),(N=U.firstChild)!==null;)D=U,U=N;for(;;){if(U===i)break e;if(D===a&&++R===h&&(_=p),D===f&&++M===u&&(E=p),(N=U.nextSibling)!==null)break;U=D,D=U.parentNode}U=N}a=_===-1||E===-1?null:{start:_,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yf={focusedElem:i,selectionRange:a},Tu=!1,le=r;le!==null;)if(r=le,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,le=i;else for(;le!==null;){switch(r=le,f=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&f!==null){i=void 0,a=r,h=f.memoizedProps,f=f.memoizedState,u=a.stateNode;try{var K=wr(a.type,h,a.elementType===a.type);i=u.getSnapshotBeforeUpdate(K,f),u.__reactInternalSnapshotBeforeUpdate=i}catch(lt){Mt(a,a.return,lt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)Zf(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Zf(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,le=i;break}le=r.return}return K=d_,d_=!1,K}function m_(i,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Zn(i,a),u&4&&Ba(5,a);break;case 1:if(Zn(i,a),u&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(_){Mt(a,a.return,_)}else{var h=wr(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(h,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){Mt(a,a.return,_)}}u&64&&o_(a),u&512&&Ir(a,a.return);break;case 3:if(Zn(i,a),u&64&&(u=a.updateQueue,u!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{a_(u,i)}catch(_){Mt(a,a.return,_)}}break;case 26:Zn(i,a),u&512&&Ir(a,a.return);break;case 27:case 5:Zn(i,a),r===null&&u&4&&u_(a),u&512&&Ir(a,a.return);break;case 12:Zn(i,a);break;case 13:Zn(i,a),u&4&&y_(i,a);break;case 22:if(h=a.memoizedState!==null||$n,!h){r=r!==null&&r.memoizedState!==null||Ft;var f=$n,p=Ft;$n=h,(Ft=r)&&!p?Di(i,a,(a.subtreeFlags&8772)!==0):Zn(i,a),$n=f,Ft=p}u&512&&(a.memoizedProps.mode==="manual"?Ir(a,a.return):Qe(a,a.return));break;default:Zn(i,a)}}function g_(i){var r=i.alternate;r!==null&&(i.alternate=null,g_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&rh(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Jt=null,Ke=!1;function Wn(i,r,a){for(a=a.child;a!==null;)p_(i,r,a),a=a.sibling}function p_(i,r,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(ca,a)}catch{}switch(a.tag){case 26:Ft||Qe(a,r),Wn(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ft||Qe(a,r);var u=Jt,h=Ke;for(Jt=a.stateNode,Wn(i,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);rh(a),Jt=u,Ke=h;break;case 5:Ft||Qe(a,r);case 6:h=Jt;var f=Ke;if(Jt=null,Wn(i,r,a),Jt=h,Ke=f,Jt!==null)if(Ke)try{i=Jt,u=a.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)}catch(p){Mt(a,r,p)}else try{Jt.removeChild(a.stateNode)}catch(p){Mt(a,r,p)}break;case 18:Jt!==null&&(Ke?(r=Jt,a=a.stateNode,r.nodeType===8?Wf(r.parentNode,a):r.nodeType===1&&Wf(r,a),so(r)):Wf(Jt,a.stateNode));break;case 4:u=Jt,h=Ke,Jt=a.stateNode.containerInfo,Ke=!0,Wn(i,r,a),Jt=u,Ke=h;break;case 0:case 11:case 14:case 15:Ft||Ci(2,a,r),Ft||Ci(4,a,r),Wn(i,r,a);break;case 1:Ft||(Qe(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&l_(a,r,u)),Wn(i,r,a);break;case 21:Wn(i,r,a);break;case 22:Ft||Qe(a,r),Ft=(u=Ft)||a.memoizedState!==null,Wn(i,r,a),Ft=u;break;default:Wn(i,r,a)}}function y_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{so(i)}catch(a){Mt(r,r.return,a)}}function gR(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new f_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new f_),r;default:throw Error(s(435,i.tag))}}function Ef(i,r){var a=gR(i);r.forEach(function(u){var h=CR.bind(null,i,u);a.has(u)||(a.add(u),u.then(h,h))})}function on(i,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var h=a[u],f=i,p=r,_=p;t:for(;_!==null;){switch(_.tag){case 27:case 5:Jt=_.stateNode,Ke=!1;break t;case 3:Jt=_.stateNode.containerInfo,Ke=!0;break t;case 4:Jt=_.stateNode.containerInfo,Ke=!0;break t}_=_.return}if(Jt===null)throw Error(s(160));p_(f,p,h),Jt=null,Ke=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)__(r,i),r=r.sibling}var yn=null;function __(i,r){var a=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:on(r,i),ln(i),u&4&&(Ci(3,i,i.return),Ba(3,i),Ci(5,i,i.return));break;case 1:on(r,i),ln(i),u&512&&(Ft||a===null||Qe(a,a.return)),u&64&&$n&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var h=yn;if(on(r,i),ln(i),u&512&&(Ft||a===null||Qe(a,a.return)),u&4){var f=a!==null?a.memoizedState:null;if(u=i.memoizedState,a===null)if(u===null)if(i.stateNode===null){t:{u=i.type,a=i.memoizedProps,h=h.ownerDocument||h;e:switch(u){case"title":f=h.getElementsByTagName("title")[0],(!f||f[da]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(u),h.head.insertBefore(f,h.querySelector("head > title"))),pe(f,u,a),f[Se]=i,ae(f),u=f;break t;case"link":var p=uv("link","href",h).get(u+(a.href||""));if(p){for(var _=0;_<p.length;_++)if(f=p[_],f.getAttribute("href")===(a.href==null?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(_,1);break e}}f=h.createElement(u),pe(f,u,a),h.head.appendChild(f);break;case"meta":if(p=uv("meta","content",h).get(u+(a.content||""))){for(_=0;_<p.length;_++)if(f=p[_],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(_,1);break e}}f=h.createElement(u),pe(f,u,a),h.head.appendChild(f);break;default:throw Error(s(468,u))}f[Se]=i,ae(f),u=f}i.stateNode=u}else cv(h,i.type,i.stateNode);else i.stateNode=lv(h,u,i.memoizedProps);else f!==u?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,u===null?cv(h,i.type,i.stateNode):lv(h,u,i.memoizedProps)):u===null&&i.stateNode!==null&&c_(i,i.memoizedProps,a.memoizedProps)}break;case 27:if(u&4&&i.alternate===null){h=i.stateNode,f=i.memoizedProps;try{for(var E=h.firstChild;E;){var R=E.nextSibling,M=E.nodeName;E[da]||M==="HEAD"||M==="BODY"||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&E.rel.toLowerCase()==="stylesheet"||h.removeChild(E),E=R}for(var U=i.type,D=h.attributes;D.length;)h.removeAttributeNode(D[0]);pe(h,U,f),h[Se]=i,h[ke]=f}catch(K){Mt(i,i.return,K)}}case 5:if(on(r,i),ln(i),u&512&&(Ft||a===null||Qe(a,a.return)),i.flags&32){h=i.stateNode;try{ns(h,"")}catch(K){Mt(i,i.return,K)}}u&4&&i.stateNode!=null&&(h=i.memoizedProps,c_(i,h,a!==null?a.memoizedProps:h)),u&1024&&(vf=!0);break;case 6:if(on(r,i),ln(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,a=i.stateNode;try{a.nodeValue=u}catch(K){Mt(i,i.return,K)}}break;case 3:if(_u=null,h=yn,yn=pu(r.containerInfo),on(r,i),yn=h,ln(i),u&4&&a!==null&&a.memoizedState.isDehydrated)try{so(r.containerInfo)}catch(K){Mt(i,i.return,K)}vf&&(vf=!1,v_(i));break;case 4:u=yn,yn=pu(i.stateNode.containerInfo),on(r,i),ln(i),yn=u;break;case 12:on(r,i),ln(i);break;case 13:on(r,i),ln(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Df=wn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Ef(i,u)));break;case 22:if(u&512&&(Ft||a===null||Qe(a,a.return)),E=i.memoizedState!==null,R=a!==null&&a.memoizedState!==null,M=$n,U=Ft,$n=M||E,Ft=U||R,on(r,i),Ft=U,$n=M,ln(i),r=i.stateNode,r._current=i,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,u&8192&&(r._visibility=E?r._visibility&-2:r._visibility|1,E&&(r=$n||Ft,a===null||R||r||vs(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))t:for(a=null,r=i;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){R=a=r;try{if(h=R.stateNode,E)f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{p=R.stateNode,_=R.memoizedProps.style;var N=_!=null&&_.hasOwnProperty("display")?_.display:null;p.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(K){Mt(R,R.return,K)}}}else if(r.tag===6){if(a===null){R=r;try{R.stateNode.nodeValue=E?"":R.memoizedProps}catch(K){Mt(R,R.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Ef(i,a))));break;case 19:on(r,i),ln(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Ef(i,u)));break;case 21:break;default:on(r,i),ln(i)}}function ln(i){var r=i.flags;if(r&2){try{if(i.tag!==27){t:{for(var a=i.return;a!==null;){if(h_(a)){var u=a;break t}a=a.return}throw Error(s(160))}switch(u.tag){case 27:var h=u.stateNode,f=yf(i);eu(i,f,h);break;case 5:var p=u.stateNode;u.flags&32&&(ns(p,""),u.flags&=-33);var _=yf(i);eu(i,_,p);break;case 3:case 4:var E=u.stateNode.containerInfo,R=yf(i);_f(i,R,E);break;default:throw Error(s(161))}}}catch(M){Mt(i,i.return,M)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function v_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;v_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Zn(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)m_(i,r.alternate,r),r=r.sibling}function vs(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ci(4,r,r.return),vs(r);break;case 1:Qe(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&l_(r,r.return,a),vs(r);break;case 26:case 27:case 5:Qe(r,r.return),vs(r);break;case 22:Qe(r,r.return),r.memoizedState===null&&vs(r);break;default:vs(r)}i=i.sibling}}function Di(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,h=i,f=r,p=f.flags;switch(f.tag){case 0:case 11:case 15:Di(h,f,a),Ba(4,f);break;case 1:if(Di(h,f,a),u=f,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(R){Mt(u,u.return,R)}if(u=f,h=u.updateQueue,h!==null){var _=u.stateNode;try{var E=h.shared.hiddenCallbacks;if(E!==null)for(h.shared.hiddenCallbacks=null,h=0;h<E.length;h++)s_(E[h],_)}catch(R){Mt(u,u.return,R)}}a&&p&64&&o_(f),Ir(f,f.return);break;case 26:case 27:case 5:Di(h,f,a),a&&u===null&&p&4&&u_(f),Ir(f,f.return);break;case 12:Di(h,f,a);break;case 13:Di(h,f,a),a&&p&4&&y_(h,f);break;case 22:f.memoizedState===null&&Di(h,f,a),Ir(f,f.return);break;default:Di(h,f,a)}r=r.sibling}}function Tf(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Oa(a))}function Af(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Oa(i))}function Ni(i,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)E_(i,r,a,u),r=r.sibling}function E_(i,r,a,u){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ni(i,r,a,u),h&2048&&Ba(9,r);break;case 3:Ni(i,r,a,u),h&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Oa(i)));break;case 12:if(h&2048){Ni(i,r,a,u),i=r.stateNode;try{var f=r.memoizedProps,p=f.id,_=f.onPostCommit;typeof _=="function"&&_(p,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(E){Mt(r,r.return,E)}}else Ni(i,r,a,u);break;case 23:break;case 22:f=r.stateNode,r.memoizedState!==null?f._visibility&4?Ni(i,r,a,u):qa(i,r):f._visibility&4?Ni(i,r,a,u):(f._visibility|=4,Es(i,r,a,u,(r.subtreeFlags&10256)!==0)),h&2048&&Tf(r.alternate,r);break;case 24:Ni(i,r,a,u),h&2048&&Af(r.alternate,r);break;default:Ni(i,r,a,u)}}function Es(i,r,a,u,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var f=i,p=r,_=a,E=u,R=p.flags;switch(p.tag){case 0:case 11:case 15:Es(f,p,_,E,h),Ba(8,p);break;case 23:break;case 22:var M=p.stateNode;p.memoizedState!==null?M._visibility&4?Es(f,p,_,E,h):qa(f,p):(M._visibility|=4,Es(f,p,_,E,h)),h&&R&2048&&Tf(p.alternate,p);break;case 24:Es(f,p,_,E,h),h&&R&2048&&Af(p.alternate,p);break;default:Es(f,p,_,E,h)}r=r.sibling}}function qa(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,u=r,h=u.flags;switch(u.tag){case 22:qa(a,u),h&2048&&Tf(u.alternate,u);break;case 24:qa(a,u),h&2048&&Af(u.alternate,u);break;default:qa(a,u)}r=r.sibling}}var Ha=8192;function Ts(i){if(i.subtreeFlags&Ha)for(i=i.child;i!==null;)T_(i),i=i.sibling}function T_(i){switch(i.tag){case 26:Ts(i),i.flags&Ha&&i.memoizedState!==null&&ib(yn,i.memoizedState,i.memoizedProps);break;case 5:Ts(i);break;case 3:case 4:var r=yn;yn=pu(i.stateNode.containerInfo),Ts(i),yn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Ha,Ha=16777216,Ts(i),Ha=r):Ts(i));break;default:Ts(i)}}function A_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Fa(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];le=u,w_(u,i)}A_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)S_(i),i=i.sibling}function S_(i){switch(i.tag){case 0:case 11:case 15:Fa(i),i.flags&2048&&Ci(9,i,i.return);break;case 3:Fa(i);break;case 12:Fa(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&4&&(i.return===null||i.return.tag!==13)?(r._visibility&=-5,nu(i)):Fa(i);break;default:Fa(i)}}function nu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];le=u,w_(u,i)}A_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ci(8,r,r.return),nu(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,nu(r));break;default:nu(r)}i=i.sibling}}function w_(i,r){for(;le!==null;){var a=le;switch(a.tag){case 0:case 11:case 15:Ci(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Oa(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,le=u;else t:for(a=i;le!==null;){u=le;var h=u.sibling,f=u.return;if(g_(u),u===a){le=null;break t}if(h!==null){h.return=f,le=h;break t}le=f}}}function pR(i,r,a,u){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(i,r,a,u){return new pR(i,r,a,u)}function Sf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Oi(i,r){var a=i.alternate;return a===null?(a=un(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&31457280,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function R_(i,r){i.flags&=31457282;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function iu(i,r,a,u,h,f){var p=0;if(u=i,typeof i=="function")Sf(i)&&(p=1);else if(typeof i=="string")p=eb(i,a,Sn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case d:return Cr(a.children,h,f,r);case g:p=8,h|=24;break;case y:return i=un(12,a,r,h|2),i.elementType=y,i.lanes=f,i;case j:return i=un(13,a,r,h),i.elementType=j,i.lanes=f,i;case O:return i=un(19,a,r,h),i.elementType=O,i.lanes=f,i;case nt:return b_(a,h,f,r);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case v:case I:p=10;break t;case T:p=9;break t;case L:p=11;break t;case Y:p=14;break t;case J:p=16,u=null;break t}p=29,a=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=un(p,a,r,h),r.elementType=i,r.type=u,r.lanes=f,r}function Cr(i,r,a,u){return i=un(7,i,u,r),i.lanes=a,i}function b_(i,r,a,u){i=un(22,i,u,r),i.elementType=nt,i.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var p=vi(f,2);p!==null&&(h._pendingVisibility|=2,Ve(p,f,2))}},attach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var p=vi(f,2);p!==null&&(h._pendingVisibility&=-3,Ve(p,f,2))}}};return i.stateNode=h,i}function wf(i,r,a){return i=un(6,i,null,r),i.lanes=a,i}function Rf(i,r,a){return r=un(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}function Jn(i){i.flags|=4}function I_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!hv(r)){if(r=an.current,r!==null&&((At&4194176)===At?bn!==null:(At&62914560)!==At&&(At&536870912)===0||r!==bn))throw Ca=Dh,Fp;i.flags|=8192}}function ru(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Gg():536870912,i.lanes|=r,Ss|=r)}function Ga(i,r){if(!wt)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Bt(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,u=0;if(r)for(var h=i.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags&31457280,u|=h.flags&31457280,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=u,i.childLanes=a,r}function yR(i,r,a){var u=r.pendingProps;switch(Ih(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(r),null;case 1:return Bt(r),null;case 3:return a=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Xn(re),$r(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(wa(r)?Jn(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,pn!==null&&(xf(pn),pn=null))),Bt(r),null;case 26:return a=r.memoizedState,i===null?(Jn(r),a!==null?(Bt(r),I_(r,a)):(Bt(r),r.flags&=-16777217)):a?a!==i.memoizedState?(Jn(r),Bt(r),I_(r,a)):(Bt(r),r.flags&=-16777217):(i.memoizedProps!==u&&Jn(r),Bt(r),r.flags&=-16777217),null;case 27:pl(r),a=gi.current;var h=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Jn(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Bt(r),null}i=Sn.current,wa(r)?qp(r):(i=iv(h,u,a),r.stateNode=i,Jn(r))}return Bt(r),null;case 5:if(pl(r),a=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Jn(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Bt(r),null}if(i=Sn.current,wa(r))qp(r);else{switch(h=gu(gi.current),i){case 1:i=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?h.createElement(a,{is:u.is}):h.createElement(a)}}i[Se]=r,i[ke]=u;t:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break t;for(;h.sibling===null;){if(h.return===null||h.return===r)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=i;t:switch(pe(i,a,u),a){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Jn(r)}}return Bt(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&Jn(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=gi.current,wa(r)){if(i=r.stateNode,a=r.memoizedProps,u=null,h=xe,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}i[Se]=r,i=!!(i.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||W_(i.nodeValue,a)),i||_r(r)}else i=gu(i).createTextNode(u),i[Se]=r,r.stateNode=i}return Bt(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=wa(r),u!==null&&u.dehydrated!==null){if(i===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Se]=r}else Ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Bt(r),h=!1}else pn!==null&&(xf(pn),pn=null),h=!0;if(!h)return r.flags&256?(Gn(r),r):(Gn(r),null)}if(Gn(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=u!==null,i=i!==null&&i.memoizedState!==null,a){u=r.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var f=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(f=u.memoizedState.cachePool.pool),f!==h&&(u.flags|=2048)}return a!==i&&a&&(r.child.flags|=8192),ru(r,r.updateQueue),Bt(r),null;case 4:return $r(),i===null&&Ff(r.stateNode.containerInfo),Bt(r),null;case 10:return Xn(r.type),Bt(r),null;case 19:if($t(ie),h=r.memoizedState,h===null)return Bt(r),null;if(u=(r.flags&128)!==0,f=h.rendering,f===null)if(u)Ga(h,!1);else{if(Gt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(f=Bl(i),f!==null){for(r.flags|=128,Ga(h,!1),i=f.updateQueue,r.updateQueue=i,ru(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)R_(a,i),a=a.sibling;return zt(ie,ie.current&1|2),r.child}i=i.sibling}h.tail!==null&&wn()>su&&(r.flags|=128,u=!0,Ga(h,!1),r.lanes=4194304)}else{if(!u)if(i=Bl(f),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,ru(r,i),Ga(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!wt)return Bt(r),null}else 2*wn()-h.renderingStartTime>su&&a!==536870912&&(r.flags|=128,u=!0,Ga(h,!1),r.lanes=4194304);h.isBackwards?(f.sibling=r.child,r.child=f):(i=h.last,i!==null?i.sibling=f:r.child=f,h.last=f)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=wn(),r.sibling=null,i=ie.current,zt(ie,u?i&1|2:i&1),r):(Bt(r),null);case 22:case 23:return Gn(r),Oh(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(Bt(r),r.subtreeFlags&6&&(r.flags|=8192)):Bt(r),a=r.updateQueue,a!==null&&ru(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),i!==null&&$t(Er),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Xn(re),Bt(r),null;case 25:return null}throw Error(s(156,r.tag))}function _R(i,r){switch(Ih(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Xn(re),$r(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return pl(r),null;case 13:if(Gn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ra()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return $t(ie),null;case 4:return $r(),null;case 10:return Xn(r.type),null;case 22:case 23:return Gn(r),Oh(),i!==null&&$t(Er),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Xn(re),null;case 25:return null;default:return null}}function C_(i,r){switch(Ih(r),r.tag){case 3:Xn(re),$r();break;case 26:case 27:case 5:pl(r);break;case 4:$r();break;case 13:Gn(r);break;case 19:$t(ie);break;case 10:Xn(r.type);break;case 22:case 23:Gn(r),Oh(),i!==null&&$t(Er);break;case 24:Xn(re)}}var vR={getCacheForType:function(i){var r=we(re),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a}},ER=typeof WeakMap=="function"?WeakMap:Map,qt=0,Vt=null,pt=null,At=0,Pt=0,Ye=null,ti=!1,As=!1,bf=!1,ei=0,Gt=0,Mi=0,Dr=0,If=0,cn=0,Ss=0,Qa=null,Cn=null,Cf=!1,Df=0,su=1/0,au=null,xi=null,ou=!1,Nr=null,Ka=0,Nf=0,Of=null,Ya=0,Mf=null;function Xe(){if((qt&2)!==0&&At!==0)return At&-At;if($.T!==null){var i=ms;return i!==0?i:zf()}return Xg()}function D_(){cn===0&&(cn=(At&536870912)===0||wt?Fg():536870912);var i=an.current;return i!==null&&(i.flags|=32),cn}function Ve(i,r,a){(i===Vt&&Pt===2||i.cancelPendingCommit!==null)&&(ws(i,0),ni(i,At,cn,!1)),fa(i,a),((qt&2)===0||i!==Vt)&&(i===Vt&&((qt&2)===0&&(Dr|=a),Gt===4&&ni(i,At,cn,!1)),Dn(i))}function N_(i,r,a){if((qt&6)!==0)throw Error(s(327));var u=!a&&(r&60)===0&&(r&i.expiredLanes)===0||ha(i,r),h=u?SR(i,r):Uf(i,r,!0),f=u;do{if(h===0){As&&!u&&ni(i,r,0,!1);break}else if(h===6)ni(i,r,0,!ti);else{if(a=i.current.alternate,f&&!TR(a)){h=Uf(i,r,!1),f=!1;continue}if(h===2){if(f=r,i.errorRecoveryDisabledLanes&f)var p=0;else p=i.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){r=p;t:{var _=i;h=Qa;var E=_.current.memoizedState.isDehydrated;if(E&&(ws(_,p).flags|=256),p=Uf(_,p,!1),p!==2){if(bf&&!E){_.errorRecoveryDisabledLanes|=f,Dr|=f,h=4;break t}f=Cn,Cn=h,f!==null&&xf(f)}h=p}if(f=!1,h!==2)continue}}if(h===1){ws(i,0),ni(i,r,0,!0);break}t:{switch(u=i,h){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){ni(u,r,cn,!ti);break t}break;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=a,u.finishedLanes=r,(r&62914560)===r&&(f=Df+300-wn(),10<f)){if(ni(u,r,cn,!ti),El(u,0)!==0)break t;u.timeoutHandle=tv(O_.bind(null,u,a,Cn,au,Cf,r,cn,Dr,Ss,ti,2,-0,0),f);break t}O_(u,a,Cn,au,Cf,r,cn,Dr,Ss,ti,0,-0,0)}}break}while(!0);Dn(i)}function xf(i){Cn===null?Cn=i:Cn.push.apply(Cn,i)}function O_(i,r,a,u,h,f,p,_,E,R,M,U,D){var N=r.subtreeFlags;if((N&8192||(N&16785408)===16785408)&&(to={stylesheets:null,count:0,unsuspend:nb},T_(r),r=rb(),r!==null)){i.cancelPendingCommit=r(k_.bind(null,i,a,u,h,p,_,E,1,U,D)),ni(i,f,p,!R);return}k_(i,a,u,h,p,_,E,M,U,D)}function TR(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var h=a[u],f=h.getSnapshot;h=h.value;try{if(!Ge(f(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ni(i,r,a,u){r&=~If,r&=~Dr,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var h=r;0<h;){var f=31-Fe(h),p=1<<f;u[f]=-1,h&=~p}a!==0&&Qg(i,a,r)}function lu(){return(qt&6)===0?(Xa(0),!1):!0}function Vf(){if(pt!==null){if(Pt===0)var i=pt.return;else i=pt,Yn=Rr=null,jh(i),fs=null,Da=0,i=pt;for(;i!==null;)C_(i.alternate,i),i=i.return;pt=null}}function ws(i,r){i.finishedWork=null,i.finishedLanes=0;var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,zR(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Vf(),Vt=i,pt=a=Oi(i.current,null),At=r,Pt=0,Ye=null,ti=!1,As=ha(i,r),bf=!1,Ss=cn=If=Dr=Mi=Gt=0,Cn=Qa=null,Cf=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var h=31-Fe(u),f=1<<h;r|=i[h],u&=~f}return ei=r,Ml(),a}function M_(i,r){mt=null,$.H=In,r===Ia?(r=Kp(),Pt=3):r===Fp?(r=Kp(),Pt=4):Pt=r===Gy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ye=r,pt===null&&(Gt=1,Zl(i,nn(r,i.current)))}function x_(){var i=$.H;return $.H=In,i===null?In:i}function V_(){var i=$.A;return $.A=vR,i}function Pf(){Gt=4,ti||(At&4194176)!==At&&an.current!==null||(As=!0),(Mi&134217727)===0&&(Dr&134217727)===0||Vt===null||ni(Vt,At,cn,!1)}function Uf(i,r,a){var u=qt;qt|=2;var h=x_(),f=V_();(Vt!==i||At!==r)&&(au=null,ws(i,r)),r=!1;var p=Gt;t:do try{if(Pt!==0&&pt!==null){var _=pt,E=Ye;switch(Pt){case 8:Vf(),p=6;break t;case 3:case 2:case 6:an.current===null&&(r=!0);var R=Pt;if(Pt=0,Ye=null,Rs(i,_,E,R),a&&As){p=0;break t}break;default:R=Pt,Pt=0,Ye=null,Rs(i,_,E,R)}}AR(),p=Gt;break}catch(M){M_(i,M)}while(!0);return r&&i.shellSuspendCounter++,Yn=Rr=null,qt=u,$.H=h,$.A=f,pt===null&&(Vt=null,At=0,Ml()),p}function AR(){for(;pt!==null;)P_(pt)}function SR(i,r){var a=qt;qt|=2;var u=x_(),h=V_();Vt!==i||At!==r?(au=null,su=wn()+500,ws(i,r)):As=ha(i,r);t:do try{if(Pt!==0&&pt!==null){r=pt;var f=Ye;e:switch(Pt){case 1:Pt=0,Ye=null,Rs(i,r,f,1);break;case 2:if(Gp(f)){Pt=0,Ye=null,U_(r);break}r=function(){Pt===2&&Vt===i&&(Pt=7),Dn(i)},f.then(r,r);break t;case 3:Pt=7;break t;case 4:Pt=5;break t;case 7:Gp(f)?(Pt=0,Ye=null,U_(r)):(Pt=0,Ye=null,Rs(i,r,f,7));break;case 5:var p=null;switch(pt.tag){case 26:p=pt.memoizedState;case 5:case 27:var _=pt;if(!p||hv(p)){Pt=0,Ye=null;var E=_.sibling;if(E!==null)pt=E;else{var R=_.return;R!==null?(pt=R,uu(R)):pt=null}break e}}Pt=0,Ye=null,Rs(i,r,f,5);break;case 6:Pt=0,Ye=null,Rs(i,r,f,6);break;case 8:Vf(),Gt=6;break t;default:throw Error(s(462))}}wR();break}catch(M){M_(i,M)}while(!0);return Yn=Rr=null,$.H=u,$.A=h,qt=a,pt!==null?0:(Vt=null,At=0,Ml(),Gt)}function wR(){for(;pt!==null&&!QS();)P_(pt)}function P_(i){var r=i_(i.alternate,i,ei);i.memoizedProps=i.pendingProps,r===null?uu(i):pt=r}function U_(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=Wy(a,r,r.pendingProps,r.type,void 0,At);break;case 11:r=Wy(a,r,r.pendingProps,r.type.render,r.ref,At);break;case 5:jh(r);default:C_(a,r),r=pt=R_(r,ei),r=i_(a,r,ei)}i.memoizedProps=i.pendingProps,r===null?uu(i):pt=r}function Rs(i,r,a,u){Yn=Rr=null,jh(r),fs=null,Da=0;var h=r.return;try{if(fR(i,h,r,a,At)){Gt=1,Zl(i,nn(a,i.current)),pt=null;return}}catch(f){if(h!==null)throw pt=h,f;Gt=1,Zl(i,nn(a,i.current)),pt=null;return}r.flags&32768?(wt||u===1?i=!0:As||(At&536870912)!==0?i=!1:(ti=i=!0,(u===2||u===3||u===6)&&(u=an.current,u!==null&&u.tag===13&&(u.flags|=16384))),L_(r,i)):uu(r)}function uu(i){var r=i;do{if((r.flags&32768)!==0){L_(r,ti);return}i=r.return;var a=yR(r.alternate,r,ei);if(a!==null){pt=a;return}if(r=r.sibling,r!==null){pt=r;return}pt=r=i}while(r!==null);Gt===0&&(Gt=5)}function L_(i,r){do{var a=_R(i.alternate,i);if(a!==null){a.flags&=32767,pt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){pt=i;return}pt=i=a}while(i!==null);Gt=6,pt=null}function k_(i,r,a,u,h,f,p,_,E,R){var M=$.T,U=F.p;try{F.p=2,$.T=null,RR(i,r,a,u,U,h,f,p,_,E,R)}finally{$.T=M,F.p=U}}function RR(i,r,a,u,h,f,p,_){do bs();while(Nr!==null);if((qt&6)!==0)throw Error(s(327));var E=i.finishedWork;if(u=i.finishedLanes,E===null)return null;if(i.finishedWork=null,i.finishedLanes=0,E===i.current)throw Error(s(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var R=E.lanes|E.childLanes;if(R|=wh,iw(i,u,R,f,p,_),i===Vt&&(pt=Vt=null,At=0),(E.subtreeFlags&10256)===0&&(E.flags&10256)===0||ou||(ou=!0,Nf=R,Of=a,DR(yl,function(){return bs(),null})),a=(E.flags&15990)!==0,(E.subtreeFlags&15990)!==0||a?(a=$.T,$.T=null,f=F.p,F.p=2,p=qt,qt|=4,mR(i,E),__(E,i),Xw(Yf,i.containerInfo),Tu=!!Kf,Yf=Kf=null,i.current=E,m_(i,E.alternate,E),KS(),qt=p,F.p=f,$.T=a):i.current=E,ou?(ou=!1,Nr=i,Ka=u):j_(i,R),R=i.pendingLanes,R===0&&(xi=null),ZS(E.stateNode),Dn(i),r!==null)for(h=i.onRecoverableError,E=0;E<r.length;E++)R=r[E],h(R.value,{componentStack:R.stack});return(Ka&3)!==0&&bs(),R=i.pendingLanes,(u&4194218)!==0&&(R&42)!==0?i===Mf?Ya++:(Ya=0,Mf=i):Ya=0,Xa(0),null}function j_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Oa(r)))}function bs(){if(Nr!==null){var i=Nr,r=Nf;Nf=0;var a=Yg(Ka),u=$.T,h=F.p;try{if(F.p=32>a?32:a,$.T=null,Nr===null)var f=!1;else{a=Of,Of=null;var p=Nr,_=Ka;if(Nr=null,Ka=0,(qt&6)!==0)throw Error(s(331));var E=qt;if(qt|=4,S_(p.current),E_(p,p.current,_,a),qt=E,Xa(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(ca,p)}catch{}f=!0}return f}finally{F.p=h,$.T=u,j_(i,r)}}return!1}function z_(i,r,a){r=nn(a,r),r=Jh(i.stateNode,r,2),i=Ii(i,r,2),i!==null&&(fa(i,2),Dn(i))}function Mt(i,r,a){if(i.tag===3)z_(i,i,a);else for(;r!==null;){if(r.tag===3){z_(r,i,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(xi===null||!xi.has(u))){i=nn(a,i),a=Hy(2),u=Ii(r,a,2),u!==null&&(Fy(a,u,r,i),fa(u,2),Dn(u));break}}r=r.return}}function Lf(i,r,a){var u=i.pingCache;if(u===null){u=i.pingCache=new ER;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(a)||(bf=!0,h.add(a),i=bR.bind(null,i,r,a),r.then(i,i))}function bR(i,r,a){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,Vt===i&&(At&a)===a&&(Gt===4||Gt===3&&(At&62914560)===At&&300>wn()-Df?(qt&2)===0&&ws(i,0):If|=a,Ss===At&&(Ss=0)),Dn(i)}function B_(i,r){r===0&&(r=Gg()),i=vi(i,r),i!==null&&(fa(i,r),Dn(i))}function IR(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),B_(i,a)}function CR(i,r){var a=0;switch(i.tag){case 13:var u=i.stateNode,h=i.memoizedState;h!==null&&(a=h.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),B_(i,a)}function DR(i,r){return th(i,r)}var cu=null,Is=null,kf=!1,hu=!1,jf=!1,Or=0;function Dn(i){i!==Is&&i.next===null&&(Is===null?cu=Is=i:Is=Is.next=i),hu=!0,kf||(kf=!0,OR(NR))}function Xa(i,r){if(!jf&&hu){jf=!0;do for(var a=!1,u=cu;u!==null;){if(i!==0){var h=u.pendingLanes;if(h===0)var f=0;else{var p=u.suspendedLanes,_=u.pingedLanes;f=(1<<31-Fe(42|i)+1)-1,f&=h&~(p&~_),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(a=!0,F_(u,f))}else f=At,f=El(u,u===Vt?f:0),(f&3)===0||ha(u,f)||(a=!0,F_(u,f));u=u.next}while(a);jf=!1}}function NR(){hu=kf=!1;var i=0;Or!==0&&(jR()&&(i=Or),Or=0);for(var r=wn(),a=null,u=cu;u!==null;){var h=u.next,f=q_(u,r);f===0?(u.next=null,a===null?cu=h:a.next=h,h===null&&(Is=a)):(a=u,(i!==0||(f&3)!==0)&&(hu=!0)),u=h}Xa(i)}function q_(i,r){for(var a=i.suspendedLanes,u=i.pingedLanes,h=i.expirationTimes,f=i.pendingLanes&-62914561;0<f;){var p=31-Fe(f),_=1<<p,E=h[p];E===-1?((_&a)===0||(_&u)!==0)&&(h[p]=nw(_,r)):E<=r&&(i.expiredLanes|=_),f&=~_}if(r=Vt,a=At,a=El(i,i===r?a:0),u=i.callbackNode,a===0||i===r&&Pt===2||i.cancelPendingCommit!==null)return u!==null&&u!==null&&eh(u),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||ha(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(u!==null&&eh(u),Yg(a)){case 2:case 8:a=qg;break;case 32:a=yl;break;case 268435456:a=Hg;break;default:a=yl}return u=H_.bind(null,i),a=th(a,u),i.callbackPriority=r,i.callbackNode=a,r}return u!==null&&u!==null&&eh(u),i.callbackPriority=2,i.callbackNode=null,2}function H_(i,r){var a=i.callbackNode;if(bs()&&i.callbackNode!==a)return null;var u=At;return u=El(i,i===Vt?u:0),u===0?null:(N_(i,u,r),q_(i,wn()),i.callbackNode!=null&&i.callbackNode===a?H_.bind(null,i):null)}function F_(i,r){if(bs())return null;N_(i,r,!0)}function OR(i){BR(function(){(qt&6)!==0?th(Bg,i):i()})}function zf(){return Or===0&&(Or=Fg()),Or}function G_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Rl(""+i)}function Q_(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function MR(i,r,a,u,h){if(r==="submit"&&a&&a.stateNode===h){var f=G_((h[ke]||null).action),p=u.submitter;p&&(r=(r=p[ke]||null)?G_(r.formAction):p.getAttribute("formAction"),r!==null&&(f=r,p=null));var _=new Dl("action","action",null,u,h);i.push({event:_,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Or!==0){var E=p?Q_(h,p):new FormData(h);Yh(a,{pending:!0,data:E,method:h.method,action:f},null,E)}}else typeof f=="function"&&(_.preventDefault(),E=p?Q_(h,p):new FormData(h),Yh(a,{pending:!0,data:E,method:h.method,action:f},f,E))},currentTarget:h}]})}}for(var Bf=0;Bf<kp.length;Bf++){var qf=kp[Bf],xR=qf.toLowerCase(),VR=qf[0].toUpperCase()+qf.slice(1);gn(xR,"on"+VR)}gn(xp,"onAnimationEnd"),gn(Vp,"onAnimationIteration"),gn(Pp,"onAnimationStart"),gn("dblclick","onDoubleClick"),gn("focusin","onFocus"),gn("focusout","onBlur"),gn(Ww,"onTransitionRun"),gn(Zw,"onTransitionStart"),gn(Jw,"onTransitionCancel"),gn(Up,"onTransitionEnd"),ts("onMouseEnter",["mouseout","mouseover"]),ts("onMouseLeave",["mouseout","mouseover"]),ts("onPointerEnter",["pointerout","pointerover"]),ts("onPointerLeave",["pointerout","pointerover"]),fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fr("onBeforeInput",["compositionend","keypress","textInput","paste"]),fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($a));function K_(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var u=i[a],h=u.event;u=u.listeners;t:{var f=void 0;if(r)for(var p=u.length-1;0<=p;p--){var _=u[p],E=_.instance,R=_.currentTarget;if(_=_.listener,E!==f&&h.isPropagationStopped())break t;f=_,h.currentTarget=R;try{f(h)}catch(M){Wl(M)}h.currentTarget=null,f=E}else for(p=0;p<u.length;p++){if(_=u[p],E=_.instance,R=_.currentTarget,_=_.listener,E!==f&&h.isPropagationStopped())break t;f=_,h.currentTarget=R;try{f(h)}catch(M){Wl(M)}h.currentTarget=null,f=E}}}}function vt(i,r){var a=r[ih];a===void 0&&(a=r[ih]=new Set);var u=i+"__bubble";a.has(u)||(Y_(r,i,2,!1),a.add(u))}function Hf(i,r,a){var u=0;r&&(u|=4),Y_(a,i,u,r)}var fu="_reactListening"+Math.random().toString(36).slice(2);function Ff(i){if(!i[fu]){i[fu]=!0,Wg.forEach(function(a){a!=="selectionchange"&&(PR.has(a)||Hf(a,!1,i),Hf(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[fu]||(r[fu]=!0,Hf("selectionchange",!1,r))}}function Y_(i,r,a,u){switch(yv(r)){case 2:var h=ob;break;case 8:h=lb;break;default:h=id}a=h.bind(null,r,a,i),h=void 0,!hh||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?i.addEventListener(r,a,{capture:!0,passive:h}):i.addEventListener(r,a,!0):h!==void 0?i.addEventListener(r,a,{passive:h}):i.addEventListener(r,a,!1)}function Gf(i,r,a,u,h){var f=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var p=u.tag;if(p===3||p===4){var _=u.stateNode.containerInfo;if(_===h||_.nodeType===8&&_.parentNode===h)break;if(p===4)for(p=u.return;p!==null;){var E=p.tag;if((E===3||E===4)&&(E=p.stateNode.containerInfo,E===h||E.nodeType===8&&E.parentNode===h))return;p=p.return}for(;_!==null;){if(p=hr(_),p===null)return;if(E=p.tag,E===5||E===6||E===26||E===27){u=f=p;continue t}_=_.parentNode}}u=u.return}up(function(){var R=f,M=uh(a),U=[];t:{var D=Lp.get(i);if(D!==void 0){var N=Dl,K=i;switch(i){case"keypress":if(Il(a)===0)break t;case"keydown":case"keyup":N=Cw;break;case"focusin":K="focus",N=gh;break;case"focusout":K="blur",N=gh;break;case"beforeblur":case"afterblur":N=gh;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=fp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=pw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Ow;break;case xp:case Vp:case Pp:N=vw;break;case Up:N=xw;break;case"scroll":case"scrollend":N=mw;break;case"wheel":N=Pw;break;case"copy":case"cut":case"paste":N=Tw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=mp;break;case"toggle":case"beforetoggle":N=Lw}var lt=(r&4)!==0,Qt=!lt&&(i==="scroll"||i==="scrollend"),b=lt?D!==null?D+"Capture":null:D;lt=[];for(var w=R,C;w!==null;){var V=w;if(C=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||C===null||b===null||(V=ga(w,b),V!=null&&lt.push(Wa(w,V,C))),Qt)break;w=w.return}0<lt.length&&(D=new N(D,K,null,a,M),U.push({event:D,listeners:lt}))}}if((r&7)===0){t:{if(D=i==="mouseover"||i==="pointerover",N=i==="mouseout"||i==="pointerout",D&&a!==lh&&(K=a.relatedTarget||a.fromElement)&&(hr(K)||K[Wr]))break t;if((N||D)&&(D=M.window===M?M:(D=M.ownerDocument)?D.defaultView||D.parentWindow:window,N?(K=a.relatedTarget||a.toElement,N=R,K=K?hr(K):null,K!==null&&(Qt=it(K),lt=K.tag,K!==Qt||lt!==5&&lt!==27&&lt!==6)&&(K=null)):(N=null,K=R),N!==K)){if(lt=fp,V="onMouseLeave",b="onMouseEnter",w="mouse",(i==="pointerout"||i==="pointerover")&&(lt=mp,V="onPointerLeave",b="onPointerEnter",w="pointer"),Qt=N==null?D:ma(N),C=K==null?D:ma(K),D=new lt(V,w+"leave",N,a,M),D.target=Qt,D.relatedTarget=C,V=null,hr(M)===R&&(lt=new lt(b,w+"enter",K,a,M),lt.target=C,lt.relatedTarget=Qt,V=lt),Qt=V,N&&K)e:{for(lt=N,b=K,w=0,C=lt;C;C=Cs(C))w++;for(C=0,V=b;V;V=Cs(V))C++;for(;0<w-C;)lt=Cs(lt),w--;for(;0<C-w;)b=Cs(b),C--;for(;w--;){if(lt===b||b!==null&&lt===b.alternate)break e;lt=Cs(lt),b=Cs(b)}lt=null}else lt=null;N!==null&&X_(U,D,N,lt,!1),K!==null&&Qt!==null&&X_(U,Qt,K,lt,!0)}}t:{if(D=R?ma(R):window,N=D.nodeName&&D.nodeName.toLowerCase(),N==="select"||N==="input"&&D.type==="file")var G=Ap;else if(Ep(D))if(Sp)G=Kw;else{G=Gw;var gt=Fw}else N=D.nodeName,!N||N.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?R&&oh(R.elementType)&&(G=Ap):G=Qw;if(G&&(G=G(i,R))){Tp(U,G,a,M);break t}gt&&gt(i,D,R),i==="focusout"&&R&&D.type==="number"&&R.memoizedProps.value!=null&&ah(D,"number",D.value)}switch(gt=R?ma(R):window,i){case"focusin":(Ep(gt)||gt.contentEditable==="true")&&(as=gt,Th=R,Sa=null);break;case"focusout":Sa=Th=as=null;break;case"mousedown":Ah=!0;break;case"contextmenu":case"mouseup":case"dragend":Ah=!1,Op(U,a,M);break;case"selectionchange":if($w)break;case"keydown":case"keyup":Op(U,a,M)}var X;if(yh)t:{switch(i){case"compositionstart":var tt="onCompositionStart";break t;case"compositionend":tt="onCompositionEnd";break t;case"compositionupdate":tt="onCompositionUpdate";break t}tt=void 0}else ss?_p(i,a)&&(tt="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(tt="onCompositionStart");tt&&(gp&&a.locale!=="ko"&&(ss||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&ss&&(X=cp()):(_i=M,fh="value"in _i?_i.value:_i.textContent,ss=!0)),gt=du(R,tt),0<gt.length&&(tt=new dp(tt,i,null,a,M),U.push({event:tt,listeners:gt}),X?tt.data=X:(X=vp(a),X!==null&&(tt.data=X)))),(X=jw?zw(i,a):Bw(i,a))&&(tt=du(R,"onBeforeInput"),0<tt.length&&(gt=new dp("onBeforeInput","beforeinput",null,a,M),U.push({event:gt,listeners:tt}),gt.data=X)),MR(U,i,R,a,M)}K_(U,r)})}function Wa(i,r,a){return{instance:i,listener:r,currentTarget:a}}function du(i,r){for(var a=r+"Capture",u=[];i!==null;){var h=i,f=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ga(i,a),h!=null&&u.unshift(Wa(i,h,f)),h=ga(i,r),h!=null&&u.push(Wa(i,h,f))),i=i.return}return u}function Cs(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function X_(i,r,a,u,h){for(var f=r._reactName,p=[];a!==null&&a!==u;){var _=a,E=_.alternate,R=_.stateNode;if(_=_.tag,E!==null&&E===u)break;_!==5&&_!==26&&_!==27||R===null||(E=R,h?(R=ga(a,f),R!=null&&p.unshift(Wa(a,R,E))):h||(R=ga(a,f),R!=null&&p.push(Wa(a,R,E)))),a=a.return}p.length!==0&&i.push({event:r,listeners:p})}var UR=/\r\n?/g,LR=/\u0000|\uFFFD/g;function $_(i){return(typeof i=="string"?i:""+i).replace(UR,`
`).replace(LR,"")}function W_(i,r){return r=$_(r),$_(i)===r}function mu(){}function Ot(i,r,a,u,h,f){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||ns(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&ns(i,""+u);break;case"className":Al(i,"class",u);break;case"tabIndex":Al(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Al(i,a,u);break;case"style":op(i,u,f);break;case"data":if(r!=="object"){Al(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=Rl(""+u),i.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&Ot(i,r,"name",h.name,h,null),Ot(i,r,"formEncType",h.formEncType,h,null),Ot(i,r,"formMethod",h.formMethod,h,null),Ot(i,r,"formTarget",h.formTarget,h,null)):(Ot(i,r,"encType",h.encType,h,null),Ot(i,r,"method",h.method,h,null),Ot(i,r,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=Rl(""+u),i.setAttribute(a,u);break;case"onClick":u!=null&&(i.onclick=mu);break;case"onScroll":u!=null&&vt("scroll",i);break;case"onScrollEnd":u!=null&&vt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}a=Rl(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""+u):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":u===!0?i.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,u):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(a,u):i.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(a):i.setAttribute(a,u);break;case"popover":vt("beforetoggle",i),vt("toggle",i),Tl(i,"popover",u);break;case"xlinkActuate":qn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Tl(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=fw.get(a)||a,Tl(i,a,u))}}function Qf(i,r,a,u,h,f){switch(a){case"style":op(i,u,f);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof u=="string"?ns(i,u):(typeof u=="number"||typeof u=="bigint")&&ns(i,""+u);break;case"onScroll":u!=null&&vt("scroll",i);break;case"onScrollEnd":u!=null&&vt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=mu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zg.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),f=i[ke]||null,f=f!=null?f[a]:null,typeof f=="function"&&i.removeEventListener(r,f,h),typeof u=="function")){typeof f!="function"&&f!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,u,h);break t}a in i?i[a]=u:u===!0?i.setAttribute(a,""):Tl(i,a,u)}}}function pe(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",i),vt("load",i);var u=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ot(i,r,f,p,a,null)}}h&&Ot(i,r,"srcSet",a.srcSet,a,null),u&&Ot(i,r,"src",a.src,a,null);return;case"input":vt("invalid",i);var _=f=p=h=null,E=null,R=null;for(u in a)if(a.hasOwnProperty(u)){var M=a[u];if(M!=null)switch(u){case"name":h=M;break;case"type":p=M;break;case"checked":E=M;break;case"defaultChecked":R=M;break;case"value":f=M;break;case"defaultValue":_=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(137,r));break;default:Ot(i,r,u,M,a,null)}}ip(i,f,_,E,R,p,h,!1),Sl(i);return;case"select":vt("invalid",i),u=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(_=a[h],_!=null))switch(h){case"value":f=_;break;case"defaultValue":p=_;break;case"multiple":u=_;default:Ot(i,r,h,_,a,null)}r=f,a=p,i.multiple=!!u,r!=null?es(i,!!u,r,!1):a!=null&&es(i,!!u,a,!0);return;case"textarea":vt("invalid",i),f=h=u=null;for(p in a)if(a.hasOwnProperty(p)&&(_=a[p],_!=null))switch(p){case"value":u=_;break;case"defaultValue":h=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:Ot(i,r,p,_,a,null)}sp(i,u,h,f),Sl(i);return;case"option":for(E in a)if(a.hasOwnProperty(E)&&(u=a[E],u!=null))switch(E){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ot(i,r,E,u,a,null)}return;case"dialog":vt("cancel",i),vt("close",i);break;case"iframe":case"object":vt("load",i);break;case"video":case"audio":for(u=0;u<$a.length;u++)vt($a[u],i);break;case"image":vt("error",i),vt("load",i);break;case"details":vt("toggle",i);break;case"embed":case"source":case"link":vt("error",i),vt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(u=a[R],u!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ot(i,r,R,u,a,null)}return;default:if(oh(r)){for(M in a)a.hasOwnProperty(M)&&(u=a[M],u!==void 0&&Qf(i,r,M,u,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(u=a[_],u!=null&&Ot(i,r,_,u,a,null))}function kR(i,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,_=null,E=null,R=null,M=null;for(N in a){var U=a[N];if(a.hasOwnProperty(N)&&U!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":E=U;default:u.hasOwnProperty(N)||Ot(i,r,N,null,u,U)}}for(var D in u){var N=u[D];if(U=a[D],u.hasOwnProperty(D)&&(N!=null||U!=null))switch(D){case"type":f=N;break;case"name":h=N;break;case"checked":R=N;break;case"defaultChecked":M=N;break;case"value":p=N;break;case"defaultValue":_=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(137,r));break;default:N!==U&&Ot(i,r,D,N,u,U)}}sh(i,p,_,E,R,M,f,h);return;case"select":N=p=_=D=null;for(f in a)if(E=a[f],a.hasOwnProperty(f)&&E!=null)switch(f){case"value":break;case"multiple":N=E;default:u.hasOwnProperty(f)||Ot(i,r,f,null,u,E)}for(h in u)if(f=u[h],E=a[h],u.hasOwnProperty(h)&&(f!=null||E!=null))switch(h){case"value":D=f;break;case"defaultValue":_=f;break;case"multiple":p=f;default:f!==E&&Ot(i,r,h,f,u,E)}r=_,a=p,u=N,D!=null?es(i,!!a,D,!1):!!u!=!!a&&(r!=null?es(i,!!a,r,!0):es(i,!!a,a?[]:"",!1));return;case"textarea":N=D=null;for(_ in a)if(h=a[_],a.hasOwnProperty(_)&&h!=null&&!u.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ot(i,r,_,null,u,h)}for(p in u)if(h=u[p],f=a[p],u.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":D=h;break;case"defaultValue":N=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Ot(i,r,p,h,u,f)}rp(i,D,N);return;case"option":for(var K in a)if(D=a[K],a.hasOwnProperty(K)&&D!=null&&!u.hasOwnProperty(K))switch(K){case"selected":i.selected=!1;break;default:Ot(i,r,K,null,u,D)}for(E in u)if(D=u[E],N=a[E],u.hasOwnProperty(E)&&D!==N&&(D!=null||N!=null))switch(E){case"selected":i.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Ot(i,r,E,D,u,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lt in a)D=a[lt],a.hasOwnProperty(lt)&&D!=null&&!u.hasOwnProperty(lt)&&Ot(i,r,lt,null,u,D);for(R in u)if(D=u[R],N=a[R],u.hasOwnProperty(R)&&D!==N&&(D!=null||N!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(137,r));break;default:Ot(i,r,R,D,u,N)}return;default:if(oh(r)){for(var Qt in a)D=a[Qt],a.hasOwnProperty(Qt)&&D!==void 0&&!u.hasOwnProperty(Qt)&&Qf(i,r,Qt,void 0,u,D);for(M in u)D=u[M],N=a[M],!u.hasOwnProperty(M)||D===N||D===void 0&&N===void 0||Qf(i,r,M,D,u,N);return}}for(var b in a)D=a[b],a.hasOwnProperty(b)&&D!=null&&!u.hasOwnProperty(b)&&Ot(i,r,b,null,u,D);for(U in u)D=u[U],N=a[U],!u.hasOwnProperty(U)||D===N||D==null&&N==null||Ot(i,r,U,D,u,N)}var Kf=null,Yf=null;function gu(i){return i.nodeType===9?i:i.ownerDocument}function Z_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Xf(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var $f=null;function jR(){var i=window.event;return i&&i.type==="popstate"?i===$f?!1:($f=i,!0):($f=null,!1)}var tv=typeof setTimeout=="function"?setTimeout:void 0,zR=typeof clearTimeout=="function"?clearTimeout:void 0,ev=typeof Promise=="function"?Promise:void 0,BR=typeof queueMicrotask=="function"?queueMicrotask:typeof ev<"u"?function(i){return ev.resolve(null).then(i).catch(qR)}:tv;function qR(i){setTimeout(function(){throw i})}function Wf(i,r){var a=r,u=0;do{var h=a.nextSibling;if(i.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(u===0){i.removeChild(h),so(r);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=h}while(a);so(r)}function Zf(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zf(a),rh(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function HR(i,r,a,u){for(;i.nodeType===1;){var h=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[da])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(f=i.getAttribute("rel"),f==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(f!==h.rel||i.getAttribute("href")!==(h.href==null?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(f=i.getAttribute("src"),(f!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===f)return i}else return i;if(i=_n(i.nextSibling),i===null)break}return null}function FR(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=_n(i.nextSibling),i===null))return null;return i}function _n(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}function nv(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return i;r--}else a==="/$"&&r++}i=i.previousSibling}return null}function iv(i,r,a){switch(r=gu(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}var hn=new Map,rv=new Set;function pu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var ii=F.d;F.d={f:GR,r:QR,D:KR,C:YR,L:XR,m:$R,X:ZR,S:WR,M:JR};function GR(){var i=ii.f(),r=lu();return i||r}function QR(i){var r=Zr(i);r!==null&&r.tag===5&&r.type==="form"?Oy(r):ii.r(i)}var Ds=typeof document>"u"?null:document;function sv(i,r,a){var u=Ds;if(u&&typeof r=="string"&&r){var h=tn(r);h='link[rel="'+i+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),rv.has(h)||(rv.add(h),i={rel:i,crossOrigin:a,href:r},u.querySelector(h)===null&&(r=u.createElement("link"),pe(r,"link",i),ae(r),u.head.appendChild(r)))}}function KR(i){ii.D(i),sv("dns-prefetch",i,null)}function YR(i,r){ii.C(i,r),sv("preconnect",i,r)}function XR(i,r,a){ii.L(i,r,a);var u=Ds;if(u&&i&&r){var h='link[rel="preload"][as="'+tn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+tn(a.imageSizes)+'"]')):h+='[href="'+tn(i)+'"]';var f=h;switch(r){case"style":f=Ns(i);break;case"script":f=Os(i)}hn.has(f)||(i=yt({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),hn.set(f,i),u.querySelector(h)!==null||r==="style"&&u.querySelector(Za(f))||r==="script"&&u.querySelector(Ja(f))||(r=u.createElement("link"),pe(r,"link",i),ae(r),u.head.appendChild(r)))}}function $R(i,r){ii.m(i,r);var a=Ds;if(a&&i){var u=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+tn(u)+'"][href="'+tn(i)+'"]',f=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Os(i)}if(!hn.has(f)&&(i=yt({rel:"modulepreload",href:i},r),hn.set(f,i),a.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ja(f)))return}u=a.createElement("link"),pe(u,"link",i),ae(u),a.head.appendChild(u)}}}function WR(i,r,a){ii.S(i,r,a);var u=Ds;if(u&&i){var h=Jr(u).hoistableStyles,f=Ns(i);r=r||"default";var p=h.get(f);if(!p){var _={loading:0,preload:null};if(p=u.querySelector(Za(f)))_.loading=5;else{i=yt({rel:"stylesheet",href:i,"data-precedence":r},a),(a=hn.get(f))&&Jf(i,a);var E=p=u.createElement("link");ae(E),pe(E,"link",i),E._p=new Promise(function(R,M){E.onload=R,E.onerror=M}),E.addEventListener("load",function(){_.loading|=1}),E.addEventListener("error",function(){_.loading|=2}),_.loading|=4,yu(p,r,u)}p={type:"stylesheet",instance:p,count:1,state:_},h.set(f,p)}}}function ZR(i,r){ii.X(i,r);var a=Ds;if(a&&i){var u=Jr(a).hoistableScripts,h=Os(i),f=u.get(h);f||(f=a.querySelector(Ja(h)),f||(i=yt({src:i,async:!0},r),(r=hn.get(h))&&td(i,r),f=a.createElement("script"),ae(f),pe(f,"link",i),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},u.set(h,f))}}function JR(i,r){ii.M(i,r);var a=Ds;if(a&&i){var u=Jr(a).hoistableScripts,h=Os(i),f=u.get(h);f||(f=a.querySelector(Ja(h)),f||(i=yt({src:i,async:!0,type:"module"},r),(r=hn.get(h))&&td(i,r),f=a.createElement("script"),ae(f),pe(f,"link",i),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},u.set(h,f))}}function av(i,r,a,u){var h=(h=gi.current)?pu(h):null;if(!h)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ns(a.href),a=Jr(h).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Ns(a.href);var f=Jr(h).hoistableStyles,p=f.get(i);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(i,p),(f=h.querySelector(Za(i)))&&!f._p&&(p.instance=f,p.state.loading=5),hn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},hn.set(i,a),f||tb(h,i,a,p.state))),r&&u===null)throw Error(s(528,""));return p}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Os(a),a=Jr(h).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Ns(i){return'href="'+tn(i)+'"'}function Za(i){return'link[rel="stylesheet"]['+i+"]"}function ov(i){return yt({},i,{"data-precedence":i.precedence,precedence:null})}function tb(i,r,a,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),pe(r,"link",a),ae(r),i.head.appendChild(r))}function Os(i){return'[src="'+tn(i)+'"]'}function Ja(i){return"script[async]"+i}function lv(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+tn(a.href)+'"]');if(u)return r.instance=u,ae(u),u;var h=yt({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),ae(u),pe(u,"style",h),yu(u,a.precedence,i),r.instance=u;case"stylesheet":h=Ns(a.href);var f=i.querySelector(Za(h));if(f)return r.state.loading|=4,r.instance=f,ae(f),f;u=ov(a),(h=hn.get(h))&&Jf(u,h),f=(i.ownerDocument||i).createElement("link"),ae(f);var p=f;return p._p=new Promise(function(_,E){p.onload=_,p.onerror=E}),pe(f,"link",u),r.state.loading|=4,yu(f,a.precedence,i),r.instance=f;case"script":return f=Os(a.src),(h=i.querySelector(Ja(f)))?(r.instance=h,ae(h),h):(u=a,(h=hn.get(f))&&(u=yt({},a),td(u,h)),i=i.ownerDocument||i,h=i.createElement("script"),ae(h),pe(h,"link",u),i.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,yu(u,a.precedence,i));return r.instance}function yu(i,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,f=h,p=0;p<u.length;p++){var _=u[p];if(_.dataset.precedence===r)f=_;else if(f!==h)break}f?f.parentNode.insertBefore(i,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function Jf(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function td(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var _u=null;function uv(i,r,a){if(_u===null){var u=new Map,h=_u=new Map;h.set(a,u)}else h=_u,u=h.get(a),u||(u=new Map,h.set(a,u));if(u.has(i))return u;for(u.set(i,null),a=a.getElementsByTagName(i),h=0;h<a.length;h++){var f=a[h];if(!(f[da]||f[Se]||i==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(r)||"";p=i+p;var _=u.get(p);_?_.push(f):u.set(p,[f])}}return u}function cv(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function eb(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function hv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var to=null;function nb(){}function ib(i,r,a){if(to===null)throw Error(s(475));var u=to;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ns(a.href),f=i.querySelector(Za(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=vu.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=f,ae(f);return}f=i.ownerDocument||i,a=ov(a),(h=hn.get(h))&&Jf(a,h),f=f.createElement("link"),ae(f);var p=f;p._p=new Promise(function(_,E){p.onload=_,p.onerror=E}),pe(f,"link",a),r.instance=f}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=vu.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function rb(){if(to===null)throw Error(s(475));var i=to;return i.stylesheets&&i.count===0&&ed(i,i.stylesheets),0<i.count?function(r){var a=setTimeout(function(){if(i.stylesheets&&ed(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(a)}}:null}function vu(){if(this.count--,this.count===0){if(this.stylesheets)ed(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Eu=null;function ed(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Eu=new Map,r.forEach(sb,i),Eu=null,vu.call(i))}function sb(i,r){if(!(r.state.loading&4)){var a=Eu.get(i);if(a)var u=a.get(null);else{a=new Map,Eu.set(i,a);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),u=p)}u&&a.set(null,u)}h=r.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||u,f===u&&a.set(null,h),a.set(p,h),this.count++,u=vu.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),f?f.parentNode.insertBefore(h,f.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),r.state.loading|=4}}var eo={$$typeof:I,Provider:null,Consumer:null,_currentValue:Tt,_currentValue2:Tt,_threadCount:0};function ab(i,r,a,u,h,f,p,_){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nh(0),this.hiddenUpdates=nh(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function fv(i,r,a,u,h,f,p,_,E,R,M,U){return i=new ab(i,r,a,p,_,E,R,U),r=1,f===!0&&(r|=24),f=un(3,null,null,r),i.current=f,f.stateNode=i,r=Mh(),r.refCount++,i.pooledCache=r,r.refCount++,f.memoizedState={element:u,isDehydrated:a,cache:r},df(f),i}function dv(i){return i?(i=us,i):us}function mv(i,r,a,u,h,f){h=dv(h),u.context===null?u.context=h:u.pendingContext=h,u=bi(r),u.payload={element:a},f=f===void 0?null:f,f!==null&&(u.callback=f),a=Ii(i,u,r),a!==null&&(Ve(a,i,r),ka(a,i,r))}function gv(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function nd(i,r){gv(i,r),(i=i.alternate)&&gv(i,r)}function pv(i){if(i.tag===13){var r=vi(i,67108864);r!==null&&Ve(r,i,67108864),nd(i,67108864)}}var Tu=!0;function ob(i,r,a,u){var h=$.T;$.T=null;var f=F.p;try{F.p=2,id(i,r,a,u)}finally{F.p=f,$.T=h}}function lb(i,r,a,u){var h=$.T;$.T=null;var f=F.p;try{F.p=8,id(i,r,a,u)}finally{F.p=f,$.T=h}}function id(i,r,a,u){if(Tu){var h=rd(u);if(h===null)Gf(i,r,u,Au,a),_v(i,u);else if(cb(h,i,r,a,u))u.stopPropagation();else if(_v(i,u),r&4&&-1<ub.indexOf(i)){for(;h!==null;){var f=Zr(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=cr(f.pendingLanes);if(p!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;p;){var E=1<<31-Fe(p);_.entanglements[1]|=E,p&=~E}Dn(f),(qt&6)===0&&(su=wn()+500,Xa(0))}}break;case 13:_=vi(f,2),_!==null&&Ve(_,f,2),lu(),nd(f,2)}if(f=rd(u),f===null&&Gf(i,r,u,Au,a),f===h)break;h=f}h!==null&&u.stopPropagation()}else Gf(i,r,u,null,a)}}function rd(i){return i=uh(i),sd(i)}var Au=null;function sd(i){if(Au=null,i=hr(i),i!==null){var r=it(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=xt(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Au=i,null}function yv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(YS()){case Bg:return 2;case qg:return 8;case yl:case XS:return 32;case Hg:return 268435456;default:return 32}default:return 32}}var ad=!1,Vi=null,Pi=null,Ui=null,no=new Map,io=new Map,Li=[],ub="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _v(i,r){switch(i){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":no.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(r.pointerId)}}function ro(i,r,a,u,h,f){return i===null||i.nativeEvent!==f?(i={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:f,targetContainers:[h]},r!==null&&(r=Zr(r),r!==null&&pv(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),i)}function cb(i,r,a,u,h){switch(r){case"focusin":return Vi=ro(Vi,i,r,a,u,h),!0;case"dragenter":return Pi=ro(Pi,i,r,a,u,h),!0;case"mouseover":return Ui=ro(Ui,i,r,a,u,h),!0;case"pointerover":var f=h.pointerId;return no.set(f,ro(no.get(f)||null,i,r,a,u,h)),!0;case"gotpointercapture":return f=h.pointerId,io.set(f,ro(io.get(f)||null,i,r,a,u,h)),!0}return!1}function vv(i){var r=hr(i.target);if(r!==null){var a=it(r);if(a!==null){if(r=a.tag,r===13){if(r=xt(a),r!==null){i.blockedOn=r,rw(i.priority,function(){if(a.tag===13){var u=Xe(),h=vi(a,u);h!==null&&Ve(h,a,u),nd(a,u)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Su(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=rd(i.nativeEvent);if(a===null){a=i.nativeEvent;var u=new a.constructor(a.type,a);lh=u,a.target.dispatchEvent(u),lh=null}else return r=Zr(a),r!==null&&pv(r),i.blockedOn=a,!1;r.shift()}return!0}function Ev(i,r,a){Su(i)&&a.delete(r)}function hb(){ad=!1,Vi!==null&&Su(Vi)&&(Vi=null),Pi!==null&&Su(Pi)&&(Pi=null),Ui!==null&&Su(Ui)&&(Ui=null),no.forEach(Ev),io.forEach(Ev)}function wu(i,r){i.blockedOn===r&&(i.blockedOn=null,ad||(ad=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hb)))}var Ru=null;function Tv(i){Ru!==i&&(Ru=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ru===i&&(Ru=null);for(var r=0;r<i.length;r+=3){var a=i[r],u=i[r+1],h=i[r+2];if(typeof u!="function"){if(sd(u||a)===null)continue;break}var f=Zr(a);f!==null&&(i.splice(r,3),r-=3,Yh(f,{pending:!0,data:h,method:a.method,action:u},u,h))}}))}function so(i){function r(E){return wu(E,i)}Vi!==null&&wu(Vi,i),Pi!==null&&wu(Pi,i),Ui!==null&&wu(Ui,i),no.forEach(r),io.forEach(r);for(var a=0;a<Li.length;a++){var u=Li[a];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Li.length&&(a=Li[0],a.blockedOn===null);)vv(a),a.blockedOn===null&&Li.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var h=a[u],f=a[u+1],p=h[ke]||null;if(typeof f=="function")p||Tv(a);else if(p){var _=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[ke]||null)_=p.formAction;else if(sd(h)!==null)continue}else _=p.action;typeof _=="function"?a[u+1]=_:(a.splice(u,3),u-=3),Tv(a)}}}function od(i){this._internalRoot=i}bu.prototype.render=od.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=Xe();mv(a,u,i,r,null,null)},bu.prototype.unmount=od.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;i.tag===0&&bs(),mv(i.current,2,null,i,null,null),lu(),r[Wr]=null}};function bu(i){this._internalRoot=i}bu.prototype.unstable_scheduleHydration=function(i){if(i){var r=Xg();i={blockedOn:null,target:i,priority:r};for(var a=0;a<Li.length&&r!==0&&r<Li[a].priority;a++);Li.splice(a,0,i),a===0&&vv(i)}};var Av=t.version;if(Av!=="19.0.0")throw Error(s(527,Av,"19.0.0"));F.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=z(r),i=i!==null?et(i):null,i=i===null?null:i.stateNode,i};var fb={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:$,findFiberByHostInstance:hr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Iu.isDisabled&&Iu.supportsFiber)try{ca=Iu.inject(fb),He=Iu}catch{}}return oo.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,u="",h=jy,f=zy,p=By,_=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(p=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(_=r.unstable_transitionCallbacks)),r=fv(i,1,!1,null,null,a,u,h,f,p,_,null),i[Wr]=r.current,Ff(i.nodeType===8?i.parentNode:i),new od(r)},oo.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var u=!1,h="",f=jy,p=zy,_=By,E=null,R=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(E=a.unstable_transitionCallbacks),a.formState!==void 0&&(R=a.formState)),r=fv(i,1,!0,r,a??null,u,h,f,p,_,E,R),r.context=dv(null),a=r.current,u=Xe(),h=bi(u),h.callback=null,Ii(a,h,u),r.current.lanes=u,fa(r,u),Dn(r),i[Wr]=r.current,Ff(i),new bu(r)},oo.version="19.0.0",oo}var Mv;function Sb(){if(Mv)return cd.exports;Mv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),cd.exports=Ab(),cd.exports}var wb=Sb();const Rb=m0(wb);var bb=g0();/**
 * @remix-run/router v1.14.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ro(){return Ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ro.apply(this,arguments)}var Qi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qi||(Qi={}));const xv="popstate";function Ib(e){e===void 0&&(e={});function t(s,o){let{pathname:l,search:c,hash:m}=s.location;return Ld("",{pathname:l,search:c,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Qu(o)}return Db(t,n,null,e)}function Xt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Tm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Cb(){return Math.random().toString(36).substr(2,8)}function Vv(e,t){return{usr:e.state,key:e.key,idx:t}}function Ld(e,t,n,s){return n===void 0&&(n=null),Ro({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zs(t):t,{state:n,key:t&&t.key||s||Cb()})}function Qu(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Zs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Db(e,t,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,m=Qi.Pop,d=null,g=y();g==null&&(g=0,c.replaceState(Ro({},c.state,{idx:g}),""));function y(){return(c.state||{idx:null}).idx}function v(){m=Qi.Pop;let O=y(),Y=O==null?null:O-g;g=O,d&&d({action:m,location:j.location,delta:Y})}function T(O,Y){m=Qi.Push;let J=Ld(j.location,O,Y);g=y()+1;let nt=Vv(J,g),bt=j.createHref(J);try{c.pushState(nt,"",bt)}catch(rt){if(rt instanceof DOMException&&rt.name==="DataCloneError")throw rt;o.location.assign(bt)}l&&d&&d({action:m,location:j.location,delta:1})}function I(O,Y){m=Qi.Replace;let J=Ld(j.location,O,Y);g=y();let nt=Vv(J,g),bt=j.createHref(J);c.replaceState(nt,"",bt),l&&d&&d({action:m,location:j.location,delta:0})}function L(O){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,J=typeof O=="string"?O:Qu(O);return Xt(Y,"No window.location.(origin|href) available to create URL for href: "+J),new URL(J,Y)}let j={get action(){return m},get location(){return e(o,c)},listen(O){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(xv,v),d=O,()=>{o.removeEventListener(xv,v),d=null}},createHref(O){return t(o,O)},createURL:L,encodeLocation(O){let Y=L(O);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:T,replace:I,go(O){return c.go(O)}};return j}var Pv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Pv||(Pv={}));function Nb(e,t,n){n===void 0&&(n="/");let s=typeof t=="string"?Zs(t):t,o=Am(s.pathname||"/",n);if(o==null)return null;let l=p0(e);Ob(l);let c=null;for(let m=0;c==null&&m<l.length;++m)c=zb(l[m],Hb(o));return c}function p0(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(l,c,m)=>{let d={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};d.relativePath.startsWith("/")&&(Xt(d.relativePath.startsWith(s),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(s.length));let g=Yi([s,d.relativePath]),y=n.concat(d);l.children&&l.children.length>0&&(Xt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),p0(l.children,t,y,g)),!(l.path==null&&!l.index)&&t.push({path:g,score:kb(g,l.index),routesMeta:y})};return e.forEach((l,c)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))o(l,c);else for(let d of y0(l.path))o(l,c,d)}),t}function y0(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=y0(s.join("/")),m=[];return m.push(...c.map(d=>d===""?l:[l,d].join("/"))),o&&m.push(...c),m.map(d=>e.startsWith("/")&&d===""?"/":d)}function Ob(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:jb(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Mb=/^:\w+$/,xb=3,Vb=2,Pb=1,Ub=10,Lb=-2,Uv=e=>e==="*";function kb(e,t){let n=e.split("/"),s=n.length;return n.some(Uv)&&(s+=Lb),t&&(s+=Vb),n.filter(o=>!Uv(o)).reduce((o,l)=>o+(Mb.test(l)?xb:l===""?Pb:Ub),s)}function jb(e,t){return e.length===t.length&&e.slice(0,-1).every((s,o)=>s===t[o])?e[e.length-1]-t[t.length-1]:0}function zb(e,t){let{routesMeta:n}=e,s={},o="/",l=[];for(let c=0;c<n.length;++c){let m=n[c],d=c===n.length-1,g=o==="/"?t:t.slice(o.length)||"/",y=Bb({path:m.relativePath,caseSensitive:m.caseSensitive,end:d},g);if(!y)return null;Object.assign(s,y.params);let v=m.route;l.push({params:s,pathname:Yi([o,y.pathname]),pathnameBase:Yb(Yi([o,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(o=Yi([o,y.pathnameBase]))}return l}function Bb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=qb(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,y,v)=>{let{paramName:T,isOptional:I}=y;if(T==="*"){let j=m[v]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const L=m[v];return I&&!L?g[T]=void 0:g[T]=Fb(L||"",T),g},{}),pathname:l,pathnameBase:c,pattern:e}}function qb(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Tm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(c,m,d)=>(s.push({paramName:m,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function Hb(e){try{return decodeURI(e)}catch(t){return Tm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fb(e,t){try{return decodeURIComponent(e)}catch(n){return Tm(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Am(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function Gb(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:o=""}=typeof e=="string"?Zs(e):e;return{pathname:n?n.startsWith("/")?n:Qb(n,t):t,search:Xb(s),hash:$b(o)}}function Qb(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function md(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kb(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Sm(e,t){let n=Kb(e);return t?n.map((s,o)=>o===e.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function wm(e,t,n,s){s===void 0&&(s=!1);let o;typeof e=="string"?o=Zs(e):(o=Ro({},e),Xt(!o.pathname||!o.pathname.includes("?"),md("?","pathname","search",o)),Xt(!o.pathname||!o.pathname.includes("#"),md("#","pathname","hash",o)),Xt(!o.search||!o.search.includes("#"),md("#","search","hash",o)));let l=e===""||o.pathname==="",c=l?"/":o.pathname,m;if(c==null)m=n;else if(s){let v=t.length===0?[]:t[t.length-1].replace(/^\//,"").split("/");if(c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),v.pop();o.pathname=T.join("/")}m="/"+v.join("/")}else{let v=t.length-1;if(c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),v-=1;o.pathname=T.join("/")}m=v>=0?t[v]:"/"}let d=Gb(o,m),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(g||y)&&(d.pathname+="/"),d}const Yi=e=>e.join("/").replace(/\/\/+/g,"/"),Yb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Xb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$b=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Wb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _0=["post","put","patch","delete"];new Set(_0);const Zb=["get",..._0];new Set(Zb);/**
 * React Router v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bo(){return bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bo.apply(this,arguments)}const Rm=x.createContext(null),Jb=x.createContext(null),nr=x.createContext(null),gc=x.createContext(null),ir=x.createContext({outlet:null,matches:[],isDataRoute:!1}),v0=x.createContext(null);function tI(e,t){let{relative:n}=t===void 0?{}:t;Js()||Xt(!1);let{basename:s,navigator:o}=x.useContext(nr),{hash:l,pathname:c,search:m}=A0(e,{relative:n}),d=c;return s!=="/"&&(d=c==="/"?s:Yi([s,c])),o.createHref({pathname:d,search:m,hash:l})}function Js(){return x.useContext(gc)!=null}function Ko(){return Js()||Xt(!1),x.useContext(gc).location}function E0(e){x.useContext(nr).static||x.useLayoutEffect(e)}function T0(){let{isDataRoute:e}=x.useContext(ir);return e?dI():eI()}function eI(){Js()||Xt(!1);let e=x.useContext(Rm),{basename:t,future:n,navigator:s}=x.useContext(nr),{matches:o}=x.useContext(ir),{pathname:l}=Ko(),c=JSON.stringify(Sm(o,n.v7_relativeSplatPath)),m=x.useRef(!1);return E0(()=>{m.current=!0}),x.useCallback(function(g,y){if(y===void 0&&(y={}),!m.current)return;if(typeof g=="number"){s.go(g);return}let v=wm(g,JSON.parse(c),l,y.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Yi([t,v.pathname])),(y.replace?s.replace:s.push)(v,y.state,y)},[t,s,c,l,e])}function A0(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=x.useContext(nr),{matches:o}=x.useContext(ir),{pathname:l}=Ko(),c=JSON.stringify(Sm(o,s.v7_relativeSplatPath));return x.useMemo(()=>wm(e,JSON.parse(c),l,n==="path"),[e,c,l,n])}function nI(e,t){return iI(e,t)}function iI(e,t,n,s){Js()||Xt(!1);let{navigator:o}=x.useContext(nr),{matches:l}=x.useContext(ir),c=l[l.length-1],m=c?c.params:{};c&&c.pathname;let d=c?c.pathnameBase:"/";c&&c.route;let g=Ko(),y;if(t){var v;let O=typeof t=="string"?Zs(t):t;d==="/"||(v=O.pathname)!=null&&v.startsWith(d)||Xt(!1),y=O}else y=g;let T=y.pathname||"/",I=d==="/"?T:T.slice(d.length)||"/",L=Nb(e,{pathname:I}),j=lI(L&&L.map(O=>Object.assign({},O,{params:Object.assign({},m,O.params),pathname:Yi([d,o.encodeLocation?o.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?d:Yi([d,o.encodeLocation?o.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),l,n,s);return t&&j?x.createElement(gc.Provider,{value:{location:bo({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Qi.Pop}},j):j}function rI(){let e=fI(),t=Wb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:o},n):null,null)}const sI=x.createElement(rI,null);class aI extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(ir.Provider,{value:this.props.routeContext},x.createElement(v0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oI(e){let{routeContext:t,match:n,children:s}=e,o=x.useContext(Rm);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(ir.Provider,{value:t},s)}function lI(e,t,n,s){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var l;if((l=n)!=null&&l.errors)e=n.matches;else return null}let c=e,m=(o=n)==null?void 0:o.errors;if(m!=null){let y=c.findIndex(v=>v.route.id&&(m==null?void 0:m[v.route.id]));y>=0||Xt(!1),c=c.slice(0,Math.min(c.length,y+1))}let d=!1,g=-1;if(n&&s&&s.v7_partialHydration)for(let y=0;y<c.length;y++){let v=c[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=y),v.route.loader&&v.route.id&&n.loaderData[v.route.id]===void 0&&(!n.errors||n.errors[v.route.id]===void 0)){d=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}return c.reduceRight((y,v,T)=>{let I,L=!1,j=null,O=null;n&&(I=m&&v.route.id?m[v.route.id]:void 0,j=v.route.errorElement||sI,d&&(g<0&&T===0?(mI("route-fallback"),L=!0,O=null):g===T&&(L=!0,O=v.route.hydrateFallbackElement||null)));let Y=t.concat(c.slice(0,T+1)),J=()=>{let nt;return I?nt=j:L?nt=O:v.route.Component?nt=x.createElement(v.route.Component,null):v.route.element?nt=v.route.element:nt=y,x.createElement(oI,{match:v,routeContext:{outlet:y,matches:Y,isDataRoute:n!=null},children:nt})};return n&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?x.createElement(aI,{location:n.location,revalidation:n.revalidation,component:j,error:I,children:J(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):J()},null)}var S0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(S0||{}),w0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(w0||{});function uI(e){let t=x.useContext(Rm);return t||Xt(!1),t}function cI(e){let t=x.useContext(Jb);return t||Xt(!1),t}function hI(e){let t=x.useContext(ir);return t||Xt(!1),t}function R0(e){let t=hI(),n=t.matches[t.matches.length-1];return n.route.id||Xt(!1),n.route.id}function fI(){var e;let t=x.useContext(v0),n=cI(),s=R0();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function dI(){let{router:e}=uI(S0.UseNavigateStable),t=R0(w0.UseNavigateStable),n=x.useRef(!1);return E0(()=>{n.current=!0}),x.useCallback(function(o,l){l===void 0&&(l={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,bo({fromRouteId:t},l)))},[e,t])}const Lv={};function mI(e,t,n){Lv[e]||(Lv[e]=!0)}function gd(e){let{to:t,replace:n,state:s,relative:o}=e;Js()||Xt(!1);let{future:l,static:c}=x.useContext(nr),{matches:m}=x.useContext(ir),{pathname:d}=Ko(),g=T0(),y=wm(t,Sm(m,l.v7_relativeSplatPath),d,o==="path"),v=JSON.stringify(y);return x.useEffect(()=>g(JSON.parse(v),{replace:n,state:s,relative:o}),[g,v,o,n,s]),null}function Bi(e){Xt(!1)}function gI(e){let{basename:t="/",children:n=null,location:s,navigationType:o=Qi.Pop,navigator:l,static:c=!1,future:m}=e;Js()&&Xt(!1);let d=t.replace(/^\/*/,"/"),g=x.useMemo(()=>({basename:d,navigator:l,static:c,future:bo({v7_relativeSplatPath:!1},m)}),[d,m,l,c]);typeof s=="string"&&(s=Zs(s));let{pathname:y="/",search:v="",hash:T="",state:I=null,key:L="default"}=s,j=x.useMemo(()=>{let O=Am(y,d);return O==null?null:{location:{pathname:O,search:v,hash:T,state:I,key:L},navigationType:o}},[d,y,v,T,I,L,o]);return j==null?null:x.createElement(nr.Provider,{value:g},x.createElement(gc.Provider,{children:n,value:j}))}function pd(e){let{children:t,location:n}=e;return nI(kd(t),n)}new Promise(()=>{});function kd(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(s,o)=>{if(!x.isValidElement(s))return;let l=[...t,o];if(s.type===x.Fragment){n.push.apply(n,kd(s.props.children,l));return}s.type!==Bi&&Xt(!1),!s.props.index||!s.props.children||Xt(!1);let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=kd(s.props.children,l)),n.push(c)}),n}/**
 * React Router DOM v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jd(){return jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jd.apply(this,arguments)}function pI(e,t){if(e==null)return{};var n={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function yI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _I(e,t){return e.button===0&&(!t||t==="_self")&&!yI(e)}const vI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],EI="startTransition",kv=_b[EI];function TI(e){let{basename:t,children:n,future:s,window:o}=e,l=x.useRef();l.current==null&&(l.current=Ib({window:o,v5Compat:!0}));let c=l.current,[m,d]=x.useState({action:c.action,location:c.location}),{v7_startTransition:g}=s||{},y=x.useCallback(v=>{g&&kv?kv(()=>d(v)):d(v)},[d,g]);return x.useLayoutEffect(()=>c.listen(y),[c,y]),x.createElement(gI,{basename:t,children:n,location:m.location,navigationType:m.action,navigator:c,future:s})}const AI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Io=x.forwardRef(function(t,n){let{onClick:s,relative:o,reloadDocument:l,replace:c,state:m,target:d,to:g,preventScrollReset:y,unstable_viewTransition:v}=t,T=pI(t,vI),{basename:I}=x.useContext(nr),L,j=!1;if(typeof g=="string"&&SI.test(g)&&(L=g,AI))try{let nt=new URL(window.location.href),bt=g.startsWith("//")?new URL(nt.protocol+g):new URL(g),rt=Am(bt.pathname,I);bt.origin===nt.origin&&rt!=null?g=rt+bt.search+bt.hash:j=!0}catch{}let O=tI(g,{relative:o}),Y=wI(g,{replace:c,state:m,target:d,preventScrollReset:y,relative:o,unstable_viewTransition:v});function J(nt){s&&s(nt),nt.defaultPrevented||Y(nt)}return x.createElement("a",jd({},T,{href:L||O,onClick:j||l?s:J,ref:n,target:d}))});var jv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(jv||(jv={}));var zv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(zv||(zv={}));function wI(e,t){let{target:n,replace:s,state:o,preventScrollReset:l,relative:c,unstable_viewTransition:m}=t===void 0?{}:t,d=T0(),g=Ko(),y=A0(e,{relative:c});return x.useCallback(v=>{if(_I(v,n)){v.preventDefault();let T=s!==void 0?s:Qu(g)===Qu(y);d(e,{replace:T,state:o,preventScrollReset:l,relative:c,unstable_viewTransition:m})}},[g,d,y,s,o,n,e,l,c,m])}var Bv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let o=e.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},RI=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const o=e[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=e[n++];t[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=e[n++],c=e[n++],m=e[n++],d=((o&7)<<18|(l&63)<<12|(c&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(d>>10)),t[s++]=String.fromCharCode(56320+(d&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return t.join("")},I0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<e.length;o+=3){const l=e[o],c=o+1<e.length,m=c?e[o+1]:0,d=o+2<e.length,g=d?e[o+2]:0,y=l>>2,v=(l&3)<<4|m>>4;let T=(m&15)<<2|g>>6,I=g&63;d||(I=64,c||(T=64)),s.push(n[y],n[v],n[T],n[I])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(b0(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):RI(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<e.length;){const l=n[e.charAt(o++)],m=o<e.length?n[e.charAt(o)]:0;++o;const g=o<e.length?n[e.charAt(o)]:64;++o;const v=o<e.length?n[e.charAt(o)]:64;if(++o,l==null||m==null||g==null||v==null)throw new bI;const T=l<<2|m>>4;if(s.push(T),g!==64){const I=m<<4&240|g>>2;if(s.push(I),v!==64){const L=g<<6&192|v;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class bI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const II=function(e){const t=b0(e);return I0.encodeByteArray(t,!0)},C0=function(e){return II(e).replace(/\./g,"")},D0=function(e){try{return I0.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=()=>CI().__FIREBASE_DEFAULTS__,NI=()=>{if(typeof process>"u"||typeof Bv>"u")return;const e=Bv.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},OI=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&D0(e[1]);return t&&JSON.parse(t)},bm=()=>{try{return DI()||NI()||OI()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},MI=e=>{var t,n;return(n=(t=bm())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},N0=()=>{var e;return(e=bm())===null||e===void 0?void 0:e.config},O0=e=>{var t;return(t=bm())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function PI(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function UI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LI(){const e=Ne();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function kI(){try{return typeof indexedDB=="object"}catch{return!1}}function jI(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;t(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="FirebaseError";class di extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=zI,Object.setPrototypeOf(this,di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yo.prototype.create)}}class Yo{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,l=this.errors[t],c=l?BI(l,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new di(o,m,s)}}function BI(e,t){return e.replace(qI,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const qI=/\{\$([^}]+)}/g;function HI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Co(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const l=e[o],c=t[o];if(qv(l)&&qv(c)){if(!Co(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function qv(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function ho(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(l)}}),t}function fo(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function FI(e,t){const n=new GI(e,t);return n.subscribe.bind(n)}class GI{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");QI(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=yd),o.error===void 0&&(o.error=yd),o.complete===void 0&&(o.complete=yd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QI(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function yd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(e){return e&&e._delegate?e._delegate:e}class kr{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new xI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(XI(t))try{this.getOrInitializeService({instanceIdentifier:Mr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(t=Mr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Mr){return this.instances.has(t)}getOptions(t=Mr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&c.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(t),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&t(c,o),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:YI(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Mr){return this.component?this.component.multipleInstances?t:Mr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YI(e){return e===Mr?void 0:e}function XI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new KI(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Et||(Et={}));const WI={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},ZI=Et.INFO,JI={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},t1=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),o=JI[t];if(o)console[o](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Im{constructor(t){this.name=t,this._logLevel=ZI,this._logHandler=t1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Et))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?WI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...t),this._logHandler(this,Et.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...t),this._logHandler(this,Et.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...t),this._logHandler(this,Et.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...t),this._logHandler(this,Et.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...t),this._logHandler(this,Et.ERROR,...t)}}const e1=(e,t)=>t.some(n=>e instanceof n);let Hv,Fv;function n1(){return Hv||(Hv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i1(){return Fv||(Fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M0=new WeakMap,zd=new WeakMap,x0=new WeakMap,_d=new WeakMap,Cm=new WeakMap;function r1(e){const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(Xi(e.result)),o()},c=()=>{s(e.error),o()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&M0.set(n,e)}).catch(()=>{}),Cm.set(t,e),t}function s1(e){if(zd.has(e))return;const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});zd.set(e,t)}let Bd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return zd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||x0.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function a1(e){Bd=e(Bd)}function o1(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(vd(this),t,...n);return x0.set(s,t.sort?t.sort():[t]),Xi(s)}:i1().includes(e)?function(...t){return e.apply(vd(this),t),Xi(M0.get(this))}:function(...t){return Xi(e.apply(vd(this),t))}}function l1(e){return typeof e=="function"?o1(e):(e instanceof IDBTransaction&&s1(e),e1(e,n1())?new Proxy(e,Bd):e)}function Xi(e){if(e instanceof IDBRequest)return r1(e);if(_d.has(e))return _d.get(e);const t=l1(e);return t!==e&&(_d.set(e,t),Cm.set(t,e)),t}const vd=e=>Cm.get(e);function u1(e,t,{blocked:n,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(e,t),m=Xi(c);return s&&c.addEventListener("upgradeneeded",d=>{s(Xi(c.result),d.oldVersion,d.newVersion,Xi(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),m.then(d=>{l&&d.addEventListener("close",()=>l()),o&&d.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const c1=["get","getKey","getAll","getAllKeys","count"],h1=["put","add","delete","clear"],Ed=new Map;function Gv(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ed.get(t))return Ed.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=h1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||c1.includes(n)))return;const l=async function(c,...m){const d=this.transaction(c,o?"readwrite":"readonly");let g=d.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&d.done]))[0]};return Ed.set(t,l),l}a1(e=>({...e,get:(t,n,s)=>Gv(t,n)||e.get(t,n,s),has:(t,n)=>!!Gv(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(d1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function d1(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const qd="@firebase/app",Qv="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new Im("@firebase/app"),m1="@firebase/app-compat",g1="@firebase/analytics-compat",p1="@firebase/analytics",y1="@firebase/app-check-compat",_1="@firebase/app-check",v1="@firebase/auth",E1="@firebase/auth-compat",T1="@firebase/database",A1="@firebase/database-compat",S1="@firebase/functions",w1="@firebase/functions-compat",R1="@firebase/installations",b1="@firebase/installations-compat",I1="@firebase/messaging",C1="@firebase/messaging-compat",D1="@firebase/performance",N1="@firebase/performance-compat",O1="@firebase/remote-config",M1="@firebase/remote-config-compat",x1="@firebase/storage",V1="@firebase/storage-compat",P1="@firebase/firestore",U1="@firebase/firestore-compat",L1="firebase",k1="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="[DEFAULT]",j1={[qd]:"fire-core",[m1]:"fire-core-compat",[p1]:"fire-analytics",[g1]:"fire-analytics-compat",[_1]:"fire-app-check",[y1]:"fire-app-check-compat",[v1]:"fire-auth",[E1]:"fire-auth-compat",[T1]:"fire-rtdb",[A1]:"fire-rtdb-compat",[S1]:"fire-fn",[w1]:"fire-fn-compat",[R1]:"fire-iid",[b1]:"fire-iid-compat",[I1]:"fire-fcm",[C1]:"fire-fcm-compat",[D1]:"fire-perf",[N1]:"fire-perf-compat",[O1]:"fire-rc",[M1]:"fire-rc-compat",[x1]:"fire-gcs",[V1]:"fire-gcs-compat",[P1]:"fire-fst",[U1]:"fire-fst-compat","fire-js":"fire-js",[L1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=new Map,Fd=new Map;function z1(e,t){try{e.container.addComponent(t)}catch(n){jr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Hs(e){const t=e.name;if(Fd.has(t))return jr.debug(`There were multiple attempts to register component ${t}.`),!1;Fd.set(t,e);for(const n of Ku.values())z1(n,e);return!0}function Dm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},$i=new Yo("app","Firebase",B1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=k1;function V0(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Hd,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw $i.create("bad-app-name",{appName:String(o)});if(n||(n=N0()),!n)throw $i.create("no-options");const l=Ku.get(o);if(l){if(Co(n,l.options)&&Co(s,l.config))return l;throw $i.create("duplicate-app",{appName:o})}const c=new $I(o);for(const d of Fd.values())c.addComponent(d);const m=new q1(n,s,c);return Ku.set(o,m),m}function H1(e=Hd){const t=Ku.get(e);if(!t&&e===Hd&&N0())return V0();if(!t)throw $i.create("no-app",{appName:e});return t}function Wi(e,t,n){var s;let o=(s=j1[e])!==null&&s!==void 0?s:e;n&&(o+=`-${n}`);const l=o.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const m=[`Unable to register library "${o}" with version "${t}":`];l&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&m.push("and"),c&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),jr.warn(m.join(" "));return}Hs(new kr(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="firebase-heartbeat-database",G1=1,Do="firebase-heartbeat-store";let Td=null;function P0(){return Td||(Td=u1(F1,G1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Do)}}}).catch(e=>{throw $i.create("idb-open",{originalErrorMessage:e.message})})),Td}async function Q1(e){try{return await(await P0()).transaction(Do).objectStore(Do).get(U0(e))}catch(t){if(t instanceof di)jr.warn(t.message);else{const n=$i.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});jr.warn(n.message)}}}async function Kv(e,t){try{const s=(await P0()).transaction(Do,"readwrite");await s.objectStore(Do).put(t,U0(e)),await s.done}catch(n){if(n instanceof di)jr.warn(n.message);else{const s=$i.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});jr.warn(s.message)}}}function U0(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=1024,Y1=30*24*60*60*1e3;class X1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new W1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Yv();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)))return this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const m=new Date(c.date).valueOf();return Date.now()-m<=Y1}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Yv(),{heartbeatsToSend:s,unsentEntries:o}=$1(this._heartbeatsCache.heartbeats),l=C0(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}}function Yv(){return new Date().toISOString().substring(0,10)}function $1(e,t=K1){const n=[];let s=e.slice();for(const o of e){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),Xv(n)>t){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Xv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class W1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kI()?jI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Q1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Kv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Kv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Xv(e){return C0(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(e){Hs(new kr("platform-logger",t=>new f1(t),"PRIVATE")),Hs(new kr("heartbeat",t=>new X1(t),"PRIVATE")),Wi(qd,Qv,e),Wi(qd,Qv,"esm2017"),Wi("fire-js","")}Z1("");var J1="firebase",tC="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi(J1,tC,"app");var eC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B,Nm=Nm||{},ot=eC||self;function pc(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function yc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function nC(e,t,n){return e.call.apply(e.bind,arguments)}function iC(e,t,n){if(!e)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,s),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function Ce(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ce=nC:Ce=iC,Ce.apply(null,arguments)}function Cu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),e.apply(this,s)}}function de(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(s,o,l){for(var c=Array(arguments.length-2),m=2;m<arguments.length;m++)c[m-2]=arguments[m];return t.prototype[o].apply(s,c)}}function rr(){this.s=this.s,this.o=this.o}var rC=0;rr.prototype.s=!1;rr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),rC!=0)};rr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const L0=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Om(e){const t=e.length;if(0<t){const n=Array(t);for(let s=0;s<t;s++)n[s]=e[s];return n}return[]}function $v(e,t){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(pc(s)){const o=e.length||0,l=s.length||0;e.length=o+l;for(let c=0;c<l;c++)e[o+c]=s[c]}else e.push(s)}}function De(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}De.prototype.h=function(){this.defaultPrevented=!0};var sC=function(){if(!ot.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};ot.addEventListener("test",n,t),ot.removeEventListener("test",n,t)}catch{}return e}();function No(e){return/^[\s\xa0]*$/.test(e)}function _c(){var e=ot.navigator;return e&&(e=e.userAgent)?e:""}function Nn(e){return _c().indexOf(e)!=-1}function Mm(e){return Mm[" "](e),e}Mm[" "]=function(){};function aC(e,t){var n=JC;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var oC=Nn("Opera"),Fs=Nn("Trident")||Nn("MSIE"),k0=Nn("Edge"),Gd=k0||Fs,j0=Nn("Gecko")&&!(_c().toLowerCase().indexOf("webkit")!=-1&&!Nn("Edge"))&&!(Nn("Trident")||Nn("MSIE"))&&!Nn("Edge"),lC=_c().toLowerCase().indexOf("webkit")!=-1&&!Nn("Edge");function z0(){var e=ot.document;return e?e.documentMode:void 0}var Qd;t:{var Ad="",Sd=function(){var e=_c();if(j0)return/rv:([^\);]+)(\)|;)/.exec(e);if(k0)return/Edge\/([\d\.]+)/.exec(e);if(Fs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(lC)return/WebKit\/(\S+)/.exec(e);if(oC)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Sd&&(Ad=Sd?Sd[1]:""),Fs){var wd=z0();if(wd!=null&&wd>parseFloat(Ad)){Qd=String(wd);break t}}Qd=Ad}var Kd;if(ot.document&&Fs){var Wv=z0();Kd=Wv||parseInt(Qd,10)||void 0}else Kd=void 0;var uC=Kd;function Oo(e,t){if(De.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,s=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(j0){t:{try{Mm(t.nodeName);var o=!0;break t}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:cC[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Oo.$.h.call(this)}}de(Oo,De);var cC={2:"touch",3:"pen",4:"mouse"};Oo.prototype.h=function(){Oo.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var vc="closure_listenable_"+(1e6*Math.random()|0),hC=0;function fC(e,t,n,s,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!s,this.la=o,this.key=++hC,this.fa=this.ia=!1}function Ec(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function xm(e,t,n){for(const s in e)t.call(n,e[s],s,e)}function dC(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function B0(e){const t={};for(const n in e)t[n]=e[n];return t}const Zv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q0(e,t){let n,s;for(let o=1;o<arguments.length;o++){s=arguments[o];for(n in s)e[n]=s[n];for(let l=0;l<Zv.length;l++)n=Zv[l],Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}}function Tc(e){this.src=e,this.g={},this.h=0}Tc.prototype.add=function(e,t,n,s,o){var l=e.toString();e=this.g[l],e||(e=this.g[l]=[],this.h++);var c=Xd(e,t,s,o);return-1<c?(t=e[c],n||(t.ia=!1)):(t=new fC(t,this.src,l,!!s,o),t.ia=n,e.push(t)),t};function Yd(e,t){var n=t.type;if(n in e.g){var s=e.g[n],o=L0(s,t),l;(l=0<=o)&&Array.prototype.splice.call(s,o,1),l&&(Ec(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Xd(e,t,n,s){for(var o=0;o<e.length;++o){var l=e[o];if(!l.fa&&l.listener==t&&l.capture==!!n&&l.la==s)return o}return-1}var Vm="closure_lm_"+(1e6*Math.random()|0),Rd={};function H0(e,t,n,s,o){if(Array.isArray(t)){for(var l=0;l<t.length;l++)H0(e,t[l],n,s,o);return null}return n=Q0(n),e&&e[vc]?e.O(t,n,yc(s)?!!s.capture:!1,o):mC(e,t,n,!1,s,o)}function mC(e,t,n,s,o,l){if(!t)throw Error("Invalid event type");var c=yc(o)?!!o.capture:!!o,m=Um(e);if(m||(e[Vm]=m=new Tc(e)),n=m.add(t,n,s,c,l),n.proxy)return n;if(s=gC(),n.proxy=s,s.src=e,s.listener=n,e.addEventListener)sC||(o=c),o===void 0&&(o=!1),e.addEventListener(t.toString(),s,o);else if(e.attachEvent)e.attachEvent(G0(t.toString()),s);else if(e.addListener&&e.removeListener)e.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function gC(){function e(n){return t.call(e.src,e.listener,n)}const t=pC;return e}function F0(e,t,n,s,o){if(Array.isArray(t))for(var l=0;l<t.length;l++)F0(e,t[l],n,s,o);else s=yc(s)?!!s.capture:!!s,n=Q0(n),e&&e[vc]?(e=e.i,t=String(t).toString(),t in e.g&&(l=e.g[t],n=Xd(l,n,s,o),-1<n&&(Ec(l[n]),Array.prototype.splice.call(l,n,1),l.length==0&&(delete e.g[t],e.h--)))):e&&(e=Um(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Xd(t,n,s,o)),(n=-1<e?t[e]:null)&&Pm(n))}function Pm(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[vc])Yd(t.i,e);else{var n=e.type,s=e.proxy;t.removeEventListener?t.removeEventListener(n,s,e.capture):t.detachEvent?t.detachEvent(G0(n),s):t.addListener&&t.removeListener&&t.removeListener(s),(n=Um(t))?(Yd(n,e),n.h==0&&(n.src=null,t[Vm]=null)):Ec(e)}}}function G0(e){return e in Rd?Rd[e]:Rd[e]="on"+e}function pC(e,t){if(e.fa)e=!0;else{t=new Oo(t,this);var n=e.listener,s=e.la||e.src;e.ia&&Pm(e),e=n.call(s,t)}return e}function Um(e){return e=e[Vm],e instanceof Tc?e:null}var bd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Q0(e){return typeof e=="function"?e:(e[bd]||(e[bd]=function(t){return e.handleEvent(t)}),e[bd])}function fe(){rr.call(this),this.i=new Tc(this),this.S=this,this.J=null}de(fe,rr);fe.prototype[vc]=!0;fe.prototype.removeEventListener=function(e,t,n,s){F0(this,e,t,n,s)};function Ee(e,t){var n,s=e.J;if(s)for(n=[];s;s=s.J)n.push(s);if(e=e.S,s=t.type||t,typeof t=="string")t=new De(t,e);else if(t instanceof De)t.target=t.target||e;else{var o=t;t=new De(s,e),q0(t,o)}if(o=!0,n)for(var l=n.length-1;0<=l;l--){var c=t.g=n[l];o=Du(c,s,!0,t)&&o}if(c=t.g=e,o=Du(c,s,!0,t)&&o,o=Du(c,s,!1,t)&&o,n)for(l=0;l<n.length;l++)c=t.g=n[l],o=Du(c,s,!1,t)&&o}fe.prototype.N=function(){if(fe.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],s=0;s<n.length;s++)Ec(n[s]);delete e.g[t],e.h--}}this.J=null};fe.prototype.O=function(e,t,n,s){return this.i.add(String(e),t,!1,n,s)};fe.prototype.P=function(e,t,n,s){return this.i.add(String(e),t,!0,n,s)};function Du(e,t,n,s){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,l=0;l<t.length;++l){var c=t[l];if(c&&!c.fa&&c.capture==n){var m=c.listener,d=c.la||c.src;c.ia&&Yd(e.i,c),o=m.call(d,s)!==!1&&o}}return o&&!s.defaultPrevented}var Lm=ot.JSON.stringify;class yC{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function _C(){var e=km;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class vC{constructor(){this.h=this.g=null}add(t,n){const s=K0.get();s.set(t,n),this.h?this.h.next=s:this.g=s,this.h=s}}var K0=new yC(()=>new EC,e=>e.reset());class EC{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function TC(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function AC(e){ot.setTimeout(()=>{throw e},0)}let Mo,xo=!1,km=new vC,Y0=()=>{const e=ot.Promise.resolve(void 0);Mo=()=>{e.then(SC)}};var SC=()=>{for(var e;e=_C();){try{e.h.call(e.g)}catch(n){AC(n)}var t=K0;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}xo=!1};function Ac(e,t){fe.call(this),this.h=e||1,this.g=t||ot,this.j=Ce(this.qb,this),this.l=Date.now()}de(Ac,fe);B=Ac.prototype;B.ga=!1;B.T=null;B.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ee(this,"tick"),this.ga&&(jm(this),this.start()))}};B.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function jm(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}B.N=function(){Ac.$.N.call(this),jm(this),delete this.g};function zm(e,t,n){if(typeof e=="function")n&&(e=Ce(e,n));else if(e&&typeof e.handleEvent=="function")e=Ce(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ot.setTimeout(e,t||0)}function X0(e){e.g=zm(()=>{e.g=null,e.i&&(e.i=!1,X0(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class wC extends rr{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:X0(this)}N(){super.N(),this.g&&(ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vo(e){rr.call(this),this.h=e,this.g={}}de(Vo,rr);var Jv=[];function $0(e,t,n,s){Array.isArray(n)||(n&&(Jv[0]=n.toString()),n=Jv);for(var o=0;o<n.length;o++){var l=H0(t,n[o],s||e.handleEvent,!1,e.h||e);if(!l)break;e.g[l.key]=l}}function W0(e){xm(e.g,function(t,n){this.g.hasOwnProperty(n)&&Pm(t)},e),e.g={}}Vo.prototype.N=function(){Vo.$.N.call(this),W0(this)};Vo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Sc(){this.g=!0}Sc.prototype.Ea=function(){this.g=!1};function RC(e,t,n,s,o,l){e.info(function(){if(e.g)if(l)for(var c="",m=l.split("&"),d=0;d<m.length;d++){var g=m[d].split("=");if(1<g.length){var y=g[0];g=g[1];var v=y.split("_");c=2<=v.length&&v[1]=="type"?c+(y+"="+g+"&"):c+(y+"=redacted&")}}else c=null;else c=l;return"XMLHTTP REQ ("+s+") [attempt "+o+"]: "+t+`
`+n+`
`+c})}function bC(e,t,n,s,o,l,c){e.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+o+"]: "+t+`
`+n+`
`+l+" "+c})}function Us(e,t,n,s){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+CC(e,n)+(s?" "+s:"")})}function IC(e,t){e.info(function(){return"TIMEOUT: "+t})}Sc.prototype.info=function(){};function CC(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var s=n[e];if(!(2>s.length)){var o=s[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if(l!="noop"&&l!="stop"&&l!="close")for(var c=1;c<o.length;c++)o[c]=""}}}}return Lm(n)}catch{return t}}var Gr={},tE=null;function wc(){return tE=tE||new fe}Gr.Ta="serverreachability";function Z0(e){De.call(this,Gr.Ta,e)}de(Z0,De);function Po(e){const t=wc();Ee(t,new Z0(t))}Gr.STAT_EVENT="statevent";function J0(e,t){De.call(this,Gr.STAT_EVENT,e),this.stat=t}de(J0,De);function Pe(e){const t=wc();Ee(t,new J0(t,e))}Gr.Ua="timingevent";function tT(e,t){De.call(this,Gr.Ua,e),this.size=t}de(tT,De);function $o(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ot.setTimeout(function(){e()},t)}var Rc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},eT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Bm(){}Bm.prototype.h=null;function eE(e){return e.h||(e.h=e.i())}function nT(){}var Wo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function qm(){De.call(this,"d")}de(qm,De);function Hm(){De.call(this,"c")}de(Hm,De);var $d;function bc(){}de(bc,Bm);bc.prototype.g=function(){return new XMLHttpRequest};bc.prototype.i=function(){return{}};$d=new bc;function Zo(e,t,n,s){this.l=e,this.j=t,this.m=n,this.W=s||1,this.U=new Vo(this),this.P=DC,e=Gd?125:void 0,this.V=new Ac(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new iT}function iT(){this.i=null,this.g="",this.h=!1}var DC=45e3,rT={},Wd={};B=Zo.prototype;B.setTimeout=function(e){this.P=e};function Zd(e,t,n){e.L=1,e.A=Cc(ui(t)),e.u=n,e.S=!0,sT(e,null)}function sT(e,t){e.G=Date.now(),Jo(e),e.B=ui(e.A);var n=e.B,s=e.W;Array.isArray(s)||(s=[String(s)]),dT(n.i,"t",s),e.o=0,n=e.l.J,e.h=new iT,e.g=VT(e.l,n?t:null,!e.u),0<e.O&&(e.M=new wC(Ce(e.Pa,e,e.g),e.O)),$0(e.U,e.g,"readystatechange",e.nb),t=e.I?B0(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Po(),RC(e.j,e.v,e.B,e.m,e.W,e.u)}B.nb=function(e){e=e.target;const t=this.M;t&&On(e)==3?t.l():this.Pa(e)};B.Pa=function(e){try{if(e==this.g)t:{const y=On(this.g);var t=this.g.Ia();const v=this.g.da();if(!(3>y)&&(y!=3||Gd||this.g&&(this.h.h||this.g.ja()||sE(this.g)))){this.J||y!=4||t==7||(t==8||0>=v?Po(3):Po(2)),Ic(this);var n=this.g.da();this.ca=n;e:if(aT(this)){var s=sE(this.g);e="";var o=s.length,l=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xr(this),vo(this);var c="";break e}this.h.i=new ot.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(s[t],{stream:l&&t==o-1});s.length=0,this.h.g+=e,this.o=0,c=this.h.g}else c=this.g.ja();if(this.i=n==200,bC(this.j,this.v,this.B,this.m,this.W,y,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var m,d=this.g;if((m=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!No(m)){var g=m;break e}}g=null}if(n=g)Us(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jd(this,n);else{this.i=!1,this.s=3,Pe(12),xr(this),vo(this);break t}}this.S?(oT(this,y,c),Gd&&this.i&&y==3&&($0(this.U,this.V,"tick",this.mb),this.V.start())):(Us(this.j,this.m,c,null),Jd(this,c)),y==4&&xr(this),this.i&&!this.J&&(y==4?NT(this.l,this):(this.i=!1,Jo(this)))}else $C(this.g),n==400&&0<c.indexOf("Unknown SID")?(this.s=3,Pe(12)):(this.s=0,Pe(13)),xr(this),vo(this)}}}catch{}finally{}};function aT(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function oT(e,t,n){let s=!0,o;for(;!e.J&&e.o<n.length;)if(o=NC(e,n),o==Wd){t==4&&(e.s=4,Pe(14),s=!1),Us(e.j,e.m,null,"[Incomplete Response]");break}else if(o==rT){e.s=4,Pe(15),Us(e.j,e.m,n,"[Invalid Chunk]"),s=!1;break}else Us(e.j,e.m,o,null),Jd(e,o);aT(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,Pe(16),s=!1),e.i=e.i&&s,s?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xm(t),t.M=!0,Pe(11))):(Us(e.j,e.m,n,"[Invalid Chunked Response]"),xr(e),vo(e))}B.mb=function(){if(this.g){var e=On(this.g),t=this.g.ja();this.o<t.length&&(Ic(this),oT(this,e,t),this.i&&e!=4&&Jo(this))}};function NC(e,t){var n=e.o,s=t.indexOf(`
`,n);return s==-1?Wd:(n=Number(t.substring(n,s)),isNaN(n)?rT:(s+=1,s+n>t.length?Wd:(t=t.slice(s,s+n),e.o=s+n,t)))}B.cancel=function(){this.J=!0,xr(this)};function Jo(e){e.Y=Date.now()+e.P,lT(e,e.P)}function lT(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=$o(Ce(e.lb,e),t)}function Ic(e){e.C&&(ot.clearTimeout(e.C),e.C=null)}B.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(IC(this.j,this.B),this.L!=2&&(Po(),Pe(17)),xr(this),this.s=2,vo(this)):lT(this,this.Y-e)};function vo(e){e.l.H==0||e.J||NT(e.l,e)}function xr(e){Ic(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,jm(e.V),W0(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Jd(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||tm(n.i,e))){if(!e.K&&tm(n.i,e)&&n.H==3){try{var s=n.Ja.g.parse(t)}catch{s=null}if(Array.isArray(s)&&s.length==3){var o=s;if(o[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)$u(n),Mc(n);else break t;Ym(n),Pe(18)}}else n.Fa=o[1],0<n.Fa-n.V&&37500>o[2]&&n.G&&n.A==0&&!n.v&&(n.v=$o(Ce(n.ib,n),6e3));if(1>=pT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Vr(n,11)}else if((e.K||n.g==e)&&$u(n),!No(t))for(o=n.Ja.g.parse(t),t=0;t<o.length;t++){let g=o[t];if(n.V=g[0],g=g[1],n.H==2)if(g[0]=="c"){n.K=g[1],n.pa=g[2];const y=g[3];y!=null&&(n.ra=y,n.l.info("VER="+n.ra));const v=g[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));const T=g[5];T!=null&&typeof T=="number"&&0<T&&(s=1.5*T,n.L=s,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const I=e.g;if(I){const L=I.g?I.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(L){var l=s.i;l.g||L.indexOf("spdy")==-1&&L.indexOf("quic")==-1&&L.indexOf("h2")==-1||(l.j=l.l,l.g=new Set,l.h&&(Fm(l,l.h),l.h=null))}if(s.F){const j=I.g?I.g.getResponseHeader("X-HTTP-Session-Id"):null;j&&(s.Da=j,kt(s.I,s.F,j))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),s=n;var c=e;if(s.wa=xT(s,s.J?s.pa:null,s.Y),c.K){yT(s.i,c);var m=c,d=s.L;d&&m.setTimeout(d),m.C&&(Ic(m),Jo(m)),s.g=c}else CT(s);0<n.j.length&&xc(n)}else g[0]!="stop"&&g[0]!="close"||Vr(n,7);else n.H==3&&(g[0]=="stop"||g[0]=="close"?g[0]=="stop"?Vr(n,7):Km(n):g[0]!="noop"&&n.h&&n.h.Aa(g),n.A=0)}}Po(4)}catch{}}function OC(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(pc(e)){for(var t=[],n=e.length,s=0;s<n;s++)t.push(e[s]);return t}t=[],n=0;for(s in e)t[n++]=e[s];return t}function MC(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(pc(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const s in e)t[n++]=s;return t}}}function uT(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(pc(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=MC(e),s=OC(e),o=s.length,l=0;l<o;l++)t.call(void 0,s[l],n&&n[l],e)}var cT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xC(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var s=e[n].indexOf("="),o=null;if(0<=s){var l=e[n].substring(0,s);o=e[n].substring(s+1)}else l=e[n];t(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Ur(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ur){this.h=e.h,Yu(this,e.j),this.s=e.s,this.g=e.g,Xu(this,e.m),this.l=e.l;var t=e.i,n=new Uo;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),nE(this,n),this.o=e.o}else e&&(t=String(e).match(cT))?(this.h=!1,Yu(this,t[1]||"",!0),this.s=mo(t[2]||""),this.g=mo(t[3]||"",!0),Xu(this,t[4]),this.l=mo(t[5]||"",!0),nE(this,t[6]||"",!0),this.o=mo(t[7]||"")):(this.h=!1,this.i=new Uo(null,this.h))}Ur.prototype.toString=function(){var e=[],t=this.j;t&&e.push(go(t,iE,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(go(t,iE,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(go(n,n.charAt(0)=="/"?UC:PC,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",go(n,kC)),e.join("")};function ui(e){return new Ur(e)}function Yu(e,t,n){e.j=n?mo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Xu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function nE(e,t,n){t instanceof Uo?(e.i=t,jC(e.i,e.h)):(n||(t=go(t,LC)),e.i=new Uo(t,e.h))}function kt(e,t,n){e.i.set(t,n)}function Cc(e){return kt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function mo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function go(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,VC),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function VC(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var iE=/[#\/\?@]/g,PC=/[#\?:]/g,UC=/[#\?]/g,LC=/[#\?@]/g,kC=/#/g;function Uo(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function sr(e){e.g||(e.g=new Map,e.h=0,e.i&&xC(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}B=Uo.prototype;B.add=function(e,t){sr(this),this.i=null,e=ea(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function hT(e,t){sr(e),t=ea(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function fT(e,t){return sr(e),t=ea(e,t),e.g.has(t)}B.forEach=function(e,t){sr(this),this.g.forEach(function(n,s){n.forEach(function(o){e.call(t,o,s,this)},this)},this)};B.ta=function(){sr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let s=0;s<t.length;s++){const o=e[s];for(let l=0;l<o.length;l++)n.push(t[s])}return n};B.Z=function(e){sr(this);let t=[];if(typeof e=="string")fT(this,e)&&(t=t.concat(this.g.get(ea(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};B.set=function(e,t){return sr(this),this.i=null,e=ea(this,e),fT(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};B.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function dT(e,t,n){hT(e,t),0<n.length&&(e.i=null,e.g.set(ea(e,t),Om(n)),e.h+=n.length)}B.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var s=t[n];const l=encodeURIComponent(String(s)),c=this.Z(s);for(s=0;s<c.length;s++){var o=l;c[s]!==""&&(o+="="+encodeURIComponent(String(c[s]))),e.push(o)}}return this.i=e.join("&")};function ea(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function jC(e,t){t&&!e.j&&(sr(e),e.i=null,e.g.forEach(function(n,s){var o=s.toLowerCase();s!=o&&(hT(this,s),dT(this,o,n))},e)),e.j=t}var zC=class{constructor(e,t){this.g=e,this.map=t}};function mT(e){this.l=e||BC,ot.PerformanceNavigationTiming?(e=ot.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ot.g&&ot.g.Ka&&ot.g.Ka()&&ot.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var BC=10;function gT(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function pT(e){return e.h?1:e.g?e.g.size:0}function tm(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Fm(e,t){e.g?e.g.add(t):e.h=t}function yT(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}mT.prototype.cancel=function(){if(this.i=_T(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function _T(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Om(e.i)}var qC=class{stringify(e){return ot.JSON.stringify(e,void 0)}parse(e){return ot.JSON.parse(e,void 0)}};function HC(){this.g=new qC}function FC(e,t,n){const s=n||"";try{uT(e,function(o,l){let c=o;yc(o)&&(c=Lm(o)),t.push(s+l+"="+encodeURIComponent(c))})}catch(o){throw t.push(s+"type="+encodeURIComponent("_badmap")),o}}function GC(e,t){const n=new Sc;if(ot.Image){const s=new Image;s.onload=Cu(Nu,n,s,"TestLoadImage: loaded",!0,t),s.onerror=Cu(Nu,n,s,"TestLoadImage: error",!1,t),s.onabort=Cu(Nu,n,s,"TestLoadImage: abort",!1,t),s.ontimeout=Cu(Nu,n,s,"TestLoadImage: timeout",!1,t),ot.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=e}else t(!1)}function Nu(e,t,n,s,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(s)}catch{}}function Dc(e){this.l=e.ec||null,this.j=e.ob||!1}de(Dc,Bm);Dc.prototype.g=function(){return new Nc(this.l,this.j)};Dc.prototype.i=function(e){return function(){return e}}({});function Nc(e,t){fe.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Gm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}de(Nc,fe);var Gm=0;B=Nc.prototype;B.open=function(e,t){if(this.readyState!=Gm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Lo(this)};B.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ot).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tl(this)),this.readyState=Gm};B.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Lo(this)),this.g&&(this.readyState=3,Lo(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ot.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vT(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function vT(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}B.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?tl(this):Lo(this),this.readyState==3&&vT(this)}};B.Za=function(e){this.g&&(this.response=this.responseText=e,tl(this))};B.Ya=function(e){this.g&&(this.response=e,tl(this))};B.ka=function(){this.g&&tl(this)};function tl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Lo(e)}B.setRequestHeader=function(e,t){this.v.append(e,t)};B.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};B.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Lo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Nc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var QC=ot.JSON.parse;function Kt(e){fe.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ET,this.L=this.M=!1}de(Kt,fe);var ET="",KC=/^https?$/i,YC=["POST","PUT"];B=Kt.prototype;B.Oa=function(e){this.M=e};B.ha=function(e,t,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$d.g(),this.C=this.u?eE(this.u):eE($d),this.g.onreadystatechange=Ce(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(l){rE(this,l);return}if(e=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var o in s)n.set(o,s[o]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const l of s.keys())n.set(l,s.get(l));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(l=>l.toLowerCase()=="content-type"),o=ot.FormData&&e instanceof ot.FormData,!(0<=L0(YC,t))||s||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,c]of n)this.g.setRequestHeader(l,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ST(this),0<this.B&&((this.L=XC(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ce(this.ua,this)):this.A=zm(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(l){rE(this,l)}};function XC(e){return Fs&&typeof e.timeout=="number"&&e.ontimeout!==void 0}B.ua=function(){typeof Nm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ee(this,"timeout"),this.abort(8))};function rE(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,TT(e),Oc(e)}function TT(e){e.F||(e.F=!0,Ee(e,"complete"),Ee(e,"error"))}B.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ee(this,"complete"),Ee(this,"abort"),Oc(this))};B.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Oc(this,!0)),Kt.$.N.call(this)};B.La=function(){this.s||(this.G||this.v||this.l?AT(this):this.kb())};B.kb=function(){AT(this)};function AT(e){if(e.h&&typeof Nm<"u"&&(!e.C[1]||On(e)!=4||e.da()!=2)){if(e.v&&On(e)==4)zm(e.La,0,e);else if(Ee(e,"readystatechange"),On(e)==4){e.h=!1;try{const c=e.da();t:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var s;if(s=c===0){var o=String(e.I).match(cT)[1]||null;!o&&ot.self&&ot.self.location&&(o=ot.self.location.protocol.slice(0,-1)),s=!KC.test(o?o.toLowerCase():"")}n=s}if(n)Ee(e,"complete"),Ee(e,"success");else{e.m=6;try{var l=2<On(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.da()+"]",TT(e)}}finally{Oc(e)}}}}function Oc(e,t){if(e.g){ST(e);const n=e.g,s=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Ee(e,"ready");try{n.onreadystatechange=s}catch{}}}function ST(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ot.clearTimeout(e.A),e.A=null)}B.isActive=function(){return!!this.g};function On(e){return e.g?e.g.readyState:0}B.da=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}};B.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};B.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),QC(t)}};function sE(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case ET:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function $C(e){const t={};e=(e.g&&2<=On(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let s=0;s<e.length;s++){if(No(e[s]))continue;var n=TC(e[s]);const o=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const l=t[o]||[];t[o]=l,l.push(n)}dC(t,function(s){return s.join(", ")})}B.Ia=function(){return this.m};B.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function wT(e){let t="";return xm(e,function(n,s){t+=s,t+=":",t+=n,t+=`\r
`}),t}function Qm(e,t,n){t:{for(s in n){var s=!1;break t}s=!0}s||(n=wT(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):kt(e,t,n))}function lo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function RT(e){this.Ga=0,this.j=[],this.l=new Sc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=lo("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=lo("baseRetryDelayMs",5e3,e),this.hb=lo("retryDelaySeedMs",1e4,e),this.eb=lo("forwardChannelMaxRetries",2,e),this.xa=lo("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new mT(e&&e.concurrentRequestLimit),this.Ja=new HC,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}B=RT.prototype;B.ra=8;B.H=1;function Km(e){if(bT(e),e.H==3){var t=e.W++,n=ui(e.I);if(kt(n,"SID",e.K),kt(n,"RID",t),kt(n,"TYPE","terminate"),el(e,n),t=new Zo(e,e.l,t),t.L=2,t.A=Cc(ui(n)),n=!1,ot.navigator&&ot.navigator.sendBeacon)try{n=ot.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&ot.Image&&(new Image().src=t.A,n=!0),n||(t.g=VT(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Jo(t)}MT(e)}function Mc(e){e.g&&(Xm(e),e.g.cancel(),e.g=null)}function bT(e){Mc(e),e.u&&(ot.clearTimeout(e.u),e.u=null),$u(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&ot.clearTimeout(e.m),e.m=null)}function xc(e){if(!gT(e.i)&&!e.m){e.m=!0;var t=e.Na;Mo||Y0(),xo||(Mo(),xo=!0),km.add(t,e),e.C=0}}function WC(e,t){return pT(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=$o(Ce(e.Na,e,t),OT(e,e.C)),e.C++,!0)}B.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const o=new Zo(this,this.l,e);let l=this.s;if(this.U&&(l?(l=B0(l),q0(l,this.U)):l=this.U),this.o!==null||this.O||(o.I=l,l=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var s=this.j[n];if("__data__"in s.map&&(s=s.map.__data__,typeof s=="string")){s=s.length;break e}s=void 0}if(s===void 0)break;if(t+=s,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=IT(this,o,t),n=ui(this.I),kt(n,"RID",e),kt(n,"CVER",22),this.F&&kt(n,"X-HTTP-Session-Id",this.F),el(this,n),l&&(this.O?t="headers="+encodeURIComponent(String(wT(l)))+"&"+t:this.o&&Qm(n,this.o,l)),Fm(this.i,o),this.bb&&kt(n,"TYPE","init"),this.P?(kt(n,"$req",t),kt(n,"SID","null"),o.aa=!0,Zd(o,n,null)):Zd(o,n,t),this.H=2}}else this.H==3&&(e?aE(this,e):this.j.length==0||gT(this.i)||aE(this))};function aE(e,t){var n;t?n=t.m:n=e.W++;const s=ui(e.I);kt(s,"SID",e.K),kt(s,"RID",n),kt(s,"AID",e.V),el(e,s),e.o&&e.s&&Qm(s,e.o,e.s),n=new Zo(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=IT(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Fm(e.i,n),Zd(n,s,t)}function el(e,t){e.na&&xm(e.na,function(n,s){kt(t,s,n)}),e.h&&uT({},function(n,s){kt(t,s,n)})}function IT(e,t,n){n=Math.min(e.j.length,n);var s=e.h?Ce(e.h.Va,e.h,e):null;t:{var o=e.j;let l=-1;for(;;){const c=["count="+n];l==-1?0<n?(l=o[0].g,c.push("ofs="+l)):l=0:c.push("ofs="+l);let m=!0;for(let d=0;d<n;d++){let g=o[d].g;const y=o[d].map;if(g-=l,0>g)l=Math.max(0,o[d].g-100),m=!1;else try{FC(y,c,"req"+g+"_")}catch{s&&s(y)}}if(m){s=c.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,s}function CT(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Mo||Y0(),xo||(Mo(),xo=!0),km.add(t,e),e.A=0}}function Ym(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=$o(Ce(e.Ma,e),OT(e,e.A)),e.A++,!0)}B.Ma=function(){if(this.u=null,DT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=$o(Ce(this.jb,this),e)}};B.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Pe(10),Mc(this),DT(this))};function Xm(e){e.B!=null&&(ot.clearTimeout(e.B),e.B=null)}function DT(e){e.g=new Zo(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=ui(e.wa);kt(t,"RID","rpc"),kt(t,"SID",e.K),kt(t,"AID",e.V),kt(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&kt(t,"TO",e.qa),kt(t,"TYPE","xmlhttp"),el(e,t),e.o&&e.s&&Qm(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Cc(ui(t)),n.u=null,n.S=!0,sT(n,e)}B.ib=function(){this.v!=null&&(this.v=null,Mc(this),Ym(this),Pe(19))};function $u(e){e.v!=null&&(ot.clearTimeout(e.v),e.v=null)}function NT(e,t){var n=null;if(e.g==t){$u(e),Xm(e),e.g=null;var s=2}else if(tm(e.i,t))n=t.F,yT(e.i,t),s=1;else return;if(e.H!=0){if(t.i)if(s==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var o=e.C;s=wc(),Ee(s,new tT(s,n)),xc(e)}else CT(e);else if(o=t.s,o==3||o==0&&0<t.ca||!(s==1&&WC(e,t)||s==2&&Ym(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:Vr(e,5);break;case 4:Vr(e,10);break;case 3:Vr(e,6);break;default:Vr(e,2)}}}function OT(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Vr(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var s=Ce(e.pb,e);n||(n=new Ur("//www.google.com/images/cleardot.gif"),ot.location&&ot.location.protocol=="http"||Yu(n,"https"),Cc(n)),GC(n.toString(),s)}else Pe(2);e.H=0,e.h&&e.h.za(t),MT(e),bT(e)}B.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Pe(2)):(this.l.info("Failed to ping google.com"),Pe(1))};function MT(e){if(e.H=0,e.ma=[],e.h){const t=_T(e.i);(t.length!=0||e.j.length!=0)&&($v(e.ma,t),$v(e.ma,e.j),e.i.i.length=0,Om(e.j),e.j.length=0),e.h.ya()}}function xT(e,t,n){var s=n instanceof Ur?ui(n):new Ur(n);if(s.g!="")t&&(s.g=t+"."+s.g),Xu(s,s.m);else{var o=ot.location;s=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var l=new Ur(null);s&&Yu(l,s),t&&(l.g=t),o&&Xu(l,o),n&&(l.l=n),s=l}return n=e.F,t=e.Da,n&&t&&kt(s,n,t),kt(s,"VER",e.ra),el(e,s),s}function VT(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Kt(new Dc({ob:n})):new Kt(e.va),t.Oa(e.J),t}B.isActive=function(){return!!this.h&&this.h.isActive(this)};function PT(){}B=PT.prototype;B.Ba=function(){};B.Aa=function(){};B.za=function(){};B.ya=function(){};B.isActive=function(){return!0};B.Va=function(){};function Wu(){if(Fs&&!(10<=Number(uC)))throw Error("Environmental error: no available transport.")}Wu.prototype.g=function(e,t){return new We(e,t)};function We(e,t){fe.call(this),this.g=new RT(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!No(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!No(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new na(this)}de(We,fe);We.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Pe(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=xT(e,null,e.Y),xc(e)};We.prototype.close=function(){Km(this.g)};We.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Lm(e),e=n);t.j.push(new zC(t.fb++,e)),t.H==3&&xc(t)};We.prototype.N=function(){this.g.h=null,delete this.j,Km(this.g),delete this.g,We.$.N.call(this)};function UT(e){qm.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}de(UT,qm);function LT(){Hm.call(this),this.status=1}de(LT,Hm);function na(e){this.g=e}de(na,PT);na.prototype.Ba=function(){Ee(this.g,"a")};na.prototype.Aa=function(e){Ee(this.g,new UT(e))};na.prototype.za=function(e){Ee(this.g,new LT)};na.prototype.ya=function(){Ee(this.g,"b")};function ZC(){this.blockSize=-1}function vn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}de(vn,ZC);vn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Id(e,t,n){n||(n=0);var s=Array(16);if(typeof t=="string")for(var o=0;16>o;++o)s[o]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(o=0;16>o;++o)s[o]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],o=e.g[2];var l=e.g[3],c=t+(l^n&(o^l))+s[0]+3614090360&4294967295;t=n+(c<<7&4294967295|c>>>25),c=l+(o^t&(n^o))+s[1]+3905402710&4294967295,l=t+(c<<12&4294967295|c>>>20),c=o+(n^l&(t^n))+s[2]+606105819&4294967295,o=l+(c<<17&4294967295|c>>>15),c=n+(t^o&(l^t))+s[3]+3250441966&4294967295,n=o+(c<<22&4294967295|c>>>10),c=t+(l^n&(o^l))+s[4]+4118548399&4294967295,t=n+(c<<7&4294967295|c>>>25),c=l+(o^t&(n^o))+s[5]+1200080426&4294967295,l=t+(c<<12&4294967295|c>>>20),c=o+(n^l&(t^n))+s[6]+2821735955&4294967295,o=l+(c<<17&4294967295|c>>>15),c=n+(t^o&(l^t))+s[7]+4249261313&4294967295,n=o+(c<<22&4294967295|c>>>10),c=t+(l^n&(o^l))+s[8]+1770035416&4294967295,t=n+(c<<7&4294967295|c>>>25),c=l+(o^t&(n^o))+s[9]+2336552879&4294967295,l=t+(c<<12&4294967295|c>>>20),c=o+(n^l&(t^n))+s[10]+4294925233&4294967295,o=l+(c<<17&4294967295|c>>>15),c=n+(t^o&(l^t))+s[11]+2304563134&4294967295,n=o+(c<<22&4294967295|c>>>10),c=t+(l^n&(o^l))+s[12]+1804603682&4294967295,t=n+(c<<7&4294967295|c>>>25),c=l+(o^t&(n^o))+s[13]+4254626195&4294967295,l=t+(c<<12&4294967295|c>>>20),c=o+(n^l&(t^n))+s[14]+2792965006&4294967295,o=l+(c<<17&4294967295|c>>>15),c=n+(t^o&(l^t))+s[15]+1236535329&4294967295,n=o+(c<<22&4294967295|c>>>10),c=t+(o^l&(n^o))+s[1]+4129170786&4294967295,t=n+(c<<5&4294967295|c>>>27),c=l+(n^o&(t^n))+s[6]+3225465664&4294967295,l=t+(c<<9&4294967295|c>>>23),c=o+(t^n&(l^t))+s[11]+643717713&4294967295,o=l+(c<<14&4294967295|c>>>18),c=n+(l^t&(o^l))+s[0]+3921069994&4294967295,n=o+(c<<20&4294967295|c>>>12),c=t+(o^l&(n^o))+s[5]+3593408605&4294967295,t=n+(c<<5&4294967295|c>>>27),c=l+(n^o&(t^n))+s[10]+38016083&4294967295,l=t+(c<<9&4294967295|c>>>23),c=o+(t^n&(l^t))+s[15]+3634488961&4294967295,o=l+(c<<14&4294967295|c>>>18),c=n+(l^t&(o^l))+s[4]+3889429448&4294967295,n=o+(c<<20&4294967295|c>>>12),c=t+(o^l&(n^o))+s[9]+568446438&4294967295,t=n+(c<<5&4294967295|c>>>27),c=l+(n^o&(t^n))+s[14]+3275163606&4294967295,l=t+(c<<9&4294967295|c>>>23),c=o+(t^n&(l^t))+s[3]+4107603335&4294967295,o=l+(c<<14&4294967295|c>>>18),c=n+(l^t&(o^l))+s[8]+1163531501&4294967295,n=o+(c<<20&4294967295|c>>>12),c=t+(o^l&(n^o))+s[13]+2850285829&4294967295,t=n+(c<<5&4294967295|c>>>27),c=l+(n^o&(t^n))+s[2]+4243563512&4294967295,l=t+(c<<9&4294967295|c>>>23),c=o+(t^n&(l^t))+s[7]+1735328473&4294967295,o=l+(c<<14&4294967295|c>>>18),c=n+(l^t&(o^l))+s[12]+2368359562&4294967295,n=o+(c<<20&4294967295|c>>>12),c=t+(n^o^l)+s[5]+4294588738&4294967295,t=n+(c<<4&4294967295|c>>>28),c=l+(t^n^o)+s[8]+2272392833&4294967295,l=t+(c<<11&4294967295|c>>>21),c=o+(l^t^n)+s[11]+1839030562&4294967295,o=l+(c<<16&4294967295|c>>>16),c=n+(o^l^t)+s[14]+4259657740&4294967295,n=o+(c<<23&4294967295|c>>>9),c=t+(n^o^l)+s[1]+2763975236&4294967295,t=n+(c<<4&4294967295|c>>>28),c=l+(t^n^o)+s[4]+1272893353&4294967295,l=t+(c<<11&4294967295|c>>>21),c=o+(l^t^n)+s[7]+4139469664&4294967295,o=l+(c<<16&4294967295|c>>>16),c=n+(o^l^t)+s[10]+3200236656&4294967295,n=o+(c<<23&4294967295|c>>>9),c=t+(n^o^l)+s[13]+681279174&4294967295,t=n+(c<<4&4294967295|c>>>28),c=l+(t^n^o)+s[0]+3936430074&4294967295,l=t+(c<<11&4294967295|c>>>21),c=o+(l^t^n)+s[3]+3572445317&4294967295,o=l+(c<<16&4294967295|c>>>16),c=n+(o^l^t)+s[6]+76029189&4294967295,n=o+(c<<23&4294967295|c>>>9),c=t+(n^o^l)+s[9]+3654602809&4294967295,t=n+(c<<4&4294967295|c>>>28),c=l+(t^n^o)+s[12]+3873151461&4294967295,l=t+(c<<11&4294967295|c>>>21),c=o+(l^t^n)+s[15]+530742520&4294967295,o=l+(c<<16&4294967295|c>>>16),c=n+(o^l^t)+s[2]+3299628645&4294967295,n=o+(c<<23&4294967295|c>>>9),c=t+(o^(n|~l))+s[0]+4096336452&4294967295,t=n+(c<<6&4294967295|c>>>26),c=l+(n^(t|~o))+s[7]+1126891415&4294967295,l=t+(c<<10&4294967295|c>>>22),c=o+(t^(l|~n))+s[14]+2878612391&4294967295,o=l+(c<<15&4294967295|c>>>17),c=n+(l^(o|~t))+s[5]+4237533241&4294967295,n=o+(c<<21&4294967295|c>>>11),c=t+(o^(n|~l))+s[12]+1700485571&4294967295,t=n+(c<<6&4294967295|c>>>26),c=l+(n^(t|~o))+s[3]+2399980690&4294967295,l=t+(c<<10&4294967295|c>>>22),c=o+(t^(l|~n))+s[10]+4293915773&4294967295,o=l+(c<<15&4294967295|c>>>17),c=n+(l^(o|~t))+s[1]+2240044497&4294967295,n=o+(c<<21&4294967295|c>>>11),c=t+(o^(n|~l))+s[8]+1873313359&4294967295,t=n+(c<<6&4294967295|c>>>26),c=l+(n^(t|~o))+s[15]+4264355552&4294967295,l=t+(c<<10&4294967295|c>>>22),c=o+(t^(l|~n))+s[6]+2734768916&4294967295,o=l+(c<<15&4294967295|c>>>17),c=n+(l^(o|~t))+s[13]+1309151649&4294967295,n=o+(c<<21&4294967295|c>>>11),c=t+(o^(n|~l))+s[4]+4149444226&4294967295,t=n+(c<<6&4294967295|c>>>26),c=l+(n^(t|~o))+s[11]+3174756917&4294967295,l=t+(c<<10&4294967295|c>>>22),c=o+(t^(l|~n))+s[2]+718787259&4294967295,o=l+(c<<15&4294967295|c>>>17),c=n+(l^(o|~t))+s[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(o+(c<<21&4294967295|c>>>11))&4294967295,e.g[2]=e.g[2]+o&4294967295,e.g[3]=e.g[3]+l&4294967295}vn.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,s=this.m,o=this.h,l=0;l<t;){if(o==0)for(;l<=n;)Id(this,e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<t;)if(s[o++]=e.charCodeAt(l++),o==this.blockSize){Id(this,s),o=0;break}}else for(;l<t;)if(s[o++]=e[l++],o==this.blockSize){Id(this,s),o=0;break}}this.h=o,this.i+=t};vn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var s=0;32>s;s+=8)e[n++]=this.g[t]>>>s&255;return e};function Dt(e,t){this.h=t;for(var n=[],s=!0,o=e.length-1;0<=o;o--){var l=e[o]|0;s&&l==t||(n[o]=l,s=!1)}this.g=n}var JC={};function $m(e){return-128<=e&&128>e?aC(e,function(t){return new Dt([t|0],0>t?-1:0)}):new Dt([e|0],0>e?-1:0)}function Mn(e){if(isNaN(e)||!isFinite(e))return ks;if(0>e)return _e(Mn(-e));for(var t=[],n=1,s=0;e>=n;s++)t[s]=e/n|0,n*=em;return new Dt(t,0)}function kT(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return _e(kT(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Mn(Math.pow(t,8)),s=ks,o=0;o<e.length;o+=8){var l=Math.min(8,e.length-o),c=parseInt(e.substring(o,o+l),t);8>l?(l=Mn(Math.pow(t,l)),s=s.R(l).add(Mn(c))):(s=s.R(n),s=s.add(Mn(c)))}return s}var em=4294967296,ks=$m(0),nm=$m(1),oE=$m(16777216);B=Dt.prototype;B.ea=function(){if(fn(this))return-_e(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var s=this.D(n);e+=(0<=s?s:em+s)*t,t*=em}return e};B.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(ri(this))return"0";if(fn(this))return"-"+_e(this).toString(e);for(var t=Mn(Math.pow(e,6)),n=this,s="";;){var o=Ju(n,t).g;n=Zu(n,o.R(t));var l=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=o,ri(n))return l+s;for(;6>l.length;)l="0"+l;s=l+s}};B.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function ri(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function fn(e){return e.h==-1}B.X=function(e){return e=Zu(this,e),fn(e)?-1:ri(e)?0:1};function _e(e){for(var t=e.g.length,n=[],s=0;s<t;s++)n[s]=~e.g[s];return new Dt(n,~e.h).add(nm)}B.abs=function(){return fn(this)?_e(this):this};B.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0,o=0;o<=t;o++){var l=s+(this.D(o)&65535)+(e.D(o)&65535),c=(l>>>16)+(this.D(o)>>>16)+(e.D(o)>>>16);s=c>>>16,l&=65535,c&=65535,n[o]=c<<16|l}return new Dt(n,n[n.length-1]&-2147483648?-1:0)};function Zu(e,t){return e.add(_e(t))}B.R=function(e){if(ri(this)||ri(e))return ks;if(fn(this))return fn(e)?_e(this).R(_e(e)):_e(_e(this).R(e));if(fn(e))return _e(this.R(_e(e)));if(0>this.X(oE)&&0>e.X(oE))return Mn(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],s=0;s<2*t;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var o=0;o<e.g.length;o++){var l=this.D(s)>>>16,c=this.D(s)&65535,m=e.D(o)>>>16,d=e.D(o)&65535;n[2*s+2*o]+=c*d,Ou(n,2*s+2*o),n[2*s+2*o+1]+=l*d,Ou(n,2*s+2*o+1),n[2*s+2*o+1]+=c*m,Ou(n,2*s+2*o+1),n[2*s+2*o+2]+=l*m,Ou(n,2*s+2*o+2)}for(s=0;s<t;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=t;s<2*t;s++)n[s]=0;return new Dt(n,0)};function Ou(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function uo(e,t){this.g=e,this.h=t}function Ju(e,t){if(ri(t))throw Error("division by zero");if(ri(e))return new uo(ks,ks);if(fn(e))return t=Ju(_e(e),t),new uo(_e(t.g),_e(t.h));if(fn(t))return t=Ju(e,_e(t)),new uo(_e(t.g),t.h);if(30<e.g.length){if(fn(e)||fn(t))throw Error("slowDivide_ only works with positive integers.");for(var n=nm,s=t;0>=s.X(e);)n=lE(n),s=lE(s);var o=Ms(n,1),l=Ms(s,1);for(s=Ms(s,2),n=Ms(n,2);!ri(s);){var c=l.add(s);0>=c.X(e)&&(o=o.add(n),l=c),s=Ms(s,1),n=Ms(n,1)}return t=Zu(e,o.R(t)),new uo(o,t)}for(o=ks;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),s=Math.ceil(Math.log(n)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),l=Mn(n),c=l.R(t);fn(c)||0<c.X(e);)n-=s,l=Mn(n),c=l.R(t);ri(l)&&(l=nm),o=o.add(l),e=Zu(e,c)}return new uo(o,e)}B.gb=function(e){return Ju(this,e).h};B.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.D(s)&e.D(s);return new Dt(n,this.h&e.h)};B.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.D(s)|e.D(s);return new Dt(n,this.h|e.h)};B.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.D(s)^e.D(s);return new Dt(n,this.h^e.h)};function lE(e){for(var t=e.g.length+1,n=[],s=0;s<t;s++)n[s]=e.D(s)<<1|e.D(s-1)>>>31;return new Dt(n,e.h)}function Ms(e,t){var n=t>>5;t%=32;for(var s=e.g.length-n,o=[],l=0;l<s;l++)o[l]=0<t?e.D(l+n)>>>t|e.D(l+n+1)<<32-t:e.D(l+n);return new Dt(o,e.h)}Wu.prototype.createWebChannel=Wu.prototype.g;We.prototype.send=We.prototype.u;We.prototype.open=We.prototype.m;We.prototype.close=We.prototype.close;Rc.NO_ERROR=0;Rc.TIMEOUT=8;Rc.HTTP_ERROR=6;eT.COMPLETE="complete";nT.EventType=Wo;Wo.OPEN="a";Wo.CLOSE="b";Wo.ERROR="c";Wo.MESSAGE="d";fe.prototype.listen=fe.prototype.O;Kt.prototype.listenOnce=Kt.prototype.P;Kt.prototype.getLastError=Kt.prototype.Sa;Kt.prototype.getLastErrorCode=Kt.prototype.Ia;Kt.prototype.getStatus=Kt.prototype.da;Kt.prototype.getResponseJson=Kt.prototype.Wa;Kt.prototype.getResponseText=Kt.prototype.ja;Kt.prototype.send=Kt.prototype.ha;Kt.prototype.setWithCredentials=Kt.prototype.Oa;vn.prototype.digest=vn.prototype.l;vn.prototype.reset=vn.prototype.reset;vn.prototype.update=vn.prototype.j;Dt.prototype.add=Dt.prototype.add;Dt.prototype.multiply=Dt.prototype.R;Dt.prototype.modulo=Dt.prototype.gb;Dt.prototype.compare=Dt.prototype.X;Dt.prototype.toNumber=Dt.prototype.ea;Dt.prototype.toString=Dt.prototype.toString;Dt.prototype.getBits=Dt.prototype.D;Dt.fromNumber=Mn;Dt.fromString=kT;var tD=function(){return new Wu},eD=function(){return wc()},Cd=Rc,nD=eT,iD=Gr,uE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Mu=nT,rD=Kt,sD=vn,js=Dt;const cE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Be.UNAUTHENTICATED=new Be(null),Be.GOOGLE_CREDENTIALS=new Be("google-credentials-uid"),Be.FIRST_PARTY=new Be("first-party-uid"),Be.MOCK_USER=new Be("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ia="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new Im("@firebase/firestore");function co(){return zr.logLevel}function Q(e,...t){if(zr.logLevel<=Et.DEBUG){const n=t.map(Wm);zr.debug(`Firestore (${ia}): ${e}`,...n)}}function ci(e,...t){if(zr.logLevel<=Et.ERROR){const n=t.map(Wm);zr.error(`Firestore (${ia}): ${e}`,...n)}}function ko(e,...t){if(zr.logLevel<=Et.WARN){const n=t.map(Wm);zr.warn(`Firestore (${ia}): ${e}`,...n)}}function Wm(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(e="Unexpected state"){const t=`FIRESTORE (${ia}) INTERNAL ASSERTION FAILED: `+e;throw ci(t),new Error(t)}function Ut(e,t){e||at()}function ht(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends di{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class oD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Be.UNAUTHENTICATED))}shutdown(){}}class lD{constructor(t){this.t=t,this.currentUser=Be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let s=this.i;const o=d=>this.i!==s?(s=this.i,n(d)):Promise.resolve();let l=new li;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new li,t.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const d=l;t.enqueueRetryable(async()=>{await d.promise,await o(this.currentUser)})},m=d=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(d=>m(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?m(d):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new li)}},0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ut(typeof s.accessToken=="string"),new aD(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ut(t===null||typeof t=="string"),new Be(t)}}class uD{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=Be.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class cD{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new uD(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Be.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hD{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fD{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const s=l=>{l.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,Q("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>s(l))};const o=l=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ut(typeof n.token=="string"),this.R=n.token,new hD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let s="";for(;s.length<20;){const o=dD(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<n&&(s+=t.charAt(o[l]%t.length))}return s}}function It(e,t){return e<t?-1:e>t?1:0}function Gs(e,t,n){return e.length===t.length&&e.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new H(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new H(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new H(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor(1e6*(t-1e3*n));return new se(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ut(t)}static min(){return new ut(new se(0,0))}static max(){return new ut(new se(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(t,n,s){n===void 0?n=0:n>t.length&&at(),s===void 0?s=t.length-n:s>t.length-n&&at(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return jo.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof jo?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const l=t.get(o),c=n.get(o);if(l<c)return-1;if(l>c)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class jt extends jo{construct(t,n,s){return new jt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new H(P.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new jt(n)}static emptyPath(){return new jt([])}}const mD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ve extends jo{construct(t,n,s){return new ve(t,n,s)}static isValidIdentifier(t){return mD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ve.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ve(["__name__"])}static fromServerFormat(t){const n=[];let s="",o=0;const l=()=>{if(s.length===0)throw new H(P.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new H(P.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new H(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=d,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(l(),o++)}if(l(),c)throw new H(P.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ve(n)}static emptyPath(){return new ve([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.path=t}static fromPath(t){return new W(jt.fromString(t))}static fromName(t){return new W(jt.fromString(t).popFirst(5))}static empty(){return new W(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return jt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new W(new jt(t.slice()))}}function gD(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,o=ut.fromTimestamp(s===1e9?new se(n+1,0):new se(n,s));return new Ji(o,W.empty(),t)}function pD(e){return new Ji(e.readTime,e.key,-1)}class Ji{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Ji(ut.min(),W.empty(),-1)}static max(){return new Ji(ut.max(),W.empty(),-1)}}function yD(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=W.comparator(e.documentKey,t.documentKey),n!==0?n:It(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(e){if(e.code!==P.FAILED_PRECONDITION||e.message!==_D)throw e;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new k((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):k.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):k.reject(n)}static resolve(t){return new k((n,s)=>{n(t)})}static reject(t){return new k((n,s)=>{s(t)})}static waitFor(t){return new k((n,s)=>{let o=0,l=0,c=!1;t.forEach(m=>{++o,m.next(()=>{++l,c&&l===o&&n()},d=>s(d))}),c=!0,l===o&&n()})}static or(t){let n=k.resolve(!1);for(const s of t)n=n.next(o=>o?k.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,l)=>{s.push(n.call(this,o,l))}),this.waitFor(s)}static mapArray(t,n){return new k((s,o)=>{const l=t.length,c=new Array(l);let m=0;for(let d=0;d<l;d++){const g=d;n(t[g]).next(y=>{c[g]=y,++m,m===l&&s(c)},y=>o(y))}})}static doWhile(t,n){return new k((s,o)=>{const l=()=>{t()===!0?n().next(()=>{l()},o):s()};l()})}}function il(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.se(s),this.oe=s=>n.writeSequenceNumber(s))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}Zm._e=-1;function Vc(e){return e==null}function tc(e){return e===0&&1/e==-1/0}function ED(e){return typeof e=="number"&&Number.isInteger(e)&&!tc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Qr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function zT(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t,n){this.comparator=t,this.root=n||ye.EMPTY}insert(t,n){return new Ht(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ye.BLACK,null,null))}remove(t){return new Ht(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ye.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xu(this.root,t,this.comparator,!1)}getReverseIterator(){return new xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xu(this.root,t,this.comparator,!0)}}class xu{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&o&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ye{constructor(t,n,s,o,l){this.key=t,this.value=n,this.color=s??ye.RED,this.left=o??ye.EMPTY,this.right=l??ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,l){return new ye(t??this.key,n??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const l=s(t,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(t,n,s),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return ye.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const t=this.left.check();if(t!==this.right.check())throw at();return t+(this.isRed()?0:1)}}ye.EMPTY=null,ye.RED=!0,ye.BLACK=!1;ye.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(t,n,s,o,l){return this}insert(t,n,s){return new ye(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(t){this.comparator=t,this.data=new Ht(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new fE(this.data.getIterator())}getIteratorFrom(t){return new fE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Te)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Te(this.comparator);return n.data=t,n}}class fE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.fields=t,t.sort(ve.comparator)}static empty(){return new $e([])}unionWith(t){let n=new Te(ve.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new $e(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Gs(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new BT("Invalid base64 string: "+l):l}}(t);return new Oe(n)}static fromUint8Array(t){const n=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(t);return new Oe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Oe.EMPTY_BYTE_STRING=new Oe("");const TD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tr(e){if(Ut(!!e),typeof e=="string"){let t=0;const n=TD.exec(e);if(Ut(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ee(e.seconds),nanos:ee(e.nanos)}}function ee(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Br(e){return typeof e=="string"?Oe.fromBase64String(e):Oe.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function tg(e){const t=e.mapValue.fields.__previous_value__;return Jm(t)?tg(t):t}function zo(e){const t=tr(e.mapValue.fields.__local_write_time__.timestampValue);return new se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(t,n,s,o,l,c,m,d,g){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=d,this.useFetchStreams=g}}class Bo{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Bo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Bo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu={mapValue:{}};function qr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Jm(e)?4:SD(e)?9007199254740991:10:at()}function Ln(e,t){if(e===t)return!0;const n=qr(e);if(n!==qr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return zo(e).isEqual(zo(t));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=tr(o.timestampValue),m=tr(l.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,l){return Br(o.bytesValue).isEqual(Br(l.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,l){return ee(o.geoPointValue.latitude)===ee(l.geoPointValue.latitude)&&ee(o.geoPointValue.longitude)===ee(l.geoPointValue.longitude)}(e,t);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ee(o.integerValue)===ee(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=ee(o.doubleValue),m=ee(l.doubleValue);return c===m?tc(c)===tc(m):isNaN(c)&&isNaN(m)}return!1}(e,t);case 9:return Gs(e.arrayValue.values||[],t.arrayValue.values||[],Ln);case 10:return function(o,l){const c=o.mapValue.fields||{},m=l.mapValue.fields||{};if(hE(c)!==hE(m))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(m[d]===void 0||!Ln(c[d],m[d])))return!1;return!0}(e,t);default:return at()}}function qo(e,t){return(e.values||[]).find(n=>Ln(n,t))!==void 0}function Qs(e,t){if(e===t)return 0;const n=qr(e),s=qr(t);if(n!==s)return It(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return It(e.booleanValue,t.booleanValue);case 2:return function(l,c){const m=ee(l.integerValue||l.doubleValue),d=ee(c.integerValue||c.doubleValue);return m<d?-1:m>d?1:m===d?0:isNaN(m)?isNaN(d)?0:-1:1}(e,t);case 3:return dE(e.timestampValue,t.timestampValue);case 4:return dE(zo(e),zo(t));case 5:return It(e.stringValue,t.stringValue);case 6:return function(l,c){const m=Br(l),d=Br(c);return m.compareTo(d)}(e.bytesValue,t.bytesValue);case 7:return function(l,c){const m=l.split("/"),d=c.split("/");for(let g=0;g<m.length&&g<d.length;g++){const y=It(m[g],d[g]);if(y!==0)return y}return It(m.length,d.length)}(e.referenceValue,t.referenceValue);case 8:return function(l,c){const m=It(ee(l.latitude),ee(c.latitude));return m!==0?m:It(ee(l.longitude),ee(c.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(l,c){const m=l.values||[],d=c.values||[];for(let g=0;g<m.length&&g<d.length;++g){const y=Qs(m[g],d[g]);if(y)return y}return It(m.length,d.length)}(e.arrayValue,t.arrayValue);case 10:return function(l,c){if(l===Vu.mapValue&&c===Vu.mapValue)return 0;if(l===Vu.mapValue)return 1;if(c===Vu.mapValue)return-1;const m=l.fields||{},d=Object.keys(m),g=c.fields||{},y=Object.keys(g);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const T=It(d[v],y[v]);if(T!==0)return T;const I=Qs(m[d[v]],g[y[v]]);if(I!==0)return I}return It(d.length,y.length)}(e.mapValue,t.mapValue);default:throw at()}}function dE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return It(e,t);const n=tr(e),s=tr(t),o=It(n.seconds,s.seconds);return o!==0?o:It(n.nanos,s.nanos)}function Ks(e){return im(e)}function im(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const s=tr(n);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Br(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return W.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let s="[",o=!0;for(const l of n.values||[])o?o=!1:s+=",",s+=im(l);return s+"]"}(e.arrayValue):"mapValue"in e?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${im(n.fields[c])}`;return o+"}"}(e.mapValue):at()}function mE(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function rm(e){return!!e&&"integerValue"in e}function eg(e){return!!e&&"arrayValue"in e}function gE(e){return!!e&&"nullValue"in e}function pE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ku(e){return!!e&&"mapValue"in e}function Eo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Qr(e.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Eo(s)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Eo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function SD(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.value=t}static empty(){return new qe({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!ku(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Eo(n)}setAll(t){let n=ve.emptyPath(),s={},o=[];t.forEach((c,m)=>{if(!n.isImmediateParentOf(m)){const d=this.getFieldsMap(n);this.applyChanges(d,s,o),s={},o=[],n=m.popLast()}c?s[m.lastSegment()]=Eo(c):o.push(m.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,s,o)}delete(t){const n=this.field(t.popLast());ku(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ln(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];ku(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Qr(n,(o,l)=>t[o]=l);for(const o of s)delete t[o]}clone(){return new qe(Eo(this.value))}}function qT(e){const t=[];return Qr(e.fields,(n,s)=>{const o=new ve([n]);if(ku(s)){const l=qT(s.mapValue).fields;if(l.length===0)t.push(o);else for(const c of l)t.push(o.child(c))}else t.push(o)}),new $e(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t,n,s,o,l,c,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=m}static newInvalidDocument(t){return new Ie(t,0,ut.min(),ut.min(),ut.min(),qe.empty(),0)}static newFoundDocument(t,n,s,o){return new Ie(t,1,n,ut.min(),s,o,0)}static newNoDocument(t,n){return new Ie(t,2,n,ut.min(),ut.min(),qe.empty(),0)}static newUnknownDocument(t,n){return new Ie(t,3,n,ut.min(),ut.min(),qe.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qe.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ut.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ie&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ie(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(t,n){this.position=t,this.inclusive=n}}function yE(e,t,n){let s=0;for(let o=0;o<e.position.length;o++){const l=t[o],c=e.position[o];if(l.field.isKeyField()?s=W.comparator(W.fromName(c.referenceValue),n.key):s=Qs(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function _E(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ln(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(t,n="asc"){this.field=t,this.dir=n}}function wD(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{}class ne extends HT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new bD(t,n,s):n==="array-contains"?new DD(t,s):n==="in"?new ND(t,s):n==="not-in"?new OD(t,s):n==="array-contains-any"?new MD(t,s):new ne(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new ID(t,s):new CD(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qs(n,this.value)):n!==null&&qr(this.value)===qr(n)&&this.matchesComparison(Qs(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return at()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class En extends HT{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new En(t,n)}matches(t){return FT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function FT(e){return e.op==="and"}function GT(e){return RD(e)&&FT(e)}function RD(e){for(const t of e.filters)if(t instanceof En)return!1;return!0}function sm(e){if(e instanceof ne)return e.field.canonicalString()+e.op.toString()+Ks(e.value);if(GT(e))return e.filters.map(t=>sm(t)).join(",");{const t=e.filters.map(n=>sm(n)).join(",");return`${e.op}(${t})`}}function QT(e,t){return e instanceof ne?function(s,o){return o instanceof ne&&s.op===o.op&&s.field.isEqual(o.field)&&Ln(s.value,o.value)}(e,t):e instanceof En?function(s,o){return o instanceof En&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,c,m)=>l&&QT(c,o.filters[m]),!0):!1}(e,t):void at()}function KT(e){return e instanceof ne?function(n){return`${n.field.canonicalString()} ${n.op} ${Ks(n.value)}`}(e):e instanceof En?function(n){return n.op.toString()+" {"+n.getFilters().map(KT).join(" ,")+"}"}(e):"Filter"}class bD extends ne{constructor(t,n,s){super(t,n,s),this.key=W.fromName(s.referenceValue)}matches(t){const n=W.comparator(t.key,this.key);return this.matchesComparison(n)}}class ID extends ne{constructor(t,n){super(t,"in",n),this.keys=YT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class CD extends ne{constructor(t,n){super(t,"not-in",n),this.keys=YT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function YT(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>W.fromName(s.referenceValue))}class DD extends ne{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return eg(n)&&qo(n.arrayValue,this.value)}}class ND extends ne{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&qo(this.value.arrayValue,n)}}class OD extends ne{constructor(t,n){super(t,"not-in",n)}matches(t){if(qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!qo(this.value.arrayValue,n)}}class MD extends ne{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!eg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>qo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t,n=null,s=[],o=[],l=null,c=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=m,this.ce=null}}function vE(e,t=null,n=[],s=[],o=null,l=null,c=null){return new xD(e,t,n,s,o,l,c)}function ng(e){const t=ht(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>sm(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Vc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Ks(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Ks(s)).join(",")),t.ce=n}return t.ce}function ig(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!wD(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!QT(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!_E(e.startAt,t.startAt)&&_E(e.endAt,t.endAt)}function am(e){return W.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(t,n=null,s=[],o=[],l=null,c="F",m=null,d=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=m,this.endAt=d,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function VD(e,t,n,s,o,l,c,m){return new rl(e,t,n,s,o,l,c,m)}function rg(e){return new rl(e)}function EE(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function XT(e){return e.collectionGroup!==null}function To(e){const t=ht(e);if(t.le===null){t.le=[];const n=new Set;for(const l of t.explicitOrderBy)t.le.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Te(ve.comparator);return c.filters.forEach(d=>{d.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||t.le.push(new nc(l,s))}),n.has(ve.keyField().canonicalString())||t.le.push(new nc(ve.keyField(),s))}return t.le}function xn(e){const t=ht(e);return t.he||(t.he=PD(t,To(e))),t.he}function PD(e,t){if(e.limitType==="F")return vE(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new nc(o.field,l)});const n=e.endAt?new ec(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new ec(e.startAt.position,e.startAt.inclusive):null;return vE(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function om(e,t){const n=e.filters.concat([t]);return new rl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function lm(e,t,n){return new rl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Pc(e,t){return ig(xn(e),xn(t))&&e.limitType===t.limitType}function $T(e){return`${ng(xn(e))}|lt:${e.limitType}`}function xs(e){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>KT(o)).join(", ")}]`),Vc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Ks(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Ks(o)).join(",")),`Target(${s})`}(xn(e))}; limitType=${e.limitType})`}function Uc(e,t){return t.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):W.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(e,t)&&function(s,o){for(const l of To(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(e,t)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(e,t)&&function(s,o){return!(s.startAt&&!function(c,m,d){const g=yE(c,m,d);return c.inclusive?g<=0:g<0}(s.startAt,To(s),o)||s.endAt&&!function(c,m,d){const g=yE(c,m,d);return c.inclusive?g>=0:g>0}(s.endAt,To(s),o))}(e,t)}function UD(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function WT(e){return(t,n)=>{let s=!1;for(const o of To(e)){const l=LD(o,t,n);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function LD(e,t,n){const s=e.field.isKeyField()?W.comparator(t.key,n.key):function(l,c,m){const d=c.data.field(l),g=m.data.field(l);return d!==null&&g!==null?Qs(d,g):at()}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return at()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],t))return void(o[l]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Qr(this.inner,(n,s)=>{for(const[o,l]of s)t(o,l)})}isEmpty(){return zT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new Ht(W.comparator);function hi(){return kD}const ZT=new Ht(W.comparator);function po(...e){let t=ZT;for(const n of e)t=t.insert(n.key,n);return t}function JT(e){let t=ZT;return e.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Pr(){return Ao()}function tA(){return Ao()}function Ao(){return new ra(e=>e.toString(),(e,t)=>e.isEqual(t))}const jD=new Ht(W.comparator),zD=new Te(W.comparator);function _t(...e){let t=zD;for(const n of e)t=t.add(n);return t}const BD=new Te(It);function qD(){return BD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tc(t)?"-0":t}}function nA(e){return{integerValue:""+e}}function HD(e,t){return ED(t)?nA(t):eA(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(){this._=void 0}}function FD(e,t,n){return e instanceof ic?function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Jm(l)&&(l=tg(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(n,t):e instanceof Ho?rA(e,t):e instanceof Fo?sA(e,t):function(o,l){const c=iA(o,l),m=TE(c)+TE(o.Ie);return rm(c)&&rm(o.Ie)?nA(m):eA(o.serializer,m)}(e,t)}function GD(e,t,n){return e instanceof Ho?rA(e,t):e instanceof Fo?sA(e,t):n}function iA(e,t){return e instanceof rc?function(s){return rm(s)||function(l){return!!l&&"doubleValue"in l}(s)}(t)?t:{integerValue:0}:null}class ic extends Lc{}class Ho extends Lc{constructor(t){super(),this.elements=t}}function rA(e,t){const n=aA(t);for(const s of e.elements)n.some(o=>Ln(o,s))||n.push(s);return{arrayValue:{values:n}}}class Fo extends Lc{constructor(t){super(),this.elements=t}}function sA(e,t){let n=aA(t);for(const s of e.elements)n=n.filter(o=>!Ln(o,s));return{arrayValue:{values:n}}}class rc extends Lc{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function TE(e){return ee(e.integerValue||e.doubleValue)}function aA(e){return eg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function QD(e,t){return e.field.isEqual(t.field)&&function(s,o){return s instanceof Ho&&o instanceof Ho||s instanceof Fo&&o instanceof Fo?Gs(s.elements,o.elements,Ln):s instanceof rc&&o instanceof rc?Ln(s.Ie,o.Ie):s instanceof ic&&o instanceof ic}(e.transform,t.transform)}class KD{constructor(t,n){this.version=t,this.transformResults=n}}class dn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new dn}static exists(t){return new dn(void 0,t)}static updateTime(t){return new dn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ju(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class kc{}function oA(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new sg(e.key,dn.none()):new sl(e.key,e.data,dn.none());{const n=e.data,s=qe.empty();let o=new Te(ve.comparator);for(let l of t.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new ar(e.key,s,new $e(o.toArray()),dn.none())}}function YD(e,t,n){e instanceof sl?function(o,l,c){const m=o.value.clone(),d=SE(o.fieldTransforms,l,c.transformResults);m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(e,t,n):e instanceof ar?function(o,l,c){if(!ju(o.precondition,l))return void l.convertToUnknownDocument(c.version);const m=SE(o.fieldTransforms,l,c.transformResults),d=l.data;d.setAll(lA(o)),d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(e,t,n):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,n)}function So(e,t,n,s){return e instanceof sl?function(l,c,m,d){if(!ju(l.precondition,c))return m;const g=l.value.clone(),y=wE(l.fieldTransforms,d,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(e,t,n,s):e instanceof ar?function(l,c,m,d){if(!ju(l.precondition,c))return m;const g=wE(l.fieldTransforms,d,c),y=c.data;return y.setAll(lA(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(v=>v.field))}(e,t,n,s):function(l,c,m){return ju(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m}(e,t,n)}function XD(e,t){let n=null;for(const s of e.fieldTransforms){const o=t.data.field(s.field),l=iA(s.transform,o||null);l!=null&&(n===null&&(n=qe.empty()),n.set(s.field,l))}return n||null}function AE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Gs(s,o,(l,c)=>QD(l,c))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class sl extends kc{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ar extends kc{constructor(t,n,s,o,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function lA(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}}),t}function SE(e,t,n){const s=new Map;Ut(e.length===n.length);for(let o=0;o<n.length;o++){const l=e[o],c=l.transform,m=t.data.field(l.field);s.set(l.field,GD(c,m,n[o]))}return s}function wE(e,t,n){const s=new Map;for(const o of e){const l=o.transform,c=n.data.field(o.field);s.set(o.field,FD(l,c,t))}return s}class sg extends kc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $D extends kc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(t.key)&&YD(l,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=So(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=So(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=tA();return this.mutations.forEach(o=>{const l=t.get(o.key),c=l.overlayedDocument;let m=this.applyToLocalView(c,l.mutatedFields);m=n.has(o.key)?null:m;const d=oA(c,m);d!==null&&s.set(o.key,d),c.isValidDocument()||c.convertToNoDocument(ut.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),_t())}isEqual(t){return this.batchId===t.batchId&&Gs(this.mutations,t.mutations,(n,s)=>AE(n,s))&&Gs(this.baseMutations,t.baseMutations,(n,s)=>AE(n,s))}}class ag{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ut(t.mutations.length===s.length);let o=function(){return jD}();const l=t.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new ag(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te,St;function tN(e){switch(e){default:return at();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function uA(e){if(e===void 0)return ci("GRPC error has no .code"),P.UNKNOWN;switch(e){case te.OK:return P.OK;case te.CANCELLED:return P.CANCELLED;case te.UNKNOWN:return P.UNKNOWN;case te.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case te.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case te.INTERNAL:return P.INTERNAL;case te.UNAVAILABLE:return P.UNAVAILABLE;case te.UNAUTHENTICATED:return P.UNAUTHENTICATED;case te.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case te.NOT_FOUND:return P.NOT_FOUND;case te.ALREADY_EXISTS:return P.ALREADY_EXISTS;case te.PERMISSION_DENIED:return P.PERMISSION_DENIED;case te.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case te.ABORTED:return P.ABORTED;case te.OUT_OF_RANGE:return P.OUT_OF_RANGE;case te.UNIMPLEMENTED:return P.UNIMPLEMENTED;case te.DATA_LOSS:return P.DATA_LOSS;default:return at()}}(St=te||(te={}))[St.OK=0]="OK",St[St.CANCELLED=1]="CANCELLED",St[St.UNKNOWN=2]="UNKNOWN",St[St.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",St[St.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",St[St.NOT_FOUND=5]="NOT_FOUND",St[St.ALREADY_EXISTS=6]="ALREADY_EXISTS",St[St.PERMISSION_DENIED=7]="PERMISSION_DENIED",St[St.UNAUTHENTICATED=16]="UNAUTHENTICATED",St[St.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",St[St.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",St[St.ABORTED=10]="ABORTED",St[St.OUT_OF_RANGE=11]="OUT_OF_RANGE",St[St.UNIMPLEMENTED=12]="UNIMPLEMENTED",St[St.INTERNAL=13]="INTERNAL",St[St.UNAVAILABLE=14]="UNAVAILABLE",St[St.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=new js([4294967295,4294967295],0);function RE(e){const t=eN().encode(e),n=new sD;return n.update(t),new Uint8Array(n.digest())}function bE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new js([n,s],0),new js([o,l],0)]}class og{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new yo(`Invalid padding: ${n}`);if(s<0)throw new yo(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new yo(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new yo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=js.fromNumber(this.Te)}de(t,n,s){let o=t.add(n.multiply(js.fromNumber(s)));return o.compare(nN)===1&&(o=new js([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=RE(t),[s,o]=bE(n);for(let l=0;l<this.hashCount;l++){const c=this.de(s,o,l);if(!this.Ae(c))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new og(l,o,n);return s.forEach(m=>c.insert(m)),c}insert(t){if(this.Te===0)return;const n=RE(t),[s,o]=bE(n);for(let l=0;l<this.hashCount;l++){const c=this.de(s,o,l);this.Re(c)}}Re(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class yo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,n,s,o,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,al.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new jc(ut.min(),o,new Ht(It),hi(),_t())}}class al{constructor(t,n,s,o,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new al(s,n,_t(),_t(),_t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(t,n,s,o){this.Ve=t,this.removedTargetIds=n,this.key=s,this.me=o}}class cA{constructor(t,n){this.targetId=t,this.fe=n}}class hA{constructor(t,n,s=Oe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class IE{constructor(){this.ge=0,this.pe=DE(),this.ye=Oe.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=_t(),n=_t(),s=_t();return this.pe.forEach((o,l)=>{switch(l){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:at()}}),new al(this.ye,this.we,t,n,s)}Fe(){this.Se=!1,this.pe=DE()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ut(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class iN{constructor(t){this.Le=t,this.ke=new Map,this.qe=hi(),this.Qe=CE(),this.Ke=new Ht(It)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const s=this.ze(n);switch(t.state){case 0:this.je(n)&&s.Ce(t.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(t.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(n);break;case 3:this.je(n)&&(s.Be(),s.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.Ce(t.resumeToken));break;default:at()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((s,o)=>{this.je(o)&&n(o)})}Je(t){const n=t.targetId,s=t.fe.count,o=this.Ye(n);if(o){const l=o.target;if(am(l))if(s===0){const c=new W(l.path);this.We(n,c,Ie.newNoDocument(c,ut.min()))}else Ut(s===1);else{const c=this.Ze(n);if(c!==s){const m=this.Xe(t),d=m?this.et(m,t,c):1;if(d!==0){this.He(n);const g=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=n;let c,m;try{c=Br(s).toUint8Array()}catch(d){if(d instanceof BT)return ko("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{m=new og(c,o,l)}catch(d){return ko(d instanceof yo?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return m.Te===0?null:m}et(t,n,s){return n.fe.count===s-this.rt(t,n.targetId)?0:2}rt(t,n){const s=this.Le.getRemoteKeysForTarget(n);let o=0;return s.forEach(l=>{const c=this.Le.nt(),m=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(m)||(this.We(n,l,null),o++)}),o}it(t){const n=new Map;this.ke.forEach((l,c)=>{const m=this.Ye(c);if(m){if(l.current&&am(m.target)){const d=new W(m.target.path);this.qe.get(d)!==null||this.st(c,d)||this.We(c,d,Ie.newNoDocument(d,t))}l.De&&(n.set(c,l.ve()),l.Fe())}});let s=_t();this.Qe.forEach((l,c)=>{let m=!0;c.forEachWhile(d=>{const g=this.Ye(d);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(l))}),this.qe.forEach((l,c)=>c.setReadTime(t));const o=new jc(t,n,this.Ke,this.qe,s);return this.qe=hi(),this.Qe=CE(),this.Ke=new Ht(It),o}Ue(t,n){if(!this.je(t))return;const s=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,s),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,s){if(!this.je(t))return;const o=this.ze(t);this.st(t,n)?o.Me(n,1):o.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),s&&(this.qe=this.qe.insert(n,s))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new IE,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new Te(It),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new IE),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function CE(){return new Ht(W.comparator)}function DE(){return new Ht(W.comparator)}const rN={asc:"ASCENDING",desc:"DESCENDING"},sN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aN={and:"AND",or:"OR"};class oN{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function um(e,t){return e.useProto3Json||Vc(t)?t:{value:t}}function sc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function lN(e,t){return sc(e,t.toTimestamp())}function Vn(e){return Ut(!!e),ut.fromTimestamp(function(n){const s=tr(n);return new se(s.seconds,s.nanos)}(e))}function lg(e,t){return function(s){return new jt(["projects",s.projectId,"databases",s.database])}(e).child("documents").child(t).canonicalString()}function dA(e){const t=jt.fromString(e);return Ut(yA(t)),t}function cm(e,t){return lg(e.databaseId,t.path)}function Dd(e,t){const n=dA(t);if(n.get(1)!==e.databaseId.projectId)throw new H(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new H(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new W(mA(n))}function hm(e,t){return lg(e.databaseId,t)}function uN(e){const t=dA(e);return t.length===4?jt.emptyPath():mA(t)}function fm(e){return new jt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function mA(e){return Ut(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function NE(e,t,n){return{name:cm(e,t),fields:n.value.mapValue.fields}}function cN(e,t){let n;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:at()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],l=function(g,y){return g.useProto3Json?(Ut(y===void 0||typeof y=="string"),Oe.fromBase64String(y||"")):(Ut(y===void 0||y instanceof Uint8Array),Oe.fromUint8Array(y||new Uint8Array))}(e,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&function(g){const y=g.code===void 0?P.UNKNOWN:uA(g.code);return new H(y,g.message||"")}(c);n=new hA(s,o,l,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Dd(e,s.document.name),l=Vn(s.document.updateTime),c=s.document.createTime?Vn(s.document.createTime):ut.min(),m=new qe({mapValue:{fields:s.document.fields}}),d=Ie.newFoundDocument(o,l,c,m),g=s.targetIds||[],y=s.removedTargetIds||[];n=new zu(g,y,d.key,d)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Dd(e,s.document),l=s.readTime?Vn(s.readTime):ut.min(),c=Ie.newNoDocument(o,l),m=s.removedTargetIds||[];n=new zu([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Dd(e,s.document),l=s.removedTargetIds||[];n=new zu([],l,o,null)}else{if(!("filter"in t))return at();{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new JD(o,l),m=s.targetId;n=new cA(m,c)}}return n}function hN(e,t){let n;if(t instanceof sl)n={update:NE(e,t.key,t.value)};else if(t instanceof sg)n={delete:cm(e,t.key)};else if(t instanceof ar)n={update:NE(e,t.key,t.data),updateMask:EN(t.fieldMask)};else{if(!(t instanceof $D))return at();n={verify:cm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(l,c){const m=c.transform;if(m instanceof ic)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ho)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Fo)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof rc)return{fieldPath:c.field.canonicalString(),increment:m.Ie};throw at()}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:lN(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:at()}(e,t.precondition)),n}function fN(e,t){return e&&e.length>0?(Ut(t!==void 0),e.map(n=>function(o,l){let c=o.updateTime?Vn(o.updateTime):Vn(l);return c.isEqual(ut.min())&&(c=Vn(l)),new KD(c,o.transformResults||[])}(n,t))):[]}function dN(e,t){return{documents:[hm(e,t.path)]}}function mN(e,t){const n={structuredQuery:{}},s=t.path;t.collectionGroup!==null?(n.parent=hm(e,s),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=hm(e,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const o=function(d){if(d.length!==0)return pA(En.create(d,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const l=function(d){if(d.length!==0)return d.map(g=>function(v){return{field:Vs(v.field),direction:yN(v.dir)}}(g))}(t.orderBy);l&&(n.structuredQuery.orderBy=l);const c=um(e,t.limit);return c!==null&&(n.structuredQuery.limit=c),t.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),n}function gN(e){let t=uN(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ut(s===1);const y=n.from[0];y.allDescendants?o=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=function(v){const T=gA(v);return T instanceof En&&GT(T)?T.getFilters():[T]}(n.where));let c=[];n.orderBy&&(c=function(v){return v.map(T=>function(L){return new nc(Ps(L.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(T))}(n.orderBy));let m=null;n.limit&&(m=function(v){let T;return T=typeof v=="object"?v.value:v,Vc(T)?null:T}(n.limit));let d=null;n.startAt&&(d=function(v){const T=!!v.before,I=v.values||[];return new ec(I,T)}(n.startAt));let g=null;return n.endAt&&(g=function(v){const T=!v.before,I=v.values||[];return new ec(I,T)}(n.endAt)),VD(t,o,c,l,m,"F",d,g)}function pN(e,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return at()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function gA(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ps(n.unaryFilter.field);return ne.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ps(n.unaryFilter.field);return ne.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ps(n.unaryFilter.field);return ne.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ps(n.unaryFilter.field);return ne.create(c,"!=",{nullValue:"NULL_VALUE"});default:return at()}}(e):e.fieldFilter!==void 0?function(n){return ne.create(Ps(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return En.create(n.compositeFilter.filters.map(s=>gA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return at()}}(n.compositeFilter.op))}(e):at()}function yN(e){return rN[e]}function _N(e){return sN[e]}function vN(e){return aN[e]}function Vs(e){return{fieldPath:e.canonicalString()}}function Ps(e){return ve.fromServerFormat(e.fieldPath)}function pA(e){return e instanceof ne?function(n){if(n.op==="=="){if(pE(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NAN"}};if(gE(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pE(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NOT_NAN"}};if(gE(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vs(n.field),op:_N(n.op),value:n.value}}}(e):e instanceof En?function(n){const s=n.getFilters().map(o=>pA(o));return s.length===1?s[0]:{compositeFilter:{op:vN(n.op),filters:s}}}(e):at()}function EN(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function yA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(t,n,s,o,l=ut.min(),c=ut.min(),m=Oe.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=d}withSequenceNumber(t){return new Ki(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(t){this.ut=t}}function AN(e){const t=gN({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?lm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.on=new wN}addToCollectionParentIndex(t,n){return this.on.add(n),k.resolve()}getCollectionParents(t,n){return k.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return k.resolve()}deleteFieldIndex(t,n){return k.resolve()}deleteAllFieldIndexes(t){return k.resolve()}createTargetIndexes(t,n){return k.resolve()}getDocumentsMatchingTarget(t,n){return k.resolve(null)}getIndexType(t,n){return k.resolve(0)}getFieldIndexes(t,n){return k.resolve([])}getNextCollectionGroupToUpdate(t){return k.resolve(null)}getMinOffset(t,n){return k.resolve(Ji.min())}getMinOffsetFromCollectionGroup(t,n){return k.resolve(Ji.min())}updateCollectionGroup(t,n,s){return k.resolve()}updateIndexEntries(t,n){return k.resolve()}}class wN{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Te(jt.comparator),l=!o.has(s);return this.index[n]=o.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Te(jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Ys(0)}static Nn(){return new Ys(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.changes=new ra(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ie.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?k.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&So(s.mutation,o,$e.empty(),se.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,_t()).next(()=>s))}getLocalViewOfDocuments(t,n,s=_t()){const o=Pr();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(l=>{let c=po();return l.forEach((m,d)=>{c=c.insert(m,d.overlayedDocument)}),c}))}getOverlayedDocuments(t,n){const s=Pr();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,_t()))}populateOverlays(t,n,s){const o=[];return s.forEach(l=>{n.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(t,o).next(l=>{l.forEach((c,m)=>{n.set(c,m)})})}computeViews(t,n,s,o){let l=hi();const c=Ao(),m=function(){return Ao()}();return n.forEach((d,g)=>{const y=s.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof ar)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),So(y.mutation,g,y.mutation.getFieldMask(),se.now())):c.set(g.key,$e.empty())}),this.recalculateAndSaveOverlays(t,l).next(d=>(d.forEach((g,y)=>c.set(g,y)),n.forEach((g,y)=>{var v;return m.set(g,new bN(y,(v=c.get(g))!==null&&v!==void 0?v:null))}),m))}recalculateAndSaveOverlays(t,n){const s=Ao();let o=new Ht((c,m)=>c-m),l=_t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(c=>{for(const m of c)m.keys().forEach(d=>{const g=n.get(d);if(g===null)return;let y=s.get(d)||$e.empty();y=m.applyToLocalView(g,y),s.set(d,y);const v=(o.get(m.batchId)||_t()).add(d);o=o.insert(m.batchId,v)})}).next(()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const d=m.getNext(),g=d.key,y=d.value,v=tA();y.forEach(T=>{if(!l.has(T)){const I=oA(n.get(T),s.get(T));I!==null&&v.set(T,I),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(t,g,v))}return k.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(c){return W.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):XT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-l.size):k.resolve(Pr());let m=-1,d=l;return c.next(g=>k.forEach(g,(y,v)=>(m<v.largestBatchId&&(m=v.largestBatchId),l.get(y)?k.resolve():this.remoteDocumentCache.getEntry(t,y).next(T=>{d=d.insert(y,T)}))).next(()=>this.populateOverlays(t,g,l)).next(()=>this.computeViews(t,d,g,_t())).next(y=>({batchId:m,changes:JT(y)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new W(n)).next(s=>{let o=po();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const l=n.collectionGroup;let c=po();return this.indexManager.getCollectionParents(t,l).next(m=>k.forEach(m,d=>{const g=function(v,T){return new rl(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(y=>{y.forEach((v,T)=>{c=c.insert(v,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,n,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,o))).next(c=>{l.forEach((d,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,Ie.newInvalidDocument(y)))});let m=po();return c.forEach((d,g)=>{const y=l.get(d);y!==void 0&&So(y.mutation,g,$e.empty(),se.now()),Uc(n,g)&&(m=m.insert(d,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return k.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Vn(o.createTime)}}(n)),k.resolve()}getNamedQuery(t,n){return k.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(o){return{name:o.name,query:AN(o.bundledQuery),readTime:Vn(o.readTime)}}(n)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.overlays=new Ht(W.comparator),this.lr=new Map}getOverlay(t,n){return k.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Pr();return k.forEach(n,o=>this.getOverlay(t,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,l)=>{this.lt(t,n,l)}),k.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.lr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.lr.delete(s)),k.resolve()}getOverlaysForCollection(t,n,s){const o=Pr(),l=n.length+1,c=new W(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const d=m.getNext().value,g=d.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&d.largestBatchId>s&&o.set(d.getKey(),d)}return k.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let l=new Ht((g,y)=>g-y);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=Pr(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const m=Pr(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((g,y)=>m.set(g,y)),!(m.size()>=o)););return k.resolve(m)}lt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.lr.get(o.largestBatchId).delete(s.key);this.lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new ZD(n,s));let l=this.lr.get(n);l===void 0&&(l=_t(),this.lr.set(n,l)),this.lr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this.hr=new Te(ce.Pr),this.Ir=new Te(ce.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const s=new ce(t,n);this.hr=this.hr.add(s),this.Ir=this.Ir.add(s)}Er(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.dr(new ce(t,n))}Ar(t,n){t.forEach(s=>this.removeReference(s,n))}Rr(t){const n=new W(new jt([])),s=new ce(n,t),o=new ce(n,t+1),l=[];return this.Ir.forEachInRange([s,o],c=>{this.dr(c),l.push(c.key)}),l}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new W(new jt([])),s=new ce(n,t),o=new ce(n,t+1);let l=_t();return this.Ir.forEachInRange([s,o],c=>{l=l.add(c.key)}),l}containsKey(t){const n=new ce(t,0),s=this.hr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class ce{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return W.comparator(t.key,n.key)||It(t.gr,n.gr)}static Tr(t,n){return It(t.gr,n.gr)||W.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Te(ce.Pr)}checkEmpty(t){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const l=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new WD(l,n,s,o);this.mutationQueue.push(c);for(const m of o)this.yr=this.yr.add(new ce(m.key,l)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return k.resolve(c)}lookupMutationBatch(t,n){return k.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Sr(s),l=o<0?0:o;return k.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new ce(n,0),o=new ce(n,Number.POSITIVE_INFINITY),l=[];return this.yr.forEachInRange([s,o],c=>{const m=this.wr(c.gr);l.push(m)}),k.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Te(It);return n.forEach(o=>{const l=new ce(o,0),c=new ce(o,Number.POSITIVE_INFINITY);this.yr.forEachInRange([l,c],m=>{s=s.add(m.gr)})}),k.resolve(this.br(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let l=s;W.isDocumentKey(l)||(l=l.child(""));const c=new ce(new W(l),0);let m=new Te(It);return this.yr.forEachWhile(d=>{const g=d.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(d.gr)),!0)},c),k.resolve(this.br(m))}br(t){const n=[];return t.forEach(s=>{const o=this.wr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Ut(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.yr;return k.forEach(n.mutations,o=>{const l=new ce(o.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.yr=s})}Fn(t){}containsKey(t,n){const s=new ce(n,0),o=this.yr.firstAfterOrEqual(s);return k.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,k.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(t){this.Cr=t,this.docs=function(){return new Ht(W.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),l=o?o.size:0,c=this.Cr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return k.resolve(s?s.document.mutableCopy():Ie.newInvalidDocument(n))}getEntries(t,n){let s=hi();return n.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Ie.newInvalidDocument(o))}),k.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let l=hi();const c=n.path,m=new W(c.child("")),d=this.docs.getIteratorFrom(m);for(;d.hasNext();){const{key:g,value:{document:y}}=d.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||yD(pD(y),s)<=0||(o.has(y.key)||Uc(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return k.resolve(l)}getAllFromCollectionGroup(t,n,s,o){at()}vr(t,n){return k.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new MN(this)}getSize(t){return k.resolve(this.size)}}class MN extends RN{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this._r.addEntry(t,o)):this._r.removeEntry(s)}),k.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(t){this.persistence=t,this.Fr=new ra(n=>ng(n),ig),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.Mr=0,this.Or=new ug,this.targetCount=0,this.Nr=Ys.On()}forEachTarget(t,n){return this.Fr.forEach((s,o)=>n(o)),k.resolve()}getLastRemoteSnapshotVersion(t){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return k.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Mr&&(this.Mr=n),k.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new Ys(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,k.resolve()}updateTargetData(t,n){return this.kn(n),k.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(t,n,s){let o=0;const l=[];return this.Fr.forEach((c,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Fr.delete(c),l.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),k.waitFor(l).next(()=>o)}getTargetCount(t){return k.resolve(this.targetCount)}getTargetData(t,n){const s=this.Fr.get(n)||null;return k.resolve(s)}addMatchingKeys(t,n,s){return this.Or.Er(n,s),k.resolve()}removeMatchingKeys(t,n,s){this.Or.Ar(n,s);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach(c=>{l.push(o.markPotentiallyOrphaned(t,c))}),k.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),k.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Or.mr(n);return k.resolve(s)}containsKey(t,n){return k.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(t,n){this.Br={},this.overlays={},this.Lr=new Zm(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new xN(this),this.indexManager=new SN,this.remoteDocumentCache=function(o){return new ON(o)}(s=>this.referenceDelegate.Qr(s)),this.serializer=new TN(n),this.Kr=new CN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new DN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Br[t.toKey()];return s||(s=new NN(n,this.referenceDelegate),this.Br[t.toKey()]=s),s}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,s){Q("MemoryPersistence","Starting transaction:",t);const o=new PN(this.Lr.next());return this.referenceDelegate.$r(),s(o).next(l=>this.referenceDelegate.Ur(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Wr(t,n){return k.or(Object.values(this.Br).map(s=>()=>s.containsKey(t,n)))}}class PN extends vD{constructor(t){super(),this.currentSequenceNumber=t}}class cg{constructor(t){this.persistence=t,this.Gr=new ug,this.zr=null}static jr(t){return new cg(t)}get Hr(){if(this.zr)return this.zr;throw at()}addReference(t,n,s){return this.Gr.addReference(s,n),this.Hr.delete(s.toString()),k.resolve()}removeReference(t,n,s){return this.Gr.removeReference(s,n),this.Hr.add(s.toString()),k.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),k.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(o=>this.Hr.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(l=>this.Hr.add(l.toString()))}).next(()=>s.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Hr,s=>{const o=W.fromPath(s);return this.Jr(t,o).next(l=>{l||n.removeEntry(o,ut.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(s=>{s?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return k.or([()=>k.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.ki=s,this.qi=o}static Qi(t,n){let s=_t(),o=_t();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new hg(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,s,o){const l={result:null};return this.zi(t,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ji(t,n,o,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new UN;return this.Hi(t,n,c).next(m=>{if(l.result=m,this.$i)return this.Ji(t,n,c,m.size)})}).next(()=>l.result)}Ji(t,n,s,o){return s.documentReadCount<this.Ui?(co()<=Et.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",xs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),k.resolve()):(co()<=Et.DEBUG&&Q("QueryEngine","Query:",xs(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Wi*o?(co()<=Et.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",xs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xn(n))):k.resolve())}zi(t,n){if(EE(n))return k.resolve(null);let s=xn(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=lm(n,null,"F"),s=xn(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(l=>{const c=_t(...l);return this.Gi.getDocuments(t,c).next(m=>this.indexManager.getMinOffset(t,s).next(d=>{const g=this.Yi(n,m);return this.Zi(n,g,c,d.readTime)?this.zi(t,lm(n,null,"F")):this.Xi(t,g,n,d)}))})))}ji(t,n,s,o){return EE(n)||o.isEqual(ut.min())?k.resolve(null):this.Gi.getDocuments(t,s).next(l=>{const c=this.Yi(n,l);return this.Zi(n,c,s,o)?k.resolve(null):(co()<=Et.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xs(n)),this.Xi(t,c,n,gD(o,-1)).next(m=>m))})}Yi(t,n){let s=new Te(WT(t));return n.forEach((o,l)=>{Uc(t,l)&&(s=s.add(l))}),s}Zi(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Hi(t,n,s){return co()<=Et.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",xs(n)),this.Gi.getDocumentsMatchingQuery(t,n,Ji.min(),s)}Xi(t,n,s,o){return this.Gi.getDocumentsMatchingQuery(t,s,o).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(t,n,s,o){this.persistence=t,this.es=n,this.serializer=o,this.ts=new Ht(It),this.ns=new ra(l=>ng(l),ig),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(s)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new IN(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function jN(e,t,n,s){return new kN(e,t,n,s)}async function _A(e,t){const n=ht(e);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,n.os(t),n.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],m=[];let d=_t();for(const g of o){c.push(g.batchId);for(const y of g.mutations)d=d.add(y.key)}for(const g of l){m.push(g.batchId);for(const y of g.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(s,d).next(g=>({_s:g,removedBatchIds:c,addedBatchIds:m}))})})}function zN(e,t){const n=ht(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),l=n.ss.newChangeBuffer({trackRemovals:!0});return function(m,d,g,y){const v=g.batch,T=v.keys();let I=k.resolve();return T.forEach(L=>{I=I.next(()=>y.getEntry(d,L)).next(j=>{const O=g.docVersions.get(L);Ut(O!==null),j.version.compareTo(O)<0&&(v.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),y.addEntry(j)))})}),I.next(()=>m.mutationQueue.removeMutationBatch(d,v))}(n,s,t,l).next(()=>l.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let d=_t();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(d=d.add(m.batch.mutations[g].key));return d}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function vA(e){const t=ht(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function BN(e,t){const n=ht(e),s=t.snapshotVersion;let o=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.ss.newChangeBuffer({trackRemovals:!0});o=n.ts;const m=[];t.targetChanges.forEach((y,v)=>{const T=o.get(v);if(!T)return;m.push(n.qr.removeMatchingKeys(l,y.removedDocuments,v).next(()=>n.qr.addMatchingKeys(l,y.addedDocuments,v)));let I=T.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?I=I.withResumeToken(Oe.EMPTY_BYTE_STRING,ut.min()).withLastLimboFreeSnapshotVersion(ut.min()):y.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(y.resumeToken,s)),o=o.insert(v,I),function(j,O,Y){return j.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(T,I,y)&&m.push(n.qr.updateTargetData(l,I))});let d=hi(),g=_t();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),m.push(qN(l,c,t.documentUpdates).next(y=>{d=y.us,g=y.cs})),!s.isEqual(ut.min())){const y=n.qr.getLastRemoteSnapshotVersion(l).next(v=>n.qr.setTargetsMetadata(l,l.currentSequenceNumber,s));m.push(y)}return k.waitFor(m).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,d,g)).next(()=>d)}).then(l=>(n.ts=o,l))}function qN(e,t,n){let s=_t(),o=_t();return n.forEach(l=>s=s.add(l)),t.getEntries(e,s).next(l=>{let c=hi();return n.forEach((m,d)=>{const g=l.get(m);d.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),d.isNoDocument()&&d.version.isEqual(ut.min())?(t.removeEntry(m,d.readTime),c=c.insert(m,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(d),c=c.insert(m,d)):Q("LocalStore","Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",d.version)}),{us:c,cs:o}})}function HN(e,t){const n=ht(e);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function FN(e,t){const n=ht(e);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.qr.getTargetData(s,t).next(l=>l?(o=l,k.resolve(o)):n.qr.allocateTargetId(s).next(c=>(o=new Ki(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.qr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.ts=n.ts.insert(s.targetId,s),n.ns.set(t,s.targetId)),s})}async function dm(e,t,n){const s=ht(e),o=s.ts.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!il(c))throw c;Q("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}s.ts=s.ts.remove(t),s.ns.delete(o.target)}function OE(e,t,n){const s=ht(e);let o=ut.min(),l=_t();return s.persistence.runTransaction("Execute query","readwrite",c=>function(d,g,y){const v=ht(d),T=v.ns.get(y);return T!==void 0?k.resolve(v.ts.get(T)):v.qr.getTargetData(g,y)}(s,c,xn(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.qr.getMatchingKeysForTargetId(c,m.targetId).next(d=>{l=d})}).next(()=>s.es.getDocumentsMatchingQuery(c,t,n?o:ut.min(),n?l:_t())).next(m=>(GN(s,UD(t),m),{documents:m,ls:l})))}function GN(e,t,n){let s=e.rs.get(t)||ut.min();n.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),e.rs.set(t,s)}class ME{constructor(){this.activeTargetIds=qD()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class QN{constructor(){this.eo=new ME,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,s){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new ME,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu=null;function Nd(){return Pu===null?Pu=function(){return 268435456+Math.round(2147483648*Math.random())}():Pu++,"0x"+Pu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be="WebChannelConnection";class $N extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.mo=s+"://"+n.host,this.fo=`projects/${o}/databases/${l}`,this.po=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}get yo(){return!1}wo(n,s,o,l,c){const m=Nd(),d=this.So(n,s);Q("RestConnection",`Sending RPC '${n}' ${m}:`,d,o);const g={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(g,l,c),this.Do(n,d,g,o).then(y=>(Q("RestConnection",`Received RPC '${n}' ${m}: `,y),y),y=>{throw ko("RestConnection",`RPC '${n}' ${m} failed with error: `,y,"url: ",d,"request:",o),y})}Co(n,s,o,l,c,m){return this.wo(n,s,o,l,c)}bo(n,s,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ia}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((l,c)=>n[c]=l),o&&o.headers.forEach((l,c)=>n[c]=l)}So(n,s){const o=YN[n];return`${this.mo}/v1/${s}:${o}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,s,o){const l=Nd();return new Promise((c,m)=>{const d=new rD;d.setWithCredentials(!0),d.listenOnce(nD.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Cd.NO_ERROR:const y=d.getResponseJson();Q(be,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(y)),c(y);break;case Cd.TIMEOUT:Q(be,`RPC '${t}' ${l} timed out`),m(new H(P.DEADLINE_EXCEEDED,"Request time out"));break;case Cd.HTTP_ERROR:const v=d.getStatus();if(Q(be,`RPC '${t}' ${l} failed with status:`,v,"response text:",d.getResponseText()),v>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const I=T==null?void 0:T.error;if(I&&I.status&&I.message){const L=function(O){const Y=O.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(Y)>=0?Y:P.UNKNOWN}(I.status);m(new H(L,I.message))}else m(new H(P.UNKNOWN,"Server responded with status "+d.getStatus()))}else m(new H(P.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{Q(be,`RPC '${t}' ${l} completed.`)}});const g=JSON.stringify(o);Q(be,`RPC '${t}' ${l} sending request:`,o),d.send(n,"POST",g,s,15)})}vo(t,n,s){const o=Nd(),l=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=tD(),m=eD(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.bo(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const y=l.join("");Q(be,`Creating RPC '${t}' stream ${o}: ${y}`,d);const v=c.createWebChannel(y,d);let T=!1,I=!1;const L=new XN({co:O=>{I?Q(be,`Not sending because RPC '${t}' stream ${o} is closed:`,O):(T||(Q(be,`Opening RPC '${t}' stream ${o} transport.`),v.open(),T=!0),Q(be,`RPC '${t}' stream ${o} sending:`,O),v.send(O))},lo:()=>v.close()}),j=(O,Y,J)=>{O.listen(Y,nt=>{try{J(nt)}catch(bt){setTimeout(()=>{throw bt},0)}})};return j(v,Mu.EventType.OPEN,()=>{I||Q(be,`RPC '${t}' stream ${o} transport opened.`)}),j(v,Mu.EventType.CLOSE,()=>{I||(I=!0,Q(be,`RPC '${t}' stream ${o} transport closed`),L.Ro())}),j(v,Mu.EventType.ERROR,O=>{I||(I=!0,ko(be,`RPC '${t}' stream ${o} transport errored:`,O),L.Ro(new H(P.UNAVAILABLE,"The operation could not be completed")))}),j(v,Mu.EventType.MESSAGE,O=>{var Y;if(!I){const J=O.data[0];Ut(!!J);const nt=J,bt=nt.error||((Y=nt[0])===null||Y===void 0?void 0:Y.error);if(bt){Q(be,`RPC '${t}' stream ${o} received error:`,bt);const rt=bt.status;let Lt=function($){const yt=te[$];if(yt!==void 0)return uA(yt)}(rt),Ae=bt.message;Lt===void 0&&(Lt=P.INTERNAL,Ae="Unknown error status: "+rt+" with message "+bt.message),I=!0,L.Ro(new H(Lt,Ae)),v.close()}else Q(be,`RPC '${t}' stream ${o} received:`,J),L.Vo(J)}}),j(m,iD.STAT_EVENT,O=>{O.stat===uE.PROXY?Q(be,`RPC '${t}' stream ${o} detected buffering proxy`):O.stat===uE.NOPROXY&&Q(be,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.Ao()},0),L}}function Od(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(e){return new oN(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(t,n,s=1e3,o=1.5,l=6e4){this.si=t,this.timerId=n,this.Fo=s,this.Mo=o,this.xo=l,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),s=Math.max(0,Date.now()-this.Bo),o=Math.max(0,n-s);o>0&&Q("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,o,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(t,n,s,o,l,c,m,d){this.si=t,this.Ko=s,this.$o=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=d,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new EA(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(ci(n.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Uo===n&&this.s_(s,o)},s=>{t(()=>{const o=new H(P.UNKNOWN,"Fetching auth token failed: "+s.message);return this.o_(o)})})}s_(t,n){const s=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{s(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(o=>{s(()=>this.o_(o))}),this.stream.onMessage(o=>{s(()=>this.onMessage(o))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return Q("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WN extends TA{constructor(t,n,s,o,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=cN(this.serializer,t),s=function(l){if(!("targetChange"in l))return ut.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ut.min():c.readTime?Vn(c.readTime):ut.min()}(t);return this.listener.a_(n,s)}u_(t){const n={};n.database=fm(this.serializer),n.addTarget=function(l,c){let m;const d=c.target;if(m=am(d)?{documents:dN(l,d)}:{query:mN(l,d)},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=fA(l,c.resumeToken);const g=um(l,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(ut.min())>0){m.readTime=sc(l,c.snapshotVersion.toTimestamp());const g=um(l,c.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const s=pN(this.serializer,t);s&&(n.labels=s),this.e_(n)}c_(t){const n={};n.database=fm(this.serializer),n.removeTarget=t,this.e_(n)}}class ZN extends TA{constructor(t,n,s,o,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,n){return this.connection.vo("Write",t,n)}onMessage(t){if(Ut(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const n=fN(t.writeResults,t.commitTime),s=Vn(t.commitTime);return this.listener.I_(s,n)}return Ut(!t.writeResults||t.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=fm(this.serializer),this.e_(t)}P_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>hN(this.serializer,s))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN extends class{}{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.d_=!1}A_(){if(this.d_)throw new H(P.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.wo(t,n,s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(P.UNKNOWN,o.toString())})}Co(t,n,s,o){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(t,n,s,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new H(P.UNKNOWN,l.toString())})}terminate(){this.d_=!0}}class tO{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ci(n),this.f_=!1):Q("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(t,n,s,o,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=l,this.F_.ro(c=>{s.enqueueAndForget(async()=>{Kr(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(d){const g=ht(d);g.C_.add(4),await ol(g),g.M_.set("Unknown"),g.C_.delete(4),await Bc(g)}(this))})}),this.M_=new tO(s,o)}}async function Bc(e){if(Kr(e))for(const t of e.v_)await t(!0)}async function ol(e){for(const t of e.v_)await t(!1)}function AA(e,t){const n=ht(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),mg(n)?dg(n):sa(n).Ho()&&fg(n,t))}function SA(e,t){const n=ht(e),s=sa(n);n.D_.delete(t),s.Ho()&&wA(n,t),n.D_.size===0&&(s.Ho()?s.Zo():Kr(n)&&n.M_.set("Unknown"))}function fg(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ut.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}sa(e).u_(t)}function wA(e,t){e.x_.Oe(t),sa(e).c_(t)}function dg(e){e.x_=new iN({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),sa(e).start(),e.M_.g_()}function mg(e){return Kr(e)&&!sa(e).jo()&&e.D_.size>0}function Kr(e){return ht(e).C_.size===0}function RA(e){e.x_=void 0}async function nO(e){e.D_.forEach((t,n)=>{fg(e,t)})}async function iO(e,t){RA(e),mg(e)?(e.M_.w_(t),dg(e)):e.M_.set("Unknown")}async function rO(e,t,n){if(e.M_.set("Online"),t instanceof hA&&t.state===2&&t.cause)try{await async function(o,l){const c=l.cause;for(const m of l.targetIds)o.D_.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.D_.delete(m),o.x_.removeTarget(m))}(e,t)}catch(s){Q("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),s),await ac(e,s)}else if(t instanceof zu?e.x_.$e(t):t instanceof cA?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(ut.min()))try{const s=await vA(e.localStore);n.compareTo(s)>=0&&await function(l,c){const m=l.x_.it(c);return m.targetChanges.forEach((d,g)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.D_.get(g);y&&l.D_.set(g,y.withResumeToken(d.resumeToken,c))}}),m.targetMismatches.forEach((d,g)=>{const y=l.D_.get(d);if(!y)return;l.D_.set(d,y.withResumeToken(Oe.EMPTY_BYTE_STRING,y.snapshotVersion)),wA(l,d);const v=new Ki(y.target,d,g,y.sequenceNumber);fg(l,v)}),l.remoteSyncer.applyRemoteEvent(m)}(e,n)}catch(s){Q("RemoteStore","Failed to raise snapshot:",s),await ac(e,s)}}async function ac(e,t,n){if(!il(t))throw t;e.C_.add(1),await ol(e),e.M_.set("Offline"),n||(n=()=>vA(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await Bc(e)})}function bA(e,t){return t().catch(n=>ac(e,n,t))}async function qc(e){const t=ht(e),n=er(t);let s=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;sO(t);)try{const o=await HN(t.localStore,s);if(o===null){t.b_.length===0&&n.Zo();break}s=o.batchId,aO(t,o)}catch(o){await ac(t,o)}IA(t)&&CA(t)}function sO(e){return Kr(e)&&e.b_.length<10}function aO(e,t){e.b_.push(t);const n=er(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function IA(e){return Kr(e)&&!er(e).jo()&&e.b_.length>0}function CA(e){er(e).start()}async function oO(e){er(e).E_()}async function lO(e){const t=er(e);for(const n of e.b_)t.P_(n.mutations)}async function uO(e,t,n){const s=e.b_.shift(),o=ag.from(s,t,n);await bA(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await qc(e)}async function cO(e,t){t&&er(e).h_&&await async function(s,o){if(function(c){return tN(c)&&c!==P.ABORTED}(o.code)){const l=s.b_.shift();er(s).Yo(),await bA(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await qc(s)}}(e,t),IA(e)&&CA(e)}async function VE(e,t){const n=ht(e);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const s=Kr(n);n.C_.add(3),await ol(n),s&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await Bc(n)}async function hO(e,t){const n=ht(e);t?(n.C_.delete(2),await Bc(n)):t||(n.C_.add(2),await ol(n),n.M_.set("Unknown"))}function sa(e){return e.O_||(e.O_=function(n,s,o){const l=ht(n);return l.A_(),new WN(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(e.datastore,e.asyncQueue,{ho:nO.bind(null,e),Io:iO.bind(null,e),a_:rO.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),mg(e)?dg(e):e.M_.set("Unknown")):(await e.O_.stop(),RA(e))})),e.O_}function er(e){return e.N_||(e.N_=function(n,s,o){const l=ht(n);return l.A_(),new ZN(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(e.datastore,e.asyncQueue,{ho:oO.bind(null,e),Io:cO.bind(null,e),T_:lO.bind(null,e),I_:uO.bind(null,e)}),e.v_.push(async t=>{t?(e.N_.Yo(),await qc(e)):(await e.N_.stop(),e.b_.length>0&&(Q("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))})),e.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(t,n,s,o,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,l){const c=Date.now()+s,m=new gg(t,n,c,o,l);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(P.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pg(e,t){if(ci("AsyncQueue",`${t}: ${e}`),il(e))return new H(P.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(t){this.comparator=t?(n,s)=>t(n,s)||W.comparator(n.key,s.key):(n,s)=>W.comparator(n.key,s.key),this.keyedMap=po(),this.sortedSet=new Ht(this.comparator)}static emptySet(t){return new zs(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof zs)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new zs;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(){this.B_=new Ht(W.comparator)}track(t){const n=t.doc.key,s=this.B_.get(n);s?t.type!==0&&s.type===3?this.B_=this.B_.insert(n,t):t.type===3&&s.type!==1?this.B_=this.B_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.B_=this.B_.remove(n):t.type===1&&s.type===2?this.B_=this.B_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):at():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,s)=>{t.push(s)}),t}}class Xs{constructor(t,n,s,o,l,c,m,d,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=d,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,l){const c=[];return n.forEach(m=>{c.push({type:0,doc:m})}),new Xs(t,n,zs.emptySet(n),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Pc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.k_=void 0,this.listeners=[]}}class dO{constructor(){this.queries=new ra(t=>$T(t),Pc),this.onlineState="Unknown",this.q_=new Set}}async function DA(e,t){const n=ht(e),s=t.query;let o=!1,l=n.queries.get(s);if(l||(o=!0,l=new fO),o)try{l.k_=await n.onListen(s)}catch(c){const m=pg(c,`Initialization of query '${xs(t.query)}' failed`);return void t.onError(m)}n.queries.set(s,l),l.listeners.push(t),t.Q_(n.onlineState),l.k_&&t.K_(l.k_)&&yg(n)}async function NA(e,t){const n=ht(e),s=t.query;let o=!1;const l=n.queries.get(s);if(l){const c=l.listeners.indexOf(t);c>=0&&(l.listeners.splice(c,1),o=l.listeners.length===0)}if(o)return n.queries.delete(s),n.onUnlisten(s)}function mO(e,t){const n=ht(e);let s=!1;for(const o of t){const l=o.query,c=n.queries.get(l);if(c){for(const m of c.listeners)m.K_(o)&&(s=!0);c.k_=o}}s&&yg(n)}function gO(e,t,n){const s=ht(e),o=s.queries.get(t);if(o)for(const l of o.listeners)l.onError(n);s.queries.delete(t)}function yg(e){e.q_.forEach(t=>{t.next()})}class OA{constructor(t,n,s){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=s||{}}K_(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Xs(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const s=n!=="Offline";return(!this.options.J_||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=Xs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(t){this.key=t}}class xA{constructor(t){this.key=t}}class pO{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=_t(),this.mutatedKeys=_t(),this._a=WT(t),this.aa=new zs(this._a)}get ua(){return this.ia}ca(t,n){const s=n?n.la:new PE,o=n?n.aa:this.aa;let l=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const d=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((y,v)=>{const T=o.get(y),I=Uc(this.query,v)?v:null,L=!!T&&this.mutatedKeys.has(T.key),j=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let O=!1;T&&I?T.data.isEqual(I.data)?L!==j&&(s.track({type:3,doc:I}),O=!0):this.ha(T,I)||(s.track({type:2,doc:I}),O=!0,(d&&this._a(I,d)>0||g&&this._a(I,g)<0)&&(m=!0)):!T&&I?(s.track({type:0,doc:I}),O=!0):T&&!I&&(s.track({type:1,doc:T}),O=!0,(d||g)&&(m=!0)),O&&(I?(c=c.add(I),l=j?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{aa:c,la:s,Zi:m,mutatedKeys:l}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const l=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const c=t.la.L_();c.sort((y,v)=>function(I,L){const j=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return j(I)-j(L)}(y.type,v.type)||this._a(y.doc,v.doc)),this.Pa(s),o=o!=null&&o;const m=n&&!o?this.Ia():[],d=this.oa.size===0&&this.current&&!o?1:0,g=d!==this.sa;return this.sa=d,c.length!==0||g?{snapshot:new Xs(this.query,t.aa,l,c,t.mutatedKeys,d===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ta:m}:{Ta:m}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new PE,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=_t(),this.aa.forEach(s=>{this.Ea(s.key)&&(this.oa=this.oa.add(s.key))});const n=[];return t.forEach(s=>{this.oa.has(s)||n.push(new xA(s))}),this.oa.forEach(s=>{t.has(s)||n.push(new MA(s))}),n}da(t){this.ia=t.ls,this.oa=_t();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return Xs.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class yO{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class _O{constructor(t){this.key=t,this.Ra=!1}}class vO{constructor(t,n,s,o,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Va={},this.ma=new ra(m=>$T(m),Pc),this.fa=new Map,this.ga=new Set,this.pa=new Ht(W.comparator),this.ya=new Map,this.wa=new ug,this.Sa={},this.ba=new Map,this.Da=Ys.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function EO(e,t){const n=NO(e);let s,o;const l=n.ma.get(t);if(l)s=l.targetId,n.sharedClientState.addLocalQueryTarget(s),o=l.view.Aa();else{const c=await FN(n.localStore,xn(t)),m=n.sharedClientState.addLocalQueryTarget(c.targetId);s=c.targetId,o=await TO(n,t,s,m==="current",c.resumeToken),n.isPrimaryClient&&AA(n.remoteStore,c)}return o}async function TO(e,t,n,s,o){e.va=(v,T,I)=>async function(j,O,Y,J){let nt=O.view.ca(Y);nt.Zi&&(nt=await OE(j.localStore,O.query,!1).then(({documents:Ae})=>O.view.ca(Ae,nt)));const bt=J&&J.targetChanges.get(O.targetId),rt=J&&J.targetMismatches.get(O.targetId)!=null,Lt=O.view.applyChanges(nt,j.isPrimaryClient,bt,rt);return LE(j,O.targetId,Lt.Ta),Lt.snapshot}(e,v,T,I);const l=await OE(e.localStore,t,!0),c=new pO(t,l.ls),m=c.ca(l.documents),d=al.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",o),g=c.applyChanges(m,e.isPrimaryClient,d);LE(e,n,g.Ta);const y=new yO(t,n,c);return e.ma.set(t,y),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),g.snapshot}async function AO(e,t){const n=ht(e),s=n.ma.get(t),o=n.fa.get(s.targetId);if(o.length>1)return n.fa.set(s.targetId,o.filter(l=>!Pc(l,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await dm(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),SA(n.remoteStore,s.targetId),mm(n,s.targetId)}).catch(nl)):(mm(n,s.targetId),await dm(n.localStore,s.targetId,!0))}async function SO(e,t,n){const s=OO(e);try{const o=await function(c,m){const d=ht(c),g=se.now(),y=m.reduce((I,L)=>I.add(L.key),_t());let v,T;return d.persistence.runTransaction("Locally write mutations","readwrite",I=>{let L=hi(),j=_t();return d.ss.getEntries(I,y).next(O=>{L=O,L.forEach((Y,J)=>{J.isValidDocument()||(j=j.add(Y))})}).next(()=>d.localDocuments.getOverlayedDocuments(I,L)).next(O=>{v=O;const Y=[];for(const J of m){const nt=XD(J,v.get(J.key).overlayedDocument);nt!=null&&Y.push(new ar(J.key,nt,qT(nt.value.mapValue),dn.exists(!0)))}return d.mutationQueue.addMutationBatch(I,g,Y,m)}).next(O=>{T=O;const Y=O.applyToLocalDocumentSet(v,j);return d.documentOverlayCache.saveOverlays(I,O.batchId,Y)})}).then(()=>({batchId:T.batchId,changes:JT(v)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(c,m,d){let g=c.Sa[c.currentUser.toKey()];g||(g=new Ht(It)),g=g.insert(m,d),c.Sa[c.currentUser.toKey()]=g}(s,o.batchId,n),await ll(s,o.changes),await qc(s.remoteStore)}catch(o){const l=pg(o,"Failed to persist write");n.reject(l)}}async function VA(e,t){const n=ht(e);try{const s=await BN(n.localStore,t);t.targetChanges.forEach((o,l)=>{const c=n.ya.get(l);c&&(Ut(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Ra=!0:o.modifiedDocuments.size>0?Ut(c.Ra):o.removedDocuments.size>0&&(Ut(c.Ra),c.Ra=!1))}),await ll(n,s,t)}catch(s){await nl(s)}}function UE(e,t,n){const s=ht(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ma.forEach((l,c)=>{const m=c.view.Q_(t);m.snapshot&&o.push(m.snapshot)}),function(c,m){const d=ht(c);d.onlineState=m;let g=!1;d.queries.forEach((y,v)=>{for(const T of v.listeners)T.Q_(m)&&(g=!0)}),g&&yg(d)}(s.eventManager,t),o.length&&s.Va.a_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function wO(e,t,n){const s=ht(e);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.ya.get(t),l=o&&o.key;if(l){let c=new Ht(W.comparator);c=c.insert(l,Ie.newNoDocument(l,ut.min()));const m=_t().add(l),d=new jc(ut.min(),new Map,new Ht(It),c,m);await VA(s,d),s.pa=s.pa.remove(l),s.ya.delete(t),_g(s)}else await dm(s.localStore,t,!1).then(()=>mm(s,t,n)).catch(nl)}async function RO(e,t){const n=ht(e),s=t.batch.batchId;try{const o=await zN(n.localStore,t);UA(n,s,null),PA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ll(n,o)}catch(o){await nl(o)}}async function bO(e,t,n){const s=ht(e);try{const o=await function(c,m){const d=ht(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return d.mutationQueue.lookupMutationBatch(g,m).next(v=>(Ut(v!==null),y=v.keys(),d.mutationQueue.removeMutationBatch(g,v))).next(()=>d.mutationQueue.performConsistencyCheck(g)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(g,y,m)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>d.localDocuments.getDocuments(g,y))})}(s.localStore,t);UA(s,t,n),PA(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await ll(s,o)}catch(o){await nl(o)}}function PA(e,t){(e.ba.get(t)||[]).forEach(n=>{n.resolve()}),e.ba.delete(t)}function UA(e,t,n){const s=ht(e);let o=s.Sa[s.currentUser.toKey()];if(o){const l=o.get(t);l&&(n?l.reject(n):l.resolve(),o=o.remove(t)),s.Sa[s.currentUser.toKey()]=o}}function mm(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.fa.get(t))e.ma.delete(s),n&&e.Va.Fa(s,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(s=>{e.wa.containsKey(s)||LA(e,s)})}function LA(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(SA(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),_g(e))}function LE(e,t,n){for(const s of n)s instanceof MA?(e.wa.addReference(s.key,t),IO(e,s)):s instanceof xA?(Q("SyncEngine","Document no longer in limbo: "+s.key),e.wa.removeReference(s.key,t),e.wa.containsKey(s.key)||LA(e,s.key)):at()}function IO(e,t){const n=t.key,s=n.path.canonicalString();e.pa.get(n)||e.ga.has(s)||(Q("SyncEngine","New document in limbo: "+n),e.ga.add(s),_g(e))}function _g(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new W(jt.fromString(t)),s=e.Da.next();e.ya.set(s,new _O(n)),e.pa=e.pa.insert(n,s),AA(e.remoteStore,new Ki(xn(rg(n.path)),s,"TargetPurposeLimboResolution",Zm._e))}}async function ll(e,t,n){const s=ht(e),o=[],l=[],c=[];s.ma.isEmpty()||(s.ma.forEach((m,d)=>{c.push(s.va(d,t,n).then(g=>{if((g||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(d.targetId,g!=null&&g.fromCache?"not-current":"current"),g){o.push(g);const y=hg.Qi(d.targetId,g);l.push(y)}}))}),await Promise.all(c),s.Va.a_(o),await async function(d,g){const y=ht(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>k.forEach(g,T=>k.forEach(T.ki,I=>y.persistence.referenceDelegate.addReference(v,T.targetId,I)).next(()=>k.forEach(T.qi,I=>y.persistence.referenceDelegate.removeReference(v,T.targetId,I)))))}catch(v){if(!il(v))throw v;Q("LocalStore","Failed to update sequence numbers: "+v)}for(const v of g){const T=v.targetId;if(!v.fromCache){const I=y.ts.get(T),L=I.snapshotVersion,j=I.withLastLimboFreeSnapshotVersion(L);y.ts=y.ts.insert(T,j)}}}(s.localStore,l))}async function CO(e,t){const n=ht(e);if(!n.currentUser.isEqual(t)){Q("SyncEngine","User change. New user:",t.toKey());const s=await _A(n.localStore,t);n.currentUser=t,function(l,c){l.ba.forEach(m=>{m.forEach(d=>{d.reject(new H(P.CANCELLED,c))})}),l.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await ll(n,s._s)}}function DO(e,t){const n=ht(e),s=n.ya.get(t);if(s&&s.Ra)return _t().add(s.key);{let o=_t();const l=n.fa.get(t);if(!l)return o;for(const c of l){const m=n.ma.get(c);o=o.unionWith(m.view.ua)}return o}}function NO(e){const t=ht(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=VA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=DO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wO.bind(null,t),t.Va.a_=mO.bind(null,t.eventManager),t.Va.Fa=gO.bind(null,t.eventManager),t}function OO(e){const t=ht(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=RO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bO.bind(null,t),t}class kE{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=zc(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return jN(this.persistence,new LN,t.initialUser,this.serializer)}createPersistence(t){return new VN(cg.jr,this.serializer)}createSharedClientState(t){return new QN}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class MO{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>UE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=CO.bind(null,this.syncEngine),await hO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new dO}()}createDatastore(t){const n=zc(t.databaseInfo.databaseId),s=function(l){return new $N(l)}(t.databaseInfo);return function(l,c,m,d){return new JN(l,c,m,d)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,l,c,m){return new eO(s,o,l,c,m)}(this.localStore,this.datastore,t.asyncQueue,n=>UE(this.syncEngine,n,0),function(){return xE.D()?new xE:new KN}())}createSyncEngine(t,n){return function(o,l,c,m,d,g,y){const v=new vO(o,l,c,m,d,g);return y&&(v.Ca=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const s=ht(n);Q("RemoteStore","RemoteStore shutting down."),s.C_.add(5),await ol(s),s.F_.shutdown(),s.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):ci("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(t,n,s,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Be.UNAUTHENTICATED,this.clientId=jT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async l=>{Q("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(s,l=>(Q("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=pg(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Md(e,t){e.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener(async o=>{s.isEqual(o)||(await _A(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function jE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await PO(e);Q("FirestoreClient","Initializing OnlineComponentProvider");const s=await e.getConfiguration();await t.initialize(n,s),e.setCredentialChangeListener(o=>VE(t.remoteStore,o)),e.setAppCheckTokenChangeListener((o,l)=>VE(t.remoteStore,l)),e._onlineComponents=t}function VO(e){return e.name==="FirebaseError"?e.code===P.FAILED_PRECONDITION||e.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function PO(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Md(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!VO(n))throw n;ko("Error using user provided cache. Falling back to memory cache: "+n),await Md(e,new kE)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await Md(e,new kE);return e._offlineComponents}async function jA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await jE(e,e._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await jE(e,new MO))),e._onlineComponents}function UO(e){return jA(e).then(t=>t.syncEngine)}async function zA(e){const t=await jA(e),n=t.eventManager;return n.onListen=EO.bind(null,t.syncEngine),n.onUnlisten=AO.bind(null,t.syncEngine),n}function LO(e,t,n={}){const s=new li;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,m,d,g){const y=new kA({next:T=>{c.enqueueAndForget(()=>NA(l,v));const I=T.docs.has(m);!I&&T.fromCache?g.reject(new H(P.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&T.fromCache&&d&&d.source==="server"?g.reject(new H(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),v=new OA(rg(m.path),y,{includeMetadataChanges:!0,J_:!0});return DA(l,v)}(await zA(e),e.asyncQueue,t,n,s)),s.promise}function kO(e,t,n={}){const s=new li;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,m,d,g){const y=new kA({next:T=>{c.enqueueAndForget(()=>NA(l,v)),T.fromCache&&d.source==="server"?g.reject(new H(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),v=new OA(m,y,{includeMetadataChanges:!0,J_:!0});return DA(l,v)}(await zA(e),e.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(e,t,n){if(!n)throw new H(P.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function jO(e,t,n,s){if(t===!0&&s===!0)throw new H(P.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function BE(e){if(!W.isDocumentKey(e))throw new H(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function qE(e){if(W.isDocumentKey(e))throw new H(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Hc(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":at()}function kn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new H(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hc(e);throw new H(P.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new H(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new H(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}jO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BA((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vg{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new H(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HE(t),t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new oD;switch(s.type){case"firstParty":return new cD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new H(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=zE.get(n);s&&(Q("ComponentProvider","Removing Datastore"),zE.delete(n),s.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new aa(this.firestore,t,this._query)}}class Ue{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ue(this.firestore,t,this._key)}}class Zi extends aa{constructor(t,n,s){super(t,n,rg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ue(this.firestore,null,new W(t))}withConverter(t){return new Zi(this.firestore,t,this._path)}}function Eg(e,t,...n){if(e=he(e),qA("collection","path",t),e instanceof vg){const s=jt.fromString(t,...n);return qE(s),new Zi(e,null,s)}{if(!(e instanceof Ue||e instanceof Zi))throw new H(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(jt.fromString(t,...n));return qE(s),new Zi(e.firestore,null,s)}}function oa(e,t,...n){if(e=he(e),arguments.length===1&&(t=jT.newId()),qA("doc","path",t),e instanceof vg){const s=jt.fromString(t,...n);return BE(s),new Ue(e,null,new W(s))}{if(!(e instanceof Ue||e instanceof Zi))throw new H(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(jt.fromString(t,...n));return BE(s),new Ue(e.firestore,e instanceof Zi?e.converter:null,new W(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new EA(this,"async_queue_retry"),this.iu=()=>{const n=Od();n&&Q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=Od();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=Od();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new li;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!il(t))throw t;Q("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(s=>{this.eu=s,this.tu=!1;const o=function(c){let m=c.message||"";return c.stack&&(m=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),m}(s);throw ci("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.tu=!1,s))));return this.Ja=n,n}enqueueAfterDelay(t,n,s){this.su(),this.ru.indexOf(t)>-1&&(n=0);const o=gg.createAndSchedule(this,t,n,s,l=>this.au(l));return this.Xa.push(o),o}su(){this.eu&&at()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}class Yr extends vg{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=function(){return new zO}(),this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||HA(this),this._firestoreClient.terminate()}}function BO(e,t,n){n||(n="(default)");const s=Dm(e,"firestore");if(s.isInitialized(n)){const o=s.getImmediate({identifier:n}),l=s.getOptions(n);if(Co(l,t))return o;throw new H(P.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new H(P.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new H(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return s.initialize({options:t,instanceIdentifier:n})}function Tg(e){return e._firestoreClient||HA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function HA(e){var t,n,s;const o=e._freezeSettings(),l=function(m,d,g,y){return new AD(m,d,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,BA(y.experimentalLongPollingOptions),y.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,o);e._firestoreClient=new xO(e._authCredentials,e._appCheckCredentials,e._queue,l),!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.localCache.kind,_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $s(Oe.fromBase64String(t))}catch(n){throw new H(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new $s(Oe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new H(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ve(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new H(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new H(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=/^__.*__$/;class HO{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ar(t,this.data,this.fieldMask,n,this.fieldTransforms):new sl(t,this.data,n,this.fieldTransforms)}}class FA{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new ar(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function GA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class wg{constructor(t,n,s,o,l,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Pu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new wg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Tu({path:s,du:!1});return o.Au(t),o}Ru(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Tu({path:s,du:!1});return o.Pu(),o}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return oc(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(GA(this.Iu)&&qO.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class FO{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||zc(t)}pu(t,n,s,o=!1){return new wg({Iu:t,methodName:n,gu:s,path:ve.emptyPath(),du:!1,fu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gc(e){const t=e._freezeSettings(),n=zc(e._databaseId);return new FO(e._databaseId,!!t.ignoreUndefinedProperties,n)}function QA(e,t,n,s,o,l={}){const c=e.pu(l.merge||l.mergeFields?2:0,t,n,o);Rg("Data must be an object, but it was:",c,s);const m=KA(s,c);let d,g;if(l.merge)d=new $e(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const T=gm(t,v,n);if(!c.contains(T))throw new H(P.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);XA(y,T)||y.push(T)}d=new $e(y),g=c.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,g=c.fieldTransforms;return new HO(new qe(m),d,g)}class Qc extends Ag{_toFieldTransform(t){if(t.Iu!==2)throw t.Iu===1?t.mu(`${this._methodName}() can only appear at the top level of your update data`):t.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Qc}}function GO(e,t,n,s){const o=e.pu(1,t,n);Rg("Data must be an object, but it was:",o,s);const l=[],c=qe.empty();Qr(s,(d,g)=>{const y=bg(t,d,n);g=he(g);const v=o.Ru(y);if(g instanceof Qc)l.push(y);else{const T=ul(g,v);T!=null&&(l.push(y),c.set(y,T))}});const m=new $e(l);return new FA(c,m,o.fieldTransforms)}function QO(e,t,n,s,o,l){const c=e.pu(1,t,n),m=[gm(t,s,n)],d=[o];if(l.length%2!=0)throw new H(P.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)m.push(gm(t,l[T])),d.push(l[T+1]);const g=[],y=qe.empty();for(let T=m.length-1;T>=0;--T)if(!XA(g,m[T])){const I=m[T];let L=d[T];L=he(L);const j=c.Ru(I);if(L instanceof Qc)g.push(I);else{const O=ul(L,j);O!=null&&(g.push(I),y.set(I,O))}}const v=new $e(g);return new FA(y,v,c.fieldTransforms)}function KO(e,t,n,s=!1){return ul(n,e.pu(s?4:3,t))}function ul(e,t){if(YA(e=he(e)))return Rg("Unsupported field value:",t,e),KA(e,t);if(e instanceof Ag)return function(s,o){if(!GA(o.Iu))throw o.mu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.mu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(s,o){const l=[];let c=0;for(const m of s){let d=ul(m,o.Vu(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}}(e,t)}return function(s,o){if((s=he(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return HD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=se.fromDate(s);return{timestampValue:sc(o.serializer,l)}}if(s instanceof se){const l=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:sc(o.serializer,l)}}if(s instanceof Sg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof $s)return{bytesValue:fA(o.serializer,s._byteString)};if(s instanceof Ue){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.mu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:lg(s.firestore._databaseId||o.databaseId,s._key.path)}}throw o.mu(`Unsupported field value: ${Hc(s)}`)}(e,t)}function KA(e,t){const n={};return zT(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qr(e,(s,o)=>{const l=ul(o,t.Eu(s));l!=null&&(n[s]=l)}),{mapValue:{fields:n}}}function YA(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof se||e instanceof Sg||e instanceof $s||e instanceof Ue||e instanceof Ag)}function Rg(e,t,n){if(!YA(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Hc(n);throw s==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+s)}}function gm(e,t,n){if((t=he(t))instanceof Fc)return t._internalPath;if(typeof t=="string")return bg(e,t);throw oc("Field path arguments must be of type string or ",e,!1,void 0,n)}const YO=new RegExp("[~\\*/\\[\\]]");function bg(e,t,n){if(t.search(YO)>=0)throw oc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Fc(...t.split("."))._internalPath}catch{throw oc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function oc(e,t,n,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${s}`),c&&(d+=` in document ${o}`),d+=")"),new H(P.INVALID_ARGUMENT,m+e+d)}function XA(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(t,n,s,o,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new XO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Ig("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XO extends $A{data(){return super.data()}}function Ig(e,t){return typeof t=="string"?bg(e,t):t instanceof Fc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new H(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cg{}class WO extends Cg{}function ZO(e,t,...n){let s=[];t instanceof Cg&&s.push(t),s=s.concat(n),function(l){const c=l.filter(d=>d instanceof Dg).length,m=l.filter(d=>d instanceof Kc).length;if(c>1||c>0&&m>0)throw new H(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)e=o._apply(e);return e}class Kc extends WO{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Kc(t,n,s)}_apply(t){const n=this._parse(t);return WA(t._query,n),new aa(t.firestore,t.converter,om(t._query,n))}_parse(t){const n=Gc(t.firestore);return function(l,c,m,d,g,y,v){let T;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new H(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){GE(v,y);const I=[];for(const L of v)I.push(FE(d,l,L));T={arrayValue:{values:I}}}else T=FE(d,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||GE(v,y),T=KO(m,c,v,y==="in"||y==="not-in");return ne.create(g,y,T)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function JO(e,t,n){const s=t,o=Ig("where",e);return Kc._create(o,s,n)}class Dg extends Cg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Dg(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:En.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,l){let c=o;const m=l.getFlattenedFilters();for(const d of m)WA(c,d),c=om(c,d)}(t._query,n),new aa(t.firestore,t.converter,om(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function FE(e,t,n){if(typeof(n=he(n))=="string"){if(n==="")throw new H(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XT(t)&&n.indexOf("/")!==-1)throw new H(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(jt.fromString(n));if(!W.isDocumentKey(s))throw new H(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return mE(e,new W(s))}if(n instanceof Ue)return mE(e,n._key);throw new H(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hc(n)}.`)}function GE(e,t){if(!Array.isArray(e)||e.length===0)throw new H(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function WA(e,t){const n=function(o,l){for(const c of o)for(const m of c.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null}(e.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new H(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new H(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class tM{convertValue(t,n="none"){switch(qr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Br(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw at()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Qr(t,(o,l)=>{s[o]=this.convertValue(l,n)}),s}convertGeoPoint(t){return new Sg(ee(t.latitude),ee(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=tg(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(zo(t));default:return null}}convertTimestamp(t){const n=tr(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=jt.fromString(t);Ut(yA(s));const o=new Bo(s.get(1),s.get(3)),l=new W(s.popFirst(5));return o.isEqual(n)||ci(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(e,t,n){let s;return s=e?e.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class JA extends $A{constructor(t,n,s,o,l,c){super(t,n,s,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Ig("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Bu extends JA{data(t={}){return super.data(t)}}class eM{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new _o(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Bu(this._firestore,this._userDataWriter,s.key,s,new _o(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(m=>{const d=new Bu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new _o(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>l||m.type!==3).map(m=>{const d=new Bu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new _o(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,y=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),y=c.indexOf(m.doc.key)),{type:nM(m.type),doc:d,oldIndex:g,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nM(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(e){e=kn(e,Ue);const t=kn(e.firestore,Yr);return LO(Tg(t),e._key).then(n=>oM(t,e,n))}class tS extends tM{constructor(t){super(),this.firestore=t}convertBytes(t){return new $s(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ue(this.firestore,null,n)}}function eS(e){e=kn(e,aa);const t=kn(e.firestore,Yr),n=Tg(t),s=new tS(t);return $O(e._query),kO(n,e._query).then(o=>new eM(t,s,e,o))}function rM(e,t,n){e=kn(e,Ue);const s=kn(e.firestore,Yr),o=ZA(e.converter,t);return Yc(s,[QA(Gc(s),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,dn.none())])}function sM(e,t,n,...s){e=kn(e,Ue);const o=kn(e.firestore,Yr),l=Gc(o);let c;return c=typeof(t=he(t))=="string"||t instanceof Fc?QO(l,"updateDoc",e._key,t,n,s):GO(l,"updateDoc",e._key,t),Yc(o,[c.toMutation(e._key,dn.exists(!0))])}function nS(e){return Yc(kn(e.firestore,Yr),[new sg(e._key,dn.none())])}function aM(e,t){const n=kn(e.firestore,Yr),s=oa(e),o=ZA(e.converter,t);return Yc(n,[QA(Gc(e.firestore),"addDoc",s._key,o,e.converter!==null,{}).toMutation(s._key,dn.exists(!1))]).then(()=>s)}function Yc(e,t){return function(s,o){const l=new li;return s.asyncQueue.enqueueAndForget(async()=>SO(await UO(s),o,l)),l.promise}(Tg(e),t)}function oM(e,t,n){const s=n.docs.get(t._key),o=new tS(e);return new JA(e,o,t._key,s,new _o(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){ia=o})(ta),Hs(new kr("firestore",(s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),m=new Yr(new lD(s.getProvider("auth-internal")),new fD(s.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new H(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bo(g.options.projectId,y)}(c,o),c);return l=Object.assign({useFetchStreams:n},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),Wi(cE,"4.4.0",t),Wi(cE,"4.4.0","esm2017")})();function Ng(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]]);return n}function iS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lM=iS,rS=new Yo("auth","Firebase",iS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new Im("@firebase/auth");function uM(e,...t){lc.logLevel<=Et.WARN&&lc.warn(`Auth (${ta}): ${e}`,...t)}function qu(e,...t){lc.logLevel<=Et.ERROR&&lc.error(`Auth (${ta}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(e,...t){throw Og(e,...t)}function Pn(e,...t){return Og(e,...t)}function cM(e,t,n){const s=Object.assign(Object.assign({},lM()),{[t]:n});return new Yo("auth","Firebase",s).create(t,{appName:e.name})}function Og(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return rS.create(e,...t)}function st(e,t,...n){if(!e)throw Og(t,...n)}function si(e){const t="INTERNAL ASSERTION FAILED: "+e;throw qu(t),new Error(t)}function fi(e,t){e||si(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function hM(){return QE()==="http:"||QE()==="https:"}function QE(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hM()||PI()||"connection"in navigator)?navigator.onLine:!0}function dM(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(t,n){this.shortDelay=t,this.longDelay=n,fi(n>t,"Short delay should be less than long delay!"),this.isMobile=VI()||UI()}get(){return fM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(e,t){fi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=new cl(3e4,6e4);function or(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function mi(e,t,n,s,o={}){return aS(e,o,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const m=Xo(Object.assign({key:e.config.apiKey},c)).slice(1),d=await e._getAdditionalHeaders();return d["Content-Type"]="application/json",e.languageCode&&(d["X-Firebase-Locale"]=e.languageCode),sS.fetch()(oS(e,e.config.apiHost,n,m),Object.assign({method:t,headers:d,referrerPolicy:"no-referrer"},l))})}async function aS(e,t,n){e._canInitEmulator=!1;const s=Object.assign(Object.assign({},mM),t);try{const o=new yM(e),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Uu(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const m=l.ok?c.errorMessage:c.error.message,[d,g]=m.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uu(e,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Uu(e,"email-already-in-use",c);if(d==="USER_DISABLED")throw Uu(e,"user-disabled",c);const y=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw cM(e,y,g);Tn(e,y)}}catch(o){if(o instanceof di)throw o;Tn(e,"network-request-failed",{message:String(o)})}}async function hl(e,t,n,s,o={}){const l=await mi(e,t,n,s,o);return"mfaPendingCredential"in l&&Tn(e,"multi-factor-auth-required",{_serverResponse:l}),l}function oS(e,t,n,s){const o=`${t}${n}?${s}`;return e.config.emulator?Mg(e.config,o):`${e.config.apiScheme}://${o}`}function pM(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yM{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Pn(this.auth,"network-request-failed")),gM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uu(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Pn(e,t,s);return o.customData._tokenResponse=n,o}function KE(e){return e!==void 0&&e.enterprise!==void 0}class _M{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return pM(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function vM(e,t){return mi(e,"GET","/v2/recaptchaConfig",or(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EM(e,t){return mi(e,"POST","/v1/accounts:delete",t)}async function TM(e,t){return mi(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function AM(e,t=!1){const n=he(e),s=await n.getIdToken(t),o=xg(s);st(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:wo(xd(o.auth_time)),issuedAtTime:wo(xd(o.iat)),expirationTime:wo(xd(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function xd(e){return Number(e)*1e3}function xg(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return qu("JWT malformed, contained fewer than 3 sections"),null;try{const o=D0(n);return o?JSON.parse(o):(qu("Failed to decode base64 JWT payload"),null)}catch(o){return qu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function SM(e){const t=xg(e);return st(t,"internal-error"),st(typeof t.exp<"u","internal-error"),st(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ws(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof di&&wM(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function wM({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wo(this.lastLoginAt),this.creationTime=wo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(e){var t;const n=e.auth,s=await e.getIdToken(),o=await Ws(e,TM(n,{idToken:s}));st(o==null?void 0:o.users.length,n,"internal-error");const l=o.users[0];e._notifyReloadListener(l);const c=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?CM(l.providerUserInfo):[],m=IM(e.providerData,c),d=e.isAnonymous,g=!(e.email&&l.passwordHash)&&!(m!=null&&m.length),y=d?g:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new lS(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(e,v)}async function bM(e){const t=he(e);await uc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function IM(e,t){return[...e.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function CM(e){return e.map(t=>{var{providerId:n}=t,s=Ng(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(e,t){const n=await aS(e,{},async()=>{const s=Xo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:l}=e.config,c=oS(e,o,"/v1/token",`key=${l}`),m=await e._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",sS.fetch()(c,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NM(e,t){return mi(e,"POST","/v2/accounts:revokeToken",or(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){st(t.idToken,"internal-error"),st(typeof t.idToken<"u","internal-error"),st(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):SM(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return st(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:l}=await DM(t,n);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:l}=n,c=new Go;return s&&(st(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),o&&(st(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),l&&(st(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(e,t){st(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Lr{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,l=Ng(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new lS(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Ws(this,this.stsTokenManager.getToken(this.auth,t));return st(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return AM(this,t)}reload(){return bM(this)}_assign(t){this!==t&&(st(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Lr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){st(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await uc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Ws(this,EM(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,l,c,m,d,g,y;const v=(s=n.displayName)!==null&&s!==void 0?s:void 0,T=(o=n.email)!==null&&o!==void 0?o:void 0,I=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,L=(c=n.photoURL)!==null&&c!==void 0?c:void 0,j=(m=n.tenantId)!==null&&m!==void 0?m:void 0,O=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,Y=(g=n.createdAt)!==null&&g!==void 0?g:void 0,J=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:nt,emailVerified:bt,isAnonymous:rt,providerData:Lt,stsTokenManager:Ae}=n;st(nt&&Ae,t,"internal-error");const mn=Go.fromJSON(this.name,Ae);st(typeof nt=="string",t,"internal-error"),ji(v,t.name),ji(T,t.name),st(typeof bt=="boolean",t,"internal-error"),st(typeof rt=="boolean",t,"internal-error"),ji(I,t.name),ji(L,t.name),ji(j,t.name),ji(O,t.name),ji(Y,t.name),ji(J,t.name);const $=new Lr({uid:nt,auth:t,email:T,emailVerified:bt,displayName:v,isAnonymous:rt,photoURL:L,phoneNumber:I,tenantId:j,stsTokenManager:mn,createdAt:Y,lastLoginAt:J});return Lt&&Array.isArray(Lt)&&($.providerData=Lt.map(yt=>Object.assign({},yt))),O&&($._redirectEventId=O),$}static async _fromIdTokenResponse(t,n,s=!1){const o=new Go;o.updateFromServerResponse(n);const l=new Lr({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await uc(l),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=new Map;function ai(e){fi(e instanceof Function,"Expected a class definition");let t=YE.get(e);return t?(fi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,YE.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}uS.type="NONE";const XE=uS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(e,t,n){return`firebase:${e}:${t}:${n}`}class Bs{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Hu(this.userKey,o.apiKey,l),this.fullPersistenceKey=Hu("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Lr._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Bs(ai(XE),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||ai(XE);const c=Hu(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const y=await g._get(c);if(y){const v=Lr._fromJSON(t,y);g!==l&&(m=v),l=g;break}}catch{}const d=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new Bs(l,t,s):(l=d[0],m&&await l._set(c,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Bs(l,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(cS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(mS(t))return"Blackberry";if(gS(t))return"Webos";if(Vg(t))return"Safari";if((t.includes("chrome/")||hS(t))&&!t.includes("edge/"))return"Chrome";if(dS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function cS(e=Ne()){return/firefox\//i.test(e)}function Vg(e=Ne()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function hS(e=Ne()){return/crios\//i.test(e)}function fS(e=Ne()){return/iemobile/i.test(e)}function dS(e=Ne()){return/android/i.test(e)}function mS(e=Ne()){return/blackberry/i.test(e)}function gS(e=Ne()){return/webos/i.test(e)}function Xc(e=Ne()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function OM(e=Ne()){var t;return Xc(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function MM(){return LI()&&document.documentMode===10}function pS(e=Ne()){return Xc(e)||dS(e)||gS(e)||mS(e)||/windows phone/i.test(e)||fS(e)}function xM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(e,t=[]){let n;switch(e){case"Browser":n=$E(Ne());break;case"Worker":n=`${$E(Ne())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ta}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=l=>new Promise((c,m)=>{try{const d=t(l);c(d)}catch(d){m(d)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(e,t={}){return mi(e,"GET","/v2/passwordPolicy",or(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=6;class LM{constructor(t){var n,s,o,l;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:UM,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,l,c,m;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,d),this.validatePasswordCharacterOptions(t,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(s=d.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsLowercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(m=d.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),d}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new WE(this),this.idTokenSubscription=new WE(this),this.beforeStateQueue=new VM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ai(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Bs.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,d=await this.tryRedirectSignIn(t);(!c||c===m)&&(d!=null&&d.user)&&(o=d.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return st(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await uc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=dM()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?he(t):null;return n&&st(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&st(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ai(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await PM(this),n=new LM(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Yo("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await NM(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ai(t)||this._popupRedirectResolver;st(n,this,"argument-error"),this.redirectPersistenceManager=await Bs.create(this,[ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(st(m,this,"internal-error"),m.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const d=t.addObserver(n,s,o);return()=>{c=!0,d()}}else{const d=t.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return st(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=yS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&uM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Xr(e){return he(e)}class WE{constructor(t){this.auth=t,this.observer=null,this.addObserver=FI(n=>this.observer=n)}get next(){return st(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function _S(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=o=>{const l=Pn("internal-error");l.customData=o,n(l)},s.type="text/javascript",s.charset="UTF-8",jM().appendChild(s)})}function zM(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const BM="https://www.google.com/recaptcha/enterprise.js?render=",qM="recaptcha-enterprise",HM="NO_RECAPTCHA";class FM{constructor(t){this.type=qM,this.auth=Xr(t)}async verify(t="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,m)=>{vM(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new _M(d);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(d=>{m(d)})})}function o(l,c,m){const d=window.grecaptcha;KE(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:t}).then(g=>{c(g)}).catch(()=>{c(HM)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((l,c)=>{s(this.auth).then(m=>{if(!n&&KE(window.grecaptcha))o(m,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}_S(BM+m).then(()=>{o(m,l,c)}).catch(d=>{c(d)})}}).catch(m=>{c(m)})})}}async function ZE(e,t,n,s=!1){const o=new FM(e);let l;try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const c=Object.assign({},t);return s?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function ym(e,t,n,s){var o;if(!((o=e._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await ZE(e,t,n,n==="getOobCode");return s(e,l)}else return s(e,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await ZE(e,t,n,n==="getOobCode");return s(e,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(e,t){const n=Dm(e,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(Co(l,t??{}))return o;Tn(o,"already-initialized")}return n.initialize({options:t})}function QM(e,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ai);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function KM(e,t,n){const s=Xr(e);st(s._canInitEmulator,s,"emulator-config-failed"),st(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,l=vS(t),{host:c,port:m}=YM(t),d=m===null?"":`:${m}`;s.config.emulator={url:`${l}//${c}${d}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:c,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),XM()}function vS(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function YM(e){const t=vS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:JE(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:JE(c)}}}function JE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function XM(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return si("not implemented")}_getIdTokenResponse(t){return si("not implemented")}_linkToIdToken(t,n){return si("not implemented")}_getReauthenticationResolver(t){return si("not implemented")}}async function $M(e,t){return mi(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WM(e,t){return hl(e,"POST","/v1/accounts:signInWithPassword",or(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZM(e,t){return hl(e,"POST","/v1/accounts:signInWithEmailLink",or(e,t))}async function JM(e,t){return hl(e,"POST","/v1/accounts:signInWithEmailLink",or(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo extends Pg{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Qo(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Qo(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ym(t,n,"signInWithPassword",WM);case"emailLink":return ZM(t,{email:this._email,oobCode:this._password});default:Tn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ym(t,s,"signUpPassword",$M);case"emailLink":return JM(t,{idToken:n,email:this._email,oobCode:this._password});default:Tn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qs(e,t){return hl(e,"POST","/v1/accounts:signInWithIdp",or(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="http://localhost";class Hr extends Pg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Hr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,l=Ng(n,["providerId","signInMethod"]);if(!s||!o)return null;const c=new Hr(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return qs(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,qs(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,qs(t,n)}buildRequest(){const t={requestUri:tx,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Xo(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nx(e){const t=ho(fo(e)).link,n=t?ho(fo(t)).deep_link_id:null,s=ho(fo(e)).deep_link_id;return(s?ho(fo(s)).link:null)||s||n||t||e}class Ug{constructor(t){var n,s,o,l,c,m;const d=ho(fo(t)),g=(n=d.apiKey)!==null&&n!==void 0?n:null,y=(s=d.oobCode)!==null&&s!==void 0?s:null,v=ex((o=d.mode)!==null&&o!==void 0?o:null);st(g&&y&&v,"argument-error"),this.apiKey=g,this.operation=v,this.code=y,this.continueUrl=(l=d.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=d.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(m=d.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const n=nx(t);try{return new Ug(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this.providerId=la.PROVIDER_ID}static credential(t,n){return Qo._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Ug.parseLink(n);return st(s,"argument-error"),Qo._fromEmailAndCode(t,s.code,s.tenantId)}}la.PROVIDER_ID="password";la.EMAIL_PASSWORD_SIGN_IN_METHOD="password";la.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends ES{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends fl{constructor(){super("facebook.com")}static credential(t){return Hr._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qi.credentialFromTaggedObject(t)}static credentialFromError(t){return qi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qi.credential(t.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends fl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Hr._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Hi.credentialFromTaggedObject(t)}static credentialFromError(t){return Hi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Hi.credential(n,s)}catch{return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends fl{constructor(){super("github.com")}static credential(t){return Hr._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fi.credentialFromTaggedObject(t)}static credentialFromError(t){return Fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fi.credential(t.oauthAccessToken)}catch{return null}}}Fi.GITHUB_SIGN_IN_METHOD="github.com";Fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends fl{constructor(){super("twitter.com")}static credential(t,n){return Hr._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Gi.credentialFromTaggedObject(t)}static credentialFromError(t){return Gi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Gi.credential(n,s)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(e,t){return hl(e,"POST","/v1/accounts:signUp",or(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const l=await Lr._fromIdTokenResponse(t,s,o),c=t0(s);return new Fr({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=t0(s);return new Fr({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function t0(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends di{constructor(t,n,s,o){var l;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,cc.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new cc(t,n,s,o)}}function TS(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?cc._fromErrorAndOperation(e,l,t,s):l})}async function rx(e,t,n=!1){const s=await Ws(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Fr._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sx(e,t,n=!1){const{auth:s}=e,o="reauthenticate";try{const l=await Ws(e,TS(s,o,t,e),n);st(l.idToken,s,"internal-error");const c=xg(l.idToken);st(c,s,"internal-error");const{sub:m}=c;return st(e.uid===m,s,"user-mismatch"),Fr._forOperation(e,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Tn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AS(e,t,n=!1){const s="signIn",o=await TS(e,s,t),l=await Fr._fromIdTokenResponse(e,s,o);return n||await e._updateCurrentUser(l.user),l}async function ax(e,t){return AS(Xr(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SS(e){const t=Xr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ox(e,t,n){const s=Xr(e),c=await ym(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ix).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&SS(e),d}),m=await Fr._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(m.user),m}function lx(e,t,n){return ax(he(e),la.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&SS(e),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ux(e,t){return mi(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e0(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const s=he(e),l={idToken:await s.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},c=await Ws(s,ux(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const m=s.providerData.find(({providerId:d})=>d==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function cx(e,t,n,s){return he(e).onIdTokenChanged(t,n,s)}function hx(e,t,n){return he(e).beforeAuthStateChanged(t,n)}function fx(e,t,n,s){return he(e).onAuthStateChanged(t,n,s)}const hc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hc,"1"),this.storage.removeItem(hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(){const e=Ne();return Vg(e)||Xc(e)}const mx=1e3,gx=10;class RS extends wS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=dx()&&xM(),this.fallbackToPolling=pS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,m,d)=>{this.notifyListeners(c,d)});return}const s=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const c=this.storage.getItem(s);if(t.newValue!==c)t.newValue!==null?this.storage.setItem(s,t.newValue):this.storage.removeItem(s);else if(this.localCache[s]===t.newValue&&!n)return}const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);MM()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,gx):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},mx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}RS.type="LOCAL";const px=RS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS extends wS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}bS.type="SESSION";const IS=bS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new $c(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:l}=n.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async g=>g(n.origin,l)),d=await yx(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:d})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$c.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((m,d)=>{const g=Lg("",20);o.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(v){const T=v;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(T.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function vx(e){Un().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function Ex(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Tx(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function Ax(){return CS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="firebaseLocalStorageDb",Sx=1,fc="firebaseLocalStorage",NS="fbase_key";class dl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wc(e,t){return e.transaction([fc],t?"readwrite":"readonly").objectStore(fc)}function wx(){const e=indexedDB.deleteDatabase(DS);return new dl(e).toPromise()}function _m(){const e=indexedDB.open(DS,Sx);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(fc,{keyPath:NS})}catch(o){n(o)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(fc)?t(s):(s.close(),await wx(),t(await _m()))})})}async function n0(e,t,n){const s=Wc(e,!0).put({[NS]:t,value:n});return new dl(s).toPromise()}async function Rx(e,t){const n=Wc(e,!1).get(t),s=await new dl(n).toPromise();return s===void 0?null:s.value}function i0(e,t){const n=Wc(e,!0).delete(t);return new dl(n).toPromise()}const bx=800,Ix=3;class OS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>Ix)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$c._getInstance(Ax()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Ex(),!this.activeServiceWorker)return;this.sender=new _x(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Tx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _m();return await n0(t,hc,"1"),await i0(t,hc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>n0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>Rx(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>i0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const l=Wc(o,!1).getAll();return new dl(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:l}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OS.type="LOCAL";const Cx=OS;new cl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(e,t){return t?ai(t):(st(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg extends Pg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return qs(t,this._buildIdpRequest())}_linkToIdToken(t,n){return qs(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return qs(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Nx(e){return AS(e.auth,new kg(e),e.bypassAuthState)}function Ox(e){const{auth:t,user:n}=e;return st(n,t,"internal-error"),sx(n,new kg(e),e.bypassAuthState)}async function Mx(e){const{auth:t,user:n}=e;return st(n,t,"internal-error"),rx(n,new kg(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(t,n,s,o,l=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:l,error:c,type:m}=t;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(d))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Nx;case"linkViaPopup":case"linkViaRedirect":return Mx;case"reauthViaPopup":case"reauthViaRedirect":return Ox;default:Tn(this.auth,"internal-error")}}resolve(t){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=new cl(2e3,1e4);class Ls extends MS{constructor(t,n,s,o,l){super(t,n,o,l),this.provider=s,this.authWindow=null,this.pollId=null,Ls.currentPopupAction&&Ls.currentPopupAction.cancel(),Ls.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return st(t,this.auth,"internal-error"),t}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const t=Lg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ls.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,xx.get())};t()}}Ls.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="pendingRedirect",Fu=new Map;class Px extends MS{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Fu.get(this.auth._key());if(!t){try{const s=await Ux(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Fu.set(this.auth._key(),t)}return this.bypassAuthState||Fu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ux(e,t){const n=jx(t),s=kx(e);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function Lx(e,t){Fu.set(e._key(),t)}function kx(e){return ai(e._redirectPersistence)}function jx(e){return Hu(Vx,e.config.apiKey,e.name)}async function zx(e,t,n=!1){const s=Xr(e),o=Dx(s,t),c=await new Px(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=10*60*1e3;class qx{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Hx(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!xS(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Pn(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Bx&&this.cachedEventUids.clear(),this.cachedEventUids.has(r0(t))}saveEventToCache(t){this.cachedEventUids.add(r0(t)),this.lastProcessedEventTime=Date.now()}}function r0(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function xS({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Hx(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xS(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(e,t={}){return mi(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qx=/^https?/;async function Kx(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Fx(e);for(const n of t)try{if(Yx(n))return}catch{}Tn(e,"unauthorized-domain")}function Yx(e){const t=pm(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!Qx.test(n))return!1;if(Gx.test(e))return s===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=new cl(3e4,6e4);function s0(){const e=Un().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function $x(e){return new Promise((t,n)=>{var s,o,l;function c(){s0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{s0(),n(Pn(e,"network-request-failed"))},timeout:Xx.get()})}if(!((o=(s=Un().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((l=Un().gapi)===null||l===void 0)&&l.load)c();else{const m=zM("iframefcb");return Un()[m]=()=>{gapi.load?c():n(Pn(e,"network-request-failed"))},_S(`https://apis.google.com/js/api.js?onload=${m}`).catch(d=>n(d))}}).catch(t=>{throw Gu=null,t})}let Gu=null;function Wx(e){return Gu=Gu||$x(e),Gu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=new cl(5e3,15e3),Jx="__/auth/iframe",tV="emulator/auth/iframe",eV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iV(e){const t=e.config;st(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Mg(t,tV):`https://${e.config.authDomain}/${Jx}`,s={apiKey:t.apiKey,appName:e.name,v:ta},o=nV.get(e.config.apiHost);o&&(s.eid=o);const l=e._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Xo(s).slice(1)}`}async function rV(e){const t=await Wx(e),n=Un().gapi;return st(n,e,"internal-error"),t.open({where:document.body,url:iV(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eV,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=Pn(e,"network-request-failed"),m=Un().setTimeout(()=>{l(c)},Zx.get());function d(){Un().clearTimeout(m),o(s)}s.ping(d).then(d,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aV=500,oV=600,lV="_blank",uV="http://localhost";class a0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cV(e,t,n,s=aV,o=oV){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const d=Object.assign(Object.assign({},sV),{width:s.toString(),height:o.toString(),top:l,left:c}),g=Ne().toLowerCase();n&&(m=hS(g)?lV:n),cS(g)&&(t=t||uV,d.scrollbars="yes");const y=Object.entries(d).reduce((T,[I,L])=>`${T}${I}=${L},`,"");if(OM(g)&&m!=="_self")return hV(t||"",m),new a0(null);const v=window.open(t||"",m,y);st(v,e,"popup-blocked");try{v.focus()}catch{}return new a0(v)}function hV(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV="__/auth/handler",dV="emulator/auth/handler",mV=encodeURIComponent("fac");async function o0(e,t,n,s,o,l){st(e.config.authDomain,e,"auth-domain-config-required"),st(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:ta,eventId:o};if(t instanceof ES){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",HI(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(t instanceof fl){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const m=c;for(const y of Object.keys(m))m[y]===void 0&&delete m[y];const d=await e._getAppCheckToken(),g=d?`#${mV}=${encodeURIComponent(d)}`:"";return`${gV(e)}?${Xo(m).slice(1)}${g}`}function gV({config:e}){return e.emulator?Mg(e,dV):`https://${e.authDomain}/${fV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="webStorageSupport";class pV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IS,this._completeRedirectFn=zx,this._overrideRedirectResult=Lx}async _openPopup(t,n,s,o){var l;fi((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await o0(t,n,s,pm(),o);return cV(t,c,Lg())}async _openRedirect(t,n,s,o){await this._originValidation(t);const l=await o0(t,n,s,pm(),o);return vx(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(fi(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await rV(t),s=new qx(t);return n.register("authEvent",o=>(st(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Vd,{type:Vd},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Vd];c!==void 0&&n(!!c),Tn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Kx(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return pS()||Vg()||Xc()}}const yV=pV;var l0="@firebase/auth",u0="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){st(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function EV(e){Hs(new kr("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;st(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:c,authDomain:m,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yS(e)},g=new kM(s,o,l,d);return QM(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Hs(new kr("auth-internal",t=>{const n=Xr(t.getProvider("auth").getImmediate());return(s=>new _V(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(l0,u0,vV(e)),Wi(l0,u0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=5*60,AV=O0("authIdTokenMaxAge")||TV;let c0=null;const SV=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>AV)return;const o=n==null?void 0:n.token;c0!==o&&(c0=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function wV(e=H1()){const t=Dm(e,"auth");if(t.isInitialized())return t.getImmediate();const n=GM(e,{popupRedirectResolver:yV,persistence:[Cx,px,IS]}),s=O0("authTokenSyncURL");if(s){const l=SV(s);hx(n,l,()=>l(n.currentUser)),cx(n,c=>l(c))}const o=MI("auth");return o&&KM(n,`http://${o}`),n}EV("Browser");const RV={apiKey:"AIzaSyCcrGeP8uj0LlZ9CQJFwF5YpJ43rO6EByU",authDomain:"rein-firebase-test.firebaseapp.com",databaseURL:"https://rein-firebase-test-default-rtdb.europe-west1.firebasedatabase.app",projectId:"rein-firebase-test",storageBucket:"rein-firebase-test.appspot.com",messagingSenderId:"270166841798",appId:"1:270166841798:web:2d2c7a5f4bee100f387ac7"},VS=V0(RV),zi=wV(VS),lr=BO(VS,{experimentalForceLongPolling:!0}),h0=()=>`https://picsum.photos/id/${Math.floor(Math.random()*500)}/200/300`,ur=x.createContext(null),bV=({children:e})=>{const[t,n]=x.useState(null),[s,o]=x.useState(!0);console.log("user",t);const l=async(y,v)=>{try{const T=await lx(zi,y,v);return n(T.user),!0}catch(T){throw console.error("Error signing in:",T),T}},c=async()=>{await zi.signOut(),n(null)},m=async(y,v)=>{const T=y.split("@")[0],I=h0();try{const L=await ox(zi,y,v);T&&await e0(L.user,{displayName:T,photoURL:I}),n({...L.user,displayName:T,photoURL:I})}catch(L){throw console.error("Error creating user:",L.code,L.message),L}},d=async({displayName:y})=>{if(!zi.currentUser)return!1;const v=y??zi.currentUser.displayName,T=zi.currentUser.photoURL??h0();try{return await e0(zi.currentUser,{displayName:v,photoURL:T}),n(I=>I?{...I,displayName:v,photoURL:T}:null),!0}catch(I){return console.error("Error updating profile:",I),!1}};x.useEffect(()=>{o(!0);const y=fx(zi,v=>{console.log("onAuthStateChanged!!"),n(v),o(!1)});return()=>y()},[]);const g=x.useMemo(()=>({isLoading:s,user:t,signOut:c,signIn:l,createUser:m,updateUser:d}),[s,t]);return A.jsx(ur.Provider,{value:g,children:e})},PS=e=>{const{user:t,signIn:n,signOut:s}=x.useContext(ur),o=()=>{t?s():n("test@test.no","123456"),e.onClickAction&&e.onClickAction()};return A.jsx("div",{children:A.jsx("span",{style:{display:"flex",alignItems:"center"},onClick:o,children:t?"Logout":"Login"})})},IV=()=>A.jsxs("div",{children:[A.jsx("h1",{children:"content"}),A.jsx(Io,{to:"/magicitems",children:"Magic Items"}),A.jsx(PS,{})]}),CV=()=>{const{user:e,signIn:t,signOut:n}=x.useContext(ur),[s,o]=x.useState(""),[l,c]=x.useState(""),[m,d]=x.useState(""),g=async y=>{if(y.preventDefault(),e){n();return}if(!s||!l){alert("Please enter username and password");return}if(s==="admin"&&l==="admin"){t("test@test.no","123456");return}const v=await t(s,l);console.log(v),v.error.length>0&&d(v.error[1])};return A.jsx("div",{className:"login-container",children:A.jsxs("form",{className:"login-form",onSubmit:g,children:[A.jsx("label",{htmlFor:"username",children:"Username:"}),A.jsx("input",{type:"text",id:"username",value:s,onChange:y=>o(y.target.value),required:!0}),A.jsx("label",{htmlFor:"password",children:"Password:"}),A.jsx("input",{type:"password",id:"password",value:l,onChange:y=>c(y.target.value),required:!0}),m.length>0&&A.jsx("div",{children:m}),A.jsxs("div",{className:"login-form-footer",children:[A.jsx("button",{type:"submit",children:"Login"}),A.jsxs("div",{className:"login-form-footer-right",children:[A.jsx("p",{children:"Forgot password?"}),A.jsx(Io,{to:"/register",children:"Register"})]})]})]})})},DV=()=>{const{createUser:e}=x.useContext(ur),[t,n]=x.useState(""),[s,o]=x.useState(""),[l,c]=x.useState(""),m=async d=>{if(d.preventDefault(),!t||!s||!l){alert("Please fill in all fields");return}if(s.length<6){alert("Password must be at least 6 characters long");return}if(s!==l){alert("Passwords do not match");return}await e(t,s)};return A.jsx("div",{className:"registration-container",children:A.jsxs("form",{className:"registration-form",onSubmit:m,children:[A.jsx("label",{htmlFor:"email",children:"Email:"}),A.jsx("input",{type:"email",id:"email",value:t,onChange:d=>n(d.target.value),required:!0}),A.jsx("label",{htmlFor:"password",children:"Password:"}),A.jsx("input",{type:"password",id:"password",value:s,onChange:d=>o(d.target.value),required:!0}),A.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password:"}),A.jsx("input",{type:"password",id:"confirmPassword",value:l,onChange:d=>c(d.target.value),required:!0}),A.jsx("button",{type:"submit",children:"Register"})]})})},NV=e=>{const[t,n]=x.useState(""),[s,o]=x.useState(""),l=c=>{if(c.preventDefault(),t!==s){alert("Passwords do not match");return}};return A.jsxs("div",{className:"form-container",children:[A.jsx("div",{className:"profile-dividers",children:"Password:"}),A.jsx("form",{className:"profile-form",onSubmit:l,children:A.jsx("table",{children:A.jsxs("tbody",{children:[A.jsxs("tr",{children:[A.jsx("th",{className:"form-label",children:A.jsx("label",{htmlFor:"password",children:"Password:"})}),A.jsx("th",{children:A.jsx("input",{type:"password",id:"password",defaultValue:"",placeholder:"*****",onChange:c=>n(c.target.value),required:!0,disabled:!0})})]}),A.jsxs("tr",{children:[A.jsx("th",{className:"form-label",children:A.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password:"})}),A.jsx("th",{children:A.jsx("input",{type:"password",id:"confirmPassword",value:"",placeholder:"*****",onChange:c=>o(c.target.value),required:!0,disabled:!0})})]}),A.jsx("tr",{children:A.jsx("th",{colSpan:2,children:A.jsx("div",{className:"form-submit",children:A.jsx("button",{className:"submit-btn",type:"submit",disabled:!0,children:"Disabled"})})})})]})})})]})},OV=e=>{const[t,n]=x.useState(""),s=x.useRef(null);let o=e.user.displayName,l=e.user.email;const c=async d=>{if(d.preventDefault(),t.length<3){alert("Name is too short");return}e.setIsUpdating(!0),await e.handleUpdateUser(t)&&e.setIsUpdating(!1)},m=d=>{d.preventDefault(),n(e.user.displayName),s.current.value=e.user.displayName};return A.jsxs("div",{className:"form-container",children:[A.jsx("div",{className:"profile-dividers",children:"User Info:"}),A.jsx("form",{className:"profile-form",onSubmit:c,children:A.jsx("table",{className:"profile-form",children:A.jsxs("tbody",{children:[A.jsxs("tr",{children:[A.jsx("th",{className:"form-label",children:A.jsx("label",{htmlFor:"name",children:"Name:"})}),A.jsx("th",{children:A.jsx("input",{type:"text",id:"name",defaultValue:o,ref:s,onChange:d=>n(d.target.value),required:!0})})]}),A.jsxs("tr",{children:[A.jsx("th",{className:"form-label",children:A.jsx("label",{htmlFor:"email",children:"Email:"})}),A.jsx("th",{children:A.jsx("input",{type:"text",id:"email",value:l,required:!0,disabled:!0})})]}),A.jsx("tr",{children:A.jsx("th",{colSpan:2,children:A.jsxs("div",{className:"form-submit",children:[t!==""&&t!==o&&A.jsx("button",{className:"submit-btn",type:"reset",onClick:m,children:"Reset"}),A.jsx("button",{className:"submit-btn",type:"submit",disabled:t===""||t===o,children:"Update"})]})})})]})})})]})},MV=e=>A.jsxs("div",{className:"profile-card",children:[A.jsx("div",{className:"card-title",children:"Edit User"}),A.jsxs("div",{className:"card-body",children:[A.jsx(OV,{...e}),A.jsx(NV,{})]})]}),US=()=>{const{user:e,updateUser:t}=x.useContext(ur),[n,s]=x.useState(!1);if(!e)return A.jsx("div",{children:A.jsx("span",{children:"Fetching User"})});const o=async l=>await t({displayName:l});return n?A.jsx("div",{className:"profile-body",children:A.jsx("div",{className:"profile-card",children:A.jsx("span",{children:"Updating User"})})}):A.jsx("div",{className:"profile-body",children:A.jsx(MV,{user:e,setIsUpdating:s,handleUpdateUser:o})})},LS=e=>{const t=e.item.mi_title,n=e.item.mi_type,s=e.item.mi_attunement,o=e.item.mi_description,l=()=>{e.getModalItem(e.item)};return A.jsxs("div",{className:"flex flex-col justify-start p-4 bg-white hover:bg-green-50 rounded-md drop-shadow-md cursor-pointer mt-2",onClick:l,children:[A.jsx("div",{className:"font-semibold",children:t}),A.jsxs("div",{className:"text-gray-500 text-sm",children:[n,s?" Requires Attunement":""]}),A.jsx("div",{className:"text-sm mt-3 max-h-[200px] overflow-y-hidden",children:o})]})},xV=x.forwardRef(({modalItem:e,onEditSaved:t},n)=>{const[s,o]=x.useState(e.mi_title),[l,c]=x.useState(e.mi_type),[m,d]=x.useState(e.mi_attunement),[g,y]=x.useState(e.mi_description),v=T=>{T.preventDefault(),t({mi_title:s,mi_type:l,mi_attunement:m,mi_description:g})};return x.useImperativeHandle(n,()=>({submit:v})),A.jsx(A.Fragment,{children:A.jsxs("form",{onSubmit:v,children:[A.jsx("input",{name:"title",value:s,type:"text",onChange:T=>o(T.target.value)}),A.jsx("input",{name:"type",value:l,type:"text",onChange:T=>c(T.target.value)}),A.jsxs("div",{className:"mim-edit-attunement",children:[A.jsx("div",{children:"requires attunement? "}),A.jsx("input",{name:"attunement",type:"checkbox",checked:m,onChange:T=>d(T.target.checked)})]}),A.jsx("textarea",{className:"mim-edit-description",name:"description",value:g,onChange:T=>y(T.target.value)})]})})}),VV=async e=>(await eS(Eg(lr,e))).docs.map(n=>({id:n.id,...n.data()})),PV=async(e,t)=>{try{const n=await nS(oa(lr,t,e));return console.log(`Deleted item with ID: ${e} from collection: ${t}`," dockref: ",n),!0}catch(n){return console.log("Error Deleting: ",n),!1}},UV=async(e,t)=>{try{const n=await aM(Eg(lr,t),{...e});return console.log("Document written with ID: ",n.id),{id:n.id,...e}}catch(n){return console.error("Error adding document: ",n),!1}},LV=async(e,t,n)=>{try{const s=await sM(oa(lr,n,t),{...e});return console.log("Document updated with ID: ",t," docref: ",s),!0}catch(s){return console.error("Error updating document: ",s),!1}},kV=async(e,t,n,s,o)=>{if(await kS(e,t,n))return console.log("Relation already exists"),!1;const c=`${t}-${n}`,m={value1:t,value2:n,semantic1:s,semantic2:o,createdAt:new Date};try{return await rM(oa(lr,e,c),m),console.log("Relation added with ID: ",c),c}catch(d){return console.error("Error adding relation: ",d),!1}},jV=async(e,t)=>{const n=ZO(Eg(lr,e),JO("value1","==",t));return(await eS(n)).docs.map(o=>({id:o.id,...o.data()}))},zV=async(e,t,n)=>{const s=`${t}-${n}`;try{if(!await kS(e,t,n))return console.log("Relation does not exist"),!0}catch(o){return console.error("Error checking relation: ",o),!1}try{return await nS(oa(lr,e,s)),console.log("Relation deleted with ID: ",s),!0}catch(o){return console.error("Error deleting relation: ",o),!1}},kS=async(e,t,n)=>{const s=`${t}-${n}`,o=oa(lr,e,s);return(await iM(o)).exists()},jS=()=>{const e=x.useContext(ur);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},jg=()=>jS().user,Pd="magic_item_favorites",zg=()=>{const{user:e}=jS(),[t,n]=x.useState([]),[s,o]=x.useState(!0),l=e==null?void 0:e.uid,c=x.useCallback(async()=>{if(!l)return;o(!0);const T=(await jV(Pd,l)).map(I=>I.value2);n(T),o(!1)},[l]),m=v=>t.includes(v),d=async(v,T)=>{l&&(m(v)||(await kV(Pd,l,v,(e==null?void 0:e.displayName)||"",T||""),n(I=>[...I,v])))},g=async v=>{l&&(await zV(Pd,l,v),n(T=>T.filter(I=>I!==v)))},y=async(v,T)=>{m(v)?await g(v):await d(v,T||void 0)};return x.useEffect(()=>{c()},[c]),{favoriteItemIds:t,isFavorited:m,addFavorite:d,removeFavorite:g,toggleFavorite:y,loadingFavourites:s}},BV=({modalItem:e})=>A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"mim-title",children:e.mi_title}),A.jsxs("div",{className:"mim-type",children:[e.mi_type," ",e.mi_attunement?"requires attunement":""]}),A.jsx("div",{className:"mim-description",children:e.mi_description})]}),qV=e=>{const[t,n]=x.useState(!1),[s,o]=x.useState(!1),l=x.useRef(null),{addFavorite:c,removeFavorite:m,isFavorited:d}=zg(),g=O=>{O.preventDefault(),c(e.modalItem.id,e.modalItem.mi_title)},y=O=>{O.preventDefault(),m(e.modalItem.id)};x.useEffect(()=>{n(!0)},[]);const v=O=>{var Y;O.preventDefault(),(Y=l.current)==null||Y.submit(O)},T=()=>{o(!1),e.onClose()},I=()=>{o(O=>!O)},L=()=>{window.confirm(`Are you sure you want to delete ${e.modalItem.mi_title}?`)&&(o(!1),e.onDelete(e.modalItem.id))},j=O=>{e.onEditSaved(O,e.modalItem.id),T()};return e.modalItem==null||!t?null:bb.createPortal(A.jsx("div",{className:"mim-modal",onClick:T,children:A.jsx("div",{className:"mim-container",children:A.jsxs("div",{className:"mim-card",onClick:O=>O.stopPropagation(),children:[s?A.jsx(xV,{ref:l,modalItem:e.modalItem,onEditSaved:j}):A.jsx(BV,{modalItem:e.modalItem}),A.jsxs("div",{className:"mim-footer",children:[s&&A.jsx("button",{className:"mim-footer-edit",onClick:v,children:"Save"}),A.jsx("button",{className:s?"mim-footer-delete":"mim-footer-edit",onClick:I,children:s?"cancel":"edit"}),d(e.modalItem.id)?A.jsx("button",{className:"mim-footer-delete",onClick:y,children:"Unfavorite"}):A.jsx("button",{className:"mim-footer-favourite",onClick:g,children:"Favorite"}),A.jsx("button",{className:"mim-footer-delete",onClick:L,children:"Delete"})]})]})})}),document.getElementById("modal"))};var zS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vm=oi.createContext&&oi.createContext(zS),HV=["attr","size","title"];function FV(e,t){if(e==null)return{};var n=GV(e,t),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)s=l[o],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function GV(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function dc(){return dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dc.apply(this,arguments)}function f0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,s)}return n}function mc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f0(Object(n),!0).forEach(function(s){QV(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f0(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function QV(e,t,n){return t=KV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KV(e){var t=YV(e,"string");return typeof t=="symbol"?t:t+""}function YV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BS(e){return e&&e.map((t,n)=>oi.createElement(t.tag,mc({key:n},t.attr),BS(t.child)))}function qS(e){return t=>oi.createElement(XV,dc({attr:mc({},e.attr)},t),BS(e.child))}function XV(e){var t=n=>{var{attr:s,size:o,title:l}=e,c=FV(e,HV),m=o||n.size||"1em",d;return n.className&&(d=n.className),e.className&&(d=(d?d+" ":"")+e.className),oi.createElement("svg",dc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,c,{className:d,style:mc(mc({color:e.color||n.color},n.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),l&&oi.createElement("title",null,l),e.children)};return vm!==void 0?oi.createElement(vm.Consumer,null,n=>t(n)):t(zS)}function $V(e){return qS({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"},child:[]}]})(e)}function HS(e){return qS({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}const WV=e=>{const[t,n]=x.useState(!0),[s,o]=x.useState(""),[l,c]=x.useState(""),[m,d]=x.useState(!1),[g,y]=x.useState(""),[v,T]=x.useState(null),I=async j=>{if(j.preventDefault(),s===""||l===""||g===""){T("Please fill in all fields");return}const O={mi_title:s,mi_type:l,mi_attunement:m,mi_description:g};await e.addMagicItem(O)?(o(""),d(!1),c(""),y(""),T(null)):T("Error adding item")},L=()=>{n(j=>!j)};return A.jsxs("div",{className:"flex flex-col justify-start p-4 bg-white drop-shadow-md rounded-md my-2",children:[A.jsxs("div",{className:"flex flex-row justify-between items-center",children:[A.jsx("div",{className:"text-lg font-semibold",children:"Add New Item"}),A.jsx("button",{className:"p-1 bg-gray-200 cursor-pointer",type:"button",onClick:L,children:t?A.jsx($V,{}):A.jsx(HS,{})})]}),A.jsx("div",{className:t?"hidden":"block",children:A.jsxs("div",{className:"flex flex-col justify-between items-center w-full min-w-[200px]",children:[A.jsxs("form",{className:"w-full",onSubmit:I,children:[A.jsx("input",{className:"w-full",name:"title",placeholder:"Title",value:s,type:"text",onChange:j=>o(j.target.value)}),A.jsx("input",{className:"w-full",name:"type",placeholder:"Type",value:l,type:"text",onChange:j=>c(j.target.value)}),A.jsxs("div",{className:"flex flex-row w-full justify-between",children:[A.jsx("div",{className:"",children:"Requires Attunement?"}),A.jsx("input",{className:"",type:"checkbox",checked:m,onChange:j=>d(j.target.checked)})]}),A.jsx("div",{className:"mt-1 w-full",children:A.jsx("textarea",{rows:5,className:"w-full p-1",name:"description",placeholder:"Description",value:g,onChange:j=>y(j.target.value)})}),A.jsx("div",{className:"w-full mt-1",children:A.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white cursor-pointer",children:"Add Item"})})]}),v&&A.jsx("div",{className:"w-full bg-red-100 mt-1 text-center",children:v})]})})]})};function d0(){const{innerWidth:e,innerHeight:t}=window;return{width:e,height:t}}function ZV(){const[e,t]=x.useState(d0());return x.useEffect(()=>{function n(){t(d0())}return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}const JV=({children:e})=>A.jsx("div",{className:"fex flex-col p-1 w-[440px] min-h-1 justify-top align-center",children:e}),t2=({children:e})=>{const{width:t}=ZV();let n=0,s=[];e=e.flat(),t<1e3?n=1:n=Math.floor(t/432);for(let o=0;o<n;o++){let l=[];for(let c=o;c<e.length;c+=n)l.push(e[c]);s.push({key:o,childrenItems:l})}return A.jsx(A.Fragment,{children:s.map(o=>A.jsx(JV,{children:o.childrenItems},o.key))})},e2=e=>{const t=s=>{s.preventDefault(),e.searchText.trim()},n=s=>{s.preventDefault(),e.setSearchText("")};return A.jsxs("div",{className:"flex flex-col my-2",children:[A.jsxs("div",{className:"flex flex-row p-4 bg-white drop-shadow-md rounded-md z-2",children:[A.jsx("input",{className:"block m-0 p-0 px-2 mr-1 w-full bg-gray-200 rounded-sm",name:"search_text",type:"text",placeholder:"Search title...",value:e.searchText,onChange:s=>e.setSearchText(s.target.value)}),A.jsx("button",{className:"p-2 bg-green-600 text-white rounded-sm",onClick:t,children:"Search"})]}),e.searchText!==""&&A.jsxs("div",{className:"flex flex-row items-center z-1 bg-amber-50 p-4 rounded-b-md drop-shadow-md mt-[-4px]",children:[A.jsxs("span",{className:"w-full",children:['Filtering for: "',e.searchText,'"']}),A.jsx("button",{className:"p-2 bg-blue-600 text-white rounded-sm",onClick:n,children:"Reset"})]})]})},Lu="magic_items",FS=()=>{const e=jg(),[t,n]=x.useState([]),[s,o]=x.useState(!0),{favoriteItemIds:l}=zg(),c=e==null?void 0:e.uid,m=x.useCallback(async()=>{if(!c)return;o(!0);const v=new Set(l),I=(await VV(Lu)).map(L=>({...L,is_favorite:v.has(L.id)}));n(I),console.log("Merged Items",I),o(!1)},[l,c]),d=async v=>{const T=await UV(v,Lu);return T?(n(I=>[...I,T]),T):(alert("Error adding item"),null)},g=async v=>{n(I=>I.filter(L=>L.id!==v));const T=await PV(v,Lu);return T||alert("Error deleting item"),!!T},y=async(v,T)=>{delete v.is_favorite;const I=await LV(v,T,Lu);return I?n(L=>L.map(j=>j.id===T?v:j)):alert("Error updating item"),!!I};return x.useEffect(()=>{console.log("Refreshing magic items"),m()},[m]),{magicItems:t,addMagicItem:d,deleteMagicItem:g,updateMagicItem:y,refreshMagicItemsHook:m,loading:s}},n2=()=>{const{user:e}=x.useContext(ur),{magicItems:t,addMagicItem:n,deleteMagicItem:s,updateMagicItem:o,loading:l}=FS(),[c,m]=x.useState(null),[d,g]=x.useState(""),y=x.useMemo(()=>d?t.filter(T=>T.mi_title.toLowerCase().includes(d.toLowerCase())):t,[t,d]),v=async T=>{m(null),await s(T)};return e?l?A.jsx("div",{children:A.jsx("span",{children:"Loading..."})}):A.jsxs(A.Fragment,{children:[A.jsx(qV,{modalItem:c,onClose:()=>m(null),onDelete:v,onEditSaved:o}),A.jsx("div",{className:"flex items-start justify-center",children:A.jsxs(t2,{children:[A.jsx(e2,{searchText:d,setSearchText:g},"magic_item_search"),A.jsx(WV,{addMagicItem:n},"add_magic_item_form"),y.map(T=>A.jsx(LS,{item:T,getModalItem:m},T.id)),y.length===0&&A.jsx("p",{children:"No magic items found."},"no_magic_items_found")]})})]}):A.jsx("div",{children:A.jsx("span",{children:"Fetching User"})})},i2=()=>{const e=jg(),{magicItems:t,loading:n}=FS(),{favoriteItemIds:s}=zg(),o=x.useMemo(()=>t.filter(l=>s.includes(l.id)),[t,s]);return e?n?A.jsx("div",{children:A.jsx("span",{children:"Loading..."})}):A.jsxs("div",{children:[A.jsx("h1",{children:"Player Page"}),A.jsx("div",{children:"List of player characters"}),A.jsx("div",{children:"List of campaigns"}),A.jsx("div",{children:o.map(l=>A.jsx(LS,{item:l,getModalItem:()=>l},l.id))})]}):A.jsx("div",{children:A.jsx("span",{children:"Fetching User"})})},GS=[{name:"home",path:"/home",element:A.jsx(IV,{})},{name:"Profile",path:"/profile",element:A.jsx(US,{})},{name:"Player",path:"/player",element:A.jsx(i2,{})},{name:"Magic items",path:"/magicitems",element:A.jsx(n2,{})}],r2=()=>{const{isLoading:e,user:t}=x.useContext(ur);return e?A.jsx("div",{children:"Loading..."}):t?t.displayName?A.jsxs(pd,{children:[GS.map(n=>A.jsx(Bi,{path:n.path,element:n.element},n.name)),A.jsx(Bi,{path:"*",element:A.jsx(gd,{replace:!0,to:"/magicitems"})})]}):A.jsxs(pd,{children:[A.jsx(Bi,{path:"/profile",element:A.jsx(US,{})}),A.jsx(Bi,{path:"*",element:A.jsx(gd,{replace:!0,to:"/profile"})})]}):A.jsxs(pd,{children:[A.jsx(Bi,{path:"/login",element:A.jsx(CV,{})}),A.jsx(Bi,{path:"/register",element:A.jsx(DV,{})}),A.jsx(Bi,{path:"*",element:A.jsx(gd,{replace:!0,to:"/login"})})]})},s2="/assets/fatrat_logo-CrDK9lAO.png",a2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAAAKklEQVQ4T2NgGGjACHTAf0ocwUSJZpBeig2g1AGU6x8NRMrDkGE0EBkYAOpQAw2SH5GVAAAAAElFTkSuQmCC",o2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAABM0lEQVQ4T8WTv0uCURSGvwrMBKMhJ8c2Rf8EaygIgmxwqanBrc2tIWiWlramNhcHx9YMIgiK5qIQiiaxHAJryHreODdudkmcuvB4zz0/3nP47jWK/mnFXd+JEQeYIn8F8nANfVe/jLE5RExdt63ww+xp1ejnGOS8hWJAKIlvFx4tT50PIK3cRXNKwHGJPW9Cc+xbXuwFW/EMTCpnDHbgNSB0gu8Iul6shp0NTBklcO4FRPzJ9olrovGQgPOlrKtf6Gx1n/2rWNeag1PQhwqJyFcFTfxjxTjpw51boQSeQWM3A2I9fGVfYYPDhZd4g13xEhawrwaE6orrgZSgDe+W8MBegJnBMTmvwR10QC/y6xqX4MmKz9jXYdgzX1WxS7rHfoMWHELDxAIDfLv0X/i1dIUjrU811FzYdVWZZwAAAABJRU5ErkJggg==",Ud="flex flex-row text-black cursor-pointer no-underline hover:text-gray-800 hover:text-shadow-sm p-2",l2=e=>A.jsxs("div",{className:"user-menu",children:[A.jsx("div",{className:"",onClick:()=>e.setShowUserMenu(!1),children:A.jsx(vm.Provider,{value:{color:"black",size:"2em"},children:A.jsx("div",{className:"p-2 cursor-pointer",children:A.jsx(HS,{})})})}),A.jsxs("div",{className:"flex flex-col justify-start items-start",children:[!!e.user&&GS.map(t=>t.name==="home"?null:A.jsx(Io,{className:Ud,to:t.path,onClick:()=>e.setShowUserMenu(!1),children:t.name},t.name)),!!e.user&&A.jsx("div",{className:Ud,children:A.jsx(PS,{onClickAction:()=>e.setShowUserMenu(!1)})}),!e.user&&A.jsx(Io,{className:Ud,to:"login",onClick:()=>e.setShowUserMenu(!1),children:"Log in"})]})]}),u2=()=>{const e=jg(),[t,n]=x.useState(!1);return A.jsxs("header",{className:"w-full flex items-center justify-between px-6 py-4 bg-white shadow-md",children:[A.jsx(Io,{to:"/home",children:A.jsx("img",{src:s2,alt:"Fat Rat Logo",className:"w-[60px] h-[60px]"})}),A.jsxs("div",{className:"flex items-center gap-4",onClick:()=>n(!0),children:[A.jsxs("div",{className:"text-gray-700",children:[" ",e?e.displayName??"UserName":"No User"," "]}),e?e.photoURL&&A.jsx("img",{src:e.photoURL,alt:"user",className:"w-[40px] h-[40px] rounded-sm"}):null,A.jsx("div",{className:"flex items-center cursor-pointer",children:A.jsx("img",{src:t?o2:a2,alt:"burger_menu"})})]}),t&&A.jsx(l2,{user:e,showUserMenu:t,setShowUserMenu:n})]})};function c2(){return A.jsxs(TI,{children:[A.jsx("div",{id:"modal"}),A.jsx("div",{className:"App",children:A.jsxs(bV,{children:[A.jsx(u2,{}),A.jsx(r2,{})]})})]})}Rb.createRoot(document.getElementById("root")).render(A.jsx(oi.StrictMode,{children:A.jsx(c2,{})}));
