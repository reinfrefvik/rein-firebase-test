function ab(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in e)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(e,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function l0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sd={exports:{}},so={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function ob(){if(_v)return so;_v=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:e,type:s,key:c,ref:o!==void 0?o:null,props:u}}return so.Fragment=t,so.jsx=n,so.jsxs=n,so}var vv;function lb(){return vv||(vv=1,sd.exports=ob()),sd.exports}var A=lb(),ad={exports:{}},ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function ub(){if(Ev)return ft;Ev=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function T(S){return S===null||typeof S!="object"?null:(S=v&&S[v]||S["@@iterator"],typeof S=="function"?S:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,j={};function O(S,z,et){this.props=S,this.context=z,this.refs=j,this.updater=et||I}O.prototype.isReactComponent={},O.prototype.setState=function(S,z){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,z,"setState")},O.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function Y(){}Y.prototype=O.prototype;function J(S,z,et){this.props=S,this.context=z,this.refs=j,this.updater=et||I}var nt=J.prototype=new Y;nt.constructor=J,k(nt,O.prototype),nt.isPureReactComponent=!0;var bt=Array.isArray,rt={H:null,A:null,T:null,S:null},kt=Object.prototype.hasOwnProperty;function Ae(S,z,et,Z,F,Tt){return et=Tt.ref,{$$typeof:e,type:S,key:z,ref:et!==void 0?et:null,props:Tt}}function mn(S,z){return Ae(S.type,z,void 0,void 0,void 0,S.props)}function $(S){return typeof S=="object"&&S!==null&&S.$$typeof===e}function yt(S){var z={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(et){return z[et]})}var Ze=/\/+/g;function jn(S,z){return typeof S=="object"&&S!==null&&S.key!=null?yt(""+S.key):z.toString(36)}function An(){}function zn(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(An,An):(S.status="pending",S.then(function(z){S.status==="pending"&&(S.status="fulfilled",S.value=z)},function(z){S.status==="pending"&&(S.status="rejected",S.reason=z)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function ke(S,z,et,Z,F){var Tt=typeof S;(Tt==="undefined"||Tt==="boolean")&&(S=null);var dt=!1;if(S===null)dt=!0;else switch(Tt){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(S.$$typeof){case e:case t:dt=!0;break;case y:return dt=S._init,ke(dt(S._payload),z,et,Z,F)}}if(dt)return F=F(S),dt=Z===""?"."+jn(S,0):Z,bt(F)?(et="",dt!=null&&(et=dt.replace(Ze,"$&/")+"/"),ke(F,z,et,"",function($t){return $t})):F!=null&&($(F)&&(F=mn(F,et+(F.key==null||S&&S.key===F.key?"":(""+F.key).replace(Ze,"$&/")+"/")+dt)),z.push(F)),1;dt=0;var Me=Z===""?".":Z+":";if(bt(S))for(var Ct=0;Ct<S.length;Ct++)Z=S[Ct],Tt=Me+jn(Z,Ct),dt+=ke(Z,z,et,Tt,F);else if(Ct=T(S),typeof Ct=="function")for(S=Ct.call(S),Ct=0;!(Z=S.next()).done;)Z=Z.value,Tt=Me+jn(Z,Ct++),dt+=ke(Z,z,et,Tt,F);else if(Tt==="object"){if(typeof S.then=="function")return ke(zn(S),z,et,Z,F);throw z=String(S),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return dt}function q(S,z,et){if(S==null)return S;var Z=[],F=0;return ke(S,Z,"","",function(Tt){return z.call(et,Tt,F++)}),Z}function ct(S){if(S._status===-1){var z=S._result;z=z(),z.then(function(et){(S._status===0||S._status===-1)&&(S._status=1,S._result=et)},function(et){(S._status===0||S._status===-1)&&(S._status=2,S._result=et)}),S._status===-1&&(S._status=0,S._result=z)}if(S._status===1)return S._result.default;throw S._result}var it=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function xt(){}return ft.Children={map:q,forEach:function(S,z,et){q(S,function(){z.apply(this,arguments)},et)},count:function(S){var z=0;return q(S,function(){z++}),z},toArray:function(S){return q(S,function(z){return z})||[]},only:function(S){if(!$(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},ft.Component=O,ft.Fragment=n,ft.Profiler=o,ft.PureComponent=J,ft.StrictMode=s,ft.Suspense=d,ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rt,ft.act=function(){throw Error("act(...) is not supported in production builds of React.")},ft.cache=function(S){return function(){return S.apply(null,arguments)}},ft.cloneElement=function(S,z,et){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var Z=k({},S.props),F=S.key,Tt=void 0;if(z!=null)for(dt in z.ref!==void 0&&(Tt=void 0),z.key!==void 0&&(F=""+z.key),z)!kt.call(z,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&z.ref===void 0||(Z[dt]=z[dt]);var dt=arguments.length-2;if(dt===1)Z.children=et;else if(1<dt){for(var Me=Array(dt),Ct=0;Ct<dt;Ct++)Me[Ct]=arguments[Ct+2];Z.children=Me}return Ae(S.type,F,void 0,void 0,Tt,Z)},ft.createContext=function(S){return S={$$typeof:c,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:u,_context:S},S},ft.createElement=function(S,z,et){var Z,F={},Tt=null;if(z!=null)for(Z in z.key!==void 0&&(Tt=""+z.key),z)kt.call(z,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(F[Z]=z[Z]);var dt=arguments.length-2;if(dt===1)F.children=et;else if(1<dt){for(var Me=Array(dt),Ct=0;Ct<dt;Ct++)Me[Ct]=arguments[Ct+2];F.children=Me}if(S&&S.defaultProps)for(Z in dt=S.defaultProps,dt)F[Z]===void 0&&(F[Z]=dt[Z]);return Ae(S,Tt,void 0,void 0,null,F)},ft.createRef=function(){return{current:null}},ft.forwardRef=function(S){return{$$typeof:m,render:S}},ft.isValidElement=$,ft.lazy=function(S){return{$$typeof:y,_payload:{_status:-1,_result:S},_init:ct}},ft.memo=function(S,z){return{$$typeof:g,type:S,compare:z===void 0?null:z}},ft.startTransition=function(S){var z=rt.T,et={};rt.T=et;try{var Z=S(),F=rt.S;F!==null&&F(et,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(xt,it)}catch(Tt){it(Tt)}finally{rt.T=z}},ft.unstable_useCacheRefresh=function(){return rt.H.useCacheRefresh()},ft.use=function(S){return rt.H.use(S)},ft.useActionState=function(S,z,et){return rt.H.useActionState(S,z,et)},ft.useCallback=function(S,z){return rt.H.useCallback(S,z)},ft.useContext=function(S){return rt.H.useContext(S)},ft.useDebugValue=function(){},ft.useDeferredValue=function(S,z){return rt.H.useDeferredValue(S,z)},ft.useEffect=function(S,z){return rt.H.useEffect(S,z)},ft.useId=function(){return rt.H.useId()},ft.useImperativeHandle=function(S,z,et){return rt.H.useImperativeHandle(S,z,et)},ft.useInsertionEffect=function(S,z){return rt.H.useInsertionEffect(S,z)},ft.useLayoutEffect=function(S,z){return rt.H.useLayoutEffect(S,z)},ft.useMemo=function(S,z){return rt.H.useMemo(S,z)},ft.useOptimistic=function(S,z){return rt.H.useOptimistic(S,z)},ft.useReducer=function(S,z,et){return rt.H.useReducer(S,z,et)},ft.useRef=function(S){return rt.H.useRef(S)},ft.useState=function(S){return rt.H.useState(S)},ft.useSyncExternalStore=function(S,z,et){return rt.H.useSyncExternalStore(S,z,et)},ft.useTransition=function(){return rt.H.useTransition()},ft.version="19.0.0",ft}var Tv;function gm(){return Tv||(Tv=1,ad.exports=ub()),ad.exports}var x=gm();const u0=l0(x),cb=ab({__proto__:null,default:u0},[x]);var od={exports:{}},ao={},ld={exports:{}},ud={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function hb(){return Av||(Av=1,function(e){function t(q,ct){var it=q.length;q.push(ct);t:for(;0<it;){var xt=it-1>>>1,S=q[xt];if(0<o(S,ct))q[xt]=ct,q[it]=S,it=xt;else break t}}function n(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var ct=q[0],it=q.pop();if(it!==ct){q[0]=it;t:for(var xt=0,S=q.length,z=S>>>1;xt<z;){var et=2*(xt+1)-1,Z=q[et],F=et+1,Tt=q[F];if(0>o(Z,it))F<S&&0>o(Tt,Z)?(q[xt]=Tt,q[F]=it,xt=F):(q[xt]=Z,q[et]=it,xt=et);else if(F<S&&0>o(Tt,it))q[xt]=Tt,q[F]=it,xt=F;else break t}}return ct}function o(q,ct){var it=q.sortIndex-ct.sortIndex;return it!==0?it:q.id-ct.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();e.unstable_now=function(){return c.now()-m}}var d=[],g=[],y=1,v=null,T=3,I=!1,k=!1,j=!1,O=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function nt(q){for(var ct=n(g);ct!==null;){if(ct.callback===null)s(g);else if(ct.startTime<=q)s(g),ct.sortIndex=ct.expirationTime,t(d,ct);else break;ct=n(g)}}function bt(q){if(j=!1,nt(q),!k)if(n(d)!==null)k=!0,zn();else{var ct=n(g);ct!==null&&ke(bt,ct.startTime-q)}}var rt=!1,kt=-1,Ae=5,mn=-1;function $(){return!(e.unstable_now()-mn<Ae)}function yt(){if(rt){var q=e.unstable_now();mn=q;var ct=!0;try{t:{k=!1,j&&(j=!1,Y(kt),kt=-1),I=!0;var it=T;try{e:{for(nt(q),v=n(d);v!==null&&!(v.expirationTime>q&&$());){var xt=v.callback;if(typeof xt=="function"){v.callback=null,T=v.priorityLevel;var S=xt(v.expirationTime<=q);if(q=e.unstable_now(),typeof S=="function"){v.callback=S,nt(q),ct=!0;break e}v===n(d)&&s(d),nt(q)}else s(d);v=n(d)}if(v!==null)ct=!0;else{var z=n(g);z!==null&&ke(bt,z.startTime-q),ct=!1}}break t}finally{v=null,T=it,I=!1}ct=void 0}}finally{ct?Ze():rt=!1}}}var Ze;if(typeof J=="function")Ze=function(){J(yt)};else if(typeof MessageChannel<"u"){var jn=new MessageChannel,An=jn.port2;jn.port1.onmessage=yt,Ze=function(){An.postMessage(null)}}else Ze=function(){O(yt,0)};function zn(){rt||(rt=!0,Ze())}function ke(q,ct){kt=O(function(){q(e.unstable_now())},ct)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){k||I||(k=!0,zn())},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ae=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(q){switch(T){case 1:case 2:case 3:var ct=3;break;default:ct=T}var it=T;T=ct;try{return q()}finally{T=it}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,ct){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var it=T;T=q;try{return ct()}finally{T=it}},e.unstable_scheduleCallback=function(q,ct,it){var xt=e.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?xt+it:xt):it=xt,q){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=it+S,q={id:y++,callback:ct,priorityLevel:q,startTime:it,expirationTime:S,sortIndex:-1},it>xt?(q.sortIndex=it,t(g,q),n(d)===null&&q===n(g)&&(j?(Y(kt),kt=-1):j=!0,ke(bt,it-xt))):(q.sortIndex=S,t(d,q),k||I||(k=!0,zn())),q},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(q){var ct=T;return function(){var it=T;T=ct;try{return q.apply(this,arguments)}finally{T=it}}}}(ud)),ud}var Sv;function fb(){return Sv||(Sv=1,ld.exports=hb()),ld.exports}var cd={exports:{}},Re={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function db(){if(wv)return Re;wv=1;var e=gm();function t(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(d,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:d,containerInfo:g,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Re.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Re.createPortal=function(d,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(d,g,null,y)},Re.flushSync=function(d){var g=c.T,y=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=g,s.p=y,s.d.f()}},Re.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(d,g))},Re.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Re.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var y=g.as,v=m(y,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:I}):y==="script"&&s.d.X(d,{crossOrigin:v,integrity:T,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Re.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=m(g.as,g.crossOrigin);s.d.M(d,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(d)},Re.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=m(y,g.crossOrigin);s.d.L(d,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Re.preloadModule=function(d,g){if(typeof d=="string")if(g){var y=m(g.as,g.crossOrigin);s.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(d)},Re.requestFormReset=function(d){s.d.r(d)},Re.unstable_batchedUpdates=function(d,g){return d(g)},Re.useFormState=function(d,g,y){return c.H.useFormState(d,g,y)},Re.useFormStatus=function(){return c.H.useHostTransitionStatus()},Re.version="19.0.0",Re}var Rv;function c0(){if(Rv)return cd.exports;Rv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),cd.exports=db(),cd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function mb(){if(bv)return ao;bv=1;var e=fb(),t=gm(),n=c0();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var u=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),I=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),nt=Symbol.for("react.offscreen"),bt=Symbol.for("react.memo_cache_sentinel"),rt=Symbol.iterator;function kt(i){return i===null||typeof i!="object"?null:(i=rt&&i[rt]||i["@@iterator"],typeof i=="function"?i:null)}var Ae=Symbol.for("react.client.reference");function mn(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Ae?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case d:return"Fragment";case m:return"Portal";case y:return"Profiler";case g:return"StrictMode";case j:return"Suspense";case O:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case I:return(i.displayName||"Context")+".Provider";case T:return(i._context.displayName||"Context")+".Consumer";case k:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Y:return r=i.displayName||null,r!==null?r:mn(i.type)||"Memo";case J:r=i._payload,i=i._init;try{return mn(i(r))}catch{}}return null}var $=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt=Object.assign,Ze,jn;function An(i){if(Ze===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ze=r&&r[1]||"",jn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ze+i+jn}var zn=!1;function ke(i,r){if(!i||zn)return"";zn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var U=function(){throw Error()};if(Object.defineProperty(U.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(U,[])}catch(N){var D=N}Reflect.construct(i,[],U)}else{try{U.call()}catch(N){D=N}i.call(U.prototype)}}else{try{throw Error()}catch(N){D=N}(U=i())&&typeof U.catch=="function"&&U.catch(function(){})}}catch(N){if(N&&D&&typeof N.stack=="string")return[N.stack,D.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],_=f[1];if(p&&_){var E=p.split(`
`),R=_.split(`
`);for(h=l=0;l<E.length&&!E[l].includes("DetermineComponentFrameRoot");)l++;for(;h<R.length&&!R[h].includes("DetermineComponentFrameRoot");)h++;if(l===E.length||h===R.length)for(l=E.length-1,h=R.length-1;1<=l&&0<=h&&E[l]!==R[h];)h--;for(;1<=l&&0<=h;l--,h--)if(E[l]!==R[h]){if(l!==1||h!==1)do if(l--,h--,0>h||E[l]!==R[h]){var M=`
`+E[l].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=l&&0<=h);break}}}finally{zn=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?An(a):""}function q(i){switch(i.tag){case 26:case 27:case 5:return An(i.type);case 16:return An("Lazy");case 13:return An("Suspense");case 19:return An("SuspenseList");case 0:case 15:return i=ke(i.type,!1),i;case 11:return i=ke(i.type.render,!1),i;case 1:return i=ke(i.type,!0),i;default:return""}}function ct(i){try{var r="";do r+=q(i),i=i.return;while(i);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function it(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function xt(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function S(i){if(it(i)!==i)throw Error(s(188))}function z(i){var r=i.alternate;if(!r){if(r=it(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,l=r;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return S(h),i;if(f===l)return S(h),r;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var p=!1,_=h.child;_;){if(_===a){p=!0,a=h,l=f;break}if(_===l){p=!0,l=h,a=f;break}_=_.sibling}if(!p){for(_=f.child;_;){if(_===a){p=!0,a=f,l=h;break}if(_===l){p=!0,l=f,a=h;break}_=_.sibling}if(!p)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function et(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=et(i),r!==null)return r;i=i.sibling}return null}var Z=Array.isArray,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tt={pending:!1,data:null,method:null,action:null},dt=[],Me=-1;function Ct(i){return{current:i}}function $t(i){0>Me||(i.current=dt[Me],dt[Me]=null,Me--)}function zt(i,r){Me++,dt[Me]=i.current,i.current=r}var Sn=Ct(null),la=Ct(null),mi=Ct(null),dl=Ct(null);function ml(i,r){switch(zt(mi,r),zt(la,i),zt(Sn,null),i=r.nodeType,i){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?K_(r):0;break;default:if(i=i===8?r.parentNode:r,r=i.tagName,i=i.namespaceURI)i=K_(i),r=Y_(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}$t(Sn),zt(Sn,r)}function Xr(){$t(Sn),$t(la),$t(mi)}function Xc(i){i.memoizedState!==null&&zt(dl,i);var r=Sn.current,a=Y_(r,i.type);r!==a&&(zt(la,i),zt(Sn,a))}function gl(i){la.current===i&&($t(Sn),$t(la)),dl.current===i&&($t(dl),to._currentValue=Tt)}var $c=Object.prototype.hasOwnProperty,Wc=e.unstable_scheduleCallback,Zc=e.unstable_cancelCallback,LS=e.unstable_shouldYield,jS=e.unstable_requestPaint,wn=e.unstable_now,zS=e.unstable_getCurrentPriorityLevel,Ug=e.unstable_ImmediatePriority,kg=e.unstable_UserBlockingPriority,pl=e.unstable_NormalPriority,BS=e.unstable_LowPriority,Lg=e.unstable_IdlePriority,qS=e.log,HS=e.unstable_setDisableYieldValue,ua=null,He=null;function FS(i){if(He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(ua,i,void 0,(i.current.flags&128)===128)}catch{}}function gi(i){if(typeof qS=="function"&&HS(i),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(ua,i)}catch{}}var Fe=Math.clz32?Math.clz32:KS,GS=Math.log,QS=Math.LN2;function KS(i){return i>>>=0,i===0?32:31-(GS(i)/QS|0)|0}var yl=128,_l=4194304;function ur(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function vl(i,r){var a=i.pendingLanes;if(a===0)return 0;var l=0,h=i.suspendedLanes,f=i.pingedLanes,p=i.warmLanes;i=i.finishedLanes!==0;var _=a&134217727;return _!==0?(a=_&~h,a!==0?l=ur(a):(f&=_,f!==0?l=ur(f):i||(p=_&~p,p!==0&&(l=ur(p))))):(_=a&~h,_!==0?l=ur(_):f!==0?l=ur(f):i||(p=a&~p,p!==0&&(l=ur(p)))),l===0?0:r!==0&&r!==l&&(r&h)===0&&(h=l&-l,p=r&-r,h>=p||h===32&&(p&4194176)!==0)?r:l}function ca(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function YS(i,r){switch(i){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jg(){var i=yl;return yl<<=1,(yl&4194176)===0&&(yl=128),i}function zg(){var i=_l;return _l<<=1,(_l&62914560)===0&&(_l=4194304),i}function Jc(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function ha(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function XS(i,r,a,l,h,f){var p=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var _=i.entanglements,E=i.expirationTimes,R=i.hiddenUpdates;for(a=p&~a;0<a;){var M=31-Fe(a),U=1<<M;_[M]=0,E[M]=-1;var D=R[M];if(D!==null)for(R[M]=null,M=0;M<D.length;M++){var N=D[M];N!==null&&(N.lane&=-536870913)}a&=~U}l!==0&&Bg(i,l,0),f!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=f&~(p&~r))}function Bg(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var l=31-Fe(r);i.entangledLanes|=r,i.entanglements[l]=i.entanglements[l]|1073741824|a&4194218}function qg(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var l=31-Fe(a),h=1<<l;h&r|i[l]&r&&(i[l]|=r),a&=~h}}function Hg(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Fg(){var i=F.p;return i!==0?i:(i=window.event,i===void 0?32:fv(i.type))}function $S(i,r){var a=F.p;try{return F.p=i,r()}finally{F.p=a}}var pi=Math.random().toString(36).slice(2),Se="__reactFiber$"+pi,Le="__reactProps$"+pi,$r="__reactContainer$"+pi,th="__reactEvents$"+pi,WS="__reactListeners$"+pi,ZS="__reactHandles$"+pi,Gg="__reactResources$"+pi,fa="__reactMarker$"+pi;function eh(i){delete i[Se],delete i[Le],delete i[th],delete i[WS],delete i[ZS]}function cr(i){var r=i[Se];if(r)return r;for(var a=i.parentNode;a;){if(r=a[$r]||a[Se]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=W_(i);i!==null;){if(a=i[Se])return a;i=W_(i)}return r}i=a,a=i.parentNode}return null}function Wr(i){if(i=i[Se]||i[$r]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function da(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Zr(i){var r=i[Gg];return r||(r=i[Gg]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ae(i){i[fa]=!0}var Qg=new Set,Kg={};function hr(i,r){Jr(i,r),Jr(i+"Capture",r)}function Jr(i,r){for(Kg[i]=r,i=0;i<r.length;i++)Qg.add(r[i])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),JS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yg={},Xg={};function tw(i){return $c.call(Xg,i)?!0:$c.call(Yg,i)?!1:JS.test(i)?Xg[i]=!0:(Yg[i]=!0,!1)}function El(i,r,a){if(tw(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function Tl(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function qn(i,r,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+l)}}function Je(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function $g(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ew(i){var r=$g(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),l=""+i[r];if(!i.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return h.call(this)},set:function(p){l=""+p,f.call(this,p)}}),Object.defineProperty(i,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Al(i){i._valueTracker||(i._valueTracker=ew(i))}function Wg(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return i&&(l=$g(i)?i.checked?"true":"false":i.value),i=l,i!==a?(r.setValue(i),!0):!1}function Sl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var nw=/[\n"\\]/g;function tn(i){return i.replace(nw,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function nh(i,r,a,l,h,f,p,_){i.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?i.type=p:i.removeAttribute("type"),r!=null?p==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Je(r)):i.value!==""+Je(r)&&(i.value=""+Je(r)):p!=="submit"&&p!=="reset"||i.removeAttribute("value"),r!=null?ih(i,p,Je(r)):a!=null?ih(i,p,Je(a)):l!=null&&i.removeAttribute("value"),h==null&&f!=null&&(i.defaultChecked=!!f),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.name=""+Je(_):i.removeAttribute("name")}function Zg(i,r,a,l,h,f,p,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(i.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null))return;a=a!=null?""+Je(a):"",r=r!=null?""+Je(r):a,_||r===i.value||(i.value=r),i.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=_?i.checked:!!l,i.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.name=p)}function ih(i,r,a){r==="number"&&Sl(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function ts(i,r,a,l){if(i=i.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<i.length;a++)h=r.hasOwnProperty("$"+i[a].value),i[a].selected!==h&&(i[a].selected=h),h&&l&&(i[a].defaultSelected=!0)}else{for(a=""+Je(a),r=null,h=0;h<i.length;h++){if(i[h].value===a){i[h].selected=!0,l&&(i[h].defaultSelected=!0);return}r!==null||i[h].disabled||(r=i[h])}r!==null&&(r.selected=!0)}}function Jg(i,r,a){if(r!=null&&(r=""+Je(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+Je(a):""}function tp(i,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Z(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Je(r),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l)}function es(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var iw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ep(i,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":l?i.setProperty(r,a):typeof a!="number"||a===0||iw.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function np(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&ep(i,h,l)}else for(var f in r)r.hasOwnProperty(f)&&ep(i,f,r[f])}function rh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wl(i){return sw.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var sh=null;function ah(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ns=null,is=null;function ip(i){var r=Wr(i);if(r&&(i=r.stateNode)){var a=i[Le]||null;t:switch(i=r.stateNode,r.type){case"input":if(nh(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==i&&l.form===i.form){var h=l[Le]||null;if(!h)throw Error(s(90));nh(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===i.form&&Wg(l)}break t;case"textarea":Jg(i,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&ts(i,!!a.multiple,r,!1)}}}var oh=!1;function rp(i,r,a){if(oh)return i(r,a);oh=!0;try{var l=i(r);return l}finally{if(oh=!1,(ns!==null||is!==null)&&(ou(),ns&&(r=ns,i=is,is=ns=null,ip(r),i)))for(r=0;r<i.length;r++)ip(i[r])}}function ma(i,r){var a=i.stateNode;if(a===null)return null;var l=a[Le]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var lh=!1;if(Bn)try{var ga={};Object.defineProperty(ga,"passive",{get:function(){lh=!0}}),window.addEventListener("test",ga,ga),window.removeEventListener("test",ga,ga)}catch{lh=!1}var yi=null,uh=null,Rl=null;function sp(){if(Rl)return Rl;var i,r=uh,a=r.length,l,h="value"in yi?yi.value:yi.textContent,f=h.length;for(i=0;i<a&&r[i]===h[i];i++);var p=a-i;for(l=1;l<=p&&r[a-l]===h[f-l];l++);return Rl=h.slice(i,1<l?1-l:void 0)}function bl(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Il(){return!0}function ap(){return!1}function je(i){function r(a,l,h,f,p){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var _ in i)i.hasOwnProperty(_)&&(a=i[_],this[_]=a?a(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Il:ap,this.isPropagationStopped=ap,this}return yt(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Il)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Il)},persist:function(){},isPersistent:Il}),r}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cl=je(fr),pa=yt({},fr,{view:0,detail:0}),aw=je(pa),ch,hh,ya,Dl=yt({},pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ya&&(ya&&i.type==="mousemove"?(ch=i.screenX-ya.screenX,hh=i.screenY-ya.screenY):hh=ch=0,ya=i),ch)},movementY:function(i){return"movementY"in i?i.movementY:hh}}),op=je(Dl),ow=yt({},Dl,{dataTransfer:0}),lw=je(ow),uw=yt({},pa,{relatedTarget:0}),fh=je(uw),cw=yt({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),hw=je(cw),fw=yt({},fr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),dw=je(fw),mw=yt({},fr,{data:0}),lp=je(mw),gw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _w(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=yw[i])?!!r[i]:!1}function dh(){return _w}var vw=yt({},pa,{key:function(i){if(i.key){var r=gw[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=bl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?pw[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dh,charCode:function(i){return i.type==="keypress"?bl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?bl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ew=je(vw),Tw=yt({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),up=je(Tw),Aw=yt({},pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dh}),Sw=je(Aw),ww=yt({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rw=je(ww),bw=yt({},Dl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Iw=je(bw),Cw=yt({},fr,{newState:0,oldState:0}),Dw=je(Cw),Nw=[9,13,27,32],mh=Bn&&"CompositionEvent"in window,_a=null;Bn&&"documentMode"in document&&(_a=document.documentMode);var Ow=Bn&&"TextEvent"in window&&!_a,cp=Bn&&(!mh||_a&&8<_a&&11>=_a),hp=" ",fp=!1;function dp(i,r){switch(i){case"keyup":return Nw.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mp(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var rs=!1;function Mw(i,r){switch(i){case"compositionend":return mp(r);case"keypress":return r.which!==32?null:(fp=!0,hp);case"textInput":return i=r.data,i===hp&&fp?null:i;default:return null}}function xw(i,r){if(rs)return i==="compositionend"||!mh&&dp(i,r)?(i=sp(),Rl=uh=yi=null,rs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return cp&&r.locale!=="ko"?null:r.data;default:return null}}var Vw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gp(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Vw[i.type]:r==="textarea"}function pp(i,r,a,l){ns?is?is.push(l):is=[l]:ns=l,r=fu(r,"onChange"),0<r.length&&(a=new Cl("onChange","change",null,a,l),i.push({event:a,listeners:r}))}var va=null,Ea=null;function Pw(i){q_(i,0)}function Nl(i){var r=da(i);if(Wg(r))return i}function yp(i,r){if(i==="change")return r}var _p=!1;if(Bn){var gh;if(Bn){var ph="oninput"in document;if(!ph){var vp=document.createElement("div");vp.setAttribute("oninput","return;"),ph=typeof vp.oninput=="function"}gh=ph}else gh=!1;_p=gh&&(!document.documentMode||9<document.documentMode)}function Ep(){va&&(va.detachEvent("onpropertychange",Tp),Ea=va=null)}function Tp(i){if(i.propertyName==="value"&&Nl(Ea)){var r=[];pp(r,Ea,i,ah(i)),rp(Pw,r)}}function Uw(i,r,a){i==="focusin"?(Ep(),va=r,Ea=a,va.attachEvent("onpropertychange",Tp)):i==="focusout"&&Ep()}function kw(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Nl(Ea)}function Lw(i,r){if(i==="click")return Nl(r)}function jw(i,r){if(i==="input"||i==="change")return Nl(r)}function zw(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Ge=typeof Object.is=="function"?Object.is:zw;function Ta(i,r){if(Ge(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!$c.call(r,h)||!Ge(i[h],r[h]))return!1}return!0}function Ap(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Sp(i,r){var a=Ap(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=r&&l>=r)return{node:a,offset:r-i};i=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ap(a)}}function wp(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?wp(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Rp(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Sl(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=Sl(i.document)}return r}function yh(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}function Bw(i,r){var a=Rp(r);r=i.focusedElem;var l=i.selectionRange;if(a!==r&&r&&r.ownerDocument&&wp(r.ownerDocument.documentElement,r)){if(l!==null&&yh(r)){if(i=l.start,a=l.end,a===void 0&&(a=i),"selectionStart"in r)r.selectionStart=i,r.selectionEnd=Math.min(a,r.value.length);else if(a=(i=r.ownerDocument||document)&&i.defaultView||window,a.getSelection){a=a.getSelection();var h=r.textContent.length,f=Math.min(l.start,h);l=l.end===void 0?f:Math.min(l.end,h),!a.extend&&f>l&&(h=l,l=f,f=h),h=Sp(r,f);var p=Sp(r,l);h&&p&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==p.node||a.focusOffset!==p.offset)&&(i=i.createRange(),i.setStart(h.node,h.offset),a.removeAllRanges(),f>l?(a.addRange(i),a.extend(p.node,p.offset)):(i.setEnd(p.node,p.offset),a.addRange(i)))}}for(i=[],a=r;a=a.parentNode;)a.nodeType===1&&i.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<i.length;r++)a=i[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var qw=Bn&&"documentMode"in document&&11>=document.documentMode,ss=null,_h=null,Aa=null,vh=!1;function bp(i,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vh||ss==null||ss!==Sl(l)||(l=ss,"selectionStart"in l&&yh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Aa&&Ta(Aa,l)||(Aa=l,l=fu(_h,"onSelect"),0<l.length&&(r=new Cl("onSelect","select",null,r,a),i.push({event:r,listeners:l}),r.target=ss)))}function dr(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var as={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},Eh={},Ip={};Bn&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function mr(i){if(Eh[i])return Eh[i];if(!as[i])return i;var r=as[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in Ip)return Eh[i]=r[a];return i}var Cp=mr("animationend"),Dp=mr("animationiteration"),Np=mr("animationstart"),Hw=mr("transitionrun"),Fw=mr("transitionstart"),Gw=mr("transitioncancel"),Op=mr("transitionend"),Mp=new Map,xp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function gn(i,r){Mp.set(i,r),hr(r,[i])}var en=[],os=0,Th=0;function Ol(){for(var i=os,r=Th=os=0;r<i;){var a=en[r];en[r++]=null;var l=en[r];en[r++]=null;var h=en[r];en[r++]=null;var f=en[r];if(en[r++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Vp(a,h,f)}}function Ml(i,r,a,l){en[os++]=i,en[os++]=r,en[os++]=a,en[os++]=l,Th|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function Ah(i,r,a,l){return Ml(i,r,a,l),xl(i)}function _i(i,r){return Ml(i,null,null,r),xl(i)}function Vp(i,r,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=i.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(i=f.stateNode,i===null||i._visibility&1||(h=!0)),i=f,f=f.return;h&&r!==null&&i.tag===3&&(f=i.stateNode,h=31-Fe(a),f=f.hiddenUpdates,i=f[h],i===null?f[h]=[r]:i.push(r),r.lane=a|536870912)}function xl(i){if(50<Ka)throw Ka=0,Df=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var ls={},Pp=new WeakMap;function nn(i,r){if(typeof i=="object"&&i!==null){var a=Pp.get(i);return a!==void 0?a:(r={value:i,source:r,stack:ct(r)},Pp.set(i,r),r)}return{value:i,source:r,stack:ct(r)}}var us=[],cs=0,Vl=null,Pl=0,rn=[],sn=0,gr=null,Hn=1,Fn="";function pr(i,r){us[cs++]=Pl,us[cs++]=Vl,Vl=i,Pl=r}function Up(i,r,a){rn[sn++]=Hn,rn[sn++]=Fn,rn[sn++]=gr,gr=i;var l=Hn;i=Fn;var h=32-Fe(l)-1;l&=~(1<<h),a+=1;var f=32-Fe(r)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Hn=1<<32-Fe(r)+h|a<<h|l,Fn=f+i}else Hn=1<<f|a<<h|l,Fn=i}function Sh(i){i.return!==null&&(pr(i,1),Up(i,1,0))}function wh(i){for(;i===Vl;)Vl=us[--cs],us[cs]=null,Pl=us[--cs],us[cs]=null;for(;i===gr;)gr=rn[--sn],rn[sn]=null,Fn=rn[--sn],rn[sn]=null,Hn=rn[--sn],rn[sn]=null}var xe=null,me=null,wt=!1,pn=null,Rn=!1,Rh=Error(s(519));function yr(i){var r=Error(s(418,""));throw Ra(nn(r,i)),Rh}function kp(i){var r=i.stateNode,a=i.type,l=i.memoizedProps;switch(r[Se]=i,r[Le]=l,a){case"dialog":vt("cancel",r),vt("close",r);break;case"iframe":case"object":case"embed":vt("load",r);break;case"video":case"audio":for(a=0;a<Xa.length;a++)vt(Xa[a],r);break;case"source":vt("error",r);break;case"img":case"image":case"link":vt("error",r),vt("load",r);break;case"details":vt("toggle",r);break;case"input":vt("invalid",r),Zg(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Al(r);break;case"select":vt("invalid",r);break;case"textarea":vt("invalid",r),tp(r,l.value,l.defaultValue,l.children),Al(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Q_(r.textContent,a)?(l.popover!=null&&(vt("beforetoggle",r),vt("toggle",r)),l.onScroll!=null&&vt("scroll",r),l.onScrollEnd!=null&&vt("scrollend",r),l.onClick!=null&&(r.onclick=du),r=!0):r=!1,r||yr(i)}function Lp(i){for(xe=i.return;xe;)switch(xe.tag){case 3:case 27:Rn=!0;return;case 5:case 13:Rn=!1;return;default:xe=xe.return}}function Sa(i){if(i!==xe)return!1;if(!wt)return Lp(i),wt=!0,!1;var r=!1,a;if((a=i.tag!==3&&i.tag!==27)&&((a=i.tag===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Qf(i.type,i.memoizedProps)),a=!a),a&&(r=!0),r&&me&&yr(i),Lp(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(r===0){me=_n(i.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;i=i.nextSibling}me=null}}else me=xe?_n(i.stateNode.nextSibling):null;return!0}function wa(){me=xe=null,wt=!1}function Ra(i){pn===null?pn=[i]:pn.push(i)}var ba=Error(s(460)),jp=Error(s(474)),bh={then:function(){}};function zp(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ul(){}function Bp(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(Ul,Ul),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===ba?Error(s(483)):i;default:if(typeof r.status=="string")r.then(Ul,Ul);else{if(i=Vt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===ba?Error(s(483)):i}throw Ia=r,ba}}var Ia=null;function qp(){if(Ia===null)throw Error(s(459));var i=Ia;return Ia=null,i}var hs=null,Ca=0;function kl(i){var r=Ca;return Ca+=1,hs===null&&(hs=[]),Bp(hs,i,r)}function Da(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ll(i,r){throw r.$$typeof===u?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Hp(i){var r=i._init;return r(i._payload)}function Fp(i){function r(b,w){if(i){var C=b.deletions;C===null?(b.deletions=[w],b.flags|=16):C.push(w)}}function a(b,w){if(!i)return null;for(;w!==null;)r(b,w),w=w.sibling;return null}function l(b){for(var w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function h(b,w){return b=Ni(b,w),b.index=0,b.sibling=null,b}function f(b,w,C){return b.index=C,i?(C=b.alternate,C!==null?(C=C.index,C<w?(b.flags|=33554434,w):C):(b.flags|=33554434,w)):(b.flags|=1048576,w)}function p(b){return i&&b.alternate===null&&(b.flags|=33554434),b}function _(b,w,C,V){return w===null||w.tag!==6?(w=Tf(C,b.mode,V),w.return=b,w):(w=h(w,C),w.return=b,w)}function E(b,w,C,V){var G=C.type;return G===d?M(b,w,C.props.children,V,C.key):w!==null&&(w.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===J&&Hp(G)===w.type)?(w=h(w,C.props),Da(w,C),w.return=b,w):(w=nu(C.type,C.key,C.props,null,b.mode,V),Da(w,C),w.return=b,w)}function R(b,w,C,V){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=Af(C,b.mode,V),w.return=b,w):(w=h(w,C.children||[]),w.return=b,w)}function M(b,w,C,V,G){return w===null||w.tag!==7?(w=Ir(C,b.mode,V,G),w.return=b,w):(w=h(w,C),w.return=b,w)}function U(b,w,C){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Tf(""+w,b.mode,C),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case c:return C=nu(w.type,w.key,w.props,null,b.mode,C),Da(C,w),C.return=b,C;case m:return w=Af(w,b.mode,C),w.return=b,w;case J:var V=w._init;return w=V(w._payload),U(b,w,C)}if(Z(w)||kt(w))return w=Ir(w,b.mode,C,null),w.return=b,w;if(typeof w.then=="function")return U(b,kl(w),C);if(w.$$typeof===I)return U(b,Jl(b,w),C);Ll(b,w)}return null}function D(b,w,C,V){var G=w!==null?w.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return G!==null?null:_(b,w,""+C,V);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case c:return C.key===G?E(b,w,C,V):null;case m:return C.key===G?R(b,w,C,V):null;case J:return G=C._init,C=G(C._payload),D(b,w,C,V)}if(Z(C)||kt(C))return G!==null?null:M(b,w,C,V,null);if(typeof C.then=="function")return D(b,w,kl(C),V);if(C.$$typeof===I)return D(b,w,Jl(b,C),V);Ll(b,C)}return null}function N(b,w,C,V,G){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return b=b.get(C)||null,_(w,b,""+V,G);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case c:return b=b.get(V.key===null?C:V.key)||null,E(w,b,V,G);case m:return b=b.get(V.key===null?C:V.key)||null,R(w,b,V,G);case J:var gt=V._init;return V=gt(V._payload),N(b,w,C,V,G)}if(Z(V)||kt(V))return b=b.get(C)||null,M(w,b,V,G,null);if(typeof V.then=="function")return N(b,w,C,kl(V),G);if(V.$$typeof===I)return N(b,w,C,Jl(w,V),G);Ll(w,V)}return null}function K(b,w,C,V){for(var G=null,gt=null,X=w,tt=w=0,ue=null;X!==null&&tt<C.length;tt++){X.index>tt?(ue=X,X=null):ue=X.sibling;var Rt=D(b,X,C[tt],V);if(Rt===null){X===null&&(X=ue);break}i&&X&&Rt.alternate===null&&r(b,X),w=f(Rt,w,tt),gt===null?G=Rt:gt.sibling=Rt,gt=Rt,X=ue}if(tt===C.length)return a(b,X),wt&&pr(b,tt),G;if(X===null){for(;tt<C.length;tt++)X=U(b,C[tt],V),X!==null&&(w=f(X,w,tt),gt===null?G=X:gt.sibling=X,gt=X);return wt&&pr(b,tt),G}for(X=l(X);tt<C.length;tt++)ue=N(X,b,tt,C[tt],V),ue!==null&&(i&&ue.alternate!==null&&X.delete(ue.key===null?tt:ue.key),w=f(ue,w,tt),gt===null?G=ue:gt.sibling=ue,gt=ue);return i&&X.forEach(function(ki){return r(b,ki)}),wt&&pr(b,tt),G}function lt(b,w,C,V){if(C==null)throw Error(s(151));for(var G=null,gt=null,X=w,tt=w=0,ue=null,Rt=C.next();X!==null&&!Rt.done;tt++,Rt=C.next()){X.index>tt?(ue=X,X=null):ue=X.sibling;var ki=D(b,X,Rt.value,V);if(ki===null){X===null&&(X=ue);break}i&&X&&ki.alternate===null&&r(b,X),w=f(ki,w,tt),gt===null?G=ki:gt.sibling=ki,gt=ki,X=ue}if(Rt.done)return a(b,X),wt&&pr(b,tt),G;if(X===null){for(;!Rt.done;tt++,Rt=C.next())Rt=U(b,Rt.value,V),Rt!==null&&(w=f(Rt,w,tt),gt===null?G=Rt:gt.sibling=Rt,gt=Rt);return wt&&pr(b,tt),G}for(X=l(X);!Rt.done;tt++,Rt=C.next())Rt=N(X,b,tt,Rt.value,V),Rt!==null&&(i&&Rt.alternate!==null&&X.delete(Rt.key===null?tt:Rt.key),w=f(Rt,w,tt),gt===null?G=Rt:gt.sibling=Rt,gt=Rt);return i&&X.forEach(function(sb){return r(b,sb)}),wt&&pr(b,tt),G}function Qt(b,w,C,V){if(typeof C=="object"&&C!==null&&C.type===d&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case c:t:{for(var G=C.key;w!==null;){if(w.key===G){if(G=C.type,G===d){if(w.tag===7){a(b,w.sibling),V=h(w,C.props.children),V.return=b,b=V;break t}}else if(w.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===J&&Hp(G)===w.type){a(b,w.sibling),V=h(w,C.props),Da(V,C),V.return=b,b=V;break t}a(b,w);break}else r(b,w);w=w.sibling}C.type===d?(V=Ir(C.props.children,b.mode,V,C.key),V.return=b,b=V):(V=nu(C.type,C.key,C.props,null,b.mode,V),Da(V,C),V.return=b,b=V)}return p(b);case m:t:{for(G=C.key;w!==null;){if(w.key===G)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){a(b,w.sibling),V=h(w,C.children||[]),V.return=b,b=V;break t}else{a(b,w);break}else r(b,w);w=w.sibling}V=Af(C,b.mode,V),V.return=b,b=V}return p(b);case J:return G=C._init,C=G(C._payload),Qt(b,w,C,V)}if(Z(C))return K(b,w,C,V);if(kt(C)){if(G=kt(C),typeof G!="function")throw Error(s(150));return C=G.call(C),lt(b,w,C,V)}if(typeof C.then=="function")return Qt(b,w,kl(C),V);if(C.$$typeof===I)return Qt(b,w,Jl(b,C),V);Ll(b,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,w!==null&&w.tag===6?(a(b,w.sibling),V=h(w,C),V.return=b,b=V):(a(b,w),V=Tf(C,b.mode,V),V.return=b,b=V),p(b)):a(b,w)}return function(b,w,C,V){try{Ca=0;var G=Qt(b,w,C,V);return hs=null,G}catch(X){if(X===ba)throw X;var gt=un(29,X,null,b.mode);return gt.lanes=V,gt.return=b,gt}finally{}}}var _r=Fp(!0),Gp=Fp(!1),fs=Ct(null),jl=Ct(0);function Qp(i,r){i=ei,zt(jl,i),zt(fs,r),ei=i|r.baseLanes}function Ih(){zt(jl,ei),zt(fs,fs.current)}function Ch(){ei=jl.current,$t(fs),$t(jl)}var an=Ct(null),bn=null;function vi(i){var r=i.alternate;zt(ie,ie.current&1),zt(an,i),bn===null&&(r===null||fs.current!==null||r.memoizedState!==null)&&(bn=i)}function Kp(i){if(i.tag===22){if(zt(ie,ie.current),zt(an,i),bn===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(bn=i)}}else Ei()}function Ei(){zt(ie,ie.current),zt(an,an.current)}function Gn(i){$t(an),bn===i&&(bn=null),$t(ie)}var ie=Ct(0);function zl(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Qw=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},Kw=e.unstable_scheduleCallback,Yw=e.unstable_NormalPriority,re={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dh(){return{controller:new Qw,data:new Map,refCount:0}}function Na(i){i.refCount--,i.refCount===0&&Kw(Yw,function(){i.controller.abort()})}var Oa=null,Nh=0,ds=0,ms=null;function Xw(i,r){if(Oa===null){var a=Oa=[];Nh=0,ds=kf(),ms={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Nh++,r.then(Yp,Yp),r}function Yp(){if(--Nh===0&&Oa!==null){ms!==null&&(ms.status="fulfilled");var i=Oa;Oa=null,ds=0,ms=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function $w(i,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return i.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Xp=$.S;$.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Xw(i,r),Xp!==null&&Xp(i,r)};var vr=Ct(null);function Oh(){var i=vr.current;return i!==null?i:Vt.pooledCache}function Bl(i,r){r===null?zt(vr,vr.current):zt(vr,r.pool)}function $p(){var i=Oh();return i===null?null:{parent:re._currentValue,pool:i}}var Ti=0,mt=null,Nt=null,Wt=null,ql=!1,gs=!1,Er=!1,Hl=0,Ma=0,ps=null,Ww=0;function Yt(){throw Error(s(321))}function Mh(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!Ge(i[a],r[a]))return!1;return!0}function xh(i,r,a,l,h,f){return Ti=f,mt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=i===null||i.memoizedState===null?Tr:Ai,Er=!1,f=a(l,h),Er=!1,gs&&(f=Zp(r,a,l,h)),Wp(i),f}function Wp(i){$.H=In;var r=Nt!==null&&Nt.next!==null;if(Ti=0,Wt=Nt=mt=null,ql=!1,Ma=0,ps=null,r)throw Error(s(300));i===null||oe||(i=i.dependencies,i!==null&&Zl(i)&&(oe=!0))}function Zp(i,r,a,l){mt=i;var h=0;do{if(gs&&(ps=null),Ma=0,gs=!1,25<=h)throw Error(s(301));if(h+=1,Wt=Nt=null,i.updateQueue!=null){var f=i.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}$.H=Ar,f=r(a,l)}while(gs);return f}function Zw(){var i=$.H,r=i.useState()[0];return r=typeof r.then=="function"?xa(r):r,i=i.useState()[0],(Nt!==null?Nt.memoizedState:null)!==i&&(mt.flags|=1024),r}function Vh(){var i=Hl!==0;return Hl=0,i}function Ph(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function Uh(i){if(ql){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}ql=!1}Ti=0,Wt=Nt=mt=null,gs=!1,Ma=Hl=0,ps=null}function ze(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?mt.memoizedState=Wt=i:Wt=Wt.next=i,Wt}function Zt(){if(Nt===null){var i=mt.alternate;i=i!==null?i.memoizedState:null}else i=Nt.next;var r=Wt===null?mt.memoizedState:Wt.next;if(r!==null)Wt=r,Nt=i;else{if(i===null)throw mt.alternate===null?Error(s(467)):Error(s(310));Nt=i,i={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Wt===null?mt.memoizedState=Wt=i:Wt=Wt.next=i}return Wt}var Fl;Fl=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function xa(i){var r=Ma;return Ma+=1,ps===null&&(ps=[]),i=Bp(ps,i,r),r=mt,(Wt===null?r.memoizedState:Wt.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?Tr:Ai),i}function Gl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return xa(i);if(i.$$typeof===I)return we(i)}throw Error(s(438,String(i)))}function kh(i){var r=null,a=mt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=mt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Fl(),mt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),l=0;l<i;l++)a[l]=bt;return r.index++,a}function Qn(i,r){return typeof r=="function"?r(i):r}function Ql(i){var r=Zt();return Lh(r,Nt,i)}function Lh(i,r,a){var l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=i.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}r.baseQueue=h=f,l.pending=null}if(f=i.baseState,h===null)i.memoizedState=f;else{r=h.next;var _=p=null,E=null,R=r,M=!1;do{var U=R.lane&-536870913;if(U!==R.lane?(At&U)===U:(Ti&U)===U){var D=R.revertLane;if(D===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),U===ds&&(M=!0);else if((Ti&D)===D){R=R.next,D===ds&&(M=!0);continue}else U={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},E===null?(_=E=U,p=f):E=E.next=U,mt.lanes|=D,Oi|=D;U=R.action,Er&&a(f,U),f=R.hasEagerState?R.eagerState:a(f,U)}else D={lane:U,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},E===null?(_=E=D,p=f):E=E.next=D,mt.lanes|=U,Oi|=U;R=R.next}while(R!==null&&R!==r);if(E===null?p=f:E.next=_,!Ge(f,i.memoizedState)&&(oe=!0,M&&(a=ms,a!==null)))throw a;i.memoizedState=f,i.baseState=p,i.baseQueue=E,l.lastRenderedState=f}return h===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function jh(i){var r=Zt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var l=a.dispatch,h=a.pending,f=r.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=i(f,p.action),p=p.next;while(p!==h);Ge(f,r.memoizedState)||(oe=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function Jp(i,r,a){var l=mt,h=Zt(),f=wt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var p=!Ge((Nt||h).memoizedState,a);if(p&&(h.memoizedState=a,oe=!0),h=h.queue,qh(ny.bind(null,l,h,i),[i]),h.getSnapshot!==r||p||Wt!==null&&Wt.memoizedState.tag&1){if(l.flags|=2048,ys(9,ey.bind(null,l,h,a,r),{destroy:void 0},null),Vt===null)throw Error(s(349));f||(Ti&60)!==0||ty(l,r,a)}return a}function ty(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=mt.updateQueue,r===null?(r=Fl(),mt.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function ey(i,r,a,l){r.value=a,r.getSnapshot=l,iy(r)&&ry(i)}function ny(i,r,a){return a(function(){iy(r)&&ry(i)})}function iy(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!Ge(i,a)}catch{return!0}}function ry(i){var r=_i(i,2);r!==null&&Ve(r,i,2)}function zh(i){var r=ze();if(typeof i=="function"){var a=i;if(i=a(),Er){gi(!0);try{a()}finally{gi(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:i},r}function sy(i,r,a,l){return i.baseState=a,Lh(i,Nt,typeof l=="function"?l:Qn)}function Jw(i,r,a,l,h){if(Xl(i))throw Error(s(485));if(i=r.action,i!==null){var f={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};$.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,ay(r,f)):(f.next=a.next,r.pending=a.next=f)}}function ay(i,r){var a=r.action,l=r.payload,h=i.state;if(r.isTransition){var f=$.T,p={};$.T=p;try{var _=a(h,l),E=$.S;E!==null&&E(p,_),oy(i,r,_)}catch(R){Bh(i,r,R)}finally{$.T=f}}else try{f=a(h,l),oy(i,r,f)}catch(R){Bh(i,r,R)}}function oy(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ly(i,r,l)},function(l){return Bh(i,r,l)}):ly(i,r,a)}function ly(i,r,a){r.status="fulfilled",r.value=a,uy(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,ay(i,a)))}function Bh(i,r,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,uy(r),r=r.next;while(r!==l)}i.action=null}function uy(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function cy(i,r){return r}function hy(i,r){if(wt){var a=Vt.formState;if(a!==null){t:{var l=mt;if(wt){if(me){e:{for(var h=me,f=Rn;h.nodeType!==8;){if(!f){h=null;break e}if(h=_n(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){me=_n(h.nextSibling),l=h.data==="F!";break t}}yr(l)}l=!1}l&&(r=a[0])}}return a=ze(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cy,lastRenderedState:r},a.queue=l,a=Dy.bind(null,mt,l),l.dispatch=a,l=zh(!1),f=Kh.bind(null,mt,!1,l.queue),l=ze(),h={state:r,dispatch:null,action:i,pending:null},l.queue=h,a=Jw.bind(null,mt,h,f,a),h.dispatch=a,l.memoizedState=i,[r,a,!1]}function fy(i){var r=Zt();return dy(r,Nt,i)}function dy(i,r,a){r=Lh(i,r,cy)[0],i=Ql(Qn)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?xa(r):r;var l=Zt(),h=l.queue,f=h.dispatch;return a!==l.memoizedState&&(mt.flags|=2048,ys(9,tR.bind(null,h,a),{destroy:void 0},null)),[r,f,i]}function tR(i,r){i.action=r}function my(i){var r=Zt(),a=Nt;if(a!==null)return dy(r,a,i);Zt(),r=r.memoizedState,a=Zt();var l=a.queue.dispatch;return a.memoizedState=i,[r,l,!1]}function ys(i,r,a,l){return i={tag:i,create:r,inst:a,deps:l,next:null},r=mt.updateQueue,r===null&&(r=Fl(),mt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,r.lastEffect=i),i}function gy(){return Zt().memoizedState}function Kl(i,r,a,l){var h=ze();mt.flags|=i,h.memoizedState=ys(1|r,a,{destroy:void 0},l===void 0?null:l)}function Yl(i,r,a,l){var h=Zt();l=l===void 0?null:l;var f=h.memoizedState.inst;Nt!==null&&l!==null&&Mh(l,Nt.memoizedState.deps)?h.memoizedState=ys(r,a,f,l):(mt.flags|=i,h.memoizedState=ys(1|r,a,f,l))}function py(i,r){Kl(8390656,8,i,r)}function qh(i,r){Yl(2048,8,i,r)}function yy(i,r){return Yl(4,2,i,r)}function _y(i,r){return Yl(4,4,i,r)}function vy(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Ey(i,r,a){a=a!=null?a.concat([i]):null,Yl(4,4,vy.bind(null,r,i),a)}function Hh(){}function Ty(i,r){var a=Zt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Mh(r,l[1])?l[0]:(a.memoizedState=[i,r],i)}function Ay(i,r){var a=Zt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Mh(r,l[1]))return l[0];if(l=i(),Er){gi(!0);try{i()}finally{gi(!1)}}return a.memoizedState=[l,r],l}function Fh(i,r,a){return a===void 0||(Ti&1073741824)!==0?i.memoizedState=r:(i.memoizedState=a,i=w_(),mt.lanes|=i,Oi|=i,a)}function Sy(i,r,a,l){return Ge(a,r)?a:fs.current!==null?(i=Fh(i,a,l),Ge(i,r)||(oe=!0),i):(Ti&42)===0?(oe=!0,i.memoizedState=a):(i=w_(),mt.lanes|=i,Oi|=i,r)}function wy(i,r,a,l,h){var f=F.p;F.p=f!==0&&8>f?f:8;var p=$.T,_={};$.T=_,Kh(i,!1,r,a);try{var E=h(),R=$.S;if(R!==null&&R(_,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var M=$w(E,l);Va(i,r,M,Xe(i))}else Va(i,r,l,Xe(i))}catch(U){Va(i,r,{then:function(){},status:"rejected",reason:U},Xe())}finally{F.p=f,$.T=p}}function eR(){}function Gh(i,r,a,l){if(i.tag!==5)throw Error(s(476));var h=Ry(i).queue;wy(i,h,r,Tt,a===null?eR:function(){return by(i),a(l)})}function Ry(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:Tt,baseState:Tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:Tt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function by(i){var r=Ry(i).next.queue;Va(i,r,{},Xe())}function Qh(){return we(to)}function Iy(){return Zt().memoizedState}function Cy(){return Zt().memoizedState}function nR(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=Xe();i=Ri(a);var l=bi(r,i,a);l!==null&&(Ve(l,r,a),ka(l,r,a)),r={cache:Dh()},i.payload=r;return}r=r.return}}function iR(i,r,a){var l=Xe();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Xl(i)?Ny(r,a):(a=Ah(i,r,a,l),a!==null&&(Ve(a,i,l),Oy(a,r,l)))}function Dy(i,r,a){var l=Xe();Va(i,r,a,l)}function Va(i,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xl(i))Ny(r,h);else{var f=i.alternate;if(i.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var p=r.lastRenderedState,_=f(p,a);if(h.hasEagerState=!0,h.eagerState=_,Ge(_,p))return Ml(i,r,h,0),Vt===null&&Ol(),!1}catch{}finally{}if(a=Ah(i,r,h,l),a!==null)return Ve(a,i,l),Oy(a,r,l),!0}return!1}function Kh(i,r,a,l){if(l={lane:2,revertLane:kf(),action:l,hasEagerState:!1,eagerState:null,next:null},Xl(i)){if(r)throw Error(s(479))}else r=Ah(i,a,l,2),r!==null&&Ve(r,i,2)}function Xl(i){var r=i.alternate;return i===mt||r!==null&&r===mt}function Ny(i,r){gs=ql=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function Oy(i,r,a){if((a&4194176)!==0){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,qg(i,a)}}var In={readContext:we,use:Gl,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt};In.useCacheRefresh=Yt,In.useMemoCache=Yt,In.useHostTransitionStatus=Yt,In.useFormState=Yt,In.useActionState=Yt,In.useOptimistic=Yt;var Tr={readContext:we,use:Gl,useCallback:function(i,r){return ze().memoizedState=[i,r===void 0?null:r],i},useContext:we,useEffect:py,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,Kl(4194308,4,vy.bind(null,r,i),a)},useLayoutEffect:function(i,r){return Kl(4194308,4,i,r)},useInsertionEffect:function(i,r){Kl(4,2,i,r)},useMemo:function(i,r){var a=ze();r=r===void 0?null:r;var l=i();if(Er){gi(!0);try{i()}finally{gi(!1)}}return a.memoizedState=[l,r],l},useReducer:function(i,r,a){var l=ze();if(a!==void 0){var h=a(r);if(Er){gi(!0);try{a(r)}finally{gi(!1)}}}else h=r;return l.memoizedState=l.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},l.queue=i,i=i.dispatch=iR.bind(null,mt,i),[l.memoizedState,i]},useRef:function(i){var r=ze();return i={current:i},r.memoizedState=i},useState:function(i){i=zh(i);var r=i.queue,a=Dy.bind(null,mt,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:Hh,useDeferredValue:function(i,r){var a=ze();return Fh(a,i,r)},useTransition:function(){var i=zh(!1);return i=wy.bind(null,mt,i.queue,!0,!1),ze().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var l=mt,h=ze();if(wt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Vt===null)throw Error(s(349));(At&60)!==0||ty(l,r,a)}h.memoizedState=a;var f={value:a,getSnapshot:r};return h.queue=f,py(ny.bind(null,l,f,i),[i]),l.flags|=2048,ys(9,ey.bind(null,l,f,a,r),{destroy:void 0},null),a},useId:function(){var i=ze(),r=Vt.identifierPrefix;if(wt){var a=Fn,l=Hn;a=(l&~(1<<32-Fe(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=Hl++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=Ww++,r=":"+r+"r"+a.toString(32)+":";return i.memoizedState=r},useCacheRefresh:function(){return ze().memoizedState=nR.bind(null,mt)}};Tr.useMemoCache=kh,Tr.useHostTransitionStatus=Qh,Tr.useFormState=hy,Tr.useActionState=hy,Tr.useOptimistic=function(i){var r=ze();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Kh.bind(null,mt,!0,a),a.dispatch=r,[i,r]};var Ai={readContext:we,use:Gl,useCallback:Ty,useContext:we,useEffect:qh,useImperativeHandle:Ey,useInsertionEffect:yy,useLayoutEffect:_y,useMemo:Ay,useReducer:Ql,useRef:gy,useState:function(){return Ql(Qn)},useDebugValue:Hh,useDeferredValue:function(i,r){var a=Zt();return Sy(a,Nt.memoizedState,i,r)},useTransition:function(){var i=Ql(Qn)[0],r=Zt().memoizedState;return[typeof i=="boolean"?i:xa(i),r]},useSyncExternalStore:Jp,useId:Iy};Ai.useCacheRefresh=Cy,Ai.useMemoCache=kh,Ai.useHostTransitionStatus=Qh,Ai.useFormState=fy,Ai.useActionState=fy,Ai.useOptimistic=function(i,r){var a=Zt();return sy(a,Nt,i,r)};var Ar={readContext:we,use:Gl,useCallback:Ty,useContext:we,useEffect:qh,useImperativeHandle:Ey,useInsertionEffect:yy,useLayoutEffect:_y,useMemo:Ay,useReducer:jh,useRef:gy,useState:function(){return jh(Qn)},useDebugValue:Hh,useDeferredValue:function(i,r){var a=Zt();return Nt===null?Fh(a,i,r):Sy(a,Nt.memoizedState,i,r)},useTransition:function(){var i=jh(Qn)[0],r=Zt().memoizedState;return[typeof i=="boolean"?i:xa(i),r]},useSyncExternalStore:Jp,useId:Iy};Ar.useCacheRefresh=Cy,Ar.useMemoCache=kh,Ar.useHostTransitionStatus=Qh,Ar.useFormState=my,Ar.useActionState=my,Ar.useOptimistic=function(i,r){var a=Zt();return Nt!==null?sy(a,Nt,i,r):(a.baseState=i,[i,a.queue.dispatch])};function Yh(i,r,a,l){r=i.memoizedState,a=a(l,r),a=a==null?r:yt({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Xh={isMounted:function(i){return(i=i._reactInternals)?it(i)===i:!1},enqueueSetState:function(i,r,a){i=i._reactInternals;var l=Xe(),h=Ri(l);h.payload=r,a!=null&&(h.callback=a),r=bi(i,h,l),r!==null&&(Ve(r,i,l),ka(r,i,l))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var l=Xe(),h=Ri(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=bi(i,h,l),r!==null&&(Ve(r,i,l),ka(r,i,l))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=Xe(),l=Ri(a);l.tag=2,r!=null&&(l.callback=r),r=bi(i,l,a),r!==null&&(Ve(r,i,a),ka(r,i,a))}};function My(i,r,a,l,h,f,p){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,f,p):r.prototype&&r.prototype.isPureReactComponent?!Ta(a,l)||!Ta(h,f):!0}function xy(i,r,a,l){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==i&&Xh.enqueueReplaceState(r,r.state,null)}function Sr(i,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(i=i.defaultProps){a===r&&(a=yt({},a));for(var h in i)a[h]===void 0&&(a[h]=i[h])}return a}var $l=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Vy(i){$l(i)}function Py(i){console.error(i)}function Uy(i){$l(i)}function Wl(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function ky(i,r,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function $h(i,r,a){return a=Ri(a),a.tag=3,a.payload={element:null},a.callback=function(){Wl(i,r)},a}function Ly(i){return i=Ri(i),i.tag=3,i}function jy(i,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;i.payload=function(){return h(f)},i.callback=function(){ky(r,a,l)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(i.callback=function(){ky(r,a,l),typeof h!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function rR(i,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Ua(r,a,h,!0),a=an.current,a!==null){switch(a.tag){case 13:return bn===null?Mf():a.alternate===null&&Gt===0&&(Gt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===bh?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Vf(i,l,h)),!1;case 22:return a.flags|=65536,l===bh?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Vf(i,l,h)),!1}throw Error(s(435,a.tag))}return Vf(i,l,h),Mf(),!1}if(wt)return r=an.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Rh&&(i=Error(s(422),{cause:l}),Ra(nn(i,a)))):(l!==Rh&&(r=Error(s(423),{cause:l}),Ra(nn(r,a))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,l=nn(l,a),h=$h(i.stateNode,l,h),ff(i,h),Gt!==4&&(Gt=2)),!1;var f=Error(s(520),{cause:l});if(f=nn(f,a),Ga===null?Ga=[f]:Ga.push(f),Gt!==4&&(Gt=2),r===null)return!0;l=nn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=h&-h,a.lanes|=i,i=$h(a.stateNode,l,i),ff(a,i),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Mi===null||!Mi.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ly(h),jy(h,i,a,l),ff(a,h),!1}a=a.return}while(a!==null);return!1}var zy=Error(s(461)),oe=!1;function ge(i,r,a,l){r.child=i===null?Gp(r,null,a,l):_r(r,i.child,a,l)}function By(i,r,a,l,h){a=a.render;var f=r.ref;if("ref"in l){var p={};for(var _ in l)_!=="ref"&&(p[_]=l[_])}else p=l;return Rr(r),l=xh(i,r,a,p,f,h),_=Vh(),i!==null&&!oe?(Ph(i,r,h),Kn(i,r,h)):(wt&&_&&Sh(r),r.flags|=1,ge(i,r,l,h),r.child)}function qy(i,r,a,l,h){if(i===null){var f=a.type;return typeof f=="function"&&!Ef(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,Hy(i,r,f,l,h)):(i=nu(a.type,null,l,r,r.mode,h),i.ref=r.ref,i.return=r,r.child=i)}if(f=i.child,!af(i,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ta,a(p,l)&&i.ref===r.ref)return Kn(i,r,h)}return r.flags|=1,i=Ni(f,l),i.ref=r.ref,i.return=r,r.child=i}function Hy(i,r,a,l,h){if(i!==null){var f=i.memoizedProps;if(Ta(f,l)&&i.ref===r.ref)if(oe=!1,r.pendingProps=l=f,af(i,h))(i.flags&131072)!==0&&(oe=!0);else return r.lanes=i.lanes,Kn(i,r,h)}return Wh(i,r,a,l,h)}function Fy(i,r,a){var l=r.pendingProps,h=l.children,f=(r.stateNode._pendingVisibility&2)!==0,p=i!==null?i.memoizedState:null;if(Pa(i,r),l.mode==="hidden"||f){if((r.flags&128)!==0){if(l=p!==null?p.baseLanes|a:a,i!==null){for(h=r.child=i.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;r.childLanes=f&~l}else r.childLanes=0,r.child=null;return Gy(i,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Bl(r,p!==null?p.cachePool:null),p!==null?Qp(r,p):Ih(),Kp(r);else return r.lanes=r.childLanes=536870912,Gy(i,r,p!==null?p.baseLanes|a:a,a)}else p!==null?(Bl(r,p.cachePool),Qp(r,p),Ei(),r.memoizedState=null):(i!==null&&Bl(r,null),Ih(),Ei());return ge(i,r,h,a),r.child}function Gy(i,r,a,l){var h=Oh();return h=h===null?null:{parent:re._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},i!==null&&Bl(r,null),Ih(),Kp(r),i!==null&&Ua(i,r,l,!0),null}function Pa(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=2097664)}}function Wh(i,r,a,l,h){return Rr(r),a=xh(i,r,a,l,void 0,h),l=Vh(),i!==null&&!oe?(Ph(i,r,h),Kn(i,r,h)):(wt&&l&&Sh(r),r.flags|=1,ge(i,r,a,h),r.child)}function Qy(i,r,a,l,h,f){return Rr(r),r.updateQueue=null,a=Zp(r,l,a,h),Wp(i),l=Vh(),i!==null&&!oe?(Ph(i,r,f),Kn(i,r,f)):(wt&&l&&Sh(r),r.flags|=1,ge(i,r,a,f),r.child)}function Ky(i,r,a,l,h){if(Rr(r),r.stateNode===null){var f=ls,p=a.contextType;typeof p=="object"&&p!==null&&(f=we(p)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Xh,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},cf(r),p=a.contextType,f.context=typeof p=="object"&&p!==null?we(p):ls,f.state=r.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Yh(r,a,p,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Xh.enqueueReplaceState(f,f.state,null),ja(r,l,f,h),La(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(i===null){f=r.stateNode;var _=r.memoizedProps,E=Sr(a,_);f.props=E;var R=f.context,M=a.contextType;p=ls,typeof M=="object"&&M!==null&&(p=we(M));var U=a.getDerivedStateFromProps;M=typeof U=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=r.pendingProps!==_,M||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||R!==p)&&xy(r,f,l,p),wi=!1;var D=r.memoizedState;f.state=D,ja(r,l,f,h),La(),R=r.memoizedState,_||D!==R||wi?(typeof U=="function"&&(Yh(r,a,U,l),R=r.memoizedState),(E=wi||My(r,a,E,l,D,R,p))?(M||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=R),f.props=l,f.state=R,f.context=p,l=E):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,hf(i,r),p=r.memoizedProps,M=Sr(a,p),f.props=M,U=r.pendingProps,D=f.context,R=a.contextType,E=ls,typeof R=="object"&&R!==null&&(E=we(R)),_=a.getDerivedStateFromProps,(R=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==U||D!==E)&&xy(r,f,l,E),wi=!1,D=r.memoizedState,f.state=D,ja(r,l,f,h),La();var N=r.memoizedState;p!==U||D!==N||wi||i!==null&&i.dependencies!==null&&Zl(i.dependencies)?(typeof _=="function"&&(Yh(r,a,_,l),N=r.memoizedState),(M=wi||My(r,a,M,l,D,N,E)||i!==null&&i.dependencies!==null&&Zl(i.dependencies))?(R||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,N,E),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,N,E)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===i.memoizedProps&&D===i.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===i.memoizedProps&&D===i.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=N),f.props=l,f.state=N,f.context=E,l=M):(typeof f.componentDidUpdate!="function"||p===i.memoizedProps&&D===i.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===i.memoizedProps&&D===i.memoizedState||(r.flags|=1024),l=!1)}return f=l,Pa(i,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,i!==null&&l?(r.child=_r(r,i.child,null,h),r.child=_r(r,null,a,h)):ge(i,r,a,h),r.memoizedState=f.state,i=r.child):i=Kn(i,r,h),i}function Yy(i,r,a,l){return wa(),r.flags|=256,ge(i,r,a,l),r.child}var Zh={dehydrated:null,treeContext:null,retryLane:0};function Jh(i){return{baseLanes:i,cachePool:$p()}}function tf(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=cn),i}function Xy(i,r,a){var l=r.pendingProps,h=!1,f=(r.flags&128)!==0,p;if((p=f)||(p=i!==null&&i.memoizedState===null?!1:(ie.current&2)!==0),p&&(h=!0,r.flags&=-129),p=(r.flags&32)!==0,r.flags&=-33,i===null){if(wt){if(h?vi(r):Ei(),wt){var _=me,E;if(E=_){t:{for(E=_,_=Rn;E.nodeType!==8;){if(!_){_=null;break t}if(E=_n(E.nextSibling),E===null){_=null;break t}}_=E}_!==null?(r.memoizedState={dehydrated:_,treeContext:gr!==null?{id:Hn,overflow:Fn}:null,retryLane:536870912},E=un(18,null,null,0),E.stateNode=_,E.return=r,r.child=E,xe=r,me=null,E=!0):E=!1}E||yr(r)}if(_=r.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return _.data==="$!"?r.lanes=16:r.lanes=536870912,null;Gn(r)}return _=l.children,l=l.fallback,h?(Ei(),h=r.mode,_=nf({mode:"hidden",children:_},h),l=Ir(l,h,a,null),_.return=r,l.return=r,_.sibling=l,r.child=_,h=r.child,h.memoizedState=Jh(a),h.childLanes=tf(i,p,a),r.memoizedState=Zh,l):(vi(r),ef(r,_))}if(E=i.memoizedState,E!==null&&(_=E.dehydrated,_!==null)){if(f)r.flags&256?(vi(r),r.flags&=-257,r=rf(i,r,a)):r.memoizedState!==null?(Ei(),r.child=i.child,r.flags|=128,r=null):(Ei(),h=l.fallback,_=r.mode,l=nf({mode:"visible",children:l.children},_),h=Ir(h,_,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,_r(r,i.child,null,a),l=r.child,l.memoizedState=Jh(a),l.childLanes=tf(i,p,a),r.memoizedState=Zh,r=h);else if(vi(r),_.data==="$!"){if(p=_.nextSibling&&_.nextSibling.dataset,p)var R=p.dgst;p=R,l=Error(s(419)),l.stack="",l.digest=p,Ra({value:l,source:null,stack:null}),r=rf(i,r,a)}else if(oe||Ua(i,r,a,!1),p=(a&i.childLanes)!==0,oe||p){if(p=Vt,p!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(p.suspendedLanes|a))!==0?0:l,l!==0&&l!==E.retryLane)throw E.retryLane=l,_i(i,l),Ve(p,i,l),zy}_.data==="$?"||Mf(),r=rf(i,r,a)}else _.data==="$?"?(r.flags|=128,r.child=i.child,r=vR.bind(null,i),_._reactRetry=r,r=null):(i=E.treeContext,me=_n(_.nextSibling),xe=r,wt=!0,pn=null,Rn=!1,i!==null&&(rn[sn++]=Hn,rn[sn++]=Fn,rn[sn++]=gr,Hn=i.id,Fn=i.overflow,gr=r),r=ef(r,l.children),r.flags|=4096);return r}return h?(Ei(),h=l.fallback,_=r.mode,E=i.child,R=E.sibling,l=Ni(E,{mode:"hidden",children:l.children}),l.subtreeFlags=E.subtreeFlags&31457280,R!==null?h=Ni(R,h):(h=Ir(h,_,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,_=i.child.memoizedState,_===null?_=Jh(a):(E=_.cachePool,E!==null?(R=re._currentValue,E=E.parent!==R?{parent:R,pool:R}:E):E=$p(),_={baseLanes:_.baseLanes|a,cachePool:E}),h.memoizedState=_,h.childLanes=tf(i,p,a),r.memoizedState=Zh,l):(vi(r),a=i.child,i=a.sibling,a=Ni(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,i!==null&&(p=r.deletions,p===null?(r.deletions=[i],r.flags|=16):p.push(i)),r.child=a,r.memoizedState=null,a)}function ef(i,r){return r=nf({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function nf(i,r){return T_(i,r,0,null)}function rf(i,r,a){return _r(r,i.child,null,a),i=ef(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function $y(i,r,a){i.lanes|=r;var l=i.alternate;l!==null&&(l.lanes|=r),lf(i.return,r,a)}function sf(i,r,a,l,h){var f=i.memoizedState;f===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function Wy(i,r,a){var l=r.pendingProps,h=l.revealOrder,f=l.tail;if(ge(i,r,l.children,a),l=ie.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&$y(i,a,r);else if(i.tag===19)$y(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(zt(ie,l),h){case"forwards":for(a=r.child,h=null;a!==null;)i=a.alternate,i!==null&&zl(i)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),sf(r,!1,h,a,f);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(i=h.alternate,i!==null&&zl(i)===null){r.child=h;break}i=h.sibling,h.sibling=a,a=h,h=i}sf(r,!0,a,null,f);break;case"together":sf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Kn(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),Oi|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(Ua(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=Ni(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=Ni(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function af(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Zl(i)))}function sR(i,r,a){switch(r.tag){case 3:ml(r,r.stateNode.containerInfo),Si(r,re,i.memoizedState.cache),wa();break;case 27:case 5:Xc(r);break;case 4:ml(r,r.stateNode.containerInfo);break;case 10:Si(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(vi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Xy(i,r,a):(vi(r),i=Kn(i,r,a),i!==null?i.sibling:null);vi(r);break;case 19:var h=(i.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Ua(i,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Wy(i,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),zt(ie,ie.current),l)break;return null;case 22:case 23:return r.lanes=0,Fy(i,r,a);case 24:Si(r,re,i.memoizedState.cache)}return Kn(i,r,a)}function Zy(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)oe=!0;else{if(!af(i,a)&&(r.flags&128)===0)return oe=!1,sR(i,r,a);oe=(i.flags&131072)!==0}else oe=!1,wt&&(r.flags&1048576)!==0&&Up(r,Pl,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Ef(l)?(i=Sr(l,i),r.tag=1,r=Ky(null,r,l,i,a)):(r.tag=0,r=Wh(null,r,l,i,a));else{if(l!=null){if(h=l.$$typeof,h===k){r.tag=11,r=By(null,r,l,i,a);break t}else if(h===Y){r.tag=14,r=qy(null,r,l,i,a);break t}}throw r=mn(l)||l,Error(s(306,r,""))}}return r;case 0:return Wh(i,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Sr(l,r.pendingProps),Ky(i,r,l,h,a);case 3:t:{if(ml(r,r.stateNode.containerInfo),i===null)throw Error(s(387));var f=r.pendingProps;h=r.memoizedState,l=h.element,hf(i,r),ja(r,f,null,a);var p=r.memoizedState;if(f=p.cache,Si(r,re,f),f!==h.cache&&uf(r,[re],a,!0),La(),f=p.element,h.isDehydrated)if(h={element:f,isDehydrated:!1,cache:p.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=Yy(i,r,f,a);break t}else if(f!==l){l=nn(Error(s(424)),r),Ra(l),r=Yy(i,r,f,a);break t}else for(me=_n(r.stateNode.containerInfo.firstChild),xe=r,wt=!0,pn=null,Rn=!0,a=Gp(r,null,f,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(wa(),f===l){r=Kn(i,r,a);break t}ge(i,r,f,a)}r=r.child}return r;case 26:return Pa(i,r),i===null?(a=ev(r.type,null,r.pendingProps,null))?r.memoizedState=a:wt||(a=r.type,i=r.pendingProps,l=mu(mi.current).createElement(a),l[Se]=r,l[Le]=i,pe(l,a,i),ae(l),r.stateNode=l):r.memoizedState=ev(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Xc(r),i===null&&wt&&(l=r.stateNode=Z_(r.type,r.pendingProps,mi.current),xe=r,Rn=!0,me=_n(l.firstChild)),l=r.pendingProps.children,i!==null||wt?ge(i,r,l,a):r.child=_r(r,null,l,a),Pa(i,r),r.child;case 5:return i===null&&wt&&((h=l=me)&&(l=PR(l,r.type,r.pendingProps,Rn),l!==null?(r.stateNode=l,xe=r,me=_n(l.firstChild),Rn=!1,h=!0):h=!1),h||yr(r)),Xc(r),h=r.type,f=r.pendingProps,p=i!==null?i.memoizedProps:null,l=f.children,Qf(h,f)?l=null:p!==null&&Qf(h,p)&&(r.flags|=32),r.memoizedState!==null&&(h=xh(i,r,Zw,null,null,a),to._currentValue=h),Pa(i,r),ge(i,r,l,a),r.child;case 6:return i===null&&wt&&((i=a=me)&&(a=UR(a,r.pendingProps,Rn),a!==null?(r.stateNode=a,xe=r,me=null,i=!0):i=!1),i||yr(r)),null;case 13:return Xy(i,r,a);case 4:return ml(r,r.stateNode.containerInfo),l=r.pendingProps,i===null?r.child=_r(r,null,l,a):ge(i,r,l,a),r.child;case 11:return By(i,r,r.type,r.pendingProps,a);case 7:return ge(i,r,r.pendingProps,a),r.child;case 8:return ge(i,r,r.pendingProps.children,a),r.child;case 12:return ge(i,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Si(r,r.type,l.value),ge(i,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Rr(r),h=we(h),l=l(h),r.flags|=1,ge(i,r,l,a),r.child;case 14:return qy(i,r,r.type,r.pendingProps,a);case 15:return Hy(i,r,r.type,r.pendingProps,a);case 19:return Wy(i,r,a);case 22:return Fy(i,r,a);case 24:return Rr(r),l=we(re),i===null?(h=Oh(),h===null&&(h=Vt,f=Dh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),r.memoizedState={parent:l,cache:h},cf(r),Si(r,re,h)):((i.lanes&a)!==0&&(hf(i,r),ja(r,null,null,a),La()),h=i.memoizedState,f=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Si(r,re,l)):(l=f.cache,Si(r,re,l),l!==h.cache&&uf(r,[re],a,!0))),ge(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var of=Ct(null),wr=null,Yn=null;function Si(i,r,a){zt(of,r._currentValue),r._currentValue=a}function Xn(i){i._currentValue=of.current,$t(of)}function lf(i,r,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),i===a)break;i=i.return}}function uf(i,r,a,l){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var _=f;f=h;for(var E=0;E<r.length;E++)if(_.context===r[E]){f.lanes|=a,_=f.alternate,_!==null&&(_.lanes|=a),lf(f.return,a,i),l||(p=null);break t}f=_.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(s(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),lf(p,a,i),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===i){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ua(i,r,a,l){i=null;for(var h=r,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var _=h.type;Ge(h.pendingProps.value,p.value)||(i!==null?i.push(_):i=[_])}}else if(h===dl.current){if(p=h.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(to):i=[to])}h=h.return}i!==null&&uf(r,i,a,l),r.flags|=262144}function Zl(i){for(i=i.firstContext;i!==null;){if(!Ge(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Rr(i){wr=i,Yn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function we(i){return Jy(wr,i)}function Jl(i,r){return wr===null&&Rr(i),Jy(i,r)}function Jy(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Yn===null){if(i===null)throw Error(s(308));Yn=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Yn=Yn.next=r;return a}var wi=!1;function cf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ri(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function bi(i,r,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=xl(i),Vp(i,null,a),r}return Ml(i,l,r,a),xl(i)}function ka(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,qg(i,a)}}function ff(i,r){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=r:f=f.next=r}else h=f=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var df=!1;function La(){if(df){var i=ms;if(i!==null)throw i}}function ja(i,r,a,l){df=!1;var h=i.updateQueue;wi=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,_=h.shared.pending;if(_!==null){h.shared.pending=null;var E=_,R=E.next;E.next=null,p===null?f=R:p.next=R,p=E;var M=i.alternate;M!==null&&(M=M.updateQueue,_=M.lastBaseUpdate,_!==p&&(_===null?M.firstBaseUpdate=R:_.next=R,M.lastBaseUpdate=E))}if(f!==null){var U=h.baseState;p=0,M=R=E=null,_=f;do{var D=_.lane&-536870913,N=D!==_.lane;if(N?(At&D)===D:(l&D)===D){D!==0&&D===ds&&(df=!0),M!==null&&(M=M.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});t:{var K=i,lt=_;D=r;var Qt=a;switch(lt.tag){case 1:if(K=lt.payload,typeof K=="function"){U=K.call(Qt,U,D);break t}U=K;break t;case 3:K.flags=K.flags&-65537|128;case 0:if(K=lt.payload,D=typeof K=="function"?K.call(Qt,U,D):K,D==null)break t;U=yt({},U,D);break t;case 2:wi=!0}}D=_.callback,D!==null&&(i.flags|=64,N&&(i.flags|=8192),N=h.callbacks,N===null?h.callbacks=[D]:N.push(D))}else N={lane:D,tag:_.tag,payload:_.payload,callback:_.callback,next:null},M===null?(R=M=N,E=U):M=M.next=N,p|=D;if(_=_.next,_===null){if(_=h.shared.pending,_===null)break;N=_,_=N.next,N.next=null,h.lastBaseUpdate=N,h.shared.pending=null}}while(!0);M===null&&(E=U),h.baseState=E,h.firstBaseUpdate=R,h.lastBaseUpdate=M,f===null&&(h.shared.lanes=0),Oi|=p,i.lanes=p,i.memoizedState=U}}function t_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function e_(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)t_(a[i],r)}function za(i,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&i)===i){l=void 0;var f=a.create,p=a.inst;l=f(),p.destroy=l}a=a.next}while(a!==h)}}catch(_){Mt(r,r.return,_)}}function Ii(i,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&i)===i){var p=l.inst,_=p.destroy;if(_!==void 0){p.destroy=void 0,h=r;var E=a;try{_()}catch(R){Mt(h,E,R)}}}l=l.next}while(l!==f)}}catch(R){Mt(r,r.return,R)}}function n_(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{e_(r,a)}catch(l){Mt(i,i.return,l)}}}function i_(i,r,a){a.props=Sr(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){Mt(i,r,l)}}function br(i,r){try{var a=i.ref;if(a!==null){var l=i.stateNode;switch(i.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?i.refCleanup=a(h):a.current=h}}catch(f){Mt(i,r,f)}}function Qe(i,r){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Mt(i,r,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Mt(i,r,h)}else a.current=null}function r_(i){var r=i.type,a=i.memoizedProps,l=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Mt(i,i.return,h)}}function s_(i,r,a){try{var l=i.stateNode;NR(l,i.type,a,r),l[Le]=r}catch(h){Mt(i,i.return,h)}}function a_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function mf(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||a_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function gf(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(i,r):a.insertBefore(i,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(i,a)):(r=a,r.appendChild(i)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=du));else if(l!==4&&l!==27&&(i=i.child,i!==null))for(gf(i,r,a),i=i.sibling;i!==null;)gf(i,r,a),i=i.sibling}function tu(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(l!==4&&l!==27&&(i=i.child,i!==null))for(tu(i,r,a),i=i.sibling;i!==null;)tu(i,r,a),i=i.sibling}var $n=!1,Ft=!1,pf=!1,o_=typeof WeakSet=="function"?WeakSet:Set,le=null,l_=!1;function aR(i,r){if(i=i.containerInfo,Ff=Eu,i=Rp(i),yh(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,_=-1,E=-1,R=0,M=0,U=i,D=null;e:for(;;){for(var N;U!==a||h!==0&&U.nodeType!==3||(_=p+h),U!==f||l!==0&&U.nodeType!==3||(E=p+l),U.nodeType===3&&(p+=U.nodeValue.length),(N=U.firstChild)!==null;)D=U,U=N;for(;;){if(U===i)break e;if(D===a&&++R===h&&(_=p),D===f&&++M===l&&(E=p),(N=U.nextSibling)!==null)break;U=D,D=U.parentNode}U=N}a=_===-1||E===-1?null:{start:_,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gf={focusedElem:i,selectionRange:a},Eu=!1,le=r;le!==null;)if(r=le,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,le=i;else for(;le!==null;){switch(r=le,f=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&f!==null){i=void 0,a=r,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var K=Sr(a.type,h,a.elementType===a.type);i=l.getSnapshotBeforeUpdate(K,f),l.__reactInternalSnapshotBeforeUpdate=i}catch(lt){Mt(a,a.return,lt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)Xf(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Xf(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,le=i;break}le=r.return}return K=l_,l_=!1,K}function u_(i,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Zn(i,a),l&4&&za(5,a);break;case 1:if(Zn(i,a),l&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(_){Mt(a,a.return,_)}else{var h=Sr(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(h,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){Mt(a,a.return,_)}}l&64&&n_(a),l&512&&br(a,a.return);break;case 3:if(Zn(i,a),l&64&&(l=a.updateQueue,l!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{e_(l,i)}catch(_){Mt(a,a.return,_)}}break;case 26:Zn(i,a),l&512&&br(a,a.return);break;case 27:case 5:Zn(i,a),r===null&&l&4&&r_(a),l&512&&br(a,a.return);break;case 12:Zn(i,a);break;case 13:Zn(i,a),l&4&&f_(i,a);break;case 22:if(h=a.memoizedState!==null||$n,!h){r=r!==null&&r.memoizedState!==null||Ft;var f=$n,p=Ft;$n=h,(Ft=r)&&!p?Ci(i,a,(a.subtreeFlags&8772)!==0):Zn(i,a),$n=f,Ft=p}l&512&&(a.memoizedProps.mode==="manual"?br(a,a.return):Qe(a,a.return));break;default:Zn(i,a)}}function c_(i){var r=i.alternate;r!==null&&(i.alternate=null,c_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&eh(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Jt=null,Ke=!1;function Wn(i,r,a){for(a=a.child;a!==null;)h_(i,r,a),a=a.sibling}function h_(i,r,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(ua,a)}catch{}switch(a.tag){case 26:Ft||Qe(a,r),Wn(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ft||Qe(a,r);var l=Jt,h=Ke;for(Jt=a.stateNode,Wn(i,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);eh(a),Jt=l,Ke=h;break;case 5:Ft||Qe(a,r);case 6:h=Jt;var f=Ke;if(Jt=null,Wn(i,r,a),Jt=h,Ke=f,Jt!==null)if(Ke)try{i=Jt,l=a.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)}catch(p){Mt(a,r,p)}else try{Jt.removeChild(a.stateNode)}catch(p){Mt(a,r,p)}break;case 18:Jt!==null&&(Ke?(r=Jt,a=a.stateNode,r.nodeType===8?Yf(r.parentNode,a):r.nodeType===1&&Yf(r,a),ro(r)):Yf(Jt,a.stateNode));break;case 4:l=Jt,h=Ke,Jt=a.stateNode.containerInfo,Ke=!0,Wn(i,r,a),Jt=l,Ke=h;break;case 0:case 11:case 14:case 15:Ft||Ii(2,a,r),Ft||Ii(4,a,r),Wn(i,r,a);break;case 1:Ft||(Qe(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&i_(a,r,l)),Wn(i,r,a);break;case 21:Wn(i,r,a);break;case 22:Ft||Qe(a,r),Ft=(l=Ft)||a.memoizedState!==null,Wn(i,r,a),Ft=l;break;default:Wn(i,r,a)}}function f_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ro(i)}catch(a){Mt(r,r.return,a)}}function oR(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new o_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new o_),r;default:throw Error(s(435,i.tag))}}function yf(i,r){var a=oR(i);r.forEach(function(l){var h=ER.bind(null,i,l);a.has(l)||(a.add(l),l.then(h,h))})}function on(i,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=i,p=r,_=p;t:for(;_!==null;){switch(_.tag){case 27:case 5:Jt=_.stateNode,Ke=!1;break t;case 3:Jt=_.stateNode.containerInfo,Ke=!0;break t;case 4:Jt=_.stateNode.containerInfo,Ke=!0;break t}_=_.return}if(Jt===null)throw Error(s(160));h_(f,p,h),Jt=null,Ke=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)d_(r,i),r=r.sibling}var yn=null;function d_(i,r){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:on(r,i),ln(i),l&4&&(Ii(3,i,i.return),za(3,i),Ii(5,i,i.return));break;case 1:on(r,i),ln(i),l&512&&(Ft||a===null||Qe(a,a.return)),l&64&&$n&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=yn;if(on(r,i),ln(i),l&512&&(Ft||a===null||Qe(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){t:{l=i.type,a=i.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[fa]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),pe(f,l,a),f[Se]=i,ae(f),l=f;break t;case"link":var p=rv("link","href",h).get(l+(a.href||""));if(p){for(var _=0;_<p.length;_++)if(f=p[_],f.getAttribute("href")===(a.href==null?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(_,1);break e}}f=h.createElement(l),pe(f,l,a),h.head.appendChild(f);break;case"meta":if(p=rv("meta","content",h).get(l+(a.content||""))){for(_=0;_<p.length;_++)if(f=p[_],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(_,1);break e}}f=h.createElement(l),pe(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Se]=i,ae(f),l=f}i.stateNode=l}else sv(h,i.type,i.stateNode);else i.stateNode=iv(h,l,i.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?sv(h,i.type,i.stateNode):iv(h,l,i.memoizedProps)):l===null&&i.stateNode!==null&&s_(i,i.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&i.alternate===null){h=i.stateNode,f=i.memoizedProps;try{for(var E=h.firstChild;E;){var R=E.nextSibling,M=E.nodeName;E[fa]||M==="HEAD"||M==="BODY"||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&E.rel.toLowerCase()==="stylesheet"||h.removeChild(E),E=R}for(var U=i.type,D=h.attributes;D.length;)h.removeAttributeNode(D[0]);pe(h,U,f),h[Se]=i,h[Le]=f}catch(K){Mt(i,i.return,K)}}case 5:if(on(r,i),ln(i),l&512&&(Ft||a===null||Qe(a,a.return)),i.flags&32){h=i.stateNode;try{es(h,"")}catch(K){Mt(i,i.return,K)}}l&4&&i.stateNode!=null&&(h=i.memoizedProps,s_(i,h,a!==null?a.memoizedProps:h)),l&1024&&(pf=!0);break;case 6:if(on(r,i),ln(i),l&4){if(i.stateNode===null)throw Error(s(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(K){Mt(i,i.return,K)}}break;case 3:if(yu=null,h=yn,yn=gu(r.containerInfo),on(r,i),yn=h,ln(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ro(r.containerInfo)}catch(K){Mt(i,i.return,K)}pf&&(pf=!1,m_(i));break;case 4:l=yn,yn=gu(i.stateNode.containerInfo),on(r,i),ln(i),yn=l;break;case 12:on(r,i),ln(i);break;case 13:on(r,i),ln(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bf=wn()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,yf(i,l)));break;case 22:if(l&512&&(Ft||a===null||Qe(a,a.return)),E=i.memoizedState!==null,R=a!==null&&a.memoizedState!==null,M=$n,U=Ft,$n=M||E,Ft=U||R,on(r,i),Ft=U,$n=M,ln(i),r=i.stateNode,r._current=i,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=E?r._visibility&-2:r._visibility|1,E&&(r=$n||Ft,a===null||R||r||_s(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))t:for(a=null,r=i;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){R=a=r;try{if(h=R.stateNode,E)f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{p=R.stateNode,_=R.memoizedProps.style;var N=_!=null&&_.hasOwnProperty("display")?_.display:null;p.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(K){Mt(R,R.return,K)}}}else if(r.tag===6){if(a===null){R=r;try{R.stateNode.nodeValue=E?"":R.memoizedProps}catch(K){Mt(R,R.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,yf(i,a))));break;case 19:on(r,i),ln(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,yf(i,l)));break;case 21:break;default:on(r,i),ln(i)}}function ln(i){var r=i.flags;if(r&2){try{if(i.tag!==27){t:{for(var a=i.return;a!==null;){if(a_(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,f=mf(i);tu(i,f,h);break;case 5:var p=l.stateNode;l.flags&32&&(es(p,""),l.flags&=-33);var _=mf(i);tu(i,_,p);break;case 3:case 4:var E=l.stateNode.containerInfo,R=mf(i);gf(i,R,E);break;default:throw Error(s(161))}}}catch(M){Mt(i,i.return,M)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function m_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;m_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Zn(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)u_(i,r.alternate,r),r=r.sibling}function _s(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ii(4,r,r.return),_s(r);break;case 1:Qe(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&i_(r,r.return,a),_s(r);break;case 26:case 27:case 5:Qe(r,r.return),_s(r);break;case 22:Qe(r,r.return),r.memoizedState===null&&_s(r);break;default:_s(r)}i=i.sibling}}function Ci(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=i,f=r,p=f.flags;switch(f.tag){case 0:case 11:case 15:Ci(h,f,a),za(4,f);break;case 1:if(Ci(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(R){Mt(l,l.return,R)}if(l=f,h=l.updateQueue,h!==null){var _=l.stateNode;try{var E=h.shared.hiddenCallbacks;if(E!==null)for(h.shared.hiddenCallbacks=null,h=0;h<E.length;h++)t_(E[h],_)}catch(R){Mt(l,l.return,R)}}a&&p&64&&n_(f),br(f,f.return);break;case 26:case 27:case 5:Ci(h,f,a),a&&l===null&&p&4&&r_(f),br(f,f.return);break;case 12:Ci(h,f,a);break;case 13:Ci(h,f,a),a&&p&4&&f_(h,f);break;case 22:f.memoizedState===null&&Ci(h,f,a),br(f,f.return);break;default:Ci(h,f,a)}r=r.sibling}}function _f(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Na(a))}function vf(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Na(i))}function Di(i,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)g_(i,r,a,l),r=r.sibling}function g_(i,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Di(i,r,a,l),h&2048&&za(9,r);break;case 3:Di(i,r,a,l),h&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Na(i)));break;case 12:if(h&2048){Di(i,r,a,l),i=r.stateNode;try{var f=r.memoizedProps,p=f.id,_=f.onPostCommit;typeof _=="function"&&_(p,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(E){Mt(r,r.return,E)}}else Di(i,r,a,l);break;case 23:break;case 22:f=r.stateNode,r.memoizedState!==null?f._visibility&4?Di(i,r,a,l):Ba(i,r):f._visibility&4?Di(i,r,a,l):(f._visibility|=4,vs(i,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&_f(r.alternate,r);break;case 24:Di(i,r,a,l),h&2048&&vf(r.alternate,r);break;default:Di(i,r,a,l)}}function vs(i,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var f=i,p=r,_=a,E=l,R=p.flags;switch(p.tag){case 0:case 11:case 15:vs(f,p,_,E,h),za(8,p);break;case 23:break;case 22:var M=p.stateNode;p.memoizedState!==null?M._visibility&4?vs(f,p,_,E,h):Ba(f,p):(M._visibility|=4,vs(f,p,_,E,h)),h&&R&2048&&_f(p.alternate,p);break;case 24:vs(f,p,_,E,h),h&&R&2048&&vf(p.alternate,p);break;default:vs(f,p,_,E,h)}r=r.sibling}}function Ba(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,l=r,h=l.flags;switch(l.tag){case 22:Ba(a,l),h&2048&&_f(l.alternate,l);break;case 24:Ba(a,l),h&2048&&vf(l.alternate,l);break;default:Ba(a,l)}r=r.sibling}}var qa=8192;function Es(i){if(i.subtreeFlags&qa)for(i=i.child;i!==null;)p_(i),i=i.sibling}function p_(i){switch(i.tag){case 26:Es(i),i.flags&qa&&i.memoizedState!==null&&XR(yn,i.memoizedState,i.memoizedProps);break;case 5:Es(i);break;case 3:case 4:var r=yn;yn=gu(i.stateNode.containerInfo),Es(i),yn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=qa,qa=16777216,Es(i),qa=r):Es(i));break;default:Es(i)}}function y_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Ha(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];le=l,v_(l,i)}y_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)__(i),i=i.sibling}function __(i){switch(i.tag){case 0:case 11:case 15:Ha(i),i.flags&2048&&Ii(9,i,i.return);break;case 3:Ha(i);break;case 12:Ha(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&4&&(i.return===null||i.return.tag!==13)?(r._visibility&=-5,eu(i)):Ha(i);break;default:Ha(i)}}function eu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];le=l,v_(l,i)}y_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ii(8,r,r.return),eu(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,eu(r));break;default:eu(r)}i=i.sibling}}function v_(i,r){for(;le!==null;){var a=le;switch(a.tag){case 0:case 11:case 15:Ii(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Na(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,le=l;else t:for(a=i;le!==null;){l=le;var h=l.sibling,f=l.return;if(c_(l),l===a){le=null;break t}if(h!==null){h.return=f,le=h;break t}le=f}}}function lR(i,r,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(i,r,a,l){return new lR(i,r,a,l)}function Ef(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ni(i,r){var a=i.alternate;return a===null?(a=un(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&31457280,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function E_(i,r){i.flags&=31457282;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function nu(i,r,a,l,h,f){var p=0;if(l=i,typeof i=="function")Ef(i)&&(p=1);else if(typeof i=="string")p=KR(i,a,Sn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case d:return Ir(a.children,h,f,r);case g:p=8,h|=24;break;case y:return i=un(12,a,r,h|2),i.elementType=y,i.lanes=f,i;case j:return i=un(13,a,r,h),i.elementType=j,i.lanes=f,i;case O:return i=un(19,a,r,h),i.elementType=O,i.lanes=f,i;case nt:return T_(a,h,f,r);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case v:case I:p=10;break t;case T:p=9;break t;case k:p=11;break t;case Y:p=14;break t;case J:p=16,l=null;break t}p=29,a=Error(s(130,i===null?"null":typeof i,"")),l=null}return r=un(p,a,r,h),r.elementType=i,r.type=l,r.lanes=f,r}function Ir(i,r,a,l){return i=un(7,i,l,r),i.lanes=a,i}function T_(i,r,a,l){i=un(22,i,l,r),i.elementType=nt,i.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var p=_i(f,2);p!==null&&(h._pendingVisibility|=2,Ve(p,f,2))}},attach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var p=_i(f,2);p!==null&&(h._pendingVisibility&=-3,Ve(p,f,2))}}};return i.stateNode=h,i}function Tf(i,r,a){return i=un(6,i,null,r),i.lanes=a,i}function Af(i,r,a){return r=un(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}function Jn(i){i.flags|=4}function A_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!av(r)){if(r=an.current,r!==null&&((At&4194176)===At?bn!==null:(At&62914560)!==At&&(At&536870912)===0||r!==bn))throw Ia=bh,jp;i.flags|=8192}}function iu(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?zg():536870912,i.lanes|=r,As|=r)}function Fa(i,r){if(!wt)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function Bt(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(r)for(var h=i.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=l,i.childLanes=a,r}function uR(i,r,a){var l=r.pendingProps;switch(wh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(r),null;case 1:return Bt(r),null;case 3:return a=r.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Xn(re),Xr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Sa(r)?Jn(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,pn!==null&&(Nf(pn),pn=null))),Bt(r),null;case 26:return a=r.memoizedState,i===null?(Jn(r),a!==null?(Bt(r),A_(r,a)):(Bt(r),r.flags&=-16777217)):a?a!==i.memoizedState?(Jn(r),Bt(r),A_(r,a)):(Bt(r),r.flags&=-16777217):(i.memoizedProps!==l&&Jn(r),Bt(r),r.flags&=-16777217),null;case 27:gl(r),a=mi.current;var h=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==l&&Jn(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return Bt(r),null}i=Sn.current,Sa(r)?kp(r):(i=Z_(h,l,a),r.stateNode=i,Jn(r))}return Bt(r),null;case 5:if(gl(r),a=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&Jn(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return Bt(r),null}if(i=Sn.current,Sa(r))kp(r);else{switch(h=mu(mi.current),i){case 1:i=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}i[Se]=r,i[Le]=l;t:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break t;for(;h.sibling===null;){if(h.return===null||h.return===r)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=i;t:switch(pe(i,a,l),a){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Jn(r)}}return Bt(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==l&&Jn(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(i=mi.current,Sa(r)){if(i=r.stateNode,a=r.memoizedProps,l=null,h=xe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}i[Se]=r,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Q_(i.nodeValue,a)),i||yr(r)}else i=mu(i).createTextNode(l),i[Se]=r,r.stateNode=i}return Bt(r),null;case 13:if(l=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=Sa(r),l!==null&&l.dehydrated!==null){if(i===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Se]=r}else wa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Bt(r),h=!1}else pn!==null&&(Nf(pn),pn=null),h=!0;if(!h)return r.flags&256?(Gn(r),r):(Gn(r),null)}if(Gn(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,i=i!==null&&i.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==i&&a&&(r.child.flags|=8192),iu(r,r.updateQueue),Bt(r),null;case 4:return Xr(),i===null&&Bf(r.stateNode.containerInfo),Bt(r),null;case 10:return Xn(r.type),Bt(r),null;case 19:if($t(ie),h=r.memoizedState,h===null)return Bt(r),null;if(l=(r.flags&128)!==0,f=h.rendering,f===null)if(l)Fa(h,!1);else{if(Gt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(f=zl(i),f!==null){for(r.flags|=128,Fa(h,!1),i=f.updateQueue,r.updateQueue=i,iu(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)E_(a,i),a=a.sibling;return zt(ie,ie.current&1|2),r.child}i=i.sibling}h.tail!==null&&wn()>ru&&(r.flags|=128,l=!0,Fa(h,!1),r.lanes=4194304)}else{if(!l)if(i=zl(f),i!==null){if(r.flags|=128,l=!0,i=i.updateQueue,r.updateQueue=i,iu(r,i),Fa(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!wt)return Bt(r),null}else 2*wn()-h.renderingStartTime>ru&&a!==536870912&&(r.flags|=128,l=!0,Fa(h,!1),r.lanes=4194304);h.isBackwards?(f.sibling=r.child,r.child=f):(i=h.last,i!==null?i.sibling=f:r.child=f,h.last=f)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=wn(),r.sibling=null,i=ie.current,zt(ie,l?i&1|2:i&1),r):(Bt(r),null);case 22:case 23:return Gn(r),Ch(),l=r.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(Bt(r),r.subtreeFlags&6&&(r.flags|=8192)):Bt(r),a=r.updateQueue,a!==null&&iu(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),i!==null&&$t(vr),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Xn(re),Bt(r),null;case 25:return null}throw Error(s(156,r.tag))}function cR(i,r){switch(wh(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Xn(re),Xr(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return gl(r),null;case 13:if(Gn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));wa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return $t(ie),null;case 4:return Xr(),null;case 10:return Xn(r.type),null;case 22:case 23:return Gn(r),Ch(),i!==null&&$t(vr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Xn(re),null;case 25:return null;default:return null}}function S_(i,r){switch(wh(r),r.tag){case 3:Xn(re),Xr();break;case 26:case 27:case 5:gl(r);break;case 4:Xr();break;case 13:Gn(r);break;case 19:$t(ie);break;case 10:Xn(r.type);break;case 22:case 23:Gn(r),Ch(),i!==null&&$t(vr);break;case 24:Xn(re)}}var hR={getCacheForType:function(i){var r=we(re),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a}},fR=typeof WeakMap=="function"?WeakMap:Map,qt=0,Vt=null,pt=null,At=0,Pt=0,Ye=null,ti=!1,Ts=!1,Sf=!1,ei=0,Gt=0,Oi=0,Cr=0,wf=0,cn=0,As=0,Ga=null,Cn=null,Rf=!1,bf=0,ru=1/0,su=null,Mi=null,au=!1,Dr=null,Qa=0,If=0,Cf=null,Ka=0,Df=null;function Xe(){if((qt&2)!==0&&At!==0)return At&-At;if($.T!==null){var i=ds;return i!==0?i:kf()}return Fg()}function w_(){cn===0&&(cn=(At&536870912)===0||wt?jg():536870912);var i=an.current;return i!==null&&(i.flags|=32),cn}function Ve(i,r,a){(i===Vt&&Pt===2||i.cancelPendingCommit!==null)&&(Ss(i,0),ni(i,At,cn,!1)),ha(i,a),((qt&2)===0||i!==Vt)&&(i===Vt&&((qt&2)===0&&(Cr|=a),Gt===4&&ni(i,At,cn,!1)),Dn(i))}function R_(i,r,a){if((qt&6)!==0)throw Error(s(327));var l=!a&&(r&60)===0&&(r&i.expiredLanes)===0||ca(i,r),h=l?gR(i,r):xf(i,r,!0),f=l;do{if(h===0){Ts&&!l&&ni(i,r,0,!1);break}else if(h===6)ni(i,r,0,!ti);else{if(a=i.current.alternate,f&&!dR(a)){h=xf(i,r,!1),f=!1;continue}if(h===2){if(f=r,i.errorRecoveryDisabledLanes&f)var p=0;else p=i.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){r=p;t:{var _=i;h=Ga;var E=_.current.memoizedState.isDehydrated;if(E&&(Ss(_,p).flags|=256),p=xf(_,p,!1),p!==2){if(Sf&&!E){_.errorRecoveryDisabledLanes|=f,Cr|=f,h=4;break t}f=Cn,Cn=h,f!==null&&Nf(f)}h=p}if(f=!1,h!==2)continue}}if(h===1){Ss(i,0),ni(i,r,0,!0);break}t:{switch(l=i,h){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){ni(l,r,cn,!ti);break t}break;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(f=bf+300-wn(),10<f)){if(ni(l,r,cn,!ti),vl(l,0)!==0)break t;l.timeoutHandle=X_(b_.bind(null,l,a,Cn,su,Rf,r,cn,Cr,As,ti,2,-0,0),f);break t}b_(l,a,Cn,su,Rf,r,cn,Cr,As,ti,0,-0,0)}}break}while(!0);Dn(i)}function Nf(i){Cn===null?Cn=i:Cn.push.apply(Cn,i)}function b_(i,r,a,l,h,f,p,_,E,R,M,U,D){var N=r.subtreeFlags;if((N&8192||(N&16785408)===16785408)&&(Ja={stylesheets:null,count:0,unsuspend:YR},p_(r),r=$R(),r!==null)){i.cancelPendingCommit=r(x_.bind(null,i,a,l,h,p,_,E,1,U,D)),ni(i,f,p,!R);return}x_(i,a,l,h,p,_,E,M,U,D)}function dR(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!Ge(f(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ni(i,r,a,l){r&=~wf,r&=~Cr,i.suspendedLanes|=r,i.pingedLanes&=~r,l&&(i.warmLanes|=r),l=i.expirationTimes;for(var h=r;0<h;){var f=31-Fe(h),p=1<<f;l[f]=-1,h&=~p}a!==0&&Bg(i,a,r)}function ou(){return(qt&6)===0?(Ya(0),!1):!0}function Of(){if(pt!==null){if(Pt===0)var i=pt.return;else i=pt,Yn=wr=null,Uh(i),hs=null,Ca=0,i=pt;for(;i!==null;)S_(i.alternate,i),i=i.return;pt=null}}function Ss(i,r){i.finishedWork=null,i.finishedLanes=0;var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,MR(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Of(),Vt=i,pt=a=Ni(i.current,null),At=r,Pt=0,Ye=null,ti=!1,Ts=ca(i,r),Sf=!1,As=cn=wf=Cr=Oi=Gt=0,Cn=Ga=null,Rf=!1,(r&8)!==0&&(r|=r&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=r;0<l;){var h=31-Fe(l),f=1<<h;r|=i[h],l&=~f}return ei=r,Ol(),a}function I_(i,r){mt=null,$.H=In,r===ba?(r=qp(),Pt=3):r===jp?(r=qp(),Pt=4):Pt=r===zy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ye=r,pt===null&&(Gt=1,Wl(i,nn(r,i.current)))}function C_(){var i=$.H;return $.H=In,i===null?In:i}function D_(){var i=$.A;return $.A=hR,i}function Mf(){Gt=4,ti||(At&4194176)!==At&&an.current!==null||(Ts=!0),(Oi&134217727)===0&&(Cr&134217727)===0||Vt===null||ni(Vt,At,cn,!1)}function xf(i,r,a){var l=qt;qt|=2;var h=C_(),f=D_();(Vt!==i||At!==r)&&(su=null,Ss(i,r)),r=!1;var p=Gt;t:do try{if(Pt!==0&&pt!==null){var _=pt,E=Ye;switch(Pt){case 8:Of(),p=6;break t;case 3:case 2:case 6:an.current===null&&(r=!0);var R=Pt;if(Pt=0,Ye=null,ws(i,_,E,R),a&&Ts){p=0;break t}break;default:R=Pt,Pt=0,Ye=null,ws(i,_,E,R)}}mR(),p=Gt;break}catch(M){I_(i,M)}while(!0);return r&&i.shellSuspendCounter++,Yn=wr=null,qt=l,$.H=h,$.A=f,pt===null&&(Vt=null,At=0,Ol()),p}function mR(){for(;pt!==null;)N_(pt)}function gR(i,r){var a=qt;qt|=2;var l=C_(),h=D_();Vt!==i||At!==r?(su=null,ru=wn()+500,Ss(i,r)):Ts=ca(i,r);t:do try{if(Pt!==0&&pt!==null){r=pt;var f=Ye;e:switch(Pt){case 1:Pt=0,Ye=null,ws(i,r,f,1);break;case 2:if(zp(f)){Pt=0,Ye=null,O_(r);break}r=function(){Pt===2&&Vt===i&&(Pt=7),Dn(i)},f.then(r,r);break t;case 3:Pt=7;break t;case 4:Pt=5;break t;case 7:zp(f)?(Pt=0,Ye=null,O_(r)):(Pt=0,Ye=null,ws(i,r,f,7));break;case 5:var p=null;switch(pt.tag){case 26:p=pt.memoizedState;case 5:case 27:var _=pt;if(!p||av(p)){Pt=0,Ye=null;var E=_.sibling;if(E!==null)pt=E;else{var R=_.return;R!==null?(pt=R,lu(R)):pt=null}break e}}Pt=0,Ye=null,ws(i,r,f,5);break;case 6:Pt=0,Ye=null,ws(i,r,f,6);break;case 8:Of(),Gt=6;break t;default:throw Error(s(462))}}pR();break}catch(M){I_(i,M)}while(!0);return Yn=wr=null,$.H=l,$.A=h,qt=a,pt!==null?0:(Vt=null,At=0,Ol(),Gt)}function pR(){for(;pt!==null&&!LS();)N_(pt)}function N_(i){var r=Zy(i.alternate,i,ei);i.memoizedProps=i.pendingProps,r===null?lu(i):pt=r}function O_(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=Qy(a,r,r.pendingProps,r.type,void 0,At);break;case 11:r=Qy(a,r,r.pendingProps,r.type.render,r.ref,At);break;case 5:Uh(r);default:S_(a,r),r=pt=E_(r,ei),r=Zy(a,r,ei)}i.memoizedProps=i.pendingProps,r===null?lu(i):pt=r}function ws(i,r,a,l){Yn=wr=null,Uh(r),hs=null,Ca=0;var h=r.return;try{if(rR(i,h,r,a,At)){Gt=1,Wl(i,nn(a,i.current)),pt=null;return}}catch(f){if(h!==null)throw pt=h,f;Gt=1,Wl(i,nn(a,i.current)),pt=null;return}r.flags&32768?(wt||l===1?i=!0:Ts||(At&536870912)!==0?i=!1:(ti=i=!0,(l===2||l===3||l===6)&&(l=an.current,l!==null&&l.tag===13&&(l.flags|=16384))),M_(r,i)):lu(r)}function lu(i){var r=i;do{if((r.flags&32768)!==0){M_(r,ti);return}i=r.return;var a=uR(r.alternate,r,ei);if(a!==null){pt=a;return}if(r=r.sibling,r!==null){pt=r;return}pt=r=i}while(r!==null);Gt===0&&(Gt=5)}function M_(i,r){do{var a=cR(i.alternate,i);if(a!==null){a.flags&=32767,pt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){pt=i;return}pt=i=a}while(i!==null);Gt=6,pt=null}function x_(i,r,a,l,h,f,p,_,E,R){var M=$.T,U=F.p;try{F.p=2,$.T=null,yR(i,r,a,l,U,h,f,p,_,E,R)}finally{$.T=M,F.p=U}}function yR(i,r,a,l,h,f,p,_){do Rs();while(Dr!==null);if((qt&6)!==0)throw Error(s(327));var E=i.finishedWork;if(l=i.finishedLanes,E===null)return null;if(i.finishedWork=null,i.finishedLanes=0,E===i.current)throw Error(s(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var R=E.lanes|E.childLanes;if(R|=Th,XS(i,l,R,f,p,_),i===Vt&&(pt=Vt=null,At=0),(E.subtreeFlags&10256)===0&&(E.flags&10256)===0||au||(au=!0,If=R,Cf=a,TR(pl,function(){return Rs(),null})),a=(E.flags&15990)!==0,(E.subtreeFlags&15990)!==0||a?(a=$.T,$.T=null,f=F.p,F.p=2,p=qt,qt|=4,aR(i,E),d_(E,i),Bw(Gf,i.containerInfo),Eu=!!Ff,Gf=Ff=null,i.current=E,u_(i,E.alternate,E),jS(),qt=p,F.p=f,$.T=a):i.current=E,au?(au=!1,Dr=i,Qa=l):V_(i,R),R=i.pendingLanes,R===0&&(Mi=null),FS(E.stateNode),Dn(i),r!==null)for(h=i.onRecoverableError,E=0;E<r.length;E++)R=r[E],h(R.value,{componentStack:R.stack});return(Qa&3)!==0&&Rs(),R=i.pendingLanes,(l&4194218)!==0&&(R&42)!==0?i===Df?Ka++:(Ka=0,Df=i):Ka=0,Ya(0),null}function V_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Na(r)))}function Rs(){if(Dr!==null){var i=Dr,r=If;If=0;var a=Hg(Qa),l=$.T,h=F.p;try{if(F.p=32>a?32:a,$.T=null,Dr===null)var f=!1;else{a=Cf,Cf=null;var p=Dr,_=Qa;if(Dr=null,Qa=0,(qt&6)!==0)throw Error(s(331));var E=qt;if(qt|=4,__(p.current),g_(p,p.current,_,a),qt=E,Ya(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(ua,p)}catch{}f=!0}return f}finally{F.p=h,$.T=l,V_(i,r)}}return!1}function P_(i,r,a){r=nn(a,r),r=$h(i.stateNode,r,2),i=bi(i,r,2),i!==null&&(ha(i,2),Dn(i))}function Mt(i,r,a){if(i.tag===3)P_(i,i,a);else for(;r!==null;){if(r.tag===3){P_(r,i,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Mi===null||!Mi.has(l))){i=nn(a,i),a=Ly(2),l=bi(r,a,2),l!==null&&(jy(a,l,r,i),ha(l,2),Dn(l));break}}r=r.return}}function Vf(i,r,a){var l=i.pingCache;if(l===null){l=i.pingCache=new fR;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Sf=!0,h.add(a),i=_R.bind(null,i,r,a),r.then(i,i))}function _R(i,r,a){var l=i.pingCache;l!==null&&l.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,Vt===i&&(At&a)===a&&(Gt===4||Gt===3&&(At&62914560)===At&&300>wn()-bf?(qt&2)===0&&Ss(i,0):wf|=a,As===At&&(As=0)),Dn(i)}function U_(i,r){r===0&&(r=zg()),i=_i(i,r),i!==null&&(ha(i,r),Dn(i))}function vR(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),U_(i,a)}function ER(i,r){var a=0;switch(i.tag){case 13:var l=i.stateNode,h=i.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),U_(i,a)}function TR(i,r){return Wc(i,r)}var uu=null,bs=null,Pf=!1,cu=!1,Uf=!1,Nr=0;function Dn(i){i!==bs&&i.next===null&&(bs===null?uu=bs=i:bs=bs.next=i),cu=!0,Pf||(Pf=!0,SR(AR))}function Ya(i,r){if(!Uf&&cu){Uf=!0;do for(var a=!1,l=uu;l!==null;){if(i!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,_=l.pingedLanes;f=(1<<31-Fe(42|i)+1)-1,f&=h&~(p&~_),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(a=!0,j_(l,f))}else f=At,f=vl(l,l===Vt?f:0),(f&3)===0||ca(l,f)||(a=!0,j_(l,f));l=l.next}while(a);Uf=!1}}function AR(){cu=Pf=!1;var i=0;Nr!==0&&(OR()&&(i=Nr),Nr=0);for(var r=wn(),a=null,l=uu;l!==null;){var h=l.next,f=k_(l,r);f===0?(l.next=null,a===null?uu=h:a.next=h,h===null&&(bs=a)):(a=l,(i!==0||(f&3)!==0)&&(cu=!0)),l=h}Ya(i)}function k_(i,r){for(var a=i.suspendedLanes,l=i.pingedLanes,h=i.expirationTimes,f=i.pendingLanes&-62914561;0<f;){var p=31-Fe(f),_=1<<p,E=h[p];E===-1?((_&a)===0||(_&l)!==0)&&(h[p]=YS(_,r)):E<=r&&(i.expiredLanes|=_),f&=~_}if(r=Vt,a=At,a=vl(i,i===r?a:0),l=i.callbackNode,a===0||i===r&&Pt===2||i.cancelPendingCommit!==null)return l!==null&&l!==null&&Zc(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||ca(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(l!==null&&Zc(l),Hg(a)){case 2:case 8:a=kg;break;case 32:a=pl;break;case 268435456:a=Lg;break;default:a=pl}return l=L_.bind(null,i),a=Wc(a,l),i.callbackPriority=r,i.callbackNode=a,r}return l!==null&&l!==null&&Zc(l),i.callbackPriority=2,i.callbackNode=null,2}function L_(i,r){var a=i.callbackNode;if(Rs()&&i.callbackNode!==a)return null;var l=At;return l=vl(i,i===Vt?l:0),l===0?null:(R_(i,l,r),k_(i,wn()),i.callbackNode!=null&&i.callbackNode===a?L_.bind(null,i):null)}function j_(i,r){if(Rs())return null;R_(i,r,!0)}function SR(i){xR(function(){(qt&6)!==0?Wc(Ug,i):i()})}function kf(){return Nr===0&&(Nr=jg()),Nr}function z_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:wl(""+i)}function B_(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function wR(i,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var f=z_((h[Le]||null).action),p=l.submitter;p&&(r=(r=p[Le]||null)?z_(r.formAction):p.getAttribute("formAction"),r!==null&&(f=r,p=null));var _=new Cl("action","action",null,l,h);i.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Nr!==0){var E=p?B_(h,p):new FormData(h);Gh(a,{pending:!0,data:E,method:h.method,action:f},null,E)}}else typeof f=="function"&&(_.preventDefault(),E=p?B_(h,p):new FormData(h),Gh(a,{pending:!0,data:E,method:h.method,action:f},f,E))},currentTarget:h}]})}}for(var Lf=0;Lf<xp.length;Lf++){var jf=xp[Lf],RR=jf.toLowerCase(),bR=jf[0].toUpperCase()+jf.slice(1);gn(RR,"on"+bR)}gn(Cp,"onAnimationEnd"),gn(Dp,"onAnimationIteration"),gn(Np,"onAnimationStart"),gn("dblclick","onDoubleClick"),gn("focusin","onFocus"),gn("focusout","onBlur"),gn(Hw,"onTransitionRun"),gn(Fw,"onTransitionStart"),gn(Gw,"onTransitionCancel"),gn(Op,"onTransitionEnd"),Jr("onMouseEnter",["mouseout","mouseover"]),Jr("onMouseLeave",["mouseout","mouseover"]),Jr("onPointerEnter",["pointerout","pointerover"]),Jr("onPointerLeave",["pointerout","pointerover"]),hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hr("onBeforeInput",["compositionend","keypress","textInput","paste"]),hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xa));function q_(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],h=l.event;l=l.listeners;t:{var f=void 0;if(r)for(var p=l.length-1;0<=p;p--){var _=l[p],E=_.instance,R=_.currentTarget;if(_=_.listener,E!==f&&h.isPropagationStopped())break t;f=_,h.currentTarget=R;try{f(h)}catch(M){$l(M)}h.currentTarget=null,f=E}else for(p=0;p<l.length;p++){if(_=l[p],E=_.instance,R=_.currentTarget,_=_.listener,E!==f&&h.isPropagationStopped())break t;f=_,h.currentTarget=R;try{f(h)}catch(M){$l(M)}h.currentTarget=null,f=E}}}}function vt(i,r){var a=r[th];a===void 0&&(a=r[th]=new Set);var l=i+"__bubble";a.has(l)||(H_(r,i,2,!1),a.add(l))}function zf(i,r,a){var l=0;r&&(l|=4),H_(a,i,l,r)}var hu="_reactListening"+Math.random().toString(36).slice(2);function Bf(i){if(!i[hu]){i[hu]=!0,Qg.forEach(function(a){a!=="selectionchange"&&(IR.has(a)||zf(a,!1,i),zf(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[hu]||(r[hu]=!0,zf("selectionchange",!1,r))}}function H_(i,r,a,l){switch(fv(r)){case 2:var h=JR;break;case 8:h=tb;break;default:h=td}a=h.bind(null,r,a,i),h=void 0,!lh||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?i.addEventListener(r,a,{capture:!0,passive:h}):i.addEventListener(r,a,!0):h!==void 0?i.addEventListener(r,a,{passive:h}):i.addEventListener(r,a,!1)}function qf(i,r,a,l,h){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var _=l.stateNode.containerInfo;if(_===h||_.nodeType===8&&_.parentNode===h)break;if(p===4)for(p=l.return;p!==null;){var E=p.tag;if((E===3||E===4)&&(E=p.stateNode.containerInfo,E===h||E.nodeType===8&&E.parentNode===h))return;p=p.return}for(;_!==null;){if(p=cr(_),p===null)return;if(E=p.tag,E===5||E===6||E===26||E===27){l=f=p;continue t}_=_.parentNode}}l=l.return}rp(function(){var R=f,M=ah(a),U=[];t:{var D=Mp.get(i);if(D!==void 0){var N=Cl,K=i;switch(i){case"keypress":if(bl(a)===0)break t;case"keydown":case"keyup":N=Ew;break;case"focusin":K="focus",N=fh;break;case"focusout":K="blur",N=fh;break;case"beforeblur":case"afterblur":N=fh;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=op;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=lw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Sw;break;case Cp:case Dp:case Np:N=hw;break;case Op:N=Rw;break;case"scroll":case"scrollend":N=aw;break;case"wheel":N=Iw;break;case"copy":case"cut":case"paste":N=dw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=up;break;case"toggle":case"beforetoggle":N=Dw}var lt=(r&4)!==0,Qt=!lt&&(i==="scroll"||i==="scrollend"),b=lt?D!==null?D+"Capture":null:D;lt=[];for(var w=R,C;w!==null;){var V=w;if(C=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||C===null||b===null||(V=ma(w,b),V!=null&&lt.push($a(w,V,C))),Qt)break;w=w.return}0<lt.length&&(D=new N(D,K,null,a,M),U.push({event:D,listeners:lt}))}}if((r&7)===0){t:{if(D=i==="mouseover"||i==="pointerover",N=i==="mouseout"||i==="pointerout",D&&a!==sh&&(K=a.relatedTarget||a.fromElement)&&(cr(K)||K[$r]))break t;if((N||D)&&(D=M.window===M?M:(D=M.ownerDocument)?D.defaultView||D.parentWindow:window,N?(K=a.relatedTarget||a.toElement,N=R,K=K?cr(K):null,K!==null&&(Qt=it(K),lt=K.tag,K!==Qt||lt!==5&&lt!==27&&lt!==6)&&(K=null)):(N=null,K=R),N!==K)){if(lt=op,V="onMouseLeave",b="onMouseEnter",w="mouse",(i==="pointerout"||i==="pointerover")&&(lt=up,V="onPointerLeave",b="onPointerEnter",w="pointer"),Qt=N==null?D:da(N),C=K==null?D:da(K),D=new lt(V,w+"leave",N,a,M),D.target=Qt,D.relatedTarget=C,V=null,cr(M)===R&&(lt=new lt(b,w+"enter",K,a,M),lt.target=C,lt.relatedTarget=Qt,V=lt),Qt=V,N&&K)e:{for(lt=N,b=K,w=0,C=lt;C;C=Is(C))w++;for(C=0,V=b;V;V=Is(V))C++;for(;0<w-C;)lt=Is(lt),w--;for(;0<C-w;)b=Is(b),C--;for(;w--;){if(lt===b||b!==null&&lt===b.alternate)break e;lt=Is(lt),b=Is(b)}lt=null}else lt=null;N!==null&&F_(U,D,N,lt,!1),K!==null&&Qt!==null&&F_(U,Qt,K,lt,!0)}}t:{if(D=R?da(R):window,N=D.nodeName&&D.nodeName.toLowerCase(),N==="select"||N==="input"&&D.type==="file")var G=yp;else if(gp(D))if(_p)G=jw;else{G=kw;var gt=Uw}else N=D.nodeName,!N||N.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?R&&rh(R.elementType)&&(G=yp):G=Lw;if(G&&(G=G(i,R))){pp(U,G,a,M);break t}gt&&gt(i,D,R),i==="focusout"&&R&&D.type==="number"&&R.memoizedProps.value!=null&&ih(D,"number",D.value)}switch(gt=R?da(R):window,i){case"focusin":(gp(gt)||gt.contentEditable==="true")&&(ss=gt,_h=R,Aa=null);break;case"focusout":Aa=_h=ss=null;break;case"mousedown":vh=!0;break;case"contextmenu":case"mouseup":case"dragend":vh=!1,bp(U,a,M);break;case"selectionchange":if(qw)break;case"keydown":case"keyup":bp(U,a,M)}var X;if(mh)t:{switch(i){case"compositionstart":var tt="onCompositionStart";break t;case"compositionend":tt="onCompositionEnd";break t;case"compositionupdate":tt="onCompositionUpdate";break t}tt=void 0}else rs?dp(i,a)&&(tt="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(tt="onCompositionStart");tt&&(cp&&a.locale!=="ko"&&(rs||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&rs&&(X=sp()):(yi=M,uh="value"in yi?yi.value:yi.textContent,rs=!0)),gt=fu(R,tt),0<gt.length&&(tt=new lp(tt,i,null,a,M),U.push({event:tt,listeners:gt}),X?tt.data=X:(X=mp(a),X!==null&&(tt.data=X)))),(X=Ow?Mw(i,a):xw(i,a))&&(tt=fu(R,"onBeforeInput"),0<tt.length&&(gt=new lp("onBeforeInput","beforeinput",null,a,M),U.push({event:gt,listeners:tt}),gt.data=X)),wR(U,i,R,a,M)}q_(U,r)})}function $a(i,r,a){return{instance:i,listener:r,currentTarget:a}}function fu(i,r){for(var a=r+"Capture",l=[];i!==null;){var h=i,f=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ma(i,a),h!=null&&l.unshift($a(i,h,f)),h=ma(i,r),h!=null&&l.push($a(i,h,f))),i=i.return}return l}function Is(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function F_(i,r,a,l,h){for(var f=r._reactName,p=[];a!==null&&a!==l;){var _=a,E=_.alternate,R=_.stateNode;if(_=_.tag,E!==null&&E===l)break;_!==5&&_!==26&&_!==27||R===null||(E=R,h?(R=ma(a,f),R!=null&&p.unshift($a(a,R,E))):h||(R=ma(a,f),R!=null&&p.push($a(a,R,E)))),a=a.return}p.length!==0&&i.push({event:r,listeners:p})}var CR=/\r\n?/g,DR=/\u0000|\uFFFD/g;function G_(i){return(typeof i=="string"?i:""+i).replace(CR,`
`).replace(DR,"")}function Q_(i,r){return r=G_(r),G_(i)===r}function du(){}function Ot(i,r,a,l,h,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||es(i,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&es(i,""+l);break;case"className":Tl(i,"class",l);break;case"tabIndex":Tl(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tl(i,a,l);break;case"style":np(i,l,f);break;case"data":if(r!=="object"){Tl(i,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=wl(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&Ot(i,r,"name",h.name,h,null),Ot(i,r,"formEncType",h.formEncType,h,null),Ot(i,r,"formMethod",h.formMethod,h,null),Ot(i,r,"formTarget",h.formTarget,h,null)):(Ot(i,r,"encType",h.encType,h,null),Ot(i,r,"method",h.method,h,null),Ot(i,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=wl(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=du);break;case"onScroll":l!=null&&vt("scroll",i);break;case"onScrollEnd":l!=null&&vt("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=wl(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":vt("beforetoggle",i),vt("toggle",i),El(i,"popover",l);break;case"xlinkActuate":qn(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":qn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":qn(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":qn(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":qn(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":qn(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":qn(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":qn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":qn(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":El(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=rw.get(a)||a,El(i,a,l))}}function Hf(i,r,a,l,h,f){switch(a){case"style":np(i,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof l=="string"?es(i,l):(typeof l=="number"||typeof l=="bigint")&&es(i,""+l);break;case"onScroll":l!=null&&vt("scroll",i);break;case"onScrollEnd":l!=null&&vt("scrollend",i);break;case"onClick":l!=null&&(i.onclick=du);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kg.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),f=i[Le]||null,f=f!=null?f[a]:null,typeof f=="function"&&i.removeEventListener(r,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,l,h);break t}a in i?i[a]=l:l===!0?i.setAttribute(a,""):El(i,a,l)}}}function pe(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",i),vt("load",i);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ot(i,r,f,p,a,null)}}h&&Ot(i,r,"srcSet",a.srcSet,a,null),l&&Ot(i,r,"src",a.src,a,null);return;case"input":vt("invalid",i);var _=f=p=h=null,E=null,R=null;for(l in a)if(a.hasOwnProperty(l)){var M=a[l];if(M!=null)switch(l){case"name":h=M;break;case"type":p=M;break;case"checked":E=M;break;case"defaultChecked":R=M;break;case"value":f=M;break;case"defaultValue":_=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(137,r));break;default:Ot(i,r,l,M,a,null)}}Zg(i,f,_,E,R,p,h,!1),Al(i);return;case"select":vt("invalid",i),l=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(_=a[h],_!=null))switch(h){case"value":f=_;break;case"defaultValue":p=_;break;case"multiple":l=_;default:Ot(i,r,h,_,a,null)}r=f,a=p,i.multiple=!!l,r!=null?ts(i,!!l,r,!1):a!=null&&ts(i,!!l,a,!0);return;case"textarea":vt("invalid",i),f=h=l=null;for(p in a)if(a.hasOwnProperty(p)&&(_=a[p],_!=null))switch(p){case"value":l=_;break;case"defaultValue":h=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:Ot(i,r,p,_,a,null)}tp(i,l,h,f),Al(i);return;case"option":for(E in a)if(a.hasOwnProperty(E)&&(l=a[E],l!=null))switch(E){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ot(i,r,E,l,a,null)}return;case"dialog":vt("cancel",i),vt("close",i);break;case"iframe":case"object":vt("load",i);break;case"video":case"audio":for(l=0;l<Xa.length;l++)vt(Xa[l],i);break;case"image":vt("error",i),vt("load",i);break;case"details":vt("toggle",i);break;case"embed":case"source":case"link":vt("error",i),vt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ot(i,r,R,l,a,null)}return;default:if(rh(r)){for(M in a)a.hasOwnProperty(M)&&(l=a[M],l!==void 0&&Hf(i,r,M,l,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(l=a[_],l!=null&&Ot(i,r,_,l,a,null))}function NR(i,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,_=null,E=null,R=null,M=null;for(N in a){var U=a[N];if(a.hasOwnProperty(N)&&U!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":E=U;default:l.hasOwnProperty(N)||Ot(i,r,N,null,l,U)}}for(var D in l){var N=l[D];if(U=a[D],l.hasOwnProperty(D)&&(N!=null||U!=null))switch(D){case"type":f=N;break;case"name":h=N;break;case"checked":R=N;break;case"defaultChecked":M=N;break;case"value":p=N;break;case"defaultValue":_=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(137,r));break;default:N!==U&&Ot(i,r,D,N,l,U)}}nh(i,p,_,E,R,M,f,h);return;case"select":N=p=_=D=null;for(f in a)if(E=a[f],a.hasOwnProperty(f)&&E!=null)switch(f){case"value":break;case"multiple":N=E;default:l.hasOwnProperty(f)||Ot(i,r,f,null,l,E)}for(h in l)if(f=l[h],E=a[h],l.hasOwnProperty(h)&&(f!=null||E!=null))switch(h){case"value":D=f;break;case"defaultValue":_=f;break;case"multiple":p=f;default:f!==E&&Ot(i,r,h,f,l,E)}r=_,a=p,l=N,D!=null?ts(i,!!a,D,!1):!!l!=!!a&&(r!=null?ts(i,!!a,r,!0):ts(i,!!a,a?[]:"",!1));return;case"textarea":N=D=null;for(_ in a)if(h=a[_],a.hasOwnProperty(_)&&h!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ot(i,r,_,null,l,h)}for(p in l)if(h=l[p],f=a[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":D=h;break;case"defaultValue":N=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Ot(i,r,p,h,l,f)}Jg(i,D,N);return;case"option":for(var K in a)if(D=a[K],a.hasOwnProperty(K)&&D!=null&&!l.hasOwnProperty(K))switch(K){case"selected":i.selected=!1;break;default:Ot(i,r,K,null,l,D)}for(E in l)if(D=l[E],N=a[E],l.hasOwnProperty(E)&&D!==N&&(D!=null||N!=null))switch(E){case"selected":i.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Ot(i,r,E,D,l,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lt in a)D=a[lt],a.hasOwnProperty(lt)&&D!=null&&!l.hasOwnProperty(lt)&&Ot(i,r,lt,null,l,D);for(R in l)if(D=l[R],N=a[R],l.hasOwnProperty(R)&&D!==N&&(D!=null||N!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(137,r));break;default:Ot(i,r,R,D,l,N)}return;default:if(rh(r)){for(var Qt in a)D=a[Qt],a.hasOwnProperty(Qt)&&D!==void 0&&!l.hasOwnProperty(Qt)&&Hf(i,r,Qt,void 0,l,D);for(M in l)D=l[M],N=a[M],!l.hasOwnProperty(M)||D===N||D===void 0&&N===void 0||Hf(i,r,M,D,l,N);return}}for(var b in a)D=a[b],a.hasOwnProperty(b)&&D!=null&&!l.hasOwnProperty(b)&&Ot(i,r,b,null,l,D);for(U in l)D=l[U],N=a[U],!l.hasOwnProperty(U)||D===N||D==null&&N==null||Ot(i,r,U,D,l,N)}var Ff=null,Gf=null;function mu(i){return i.nodeType===9?i:i.ownerDocument}function K_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Qf(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Kf=null;function OR(){var i=window.event;return i&&i.type==="popstate"?i===Kf?!1:(Kf=i,!0):(Kf=null,!1)}var X_=typeof setTimeout=="function"?setTimeout:void 0,MR=typeof clearTimeout=="function"?clearTimeout:void 0,$_=typeof Promise=="function"?Promise:void 0,xR=typeof queueMicrotask=="function"?queueMicrotask:typeof $_<"u"?function(i){return $_.resolve(null).then(i).catch(VR)}:X_;function VR(i){setTimeout(function(){throw i})}function Yf(i,r){var a=r,l=0;do{var h=a.nextSibling;if(i.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){i.removeChild(h),ro(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);ro(r)}function Xf(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Xf(a),eh(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function PR(i,r,a,l){for(;i.nodeType===1;){var h=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[fa])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(f=i.getAttribute("rel"),f==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(f!==h.rel||i.getAttribute("href")!==(h.href==null?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(f=i.getAttribute("src"),(f!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===f)return i}else return i;if(i=_n(i.nextSibling),i===null)break}return null}function UR(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=_n(i.nextSibling),i===null))return null;return i}function _n(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}function W_(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return i;r--}else a==="/$"&&r++}i=i.previousSibling}return null}function Z_(i,r,a){switch(r=mu(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}var hn=new Map,J_=new Set;function gu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var ii=F.d;F.d={f:kR,r:LR,D:jR,C:zR,L:BR,m:qR,X:FR,S:HR,M:GR};function kR(){var i=ii.f(),r=ou();return i||r}function LR(i){var r=Wr(i);r!==null&&r.tag===5&&r.type==="form"?by(r):ii.r(i)}var Cs=typeof document>"u"?null:document;function tv(i,r,a){var l=Cs;if(l&&typeof r=="string"&&r){var h=tn(r);h='link[rel="'+i+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),J_.has(h)||(J_.add(h),i={rel:i,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),pe(r,"link",i),ae(r),l.head.appendChild(r)))}}function jR(i){ii.D(i),tv("dns-prefetch",i,null)}function zR(i,r){ii.C(i,r),tv("preconnect",i,r)}function BR(i,r,a){ii.L(i,r,a);var l=Cs;if(l&&i&&r){var h='link[rel="preload"][as="'+tn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+tn(a.imageSizes)+'"]')):h+='[href="'+tn(i)+'"]';var f=h;switch(r){case"style":f=Ds(i);break;case"script":f=Ns(i)}hn.has(f)||(i=yt({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),hn.set(f,i),l.querySelector(h)!==null||r==="style"&&l.querySelector(Wa(f))||r==="script"&&l.querySelector(Za(f))||(r=l.createElement("link"),pe(r,"link",i),ae(r),l.head.appendChild(r)))}}function qR(i,r){ii.m(i,r);var a=Cs;if(a&&i){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+tn(l)+'"][href="'+tn(i)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ns(i)}if(!hn.has(f)&&(i=yt({rel:"modulepreload",href:i},r),hn.set(f,i),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Za(f)))return}l=a.createElement("link"),pe(l,"link",i),ae(l),a.head.appendChild(l)}}}function HR(i,r,a){ii.S(i,r,a);var l=Cs;if(l&&i){var h=Zr(l).hoistableStyles,f=Ds(i);r=r||"default";var p=h.get(f);if(!p){var _={loading:0,preload:null};if(p=l.querySelector(Wa(f)))_.loading=5;else{i=yt({rel:"stylesheet",href:i,"data-precedence":r},a),(a=hn.get(f))&&$f(i,a);var E=p=l.createElement("link");ae(E),pe(E,"link",i),E._p=new Promise(function(R,M){E.onload=R,E.onerror=M}),E.addEventListener("load",function(){_.loading|=1}),E.addEventListener("error",function(){_.loading|=2}),_.loading|=4,pu(p,r,l)}p={type:"stylesheet",instance:p,count:1,state:_},h.set(f,p)}}}function FR(i,r){ii.X(i,r);var a=Cs;if(a&&i){var l=Zr(a).hoistableScripts,h=Ns(i),f=l.get(h);f||(f=a.querySelector(Za(h)),f||(i=yt({src:i,async:!0},r),(r=hn.get(h))&&Wf(i,r),f=a.createElement("script"),ae(f),pe(f,"link",i),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function GR(i,r){ii.M(i,r);var a=Cs;if(a&&i){var l=Zr(a).hoistableScripts,h=Ns(i),f=l.get(h);f||(f=a.querySelector(Za(h)),f||(i=yt({src:i,async:!0,type:"module"},r),(r=hn.get(h))&&Wf(i,r),f=a.createElement("script"),ae(f),pe(f,"link",i),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function ev(i,r,a,l){var h=(h=mi.current)?gu(h):null;if(!h)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ds(a.href),a=Zr(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Ds(a.href);var f=Zr(h).hoistableStyles,p=f.get(i);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(i,p),(f=h.querySelector(Wa(i)))&&!f._p&&(p.instance=f,p.state.loading=5),hn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},hn.set(i,a),f||QR(h,i,a,p.state))),r&&l===null)throw Error(s(528,""));return p}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ns(a),a=Zr(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Ds(i){return'href="'+tn(i)+'"'}function Wa(i){return'link[rel="stylesheet"]['+i+"]"}function nv(i){return yt({},i,{"data-precedence":i.precedence,precedence:null})}function QR(i,r,a,l){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),pe(r,"link",a),ae(r),i.head.appendChild(r))}function Ns(i){return'[src="'+tn(i)+'"]'}function Za(i){return"script[async]"+i}function iv(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=i.querySelector('style[data-href~="'+tn(a.href)+'"]');if(l)return r.instance=l,ae(l),l;var h=yt({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),ae(l),pe(l,"style",h),pu(l,a.precedence,i),r.instance=l;case"stylesheet":h=Ds(a.href);var f=i.querySelector(Wa(h));if(f)return r.state.loading|=4,r.instance=f,ae(f),f;l=nv(a),(h=hn.get(h))&&$f(l,h),f=(i.ownerDocument||i).createElement("link"),ae(f);var p=f;return p._p=new Promise(function(_,E){p.onload=_,p.onerror=E}),pe(f,"link",l),r.state.loading|=4,pu(f,a.precedence,i),r.instance=f;case"script":return f=Ns(a.src),(h=i.querySelector(Za(f)))?(r.instance=h,ae(h),h):(l=a,(h=hn.get(f))&&(l=yt({},a),Wf(l,h)),i=i.ownerDocument||i,h=i.createElement("script"),ae(h),pe(h,"link",l),i.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,pu(l,a.precedence,i));return r.instance}function pu(i,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var _=l[p];if(_.dataset.precedence===r)f=_;else if(f!==h)break}f?f.parentNode.insertBefore(i,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function $f(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Wf(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var yu=null;function rv(i,r,a){if(yu===null){var l=new Map,h=yu=new Map;h.set(a,l)}else h=yu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),h=0;h<a.length;h++){var f=a[h];if(!(f[fa]||f[Se]||i==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(r)||"";p=i+p;var _=l.get(p);_?_.push(f):l.set(p,[f])}}return l}function sv(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function KR(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function av(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Ja=null;function YR(){}function XR(i,r,a){if(Ja===null)throw Error(s(475));var l=Ja;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ds(a.href),f=i.querySelector(Wa(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=_u.bind(l),i.then(l,l)),r.state.loading|=4,r.instance=f,ae(f);return}f=i.ownerDocument||i,a=nv(a),(h=hn.get(h))&&$f(a,h),f=f.createElement("link"),ae(f);var p=f;p._p=new Promise(function(_,E){p.onload=_,p.onerror=E}),pe(f,"link",a),r.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=_u.bind(l),i.addEventListener("load",r),i.addEventListener("error",r))}}function $R(){if(Ja===null)throw Error(s(475));var i=Ja;return i.stylesheets&&i.count===0&&Zf(i,i.stylesheets),0<i.count?function(r){var a=setTimeout(function(){if(i.stylesheets&&Zf(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(a)}}:null}function _u(){if(this.count--,this.count===0){if(this.stylesheets)Zf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var vu=null;function Zf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,vu=new Map,r.forEach(WR,i),vu=null,_u.call(i))}function WR(i,r){if(!(r.state.loading&4)){var a=vu.get(i);if(a)var l=a.get(null);else{a=new Map,vu.set(i,a);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),l=p)}l&&a.set(null,l)}h=r.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||l,f===l&&a.set(null,h),a.set(p,h),this.count++,l=_u.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),r.state.loading|=4}}var to={$$typeof:I,Provider:null,Consumer:null,_currentValue:Tt,_currentValue2:Tt,_threadCount:0};function ZR(i,r,a,l,h,f,p,_){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jc(0),this.hiddenUpdates=Jc(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function ov(i,r,a,l,h,f,p,_,E,R,M,U){return i=new ZR(i,r,a,p,_,E,R,U),r=1,f===!0&&(r|=24),f=un(3,null,null,r),i.current=f,f.stateNode=i,r=Dh(),r.refCount++,i.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},cf(f),i}function lv(i){return i?(i=ls,i):ls}function uv(i,r,a,l,h,f){h=lv(h),l.context===null?l.context=h:l.pendingContext=h,l=Ri(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=bi(i,l,r),a!==null&&(Ve(a,i,r),ka(a,i,r))}function cv(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function Jf(i,r){cv(i,r),(i=i.alternate)&&cv(i,r)}function hv(i){if(i.tag===13){var r=_i(i,67108864);r!==null&&Ve(r,i,67108864),Jf(i,67108864)}}var Eu=!0;function JR(i,r,a,l){var h=$.T;$.T=null;var f=F.p;try{F.p=2,td(i,r,a,l)}finally{F.p=f,$.T=h}}function tb(i,r,a,l){var h=$.T;$.T=null;var f=F.p;try{F.p=8,td(i,r,a,l)}finally{F.p=f,$.T=h}}function td(i,r,a,l){if(Eu){var h=ed(l);if(h===null)qf(i,r,l,Tu,a),dv(i,l);else if(nb(h,i,r,a,l))l.stopPropagation();else if(dv(i,l),r&4&&-1<eb.indexOf(i)){for(;h!==null;){var f=Wr(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ur(f.pendingLanes);if(p!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;p;){var E=1<<31-Fe(p);_.entanglements[1]|=E,p&=~E}Dn(f),(qt&6)===0&&(ru=wn()+500,Ya(0))}}break;case 13:_=_i(f,2),_!==null&&Ve(_,f,2),ou(),Jf(f,2)}if(f=ed(l),f===null&&qf(i,r,l,Tu,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else qf(i,r,l,null,a)}}function ed(i){return i=ah(i),nd(i)}var Tu=null;function nd(i){if(Tu=null,i=cr(i),i!==null){var r=it(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=xt(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Tu=i,null}function fv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zS()){case Ug:return 2;case kg:return 8;case pl:case BS:return 32;case Lg:return 268435456;default:return 32}default:return 32}}var id=!1,xi=null,Vi=null,Pi=null,eo=new Map,no=new Map,Ui=[],eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dv(i,r){switch(i){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":eo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":no.delete(r.pointerId)}}function io(i,r,a,l,h,f){return i===null||i.nativeEvent!==f?(i={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},r!==null&&(r=Wr(r),r!==null&&hv(r)),i):(i.eventSystemFlags|=l,r=i.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),i)}function nb(i,r,a,l,h){switch(r){case"focusin":return xi=io(xi,i,r,a,l,h),!0;case"dragenter":return Vi=io(Vi,i,r,a,l,h),!0;case"mouseover":return Pi=io(Pi,i,r,a,l,h),!0;case"pointerover":var f=h.pointerId;return eo.set(f,io(eo.get(f)||null,i,r,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,no.set(f,io(no.get(f)||null,i,r,a,l,h)),!0}return!1}function mv(i){var r=cr(i.target);if(r!==null){var a=it(r);if(a!==null){if(r=a.tag,r===13){if(r=xt(a),r!==null){i.blockedOn=r,$S(i.priority,function(){if(a.tag===13){var l=Xe(),h=_i(a,l);h!==null&&Ve(h,a,l),Jf(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Au(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=ed(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);sh=l,a.target.dispatchEvent(l),sh=null}else return r=Wr(a),r!==null&&hv(r),i.blockedOn=a,!1;r.shift()}return!0}function gv(i,r,a){Au(i)&&a.delete(r)}function ib(){id=!1,xi!==null&&Au(xi)&&(xi=null),Vi!==null&&Au(Vi)&&(Vi=null),Pi!==null&&Au(Pi)&&(Pi=null),eo.forEach(gv),no.forEach(gv)}function Su(i,r){i.blockedOn===r&&(i.blockedOn=null,id||(id=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ib)))}var wu=null;function pv(i){wu!==i&&(wu=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){wu===i&&(wu=null);for(var r=0;r<i.length;r+=3){var a=i[r],l=i[r+1],h=i[r+2];if(typeof l!="function"){if(nd(l||a)===null)continue;break}var f=Wr(a);f!==null&&(i.splice(r,3),r-=3,Gh(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ro(i){function r(E){return Su(E,i)}xi!==null&&Su(xi,i),Vi!==null&&Su(Vi,i),Pi!==null&&Su(Pi,i),eo.forEach(r),no.forEach(r);for(var a=0;a<Ui.length;a++){var l=Ui[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<Ui.length&&(a=Ui[0],a.blockedOn===null);)mv(a),a.blockedOn===null&&Ui.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],p=h[Le]||null;if(typeof f=="function")p||pv(a);else if(p){var _=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Le]||null)_=p.formAction;else if(nd(h)!==null)continue}else _=p.action;typeof _=="function"?a[l+1]=_:(a.splice(l,3),l-=3),pv(a)}}}function rd(i){this._internalRoot=i}Ru.prototype.render=rd.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Xe();uv(a,l,i,r,null,null)},Ru.prototype.unmount=rd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;i.tag===0&&Rs(),uv(i.current,2,null,i,null,null),ou(),r[$r]=null}};function Ru(i){this._internalRoot=i}Ru.prototype.unstable_scheduleHydration=function(i){if(i){var r=Fg();i={blockedOn:null,target:i,priority:r};for(var a=0;a<Ui.length&&r!==0&&r<Ui[a].priority;a++);Ui.splice(a,0,i),a===0&&mv(i)}};var yv=t.version;if(yv!=="19.0.0")throw Error(s(527,yv,"19.0.0"));F.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=z(r),i=i!==null?et(i):null,i=i===null?null:i.stateNode,i};var rb={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:$,findFiberByHostInstance:cr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{ua=bu.inject(rb),He=bu}catch{}}return ao.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,l="",h=Vy,f=Py,p=Uy,_=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(p=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(_=r.unstable_transitionCallbacks)),r=ov(i,1,!1,null,null,a,l,h,f,p,_,null),i[$r]=r.current,Bf(i.nodeType===8?i.parentNode:i),new rd(r)},ao.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var l=!1,h="",f=Vy,p=Py,_=Uy,E=null,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(E=a.unstable_transitionCallbacks),a.formState!==void 0&&(R=a.formState)),r=ov(i,1,!0,r,a??null,l,h,f,p,_,E,R),r.context=lv(null),a=r.current,l=Xe(),h=Ri(l),h.callback=null,bi(a,h,l),r.current.lanes=l,ha(r,l),Dn(r),i[$r]=r.current,Bf(i),new Ru(r)},ao.version="19.0.0",ao}var Iv;function gb(){if(Iv)return od.exports;Iv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),od.exports=mb(),od.exports}var pb=gb();const yb=l0(pb);var _b=c0();/**
 * @remix-run/router v1.14.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wo(){return wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wo.apply(this,arguments)}var Gi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Gi||(Gi={}));const Cv="popstate";function vb(e){e===void 0&&(e={});function t(s,o){let{pathname:u,search:c,hash:m}=s.location;return xd("",{pathname:u,search:c,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Gu(o)}return Tb(t,n,null,e)}function Xt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Eb(){return Math.random().toString(36).substr(2,8)}function Dv(e,t){return{usr:e.state,key:e.key,idx:t}}function xd(e,t,n,s){return n===void 0&&(n=null),wo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ws(t):t,{state:n,key:t&&t.key||s||Eb()})}function Gu(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Ws(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Tb(e,t,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:u=!1}=s,c=o.history,m=Gi.Pop,d=null,g=y();g==null&&(g=0,c.replaceState(wo({},c.state,{idx:g}),""));function y(){return(c.state||{idx:null}).idx}function v(){m=Gi.Pop;let O=y(),Y=O==null?null:O-g;g=O,d&&d({action:m,location:j.location,delta:Y})}function T(O,Y){m=Gi.Push;let J=xd(j.location,O,Y);g=y()+1;let nt=Dv(J,g),bt=j.createHref(J);try{c.pushState(nt,"",bt)}catch(rt){if(rt instanceof DOMException&&rt.name==="DataCloneError")throw rt;o.location.assign(bt)}u&&d&&d({action:m,location:j.location,delta:1})}function I(O,Y){m=Gi.Replace;let J=xd(j.location,O,Y);g=y();let nt=Dv(J,g),bt=j.createHref(J);c.replaceState(nt,"",bt),u&&d&&d({action:m,location:j.location,delta:0})}function k(O){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,J=typeof O=="string"?O:Gu(O);return Xt(Y,"No window.location.(origin|href) available to create URL for href: "+J),new URL(J,Y)}let j={get action(){return m},get location(){return e(o,c)},listen(O){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(Cv,v),d=O,()=>{o.removeEventListener(Cv,v),d=null}},createHref(O){return t(o,O)},createURL:k,encodeLocation(O){let Y=k(O);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:T,replace:I,go(O){return c.go(O)}};return j}var Nv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Nv||(Nv={}));function Ab(e,t,n){n===void 0&&(n="/");let s=typeof t=="string"?Ws(t):t,o=ym(s.pathname||"/",n);if(o==null)return null;let u=h0(e);Sb(u);let c=null;for(let m=0;c==null&&m<u.length;++m)c=Mb(u[m],Pb(o));return c}function h0(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(u,c,m)=>{let d={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};d.relativePath.startsWith("/")&&(Xt(d.relativePath.startsWith(s),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(s.length));let g=Ki([s,d.relativePath]),y=n.concat(d);u.children&&u.children.length>0&&(Xt(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),h0(u.children,t,y,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:Nb(g,u.index),routesMeta:y})};return e.forEach((u,c)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,c);else for(let d of f0(u.path))o(u,c,d)}),t}function f0(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let c=f0(s.join("/")),m=[];return m.push(...c.map(d=>d===""?u:[u,d].join("/"))),o&&m.push(...c),m.map(d=>e.startsWith("/")&&d===""?"/":d)}function Sb(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ob(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const wb=/^:\w+$/,Rb=3,bb=2,Ib=1,Cb=10,Db=-2,Ov=e=>e==="*";function Nb(e,t){let n=e.split("/"),s=n.length;return n.some(Ov)&&(s+=Db),t&&(s+=bb),n.filter(o=>!Ov(o)).reduce((o,u)=>o+(wb.test(u)?Rb:u===""?Ib:Cb),s)}function Ob(e,t){return e.length===t.length&&e.slice(0,-1).every((s,o)=>s===t[o])?e[e.length-1]-t[t.length-1]:0}function Mb(e,t){let{routesMeta:n}=e,s={},o="/",u=[];for(let c=0;c<n.length;++c){let m=n[c],d=c===n.length-1,g=o==="/"?t:t.slice(o.length)||"/",y=xb({path:m.relativePath,caseSensitive:m.caseSensitive,end:d},g);if(!y)return null;Object.assign(s,y.params);let v=m.route;u.push({params:s,pathname:Ki([o,y.pathname]),pathnameBase:zb(Ki([o,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(o=Ki([o,y.pathnameBase]))}return u}function xb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Vb(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,y,v)=>{let{paramName:T,isOptional:I}=y;if(T==="*"){let j=m[v]||"";c=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const k=m[v];return I&&!k?g[T]=void 0:g[T]=Ub(k||"",T),g},{}),pathname:u,pathnameBase:c,pattern:e}}function Vb(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),pm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(c,m,d)=>(s.push({paramName:m,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function Pb(e){try{return decodeURI(e)}catch(t){return pm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ub(e,t){try{return decodeURIComponent(e)}catch(n){return pm(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function ym(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function kb(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:o=""}=typeof e=="string"?Ws(e):e;return{pathname:n?n.startsWith("/")?n:Lb(n,t):t,search:Bb(s),hash:qb(o)}}function Lb(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function hd(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jb(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _m(e,t){let n=jb(e);return t?n.map((s,o)=>o===e.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function vm(e,t,n,s){s===void 0&&(s=!1);let o;typeof e=="string"?o=Ws(e):(o=wo({},e),Xt(!o.pathname||!o.pathname.includes("?"),hd("?","pathname","search",o)),Xt(!o.pathname||!o.pathname.includes("#"),hd("#","pathname","hash",o)),Xt(!o.search||!o.search.includes("#"),hd("#","search","hash",o)));let u=e===""||o.pathname==="",c=u?"/":o.pathname,m;if(c==null)m=n;else if(s){let v=t.length===0?[]:t[t.length-1].replace(/^\//,"").split("/");if(c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),v.pop();o.pathname=T.join("/")}m="/"+v.join("/")}else{let v=t.length-1;if(c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),v-=1;o.pathname=T.join("/")}m=v>=0?t[v]:"/"}let d=kb(o,m),g=c&&c!=="/"&&c.endsWith("/"),y=(u||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(g||y)&&(d.pathname+="/"),d}const Ki=e=>e.join("/").replace(/\/\/+/g,"/"),zb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Bb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Hb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const d0=["post","put","patch","delete"];new Set(d0);const Fb=["get",...d0];new Set(Fb);/**
 * React Router v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ro(){return Ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ro.apply(this,arguments)}const Em=x.createContext(null),Gb=x.createContext(null),er=x.createContext(null),fc=x.createContext(null),nr=x.createContext({outlet:null,matches:[],isDataRoute:!1}),m0=x.createContext(null);function Qb(e,t){let{relative:n}=t===void 0?{}:t;Zs()||Xt(!1);let{basename:s,navigator:o}=x.useContext(er),{hash:u,pathname:c,search:m}=y0(e,{relative:n}),d=c;return s!=="/"&&(d=c==="/"?s:Ki([s,c])),o.createHref({pathname:d,search:m,hash:u})}function Zs(){return x.useContext(fc)!=null}function Qo(){return Zs()||Xt(!1),x.useContext(fc).location}function g0(e){x.useContext(er).static||x.useLayoutEffect(e)}function p0(){let{isDataRoute:e}=x.useContext(nr);return e?sI():Kb()}function Kb(){Zs()||Xt(!1);let e=x.useContext(Em),{basename:t,future:n,navigator:s}=x.useContext(er),{matches:o}=x.useContext(nr),{pathname:u}=Qo(),c=JSON.stringify(_m(o,n.v7_relativeSplatPath)),m=x.useRef(!1);return g0(()=>{m.current=!0}),x.useCallback(function(g,y){if(y===void 0&&(y={}),!m.current)return;if(typeof g=="number"){s.go(g);return}let v=vm(g,JSON.parse(c),u,y.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Ki([t,v.pathname])),(y.replace?s.replace:s.push)(v,y.state,y)},[t,s,c,u,e])}function y0(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=x.useContext(er),{matches:o}=x.useContext(nr),{pathname:u}=Qo(),c=JSON.stringify(_m(o,s.v7_relativeSplatPath));return x.useMemo(()=>vm(e,JSON.parse(c),u,n==="path"),[e,c,u,n])}function Yb(e,t){return Xb(e,t)}function Xb(e,t,n,s){Zs()||Xt(!1);let{navigator:o}=x.useContext(er),{matches:u}=x.useContext(nr),c=u[u.length-1],m=c?c.params:{};c&&c.pathname;let d=c?c.pathnameBase:"/";c&&c.route;let g=Qo(),y;if(t){var v;let O=typeof t=="string"?Ws(t):t;d==="/"||(v=O.pathname)!=null&&v.startsWith(d)||Xt(!1),y=O}else y=g;let T=y.pathname||"/",I=d==="/"?T:T.slice(d.length)||"/",k=Ab(e,{pathname:I}),j=tI(k&&k.map(O=>Object.assign({},O,{params:Object.assign({},m,O.params),pathname:Ki([d,o.encodeLocation?o.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?d:Ki([d,o.encodeLocation?o.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),u,n,s);return t&&j?x.createElement(fc.Provider,{value:{location:Ro({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Gi.Pop}},j):j}function $b(){let e=rI(),t=Hb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:o},n):null,null)}const Wb=x.createElement($b,null);class Zb extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(nr.Provider,{value:this.props.routeContext},x.createElement(m0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Jb(e){let{routeContext:t,match:n,children:s}=e,o=x.useContext(Em);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(nr.Provider,{value:t},s)}function tI(e,t,n,s){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var u;if((u=n)!=null&&u.errors)e=n.matches;else return null}let c=e,m=(o=n)==null?void 0:o.errors;if(m!=null){let y=c.findIndex(v=>v.route.id&&(m==null?void 0:m[v.route.id]));y>=0||Xt(!1),c=c.slice(0,Math.min(c.length,y+1))}let d=!1,g=-1;if(n&&s&&s.v7_partialHydration)for(let y=0;y<c.length;y++){let v=c[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=y),v.route.loader&&v.route.id&&n.loaderData[v.route.id]===void 0&&(!n.errors||n.errors[v.route.id]===void 0)){d=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}return c.reduceRight((y,v,T)=>{let I,k=!1,j=null,O=null;n&&(I=m&&v.route.id?m[v.route.id]:void 0,j=v.route.errorElement||Wb,d&&(g<0&&T===0?(aI("route-fallback"),k=!0,O=null):g===T&&(k=!0,O=v.route.hydrateFallbackElement||null)));let Y=t.concat(c.slice(0,T+1)),J=()=>{let nt;return I?nt=j:k?nt=O:v.route.Component?nt=x.createElement(v.route.Component,null):v.route.element?nt=v.route.element:nt=y,x.createElement(Jb,{match:v,routeContext:{outlet:y,matches:Y,isDataRoute:n!=null},children:nt})};return n&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?x.createElement(Zb,{location:n.location,revalidation:n.revalidation,component:j,error:I,children:J(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):J()},null)}var _0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(_0||{}),v0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(v0||{});function eI(e){let t=x.useContext(Em);return t||Xt(!1),t}function nI(e){let t=x.useContext(Gb);return t||Xt(!1),t}function iI(e){let t=x.useContext(nr);return t||Xt(!1),t}function E0(e){let t=iI(),n=t.matches[t.matches.length-1];return n.route.id||Xt(!1),n.route.id}function rI(){var e;let t=x.useContext(m0),n=nI(),s=E0();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function sI(){let{router:e}=eI(_0.UseNavigateStable),t=E0(v0.UseNavigateStable),n=x.useRef(!1);return g0(()=>{n.current=!0}),x.useCallback(function(o,u){u===void 0&&(u={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Ro({fromRouteId:t},u)))},[e,t])}const Mv={};function aI(e,t,n){Mv[e]||(Mv[e]=!0)}function fd(e){let{to:t,replace:n,state:s,relative:o}=e;Zs()||Xt(!1);let{future:u,static:c}=x.useContext(er),{matches:m}=x.useContext(nr),{pathname:d}=Qo(),g=p0(),y=vm(t,_m(m,u.v7_relativeSplatPath),d,o==="path"),v=JSON.stringify(y);return x.useEffect(()=>g(JSON.parse(v),{replace:n,state:s,relative:o}),[g,v,o,n,s]),null}function zi(e){Xt(!1)}function oI(e){let{basename:t="/",children:n=null,location:s,navigationType:o=Gi.Pop,navigator:u,static:c=!1,future:m}=e;Zs()&&Xt(!1);let d=t.replace(/^\/*/,"/"),g=x.useMemo(()=>({basename:d,navigator:u,static:c,future:Ro({v7_relativeSplatPath:!1},m)}),[d,m,u,c]);typeof s=="string"&&(s=Ws(s));let{pathname:y="/",search:v="",hash:T="",state:I=null,key:k="default"}=s,j=x.useMemo(()=>{let O=ym(y,d);return O==null?null:{location:{pathname:O,search:v,hash:T,state:I,key:k},navigationType:o}},[d,y,v,T,I,k,o]);return j==null?null:x.createElement(er.Provider,{value:g},x.createElement(fc.Provider,{children:n,value:j}))}function dd(e){let{children:t,location:n}=e;return Yb(Vd(t),n)}new Promise(()=>{});function Vd(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(s,o)=>{if(!x.isValidElement(s))return;let u=[...t,o];if(s.type===x.Fragment){n.push.apply(n,Vd(s.props.children,u));return}s.type!==zi&&Xt(!1),!s.props.index||!s.props.children||Xt(!1);let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Vd(s.props.children,u)),n.push(c)}),n}/**
 * React Router DOM v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pd(){return Pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Pd.apply(this,arguments)}function lI(e,t){if(e==null)return{};var n={},s=Object.keys(e),o,u;for(u=0;u<s.length;u++)o=s[u],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function uI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function cI(e,t){return e.button===0&&(!t||t==="_self")&&!uI(e)}const hI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],fI="startTransition",xv=cb[fI];function dI(e){let{basename:t,children:n,future:s,window:o}=e,u=x.useRef();u.current==null&&(u.current=vb({window:o,v5Compat:!0}));let c=u.current,[m,d]=x.useState({action:c.action,location:c.location}),{v7_startTransition:g}=s||{},y=x.useCallback(v=>{g&&xv?xv(()=>d(v)):d(v)},[d,g]);return x.useLayoutEffect(()=>c.listen(y),[c,y]),x.createElement(oI,{basename:t,children:n,location:m.location,navigationType:m.action,navigator:c,future:s})}const mI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bo=x.forwardRef(function(t,n){let{onClick:s,relative:o,reloadDocument:u,replace:c,state:m,target:d,to:g,preventScrollReset:y,unstable_viewTransition:v}=t,T=lI(t,hI),{basename:I}=x.useContext(er),k,j=!1;if(typeof g=="string"&&gI.test(g)&&(k=g,mI))try{let nt=new URL(window.location.href),bt=g.startsWith("//")?new URL(nt.protocol+g):new URL(g),rt=ym(bt.pathname,I);bt.origin===nt.origin&&rt!=null?g=rt+bt.search+bt.hash:j=!0}catch{}let O=Qb(g,{relative:o}),Y=pI(g,{replace:c,state:m,target:d,preventScrollReset:y,relative:o,unstable_viewTransition:v});function J(nt){s&&s(nt),nt.defaultPrevented||Y(nt)}return x.createElement("a",Pd({},T,{href:k||O,onClick:j||u?s:J,ref:n,target:d}))});var Vv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vv||(Vv={}));var Pv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Pv||(Pv={}));function pI(e,t){let{target:n,replace:s,state:o,preventScrollReset:u,relative:c,unstable_viewTransition:m}=t===void 0?{}:t,d=p0(),g=Qo(),y=y0(e,{relative:c});return x.useCallback(v=>{if(cI(v,n)){v.preventDefault();let T=s!==void 0?s:Gu(g)===Gu(y);d(e,{replace:T,state:o,preventScrollReset:u,relative:c,unstable_viewTransition:m})}},[g,d,y,s,o,n,e,u,c,m])}var Uv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let o=e.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},yI=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const o=e[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=e[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=e[n++],c=e[n++],m=e[n++],d=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(d>>10)),t[s++]=String.fromCharCode(56320+(d&1023))}else{const u=e[n++],c=e[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},A0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<e.length;o+=3){const u=e[o],c=o+1<e.length,m=c?e[o+1]:0,d=o+2<e.length,g=d?e[o+2]:0,y=u>>2,v=(u&3)<<4|m>>4;let T=(m&15)<<2|g>>6,I=g&63;d||(I=64,c||(T=64)),s.push(n[y],n[v],n[T],n[I])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(T0(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):yI(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<e.length;){const u=n[e.charAt(o++)],m=o<e.length?n[e.charAt(o)]:0;++o;const g=o<e.length?n[e.charAt(o)]:64;++o;const v=o<e.length?n[e.charAt(o)]:64;if(++o,u==null||m==null||g==null||v==null)throw new _I;const T=u<<2|m>>4;if(s.push(T),g!==64){const I=m<<4&240|g>>2;if(s.push(I),v!==64){const k=g<<6&192|v;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class _I extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vI=function(e){const t=T0(e);return A0.encodeByteArray(t,!0)},S0=function(e){return vI(e).replace(/\./g,"")},w0=function(e){try{return A0.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=()=>EI().__FIREBASE_DEFAULTS__,AI=()=>{if(typeof process>"u"||typeof Uv>"u")return;const e=Uv.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},SI=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&w0(e[1]);return t&&JSON.parse(t)},Tm=()=>{try{return TI()||AI()||SI()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},wI=e=>{var t,n;return(n=(t=Tm())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},R0=()=>{var e;return(e=Tm())===null||e===void 0?void 0:e.config},b0=e=>{var t;return(t=Tm())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function II(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function CI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DI(){const e=Ne();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function NI(){try{return typeof indexedDB=="object"}catch{return!1}}function OI(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="FirebaseError";class fi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=MI,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ko.prototype.create)}}class Ko{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?xI(u,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new fi(o,m,s)}}function xI(e,t){return e.replace(VI,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const VI=/\{\$([^}]+)}/g;function PI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Io(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=e[o],c=t[o];if(kv(u)&&kv(c)){if(!Io(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function kv(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function co(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function ho(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function UI(e,t){const n=new kI(e,t);return n.subscribe.bind(n)}class kI{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");LI(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=md),o.error===void 0&&(o.error=md),o.complete===void 0&&(o.complete=md);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LI(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function md(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(e){return e&&e._delegate?e._delegate:e}class kr{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new RI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(BI(t))try{this.getOrInitializeService({instanceIdentifier:Or})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Or){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Or){return this.instances.has(t)}getOptions(t=Or){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&c.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const c=this.instances.get(o);return c&&t(c,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:zI(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Or){return this.component?this.component.multipleInstances?t:Or:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zI(e){return e===Or?void 0:e}function BI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new jI(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Et||(Et={}));const HI={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},FI=Et.INFO,GI={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},QI=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),o=GI[t];if(o)console[o](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Am{constructor(t){this.name=t,this._logLevel=FI,this._logHandler=QI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Et))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?HI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...t),this._logHandler(this,Et.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...t),this._logHandler(this,Et.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...t),this._logHandler(this,Et.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...t),this._logHandler(this,Et.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...t),this._logHandler(this,Et.ERROR,...t)}}const KI=(e,t)=>t.some(n=>e instanceof n);let Lv,jv;function YI(){return Lv||(Lv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XI(){return jv||(jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const I0=new WeakMap,Ud=new WeakMap,C0=new WeakMap,gd=new WeakMap,Sm=new WeakMap;function $I(e){const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("success",u),e.removeEventListener("error",c)},u=()=>{n(Yi(e.result)),o()},c=()=>{s(e.error),o()};e.addEventListener("success",u),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&I0.set(n,e)}).catch(()=>{}),Sm.set(t,e),t}function WI(e){if(Ud.has(e))return;const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",c),e.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",u),e.addEventListener("error",c),e.addEventListener("abort",c)});Ud.set(e,t)}let kd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ud.get(e);if(t==="objectStoreNames")return e.objectStoreNames||C0.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function ZI(e){kd=e(kd)}function JI(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(pd(this),t,...n);return C0.set(s,t.sort?t.sort():[t]),Yi(s)}:XI().includes(e)?function(...t){return e.apply(pd(this),t),Yi(I0.get(this))}:function(...t){return Yi(e.apply(pd(this),t))}}function t1(e){return typeof e=="function"?JI(e):(e instanceof IDBTransaction&&WI(e),KI(e,YI())?new Proxy(e,kd):e)}function Yi(e){if(e instanceof IDBRequest)return $I(e);if(gd.has(e))return gd.get(e);const t=t1(e);return t!==e&&(gd.set(e,t),Sm.set(t,e)),t}const pd=e=>Sm.get(e);function e1(e,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(e,t),m=Yi(c);return s&&c.addEventListener("upgradeneeded",d=>{s(Yi(c.result),d.oldVersion,d.newVersion,Yi(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),m.then(d=>{u&&d.addEventListener("close",()=>u()),o&&d.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const n1=["get","getKey","getAll","getAllKeys","count"],i1=["put","add","delete","clear"],yd=new Map;function zv(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(yd.get(t))return yd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=i1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||n1.includes(n)))return;const u=async function(c,...m){const d=this.transaction(c,o?"readwrite":"readonly");let g=d.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&d.done]))[0]};return yd.set(t,u),u}ZI(e=>({...e,get:(t,n,s)=>zv(t,n)||e.get(t,n,s),has:(t,n)=>!!zv(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function s1(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ld="@firebase/app",Bv="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new Am("@firebase/app"),a1="@firebase/app-compat",o1="@firebase/analytics-compat",l1="@firebase/analytics",u1="@firebase/app-check-compat",c1="@firebase/app-check",h1="@firebase/auth",f1="@firebase/auth-compat",d1="@firebase/database",m1="@firebase/database-compat",g1="@firebase/functions",p1="@firebase/functions-compat",y1="@firebase/installations",_1="@firebase/installations-compat",v1="@firebase/messaging",E1="@firebase/messaging-compat",T1="@firebase/performance",A1="@firebase/performance-compat",S1="@firebase/remote-config",w1="@firebase/remote-config-compat",R1="@firebase/storage",b1="@firebase/storage-compat",I1="@firebase/firestore",C1="@firebase/firestore-compat",D1="firebase",N1="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="[DEFAULT]",O1={[Ld]:"fire-core",[a1]:"fire-core-compat",[l1]:"fire-analytics",[o1]:"fire-analytics-compat",[c1]:"fire-app-check",[u1]:"fire-app-check-compat",[h1]:"fire-auth",[f1]:"fire-auth-compat",[d1]:"fire-rtdb",[m1]:"fire-rtdb-compat",[g1]:"fire-fn",[p1]:"fire-fn-compat",[y1]:"fire-iid",[_1]:"fire-iid-compat",[v1]:"fire-fcm",[E1]:"fire-fcm-compat",[T1]:"fire-perf",[A1]:"fire-perf-compat",[S1]:"fire-rc",[w1]:"fire-rc-compat",[R1]:"fire-gcs",[b1]:"fire-gcs-compat",[I1]:"fire-fst",[C1]:"fire-fst-compat","fire-js":"fire-js",[D1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=new Map,zd=new Map;function M1(e,t){try{e.container.addComponent(t)}catch(n){Lr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function qs(e){const t=e.name;if(zd.has(t))return Lr.debug(`There were multiple attempts to register component ${t}.`),!1;zd.set(t,e);for(const n of Qu.values())M1(n,e);return!0}function wm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Xi=new Ko("app","Firebase",x1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=N1;function D0(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s=Object.assign({name:jd,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw Xi.create("bad-app-name",{appName:String(o)});if(n||(n=R0()),!n)throw Xi.create("no-options");const u=Qu.get(o);if(u){if(Io(n,u.options)&&Io(s,u.config))return u;throw Xi.create("duplicate-app",{appName:o})}const c=new qI(o);for(const d of zd.values())c.addComponent(d);const m=new V1(n,s,c);return Qu.set(o,m),m}function P1(e=jd){const t=Qu.get(e);if(!t&&e===jd&&R0())return D0();if(!t)throw Xi.create("no-app",{appName:e});return t}function $i(e,t,n){var s;let o=(s=O1[e])!==null&&s!==void 0?s:e;n&&(o+=`-${n}`);const u=o.match(/\s|\//),c=t.match(/\s|\//);if(u||c){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&c&&m.push("and"),c&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Lr.warn(m.join(" "));return}qs(new kr(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="firebase-heartbeat-database",k1=1,Co="firebase-heartbeat-store";let _d=null;function N0(){return _d||(_d=e1(U1,k1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Co)}}}).catch(e=>{throw Xi.create("idb-open",{originalErrorMessage:e.message})})),_d}async function L1(e){try{return await(await N0()).transaction(Co).objectStore(Co).get(O0(e))}catch(t){if(t instanceof fi)Lr.warn(t.message);else{const n=Xi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Lr.warn(n.message)}}}async function qv(e,t){try{const s=(await N0()).transaction(Co,"readwrite");await s.objectStore(Co).put(t,O0(e)),await s.done}catch(n){if(n instanceof fi)Lr.warn(n.message);else{const s=Xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Lr.warn(s.message)}}}function O0(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=1024,z1=30*24*60*60*1e3;class B1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new H1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Hv();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u)))return this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const m=new Date(c.date).valueOf();return Date.now()-m<=z1}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Hv(),{heartbeatsToSend:s,unsentEntries:o}=q1(this._heartbeatsCache.heartbeats),u=S0(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}}function Hv(){return new Date().toISOString().substring(0,10)}function q1(e,t=j1){const n=[];let s=e.slice();for(const o of e){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),Fv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Fv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class H1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NI()?OI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await L1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return qv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return qv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Fv(e){return S0(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(e){qs(new kr("platform-logger",t=>new r1(t),"PRIVATE")),qs(new kr("heartbeat",t=>new B1(t),"PRIVATE")),$i(Ld,Bv,e),$i(Ld,Bv,"esm2017"),$i("fire-js","")}F1("");var G1="firebase",Q1="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i(G1,Q1,"app");var K1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B,Rm=Rm||{},ot=K1||self;function dc(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function mc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function Y1(e,t,n){return e.call.apply(e.bind,arguments)}function X1(e,t,n){if(!e)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,s),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function Ce(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ce=Y1:Ce=X1,Ce.apply(null,arguments)}function Iu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),e.apply(this,s)}}function de(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(s,o,u){for(var c=Array(arguments.length-2),m=2;m<arguments.length;m++)c[m-2]=arguments[m];return t.prototype[o].apply(s,c)}}function ir(){this.s=this.s,this.o=this.o}var $1=0;ir.prototype.s=!1;ir.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),$1!=0)};ir.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const M0=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function bm(e){const t=e.length;if(0<t){const n=Array(t);for(let s=0;s<t;s++)n[s]=e[s];return n}return[]}function Gv(e,t){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(dc(s)){const o=e.length||0,u=s.length||0;e.length=o+u;for(let c=0;c<u;c++)e[o+c]=s[c]}else e.push(s)}}function De(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}De.prototype.h=function(){this.defaultPrevented=!0};var W1=function(){if(!ot.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};ot.addEventListener("test",n,t),ot.removeEventListener("test",n,t)}catch{}return e}();function Do(e){return/^[\s\xa0]*$/.test(e)}function gc(){var e=ot.navigator;return e&&(e=e.userAgent)?e:""}function Nn(e){return gc().indexOf(e)!=-1}function Im(e){return Im[" "](e),e}Im[" "]=function(){};function Z1(e,t){var n=GC;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var J1=Nn("Opera"),Hs=Nn("Trident")||Nn("MSIE"),x0=Nn("Edge"),Bd=x0||Hs,V0=Nn("Gecko")&&!(gc().toLowerCase().indexOf("webkit")!=-1&&!Nn("Edge"))&&!(Nn("Trident")||Nn("MSIE"))&&!Nn("Edge"),tC=gc().toLowerCase().indexOf("webkit")!=-1&&!Nn("Edge");function P0(){var e=ot.document;return e?e.documentMode:void 0}var qd;t:{var vd="",Ed=function(){var e=gc();if(V0)return/rv:([^\);]+)(\)|;)/.exec(e);if(x0)return/Edge\/([\d\.]+)/.exec(e);if(Hs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(tC)return/WebKit\/(\S+)/.exec(e);if(J1)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Ed&&(vd=Ed?Ed[1]:""),Hs){var Td=P0();if(Td!=null&&Td>parseFloat(vd)){qd=String(Td);break t}}qd=vd}var Hd;if(ot.document&&Hs){var Qv=P0();Hd=Qv||parseInt(qd,10)||void 0}else Hd=void 0;var eC=Hd;function No(e,t){if(De.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,s=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(V0){t:{try{Im(t.nodeName);var o=!0;break t}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:nC[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&No.$.h.call(this)}}de(No,De);var nC={2:"touch",3:"pen",4:"mouse"};No.prototype.h=function(){No.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var pc="closure_listenable_"+(1e6*Math.random()|0),iC=0;function rC(e,t,n,s,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!s,this.la=o,this.key=++iC,this.fa=this.ia=!1}function yc(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Cm(e,t,n){for(const s in e)t.call(n,e[s],s,e)}function sC(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function U0(e){const t={};for(const n in e)t[n]=e[n];return t}const Kv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k0(e,t){let n,s;for(let o=1;o<arguments.length;o++){s=arguments[o];for(n in s)e[n]=s[n];for(let u=0;u<Kv.length;u++)n=Kv[u],Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}}function _c(e){this.src=e,this.g={},this.h=0}_c.prototype.add=function(e,t,n,s,o){var u=e.toString();e=this.g[u],e||(e=this.g[u]=[],this.h++);var c=Gd(e,t,s,o);return-1<c?(t=e[c],n||(t.ia=!1)):(t=new rC(t,this.src,u,!!s,o),t.ia=n,e.push(t)),t};function Fd(e,t){var n=t.type;if(n in e.g){var s=e.g[n],o=M0(s,t),u;(u=0<=o)&&Array.prototype.splice.call(s,o,1),u&&(yc(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Gd(e,t,n,s){for(var o=0;o<e.length;++o){var u=e[o];if(!u.fa&&u.listener==t&&u.capture==!!n&&u.la==s)return o}return-1}var Dm="closure_lm_"+(1e6*Math.random()|0),Ad={};function L0(e,t,n,s,o){if(Array.isArray(t)){for(var u=0;u<t.length;u++)L0(e,t[u],n,s,o);return null}return n=B0(n),e&&e[pc]?e.O(t,n,mc(s)?!!s.capture:!1,o):aC(e,t,n,!1,s,o)}function aC(e,t,n,s,o,u){if(!t)throw Error("Invalid event type");var c=mc(o)?!!o.capture:!!o,m=Om(e);if(m||(e[Dm]=m=new _c(e)),n=m.add(t,n,s,c,u),n.proxy)return n;if(s=oC(),n.proxy=s,s.src=e,s.listener=n,e.addEventListener)W1||(o=c),o===void 0&&(o=!1),e.addEventListener(t.toString(),s,o);else if(e.attachEvent)e.attachEvent(z0(t.toString()),s);else if(e.addListener&&e.removeListener)e.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function oC(){function e(n){return t.call(e.src,e.listener,n)}const t=lC;return e}function j0(e,t,n,s,o){if(Array.isArray(t))for(var u=0;u<t.length;u++)j0(e,t[u],n,s,o);else s=mc(s)?!!s.capture:!!s,n=B0(n),e&&e[pc]?(e=e.i,t=String(t).toString(),t in e.g&&(u=e.g[t],n=Gd(u,n,s,o),-1<n&&(yc(u[n]),Array.prototype.splice.call(u,n,1),u.length==0&&(delete e.g[t],e.h--)))):e&&(e=Om(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Gd(t,n,s,o)),(n=-1<e?t[e]:null)&&Nm(n))}function Nm(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[pc])Fd(t.i,e);else{var n=e.type,s=e.proxy;t.removeEventListener?t.removeEventListener(n,s,e.capture):t.detachEvent?t.detachEvent(z0(n),s):t.addListener&&t.removeListener&&t.removeListener(s),(n=Om(t))?(Fd(n,e),n.h==0&&(n.src=null,t[Dm]=null)):yc(e)}}}function z0(e){return e in Ad?Ad[e]:Ad[e]="on"+e}function lC(e,t){if(e.fa)e=!0;else{t=new No(t,this);var n=e.listener,s=e.la||e.src;e.ia&&Nm(e),e=n.call(s,t)}return e}function Om(e){return e=e[Dm],e instanceof _c?e:null}var Sd="__closure_events_fn_"+(1e9*Math.random()>>>0);function B0(e){return typeof e=="function"?e:(e[Sd]||(e[Sd]=function(t){return e.handleEvent(t)}),e[Sd])}function fe(){ir.call(this),this.i=new _c(this),this.S=this,this.J=null}de(fe,ir);fe.prototype[pc]=!0;fe.prototype.removeEventListener=function(e,t,n,s){j0(this,e,t,n,s)};function Ee(e,t){var n,s=e.J;if(s)for(n=[];s;s=s.J)n.push(s);if(e=e.S,s=t.type||t,typeof t=="string")t=new De(t,e);else if(t instanceof De)t.target=t.target||e;else{var o=t;t=new De(s,e),k0(t,o)}if(o=!0,n)for(var u=n.length-1;0<=u;u--){var c=t.g=n[u];o=Cu(c,s,!0,t)&&o}if(c=t.g=e,o=Cu(c,s,!0,t)&&o,o=Cu(c,s,!1,t)&&o,n)for(u=0;u<n.length;u++)c=t.g=n[u],o=Cu(c,s,!1,t)&&o}fe.prototype.N=function(){if(fe.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],s=0;s<n.length;s++)yc(n[s]);delete e.g[t],e.h--}}this.J=null};fe.prototype.O=function(e,t,n,s){return this.i.add(String(e),t,!1,n,s)};fe.prototype.P=function(e,t,n,s){return this.i.add(String(e),t,!0,n,s)};function Cu(e,t,n,s){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,u=0;u<t.length;++u){var c=t[u];if(c&&!c.fa&&c.capture==n){var m=c.listener,d=c.la||c.src;c.ia&&Fd(e.i,c),o=m.call(d,s)!==!1&&o}}return o&&!s.defaultPrevented}var Mm=ot.JSON.stringify;class uC{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function cC(){var e=xm;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class hC{constructor(){this.h=this.g=null}add(t,n){const s=q0.get();s.set(t,n),this.h?this.h.next=s:this.g=s,this.h=s}}var q0=new uC(()=>new fC,e=>e.reset());class fC{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function dC(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function mC(e){ot.setTimeout(()=>{throw e},0)}let Oo,Mo=!1,xm=new hC,H0=()=>{const e=ot.Promise.resolve(void 0);Oo=()=>{e.then(gC)}};var gC=()=>{for(var e;e=cC();){try{e.h.call(e.g)}catch(n){mC(n)}var t=q0;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Mo=!1};function vc(e,t){fe.call(this),this.h=e||1,this.g=t||ot,this.j=Ce(this.qb,this),this.l=Date.now()}de(vc,fe);B=vc.prototype;B.ga=!1;B.T=null;B.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ee(this,"tick"),this.ga&&(Vm(this),this.start()))}};B.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Vm(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}B.N=function(){vc.$.N.call(this),Vm(this),delete this.g};function Pm(e,t,n){if(typeof e=="function")n&&(e=Ce(e,n));else if(e&&typeof e.handleEvent=="function")e=Ce(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ot.setTimeout(e,t||0)}function F0(e){e.g=Pm(()=>{e.g=null,e.i&&(e.i=!1,F0(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class pC extends ir{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:F0(this)}N(){super.N(),this.g&&(ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xo(e){ir.call(this),this.h=e,this.g={}}de(xo,ir);var Yv=[];function G0(e,t,n,s){Array.isArray(n)||(n&&(Yv[0]=n.toString()),n=Yv);for(var o=0;o<n.length;o++){var u=L0(t,n[o],s||e.handleEvent,!1,e.h||e);if(!u)break;e.g[u.key]=u}}function Q0(e){Cm(e.g,function(t,n){this.g.hasOwnProperty(n)&&Nm(t)},e),e.g={}}xo.prototype.N=function(){xo.$.N.call(this),Q0(this)};xo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ec(){this.g=!0}Ec.prototype.Ea=function(){this.g=!1};function yC(e,t,n,s,o,u){e.info(function(){if(e.g)if(u)for(var c="",m=u.split("&"),d=0;d<m.length;d++){var g=m[d].split("=");if(1<g.length){var y=g[0];g=g[1];var v=y.split("_");c=2<=v.length&&v[1]=="type"?c+(y+"="+g+"&"):c+(y+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+s+") [attempt "+o+"]: "+t+`
`+n+`
`+c})}function _C(e,t,n,s,o,u,c){e.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+o+"]: "+t+`
`+n+`
`+u+" "+c})}function Ps(e,t,n,s){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+EC(e,n)+(s?" "+s:"")})}function vC(e,t){e.info(function(){return"TIMEOUT: "+t})}Ec.prototype.info=function(){};function EC(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var s=n[e];if(!(2>s.length)){var o=s[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if(u!="noop"&&u!="stop"&&u!="close")for(var c=1;c<o.length;c++)o[c]=""}}}}return Mm(n)}catch{return t}}var Fr={},Xv=null;function Tc(){return Xv=Xv||new fe}Fr.Ta="serverreachability";function K0(e){De.call(this,Fr.Ta,e)}de(K0,De);function Vo(e){const t=Tc();Ee(t,new K0(t))}Fr.STAT_EVENT="statevent";function Y0(e,t){De.call(this,Fr.STAT_EVENT,e),this.stat=t}de(Y0,De);function Pe(e){const t=Tc();Ee(t,new Y0(t,e))}Fr.Ua="timingevent";function X0(e,t){De.call(this,Fr.Ua,e),this.size=t}de(X0,De);function Xo(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ot.setTimeout(function(){e()},t)}var Ac={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},$0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Um(){}Um.prototype.h=null;function $v(e){return e.h||(e.h=e.i())}function W0(){}var $o={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function km(){De.call(this,"d")}de(km,De);function Lm(){De.call(this,"c")}de(Lm,De);var Qd;function Sc(){}de(Sc,Um);Sc.prototype.g=function(){return new XMLHttpRequest};Sc.prototype.i=function(){return{}};Qd=new Sc;function Wo(e,t,n,s){this.l=e,this.j=t,this.m=n,this.W=s||1,this.U=new xo(this),this.P=TC,e=Bd?125:void 0,this.V=new vc(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Z0}function Z0(){this.i=null,this.g="",this.h=!1}var TC=45e3,J0={},Kd={};B=Wo.prototype;B.setTimeout=function(e){this.P=e};function Yd(e,t,n){e.L=1,e.A=Rc(li(t)),e.u=n,e.S=!0,tT(e,null)}function tT(e,t){e.G=Date.now(),Zo(e),e.B=li(e.A);var n=e.B,s=e.W;Array.isArray(s)||(s=[String(s)]),lT(n.i,"t",s),e.o=0,n=e.l.J,e.h=new Z0,e.g=DT(e.l,n?t:null,!e.u),0<e.O&&(e.M=new pC(Ce(e.Pa,e,e.g),e.O)),G0(e.U,e.g,"readystatechange",e.nb),t=e.I?U0(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Vo(),yC(e.j,e.v,e.B,e.m,e.W,e.u)}B.nb=function(e){e=e.target;const t=this.M;t&&On(e)==3?t.l():this.Pa(e)};B.Pa=function(e){try{if(e==this.g)t:{const y=On(this.g);var t=this.g.Ia();const v=this.g.da();if(!(3>y)&&(y!=3||Bd||this.g&&(this.h.h||this.g.ja()||tE(this.g)))){this.J||y!=4||t==7||(t==8||0>=v?Vo(3):Vo(2)),wc(this);var n=this.g.da();this.ca=n;e:if(eT(this)){var s=tE(this.g);e="";var o=s.length,u=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mr(this),_o(this);var c="";break e}this.h.i=new ot.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(s[t],{stream:u&&t==o-1});s.length=0,this.h.g+=e,this.o=0,c=this.h.g}else c=this.g.ja();if(this.i=n==200,_C(this.j,this.v,this.B,this.m,this.W,y,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var m,d=this.g;if((m=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Do(m)){var g=m;break e}}g=null}if(n=g)Ps(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xd(this,n);else{this.i=!1,this.s=3,Pe(12),Mr(this),_o(this);break t}}this.S?(nT(this,y,c),Bd&&this.i&&y==3&&(G0(this.U,this.V,"tick",this.mb),this.V.start())):(Ps(this.j,this.m,c,null),Xd(this,c)),y==4&&Mr(this),this.i&&!this.J&&(y==4?RT(this.l,this):(this.i=!1,Zo(this)))}else qC(this.g),n==400&&0<c.indexOf("Unknown SID")?(this.s=3,Pe(12)):(this.s=0,Pe(13)),Mr(this),_o(this)}}}catch{}finally{}};function eT(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function nT(e,t,n){let s=!0,o;for(;!e.J&&e.o<n.length;)if(o=AC(e,n),o==Kd){t==4&&(e.s=4,Pe(14),s=!1),Ps(e.j,e.m,null,"[Incomplete Response]");break}else if(o==J0){e.s=4,Pe(15),Ps(e.j,e.m,n,"[Invalid Chunk]"),s=!1;break}else Ps(e.j,e.m,o,null),Xd(e,o);eT(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,Pe(16),s=!1),e.i=e.i&&s,s?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fm(t),t.M=!0,Pe(11))):(Ps(e.j,e.m,n,"[Invalid Chunked Response]"),Mr(e),_o(e))}B.mb=function(){if(this.g){var e=On(this.g),t=this.g.ja();this.o<t.length&&(wc(this),nT(this,e,t),this.i&&e!=4&&Zo(this))}};function AC(e,t){var n=e.o,s=t.indexOf(`
`,n);return s==-1?Kd:(n=Number(t.substring(n,s)),isNaN(n)?J0:(s+=1,s+n>t.length?Kd:(t=t.slice(s,s+n),e.o=s+n,t)))}B.cancel=function(){this.J=!0,Mr(this)};function Zo(e){e.Y=Date.now()+e.P,iT(e,e.P)}function iT(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=Xo(Ce(e.lb,e),t)}function wc(e){e.C&&(ot.clearTimeout(e.C),e.C=null)}B.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(vC(this.j,this.B),this.L!=2&&(Vo(),Pe(17)),Mr(this),this.s=2,_o(this)):iT(this,this.Y-e)};function _o(e){e.l.H==0||e.J||RT(e.l,e)}function Mr(e){wc(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Vm(e.V),Q0(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Xd(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||$d(n.i,e))){if(!e.K&&$d(n.i,e)&&n.H==3){try{var s=n.Ja.g.parse(t)}catch{s=null}if(Array.isArray(s)&&s.length==3){var o=s;if(o[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Xu(n),Dc(n);else break t;Hm(n),Pe(18)}}else n.Fa=o[1],0<n.Fa-n.V&&37500>o[2]&&n.G&&n.A==0&&!n.v&&(n.v=Xo(Ce(n.ib,n),6e3));if(1>=hT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else xr(n,11)}else if((e.K||n.g==e)&&Xu(n),!Do(t))for(o=n.Ja.g.parse(t),t=0;t<o.length;t++){let g=o[t];if(n.V=g[0],g=g[1],n.H==2)if(g[0]=="c"){n.K=g[1],n.pa=g[2];const y=g[3];y!=null&&(n.ra=y,n.l.info("VER="+n.ra));const v=g[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));const T=g[5];T!=null&&typeof T=="number"&&0<T&&(s=1.5*T,n.L=s,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const I=e.g;if(I){const k=I.g?I.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(k){var u=s.i;u.g||k.indexOf("spdy")==-1&&k.indexOf("quic")==-1&&k.indexOf("h2")==-1||(u.j=u.l,u.g=new Set,u.h&&(jm(u,u.h),u.h=null))}if(s.F){const j=I.g?I.g.getResponseHeader("X-HTTP-Session-Id"):null;j&&(s.Da=j,Lt(s.I,s.F,j))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),s=n;var c=e;if(s.wa=CT(s,s.J?s.pa:null,s.Y),c.K){fT(s.i,c);var m=c,d=s.L;d&&m.setTimeout(d),m.C&&(wc(m),Zo(m)),s.g=c}else ST(s);0<n.j.length&&Nc(n)}else g[0]!="stop"&&g[0]!="close"||xr(n,7);else n.H==3&&(g[0]=="stop"||g[0]=="close"?g[0]=="stop"?xr(n,7):qm(n):g[0]!="noop"&&n.h&&n.h.Aa(g),n.A=0)}}Vo(4)}catch{}}function SC(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(dc(e)){for(var t=[],n=e.length,s=0;s<n;s++)t.push(e[s]);return t}t=[],n=0;for(s in e)t[n++]=e[s];return t}function wC(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(dc(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const s in e)t[n++]=s;return t}}}function rT(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(dc(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=wC(e),s=SC(e),o=s.length,u=0;u<o;u++)t.call(void 0,s[u],n&&n[u],e)}var sT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function RC(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var s=e[n].indexOf("="),o=null;if(0<=s){var u=e[n].substring(0,s);o=e[n].substring(s+1)}else u=e[n];t(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Pr(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Pr){this.h=e.h,Ku(this,e.j),this.s=e.s,this.g=e.g,Yu(this,e.m),this.l=e.l;var t=e.i,n=new Po;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Wv(this,n),this.o=e.o}else e&&(t=String(e).match(sT))?(this.h=!1,Ku(this,t[1]||"",!0),this.s=fo(t[2]||""),this.g=fo(t[3]||"",!0),Yu(this,t[4]),this.l=fo(t[5]||"",!0),Wv(this,t[6]||"",!0),this.o=fo(t[7]||"")):(this.h=!1,this.i=new Po(null,this.h))}Pr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(mo(t,Zv,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(mo(t,Zv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(mo(n,n.charAt(0)=="/"?CC:IC,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",mo(n,NC)),e.join("")};function li(e){return new Pr(e)}function Ku(e,t,n){e.j=n?fo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Yu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Wv(e,t,n){t instanceof Po?(e.i=t,OC(e.i,e.h)):(n||(t=mo(t,DC)),e.i=new Po(t,e.h))}function Lt(e,t,n){e.i.set(t,n)}function Rc(e){return Lt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function fo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function mo(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,bC),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function bC(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Zv=/[#\/\?@]/g,IC=/[#\?:]/g,CC=/[#\?]/g,DC=/[#\?@]/g,NC=/#/g;function Po(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function rr(e){e.g||(e.g=new Map,e.h=0,e.i&&RC(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}B=Po.prototype;B.add=function(e,t){rr(this),this.i=null,e=ta(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function aT(e,t){rr(e),t=ta(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function oT(e,t){return rr(e),t=ta(e,t),e.g.has(t)}B.forEach=function(e,t){rr(this),this.g.forEach(function(n,s){n.forEach(function(o){e.call(t,o,s,this)},this)},this)};B.ta=function(){rr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let s=0;s<t.length;s++){const o=e[s];for(let u=0;u<o.length;u++)n.push(t[s])}return n};B.Z=function(e){rr(this);let t=[];if(typeof e=="string")oT(this,e)&&(t=t.concat(this.g.get(ta(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};B.set=function(e,t){return rr(this),this.i=null,e=ta(this,e),oT(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};B.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function lT(e,t,n){aT(e,t),0<n.length&&(e.i=null,e.g.set(ta(e,t),bm(n)),e.h+=n.length)}B.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var s=t[n];const u=encodeURIComponent(String(s)),c=this.Z(s);for(s=0;s<c.length;s++){var o=u;c[s]!==""&&(o+="="+encodeURIComponent(String(c[s]))),e.push(o)}}return this.i=e.join("&")};function ta(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function OC(e,t){t&&!e.j&&(rr(e),e.i=null,e.g.forEach(function(n,s){var o=s.toLowerCase();s!=o&&(aT(this,s),lT(this,o,n))},e)),e.j=t}var MC=class{constructor(e,t){this.g=e,this.map=t}};function uT(e){this.l=e||xC,ot.PerformanceNavigationTiming?(e=ot.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ot.g&&ot.g.Ka&&ot.g.Ka()&&ot.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xC=10;function cT(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function hT(e){return e.h?1:e.g?e.g.size:0}function $d(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function jm(e,t){e.g?e.g.add(t):e.h=t}function fT(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}uT.prototype.cancel=function(){if(this.i=dT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function dT(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return bm(e.i)}var VC=class{stringify(e){return ot.JSON.stringify(e,void 0)}parse(e){return ot.JSON.parse(e,void 0)}};function PC(){this.g=new VC}function UC(e,t,n){const s=n||"";try{rT(e,function(o,u){let c=o;mc(o)&&(c=Mm(o)),t.push(s+u+"="+encodeURIComponent(c))})}catch(o){throw t.push(s+"type="+encodeURIComponent("_badmap")),o}}function kC(e,t){const n=new Ec;if(ot.Image){const s=new Image;s.onload=Iu(Du,n,s,"TestLoadImage: loaded",!0,t),s.onerror=Iu(Du,n,s,"TestLoadImage: error",!1,t),s.onabort=Iu(Du,n,s,"TestLoadImage: abort",!1,t),s.ontimeout=Iu(Du,n,s,"TestLoadImage: timeout",!1,t),ot.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=e}else t(!1)}function Du(e,t,n,s,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(s)}catch{}}function bc(e){this.l=e.ec||null,this.j=e.ob||!1}de(bc,Um);bc.prototype.g=function(){return new Ic(this.l,this.j)};bc.prototype.i=function(e){return function(){return e}}({});function Ic(e,t){fe.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=zm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}de(Ic,fe);var zm=0;B=Ic.prototype;B.open=function(e,t){if(this.readyState!=zm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Uo(this)};B.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ot).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jo(this)),this.readyState=zm};B.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Uo(this)),this.g&&(this.readyState=3,Uo(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ot.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mT(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function mT(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}B.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Jo(this):Uo(this),this.readyState==3&&mT(this)}};B.Za=function(e){this.g&&(this.response=this.responseText=e,Jo(this))};B.Ya=function(e){this.g&&(this.response=e,Jo(this))};B.ka=function(){this.g&&Jo(this)};function Jo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Uo(e)}B.setRequestHeader=function(e,t){this.v.append(e,t)};B.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};B.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Uo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Ic.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var LC=ot.JSON.parse;function Kt(e){fe.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=gT,this.L=this.M=!1}de(Kt,fe);var gT="",jC=/^https?$/i,zC=["POST","PUT"];B=Kt.prototype;B.Oa=function(e){this.M=e};B.ha=function(e,t,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Qd.g(),this.C=this.u?$v(this.u):$v(Qd),this.g.onreadystatechange=Ce(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){Jv(this,u);return}if(e=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var o in s)n.set(o,s[o]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const u of s.keys())n.set(u,s.get(u));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(u=>u.toLowerCase()=="content-type"),o=ot.FormData&&e instanceof ot.FormData,!(0<=M0(zC,t))||s||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,c]of n)this.g.setRequestHeader(u,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_T(this),0<this.B&&((this.L=BC(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ce(this.ua,this)):this.A=Pm(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Jv(this,u)}};function BC(e){return Hs&&typeof e.timeout=="number"&&e.ontimeout!==void 0}B.ua=function(){typeof Rm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ee(this,"timeout"),this.abort(8))};function Jv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,pT(e),Cc(e)}function pT(e){e.F||(e.F=!0,Ee(e,"complete"),Ee(e,"error"))}B.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ee(this,"complete"),Ee(this,"abort"),Cc(this))};B.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cc(this,!0)),Kt.$.N.call(this)};B.La=function(){this.s||(this.G||this.v||this.l?yT(this):this.kb())};B.kb=function(){yT(this)};function yT(e){if(e.h&&typeof Rm<"u"&&(!e.C[1]||On(e)!=4||e.da()!=2)){if(e.v&&On(e)==4)Pm(e.La,0,e);else if(Ee(e,"readystatechange"),On(e)==4){e.h=!1;try{const c=e.da();t:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var s;if(s=c===0){var o=String(e.I).match(sT)[1]||null;!o&&ot.self&&ot.self.location&&(o=ot.self.location.protocol.slice(0,-1)),s=!jC.test(o?o.toLowerCase():"")}n=s}if(n)Ee(e,"complete"),Ee(e,"success");else{e.m=6;try{var u=2<On(e)?e.g.statusText:""}catch{u=""}e.j=u+" ["+e.da()+"]",pT(e)}}finally{Cc(e)}}}}function Cc(e,t){if(e.g){_T(e);const n=e.g,s=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Ee(e,"ready");try{n.onreadystatechange=s}catch{}}}function _T(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ot.clearTimeout(e.A),e.A=null)}B.isActive=function(){return!!this.g};function On(e){return e.g?e.g.readyState:0}B.da=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}};B.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};B.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),LC(t)}};function tE(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case gT:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function qC(e){const t={};e=(e.g&&2<=On(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let s=0;s<e.length;s++){if(Do(e[s]))continue;var n=dC(e[s]);const o=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const u=t[o]||[];t[o]=u,u.push(n)}sC(t,function(s){return s.join(", ")})}B.Ia=function(){return this.m};B.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function vT(e){let t="";return Cm(e,function(n,s){t+=s,t+=":",t+=n,t+=`\r
`}),t}function Bm(e,t,n){t:{for(s in n){var s=!1;break t}s=!0}s||(n=vT(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Lt(e,t,n))}function oo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ET(e){this.Ga=0,this.j=[],this.l=new Ec,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=oo("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=oo("baseRetryDelayMs",5e3,e),this.hb=oo("retryDelaySeedMs",1e4,e),this.eb=oo("forwardChannelMaxRetries",2,e),this.xa=oo("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new uT(e&&e.concurrentRequestLimit),this.Ja=new PC,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}B=ET.prototype;B.ra=8;B.H=1;function qm(e){if(TT(e),e.H==3){var t=e.W++,n=li(e.I);if(Lt(n,"SID",e.K),Lt(n,"RID",t),Lt(n,"TYPE","terminate"),tl(e,n),t=new Wo(e,e.l,t),t.L=2,t.A=Rc(li(n)),n=!1,ot.navigator&&ot.navigator.sendBeacon)try{n=ot.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&ot.Image&&(new Image().src=t.A,n=!0),n||(t.g=DT(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Zo(t)}IT(e)}function Dc(e){e.g&&(Fm(e),e.g.cancel(),e.g=null)}function TT(e){Dc(e),e.u&&(ot.clearTimeout(e.u),e.u=null),Xu(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&ot.clearTimeout(e.m),e.m=null)}function Nc(e){if(!cT(e.i)&&!e.m){e.m=!0;var t=e.Na;Oo||H0(),Mo||(Oo(),Mo=!0),xm.add(t,e),e.C=0}}function HC(e,t){return hT(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Xo(Ce(e.Na,e,t),bT(e,e.C)),e.C++,!0)}B.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const o=new Wo(this,this.l,e);let u=this.s;if(this.U&&(u?(u=U0(u),k0(u,this.U)):u=this.U),this.o!==null||this.O||(o.I=u,u=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var s=this.j[n];if("__data__"in s.map&&(s=s.map.__data__,typeof s=="string")){s=s.length;break e}s=void 0}if(s===void 0)break;if(t+=s,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=AT(this,o,t),n=li(this.I),Lt(n,"RID",e),Lt(n,"CVER",22),this.F&&Lt(n,"X-HTTP-Session-Id",this.F),tl(this,n),u&&(this.O?t="headers="+encodeURIComponent(String(vT(u)))+"&"+t:this.o&&Bm(n,this.o,u)),jm(this.i,o),this.bb&&Lt(n,"TYPE","init"),this.P?(Lt(n,"$req",t),Lt(n,"SID","null"),o.aa=!0,Yd(o,n,null)):Yd(o,n,t),this.H=2}}else this.H==3&&(e?eE(this,e):this.j.length==0||cT(this.i)||eE(this))};function eE(e,t){var n;t?n=t.m:n=e.W++;const s=li(e.I);Lt(s,"SID",e.K),Lt(s,"RID",n),Lt(s,"AID",e.V),tl(e,s),e.o&&e.s&&Bm(s,e.o,e.s),n=new Wo(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=AT(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),jm(e.i,n),Yd(n,s,t)}function tl(e,t){e.na&&Cm(e.na,function(n,s){Lt(t,s,n)}),e.h&&rT({},function(n,s){Lt(t,s,n)})}function AT(e,t,n){n=Math.min(e.j.length,n);var s=e.h?Ce(e.h.Va,e.h,e):null;t:{var o=e.j;let u=-1;for(;;){const c=["count="+n];u==-1?0<n?(u=o[0].g,c.push("ofs="+u)):u=0:c.push("ofs="+u);let m=!0;for(let d=0;d<n;d++){let g=o[d].g;const y=o[d].map;if(g-=u,0>g)u=Math.max(0,o[d].g-100),m=!1;else try{UC(y,c,"req"+g+"_")}catch{s&&s(y)}}if(m){s=c.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,s}function ST(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Oo||H0(),Mo||(Oo(),Mo=!0),xm.add(t,e),e.A=0}}function Hm(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Xo(Ce(e.Ma,e),bT(e,e.A)),e.A++,!0)}B.Ma=function(){if(this.u=null,wT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Xo(Ce(this.jb,this),e)}};B.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Pe(10),Dc(this),wT(this))};function Fm(e){e.B!=null&&(ot.clearTimeout(e.B),e.B=null)}function wT(e){e.g=new Wo(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=li(e.wa);Lt(t,"RID","rpc"),Lt(t,"SID",e.K),Lt(t,"AID",e.V),Lt(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Lt(t,"TO",e.qa),Lt(t,"TYPE","xmlhttp"),tl(e,t),e.o&&e.s&&Bm(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Rc(li(t)),n.u=null,n.S=!0,tT(n,e)}B.ib=function(){this.v!=null&&(this.v=null,Dc(this),Hm(this),Pe(19))};function Xu(e){e.v!=null&&(ot.clearTimeout(e.v),e.v=null)}function RT(e,t){var n=null;if(e.g==t){Xu(e),Fm(e),e.g=null;var s=2}else if($d(e.i,t))n=t.F,fT(e.i,t),s=1;else return;if(e.H!=0){if(t.i)if(s==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var o=e.C;s=Tc(),Ee(s,new X0(s,n)),Nc(e)}else ST(e);else if(o=t.s,o==3||o==0&&0<t.ca||!(s==1&&HC(e,t)||s==2&&Hm(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:xr(e,5);break;case 4:xr(e,10);break;case 3:xr(e,6);break;default:xr(e,2)}}}function bT(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function xr(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var s=Ce(e.pb,e);n||(n=new Pr("//www.google.com/images/cleardot.gif"),ot.location&&ot.location.protocol=="http"||Ku(n,"https"),Rc(n)),kC(n.toString(),s)}else Pe(2);e.H=0,e.h&&e.h.za(t),IT(e),TT(e)}B.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Pe(2)):(this.l.info("Failed to ping google.com"),Pe(1))};function IT(e){if(e.H=0,e.ma=[],e.h){const t=dT(e.i);(t.length!=0||e.j.length!=0)&&(Gv(e.ma,t),Gv(e.ma,e.j),e.i.i.length=0,bm(e.j),e.j.length=0),e.h.ya()}}function CT(e,t,n){var s=n instanceof Pr?li(n):new Pr(n);if(s.g!="")t&&(s.g=t+"."+s.g),Yu(s,s.m);else{var o=ot.location;s=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var u=new Pr(null);s&&Ku(u,s),t&&(u.g=t),o&&Yu(u,o),n&&(u.l=n),s=u}return n=e.F,t=e.Da,n&&t&&Lt(s,n,t),Lt(s,"VER",e.ra),tl(e,s),s}function DT(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Kt(new bc({ob:n})):new Kt(e.va),t.Oa(e.J),t}B.isActive=function(){return!!this.h&&this.h.isActive(this)};function NT(){}B=NT.prototype;B.Ba=function(){};B.Aa=function(){};B.za=function(){};B.ya=function(){};B.isActive=function(){return!0};B.Va=function(){};function $u(){if(Hs&&!(10<=Number(eC)))throw Error("Environmental error: no available transport.")}$u.prototype.g=function(e,t){return new We(e,t)};function We(e,t){fe.call(this),this.g=new ET(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Do(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Do(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new ea(this)}de(We,fe);We.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Pe(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=CT(e,null,e.Y),Nc(e)};We.prototype.close=function(){qm(this.g)};We.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Mm(e),e=n);t.j.push(new MC(t.fb++,e)),t.H==3&&Nc(t)};We.prototype.N=function(){this.g.h=null,delete this.j,qm(this.g),delete this.g,We.$.N.call(this)};function OT(e){km.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}de(OT,km);function MT(){Lm.call(this),this.status=1}de(MT,Lm);function ea(e){this.g=e}de(ea,NT);ea.prototype.Ba=function(){Ee(this.g,"a")};ea.prototype.Aa=function(e){Ee(this.g,new OT(e))};ea.prototype.za=function(e){Ee(this.g,new MT)};ea.prototype.ya=function(){Ee(this.g,"b")};function FC(){this.blockSize=-1}function vn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}de(vn,FC);vn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function wd(e,t,n){n||(n=0);var s=Array(16);if(typeof t=="string")for(var o=0;16>o;++o)s[o]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(o=0;16>o;++o)s[o]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],o=e.g[2];var u=e.g[3],c=t+(u^n&(o^u))+s[0]+3614090360&4294967295;t=n+(c<<7&4294967295|c>>>25),c=u+(o^t&(n^o))+s[1]+3905402710&4294967295,u=t+(c<<12&4294967295|c>>>20),c=o+(n^u&(t^n))+s[2]+606105819&4294967295,o=u+(c<<17&4294967295|c>>>15),c=n+(t^o&(u^t))+s[3]+3250441966&4294967295,n=o+(c<<22&4294967295|c>>>10),c=t+(u^n&(o^u))+s[4]+4118548399&4294967295,t=n+(c<<7&4294967295|c>>>25),c=u+(o^t&(n^o))+s[5]+1200080426&4294967295,u=t+(c<<12&4294967295|c>>>20),c=o+(n^u&(t^n))+s[6]+2821735955&4294967295,o=u+(c<<17&4294967295|c>>>15),c=n+(t^o&(u^t))+s[7]+4249261313&4294967295,n=o+(c<<22&4294967295|c>>>10),c=t+(u^n&(o^u))+s[8]+1770035416&4294967295,t=n+(c<<7&4294967295|c>>>25),c=u+(o^t&(n^o))+s[9]+2336552879&4294967295,u=t+(c<<12&4294967295|c>>>20),c=o+(n^u&(t^n))+s[10]+4294925233&4294967295,o=u+(c<<17&4294967295|c>>>15),c=n+(t^o&(u^t))+s[11]+2304563134&4294967295,n=o+(c<<22&4294967295|c>>>10),c=t+(u^n&(o^u))+s[12]+1804603682&4294967295,t=n+(c<<7&4294967295|c>>>25),c=u+(o^t&(n^o))+s[13]+4254626195&4294967295,u=t+(c<<12&4294967295|c>>>20),c=o+(n^u&(t^n))+s[14]+2792965006&4294967295,o=u+(c<<17&4294967295|c>>>15),c=n+(t^o&(u^t))+s[15]+1236535329&4294967295,n=o+(c<<22&4294967295|c>>>10),c=t+(o^u&(n^o))+s[1]+4129170786&4294967295,t=n+(c<<5&4294967295|c>>>27),c=u+(n^o&(t^n))+s[6]+3225465664&4294967295,u=t+(c<<9&4294967295|c>>>23),c=o+(t^n&(u^t))+s[11]+643717713&4294967295,o=u+(c<<14&4294967295|c>>>18),c=n+(u^t&(o^u))+s[0]+3921069994&4294967295,n=o+(c<<20&4294967295|c>>>12),c=t+(o^u&(n^o))+s[5]+3593408605&4294967295,t=n+(c<<5&4294967295|c>>>27),c=u+(n^o&(t^n))+s[10]+38016083&4294967295,u=t+(c<<9&4294967295|c>>>23),c=o+(t^n&(u^t))+s[15]+3634488961&4294967295,o=u+(c<<14&4294967295|c>>>18),c=n+(u^t&(o^u))+s[4]+3889429448&4294967295,n=o+(c<<20&4294967295|c>>>12),c=t+(o^u&(n^o))+s[9]+568446438&4294967295,t=n+(c<<5&4294967295|c>>>27),c=u+(n^o&(t^n))+s[14]+3275163606&4294967295,u=t+(c<<9&4294967295|c>>>23),c=o+(t^n&(u^t))+s[3]+4107603335&4294967295,o=u+(c<<14&4294967295|c>>>18),c=n+(u^t&(o^u))+s[8]+1163531501&4294967295,n=o+(c<<20&4294967295|c>>>12),c=t+(o^u&(n^o))+s[13]+2850285829&4294967295,t=n+(c<<5&4294967295|c>>>27),c=u+(n^o&(t^n))+s[2]+4243563512&4294967295,u=t+(c<<9&4294967295|c>>>23),c=o+(t^n&(u^t))+s[7]+1735328473&4294967295,o=u+(c<<14&4294967295|c>>>18),c=n+(u^t&(o^u))+s[12]+2368359562&4294967295,n=o+(c<<20&4294967295|c>>>12),c=t+(n^o^u)+s[5]+4294588738&4294967295,t=n+(c<<4&4294967295|c>>>28),c=u+(t^n^o)+s[8]+2272392833&4294967295,u=t+(c<<11&4294967295|c>>>21),c=o+(u^t^n)+s[11]+1839030562&4294967295,o=u+(c<<16&4294967295|c>>>16),c=n+(o^u^t)+s[14]+4259657740&4294967295,n=o+(c<<23&4294967295|c>>>9),c=t+(n^o^u)+s[1]+2763975236&4294967295,t=n+(c<<4&4294967295|c>>>28),c=u+(t^n^o)+s[4]+1272893353&4294967295,u=t+(c<<11&4294967295|c>>>21),c=o+(u^t^n)+s[7]+4139469664&4294967295,o=u+(c<<16&4294967295|c>>>16),c=n+(o^u^t)+s[10]+3200236656&4294967295,n=o+(c<<23&4294967295|c>>>9),c=t+(n^o^u)+s[13]+681279174&4294967295,t=n+(c<<4&4294967295|c>>>28),c=u+(t^n^o)+s[0]+3936430074&4294967295,u=t+(c<<11&4294967295|c>>>21),c=o+(u^t^n)+s[3]+3572445317&4294967295,o=u+(c<<16&4294967295|c>>>16),c=n+(o^u^t)+s[6]+76029189&4294967295,n=o+(c<<23&4294967295|c>>>9),c=t+(n^o^u)+s[9]+3654602809&4294967295,t=n+(c<<4&4294967295|c>>>28),c=u+(t^n^o)+s[12]+3873151461&4294967295,u=t+(c<<11&4294967295|c>>>21),c=o+(u^t^n)+s[15]+530742520&4294967295,o=u+(c<<16&4294967295|c>>>16),c=n+(o^u^t)+s[2]+3299628645&4294967295,n=o+(c<<23&4294967295|c>>>9),c=t+(o^(n|~u))+s[0]+4096336452&4294967295,t=n+(c<<6&4294967295|c>>>26),c=u+(n^(t|~o))+s[7]+1126891415&4294967295,u=t+(c<<10&4294967295|c>>>22),c=o+(t^(u|~n))+s[14]+2878612391&4294967295,o=u+(c<<15&4294967295|c>>>17),c=n+(u^(o|~t))+s[5]+4237533241&4294967295,n=o+(c<<21&4294967295|c>>>11),c=t+(o^(n|~u))+s[12]+1700485571&4294967295,t=n+(c<<6&4294967295|c>>>26),c=u+(n^(t|~o))+s[3]+2399980690&4294967295,u=t+(c<<10&4294967295|c>>>22),c=o+(t^(u|~n))+s[10]+4293915773&4294967295,o=u+(c<<15&4294967295|c>>>17),c=n+(u^(o|~t))+s[1]+2240044497&4294967295,n=o+(c<<21&4294967295|c>>>11),c=t+(o^(n|~u))+s[8]+1873313359&4294967295,t=n+(c<<6&4294967295|c>>>26),c=u+(n^(t|~o))+s[15]+4264355552&4294967295,u=t+(c<<10&4294967295|c>>>22),c=o+(t^(u|~n))+s[6]+2734768916&4294967295,o=u+(c<<15&4294967295|c>>>17),c=n+(u^(o|~t))+s[13]+1309151649&4294967295,n=o+(c<<21&4294967295|c>>>11),c=t+(o^(n|~u))+s[4]+4149444226&4294967295,t=n+(c<<6&4294967295|c>>>26),c=u+(n^(t|~o))+s[11]+3174756917&4294967295,u=t+(c<<10&4294967295|c>>>22),c=o+(t^(u|~n))+s[2]+718787259&4294967295,o=u+(c<<15&4294967295|c>>>17),c=n+(u^(o|~t))+s[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(o+(c<<21&4294967295|c>>>11))&4294967295,e.g[2]=e.g[2]+o&4294967295,e.g[3]=e.g[3]+u&4294967295}vn.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,s=this.m,o=this.h,u=0;u<t;){if(o==0)for(;u<=n;)wd(this,e,u),u+=this.blockSize;if(typeof e=="string"){for(;u<t;)if(s[o++]=e.charCodeAt(u++),o==this.blockSize){wd(this,s),o=0;break}}else for(;u<t;)if(s[o++]=e[u++],o==this.blockSize){wd(this,s),o=0;break}}this.h=o,this.i+=t};vn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var s=0;32>s;s+=8)e[n++]=this.g[t]>>>s&255;return e};function Dt(e,t){this.h=t;for(var n=[],s=!0,o=e.length-1;0<=o;o--){var u=e[o]|0;s&&u==t||(n[o]=u,s=!1)}this.g=n}var GC={};function Gm(e){return-128<=e&&128>e?Z1(e,function(t){return new Dt([t|0],0>t?-1:0)}):new Dt([e|0],0>e?-1:0)}function Mn(e){if(isNaN(e)||!isFinite(e))return ks;if(0>e)return _e(Mn(-e));for(var t=[],n=1,s=0;e>=n;s++)t[s]=e/n|0,n*=Wd;return new Dt(t,0)}function xT(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return _e(xT(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Mn(Math.pow(t,8)),s=ks,o=0;o<e.length;o+=8){var u=Math.min(8,e.length-o),c=parseInt(e.substring(o,o+u),t);8>u?(u=Mn(Math.pow(t,u)),s=s.R(u).add(Mn(c))):(s=s.R(n),s=s.add(Mn(c)))}return s}var Wd=4294967296,ks=Gm(0),Zd=Gm(1),nE=Gm(16777216);B=Dt.prototype;B.ea=function(){if(fn(this))return-_e(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var s=this.D(n);e+=(0<=s?s:Wd+s)*t,t*=Wd}return e};B.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(ri(this))return"0";if(fn(this))return"-"+_e(this).toString(e);for(var t=Mn(Math.pow(e,6)),n=this,s="";;){var o=Zu(n,t).g;n=Wu(n,o.R(t));var u=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=o,ri(n))return u+s;for(;6>u.length;)u="0"+u;s=u+s}};B.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function ri(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function fn(e){return e.h==-1}B.X=function(e){return e=Wu(this,e),fn(e)?-1:ri(e)?0:1};function _e(e){for(var t=e.g.length,n=[],s=0;s<t;s++)n[s]=~e.g[s];return new Dt(n,~e.h).add(Zd)}B.abs=function(){return fn(this)?_e(this):this};B.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0,o=0;o<=t;o++){var u=s+(this.D(o)&65535)+(e.D(o)&65535),c=(u>>>16)+(this.D(o)>>>16)+(e.D(o)>>>16);s=c>>>16,u&=65535,c&=65535,n[o]=c<<16|u}return new Dt(n,n[n.length-1]&-2147483648?-1:0)};function Wu(e,t){return e.add(_e(t))}B.R=function(e){if(ri(this)||ri(e))return ks;if(fn(this))return fn(e)?_e(this).R(_e(e)):_e(_e(this).R(e));if(fn(e))return _e(this.R(_e(e)));if(0>this.X(nE)&&0>e.X(nE))return Mn(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],s=0;s<2*t;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var o=0;o<e.g.length;o++){var u=this.D(s)>>>16,c=this.D(s)&65535,m=e.D(o)>>>16,d=e.D(o)&65535;n[2*s+2*o]+=c*d,Nu(n,2*s+2*o),n[2*s+2*o+1]+=u*d,Nu(n,2*s+2*o+1),n[2*s+2*o+1]+=c*m,Nu(n,2*s+2*o+1),n[2*s+2*o+2]+=u*m,Nu(n,2*s+2*o+2)}for(s=0;s<t;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=t;s<2*t;s++)n[s]=0;return new Dt(n,0)};function Nu(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function lo(e,t){this.g=e,this.h=t}function Zu(e,t){if(ri(t))throw Error("division by zero");if(ri(e))return new lo(ks,ks);if(fn(e))return t=Zu(_e(e),t),new lo(_e(t.g),_e(t.h));if(fn(t))return t=Zu(e,_e(t)),new lo(_e(t.g),t.h);if(30<e.g.length){if(fn(e)||fn(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Zd,s=t;0>=s.X(e);)n=iE(n),s=iE(s);var o=Os(n,1),u=Os(s,1);for(s=Os(s,2),n=Os(n,2);!ri(s);){var c=u.add(s);0>=c.X(e)&&(o=o.add(n),u=c),s=Os(s,1),n=Os(n,1)}return t=Wu(e,o.R(t)),new lo(o,t)}for(o=ks;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),s=Math.ceil(Math.log(n)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),u=Mn(n),c=u.R(t);fn(c)||0<c.X(e);)n-=s,u=Mn(n),c=u.R(t);ri(u)&&(u=Zd),o=o.add(u),e=Wu(e,c)}return new lo(o,e)}B.gb=function(e){return Zu(this,e).h};B.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.D(s)&e.D(s);return new Dt(n,this.h&e.h)};B.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.D(s)|e.D(s);return new Dt(n,this.h|e.h)};B.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.D(s)^e.D(s);return new Dt(n,this.h^e.h)};function iE(e){for(var t=e.g.length+1,n=[],s=0;s<t;s++)n[s]=e.D(s)<<1|e.D(s-1)>>>31;return new Dt(n,e.h)}function Os(e,t){var n=t>>5;t%=32;for(var s=e.g.length-n,o=[],u=0;u<s;u++)o[u]=0<t?e.D(u+n)>>>t|e.D(u+n+1)<<32-t:e.D(u+n);return new Dt(o,e.h)}$u.prototype.createWebChannel=$u.prototype.g;We.prototype.send=We.prototype.u;We.prototype.open=We.prototype.m;We.prototype.close=We.prototype.close;Ac.NO_ERROR=0;Ac.TIMEOUT=8;Ac.HTTP_ERROR=6;$0.COMPLETE="complete";W0.EventType=$o;$o.OPEN="a";$o.CLOSE="b";$o.ERROR="c";$o.MESSAGE="d";fe.prototype.listen=fe.prototype.O;Kt.prototype.listenOnce=Kt.prototype.P;Kt.prototype.getLastError=Kt.prototype.Sa;Kt.prototype.getLastErrorCode=Kt.prototype.Ia;Kt.prototype.getStatus=Kt.prototype.da;Kt.prototype.getResponseJson=Kt.prototype.Wa;Kt.prototype.getResponseText=Kt.prototype.ja;Kt.prototype.send=Kt.prototype.ha;Kt.prototype.setWithCredentials=Kt.prototype.Oa;vn.prototype.digest=vn.prototype.l;vn.prototype.reset=vn.prototype.reset;vn.prototype.update=vn.prototype.j;Dt.prototype.add=Dt.prototype.add;Dt.prototype.multiply=Dt.prototype.R;Dt.prototype.modulo=Dt.prototype.gb;Dt.prototype.compare=Dt.prototype.X;Dt.prototype.toNumber=Dt.prototype.ea;Dt.prototype.toString=Dt.prototype.toString;Dt.prototype.getBits=Dt.prototype.D;Dt.fromNumber=Mn;Dt.fromString=xT;var QC=function(){return new $u},KC=function(){return Tc()},Rd=Ac,YC=$0,XC=Fr,rE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ou=W0,$C=Kt,WC=vn,Ls=Dt;const sE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Be.UNAUTHENTICATED=new Be(null),Be.GOOGLE_CREDENTIALS=new Be("google-credentials-uid"),Be.FIRST_PARTY=new Be("first-party-uid"),Be.MOCK_USER=new Be("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let na="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new Am("@firebase/firestore");function uo(){return jr.logLevel}function Q(e,...t){if(jr.logLevel<=Et.DEBUG){const n=t.map(Qm);jr.debug(`Firestore (${na}): ${e}`,...n)}}function ui(e,...t){if(jr.logLevel<=Et.ERROR){const n=t.map(Qm);jr.error(`Firestore (${na}): ${e}`,...n)}}function ko(e,...t){if(jr.logLevel<=Et.WARN){const n=t.map(Qm);jr.warn(`Firestore (${na}): ${e}`,...n)}}function Qm(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(e="Unexpected state"){const t=`FIRESTORE (${na}) INTERNAL ASSERTION FAILED: `+e;throw ui(t),new Error(t)}function Ut(e,t){e||at()}function ht(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends fi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class JC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Be.UNAUTHENTICATED))}shutdown(){}}class tD{constructor(t){this.t=t,this.currentUser=Be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let s=this.i;const o=d=>this.i!==s?(s=this.i,n(d)):Promise.resolve();let u=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new oi,t.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const d=u;t.enqueueRetryable(async()=>{await d.promise,await o(this.currentUser)})},m=d=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(d=>m(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?m(d):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new oi)}},0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ut(typeof s.accessToken=="string"),new ZC(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ut(t===null||typeof t=="string"),new Be(t)}}class eD{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=Be.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class nD{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new eD(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Be.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iD{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rD{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const s=u=>{u.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.R;return this.R=u.token,Q("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ut(typeof n.token=="string"),this.R=n.token,new iD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let s="";for(;s.length<20;){const o=sD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%t.length))}return s}}function It(e,t){return e<t?-1:e>t?1:0}function Fs(e,t,n){return e.length===t.length&&e.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new H(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new H(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new H(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor(1e6*(t-1e3*n));return new se(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ut(t)}static min(){return new ut(new se(0,0))}static max(){return new ut(new se(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(t,n,s){n===void 0?n=0:n>t.length&&at(),s===void 0?s=t.length-n:s>t.length-n&&at(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Lo.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Lo?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=t.get(o),c=n.get(o);if(u<c)return-1;if(u>c)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class jt extends Lo{construct(t,n,s){return new jt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new H(P.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new jt(n)}static emptyPath(){return new jt([])}}const aD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ve extends Lo{construct(t,n,s){return new ve(t,n,s)}static isValidIdentifier(t){return aD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ve.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ve(["__name__"])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new H(P.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new H(P.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new H(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=d,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(u(),o++)}if(u(),c)throw new H(P.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ve(n)}static emptyPath(){return new ve([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.path=t}static fromPath(t){return new W(jt.fromString(t))}static fromName(t){return new W(jt.fromString(t).popFirst(5))}static empty(){return new W(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return jt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new W(new jt(t.slice()))}}function oD(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,o=ut.fromTimestamp(s===1e9?new se(n+1,0):new se(n,s));return new Zi(o,W.empty(),t)}function lD(e){return new Zi(e.readTime,e.key,-1)}class Zi{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Zi(ut.min(),W.empty(),-1)}static max(){return new Zi(ut.max(),W.empty(),-1)}}function uD(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=W.comparator(e.documentKey,t.documentKey),n!==0?n:It(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(e){if(e.code!==P.FAILED_PRECONDITION||e.message!==cD)throw e;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new L((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):L.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):L.reject(n)}static resolve(t){return new L((n,s)=>{n(t)})}static reject(t){return new L((n,s)=>{s(t)})}static waitFor(t){return new L((n,s)=>{let o=0,u=0,c=!1;t.forEach(m=>{++o,m.next(()=>{++u,c&&u===o&&n()},d=>s(d))}),c=!0,u===o&&n()})}static or(t){let n=L.resolve(!1);for(const s of t)n=n.next(o=>o?L.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new L((s,o)=>{const u=t.length,c=new Array(u);let m=0;for(let d=0;d<u;d++){const g=d;n(t[g]).next(y=>{c[g]=y,++m,m===u&&s(c)},y=>o(y))}})}static doWhile(t,n){return new L((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function nl(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.se(s),this.oe=s=>n.writeSequenceNumber(s))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}Km._e=-1;function Oc(e){return e==null}function Ju(e){return e===0&&1/e==-1/0}function fD(e){return typeof e=="number"&&Number.isInteger(e)&&!Ju(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Gr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function PT(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t,n){this.comparator=t,this.root=n||ye.EMPTY}insert(t,n){return new Ht(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ye.BLACK,null,null))}remove(t){return new Ht(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ye.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Mu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Mu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Mu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Mu(this.root,t,this.comparator,!0)}}class Mu{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ye{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??ye.RED,this.left=o??ye.EMPTY,this.right=u??ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new ye(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return ye.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const t=this.left.check();if(t!==this.right.check())throw at();return t+(this.isRed()?0:1)}}ye.EMPTY=null,ye.RED=!0,ye.BLACK=!1;ye.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(t,n,s,o,u){return this}insert(t,n,s){return new ye(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(t){this.comparator=t,this.data=new Ht(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new oE(this.data.getIterator())}getIteratorFrom(t){return new oE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Te)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Te(this.comparator);return n.data=t,n}}class oE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.fields=t,t.sort(ve.comparator)}static empty(){return new $e([])}unionWith(t){let n=new Te(ve.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new $e(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Fs(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new UT("Invalid base64 string: "+u):u}}(t);return new Oe(n)}static fromUint8Array(t){const n=function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u}(t);return new Oe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Oe.EMPTY_BYTE_STRING=new Oe("");const dD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(e){if(Ut(!!e),typeof e=="string"){let t=0;const n=dD.exec(e);if(Ut(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ee(e.seconds),nanos:ee(e.nanos)}}function ee(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function zr(e){return typeof e=="string"?Oe.fromBase64String(e):Oe.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Xm(e){const t=e.mapValue.fields.__previous_value__;return Ym(t)?Xm(t):t}function jo(e){const t=Ji(e.mapValue.fields.__local_write_time__.timestampValue);return new se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t,n,s,o,u,c,m,d,g){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=d,this.useFetchStreams=g}}class zo{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new zo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof zo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu={mapValue:{}};function Br(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ym(e)?4:gD(e)?9007199254740991:10:at()}function kn(e,t){if(e===t)return!0;const n=Br(e);if(n!==Br(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return jo(e).isEqual(jo(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Ji(o.timestampValue),m=Ji(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,u){return zr(o.bytesValue).isEqual(zr(u.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,u){return ee(o.geoPointValue.latitude)===ee(u.geoPointValue.latitude)&&ee(o.geoPointValue.longitude)===ee(u.geoPointValue.longitude)}(e,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ee(o.integerValue)===ee(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=ee(o.doubleValue),m=ee(u.doubleValue);return c===m?Ju(c)===Ju(m):isNaN(c)&&isNaN(m)}return!1}(e,t);case 9:return Fs(e.arrayValue.values||[],t.arrayValue.values||[],kn);case 10:return function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(aE(c)!==aE(m))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(m[d]===void 0||!kn(c[d],m[d])))return!1;return!0}(e,t);default:return at()}}function Bo(e,t){return(e.values||[]).find(n=>kn(n,t))!==void 0}function Gs(e,t){if(e===t)return 0;const n=Br(e),s=Br(t);if(n!==s)return It(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return It(e.booleanValue,t.booleanValue);case 2:return function(u,c){const m=ee(u.integerValue||u.doubleValue),d=ee(c.integerValue||c.doubleValue);return m<d?-1:m>d?1:m===d?0:isNaN(m)?isNaN(d)?0:-1:1}(e,t);case 3:return lE(e.timestampValue,t.timestampValue);case 4:return lE(jo(e),jo(t));case 5:return It(e.stringValue,t.stringValue);case 6:return function(u,c){const m=zr(u),d=zr(c);return m.compareTo(d)}(e.bytesValue,t.bytesValue);case 7:return function(u,c){const m=u.split("/"),d=c.split("/");for(let g=0;g<m.length&&g<d.length;g++){const y=It(m[g],d[g]);if(y!==0)return y}return It(m.length,d.length)}(e.referenceValue,t.referenceValue);case 8:return function(u,c){const m=It(ee(u.latitude),ee(c.latitude));return m!==0?m:It(ee(u.longitude),ee(c.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(u,c){const m=u.values||[],d=c.values||[];for(let g=0;g<m.length&&g<d.length;++g){const y=Gs(m[g],d[g]);if(y)return y}return It(m.length,d.length)}(e.arrayValue,t.arrayValue);case 10:return function(u,c){if(u===xu.mapValue&&c===xu.mapValue)return 0;if(u===xu.mapValue)return 1;if(c===xu.mapValue)return-1;const m=u.fields||{},d=Object.keys(m),g=c.fields||{},y=Object.keys(g);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const T=It(d[v],y[v]);if(T!==0)return T;const I=Gs(m[d[v]],g[y[v]]);if(I!==0)return I}return It(d.length,y.length)}(e.mapValue,t.mapValue);default:throw at()}}function lE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return It(e,t);const n=Ji(e),s=Ji(t),o=It(n.seconds,s.seconds);return o!==0?o:It(n.nanos,s.nanos)}function Qs(e){return Jd(e)}function Jd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const s=Ji(n);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return zr(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return W.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Jd(u);return s+"]"}(e.arrayValue):"mapValue"in e?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${Jd(n.fields[c])}`;return o+"}"}(e.mapValue):at()}function uE(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function tm(e){return!!e&&"integerValue"in e}function $m(e){return!!e&&"arrayValue"in e}function cE(e){return!!e&&"nullValue"in e}function hE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ku(e){return!!e&&"mapValue"in e}function vo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Gr(e.mapValue.fields,(n,s)=>t.mapValue.fields[n]=vo(s)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=vo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function gD(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.value=t}static empty(){return new qe({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!ku(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=vo(n)}setAll(t){let n=ve.emptyPath(),s={},o=[];t.forEach((c,m)=>{if(!n.isImmediateParentOf(m)){const d=this.getFieldsMap(n);this.applyChanges(d,s,o),s={},o=[],n=m.popLast()}c?s[m.lastSegment()]=vo(c):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());ku(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return kn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];ku(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Gr(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new qe(vo(this.value))}}function kT(e){const t=[];return Gr(e.fields,(n,s)=>{const o=new ve([n]);if(ku(s)){const u=kT(s.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)}),new $e(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t,n,s,o,u,c,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new Ie(t,0,ut.min(),ut.min(),ut.min(),qe.empty(),0)}static newFoundDocument(t,n,s,o){return new Ie(t,1,n,ut.min(),s,o,0)}static newNoDocument(t,n){return new Ie(t,2,n,ut.min(),ut.min(),qe.empty(),0)}static newUnknownDocument(t,n){return new Ie(t,3,n,ut.min(),ut.min(),qe.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qe.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ut.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ie&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ie(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(t,n){this.position=t,this.inclusive=n}}function fE(e,t,n){let s=0;for(let o=0;o<e.position.length;o++){const u=t[o],c=e.position[o];if(u.field.isKeyField()?s=W.comparator(W.fromName(c.referenceValue),n.key):s=Gs(c,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function dE(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!kn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(t,n="asc"){this.field=t,this.dir=n}}function pD(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{}class ne extends LT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new _D(t,n,s):n==="array-contains"?new TD(t,s):n==="in"?new AD(t,s):n==="not-in"?new SD(t,s):n==="array-contains-any"?new wD(t,s):new ne(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new vD(t,s):new ED(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gs(n,this.value)):n!==null&&Br(this.value)===Br(n)&&this.matchesComparison(Gs(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return at()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class En extends LT{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new En(t,n)}matches(t){return jT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function jT(e){return e.op==="and"}function zT(e){return yD(e)&&jT(e)}function yD(e){for(const t of e.filters)if(t instanceof En)return!1;return!0}function em(e){if(e instanceof ne)return e.field.canonicalString()+e.op.toString()+Qs(e.value);if(zT(e))return e.filters.map(t=>em(t)).join(",");{const t=e.filters.map(n=>em(n)).join(",");return`${e.op}(${t})`}}function BT(e,t){return e instanceof ne?function(s,o){return o instanceof ne&&s.op===o.op&&s.field.isEqual(o.field)&&kn(s.value,o.value)}(e,t):e instanceof En?function(s,o){return o instanceof En&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,c,m)=>u&&BT(c,o.filters[m]),!0):!1}(e,t):void at()}function qT(e){return e instanceof ne?function(n){return`${n.field.canonicalString()} ${n.op} ${Qs(n.value)}`}(e):e instanceof En?function(n){return n.op.toString()+" {"+n.getFilters().map(qT).join(" ,")+"}"}(e):"Filter"}class _D extends ne{constructor(t,n,s){super(t,n,s),this.key=W.fromName(s.referenceValue)}matches(t){const n=W.comparator(t.key,this.key);return this.matchesComparison(n)}}class vD extends ne{constructor(t,n){super(t,"in",n),this.keys=HT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class ED extends ne{constructor(t,n){super(t,"not-in",n),this.keys=HT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function HT(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>W.fromName(s.referenceValue))}class TD extends ne{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return $m(n)&&Bo(n.arrayValue,this.value)}}class AD extends ne{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Bo(this.value.arrayValue,n)}}class SD extends ne{constructor(t,n){super(t,"not-in",n)}matches(t){if(Bo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Bo(this.value.arrayValue,n)}}class wD extends ne{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!$m(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Bo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(t,n=null,s=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.ce=null}}function mE(e,t=null,n=[],s=[],o=null,u=null,c=null){return new RD(e,t,n,s,o,u,c)}function Wm(e){const t=ht(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>em(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Oc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Qs(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Qs(s)).join(",")),t.ce=n}return t.ce}function Zm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!pD(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!BT(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!dE(e.startAt,t.startAt)&&dE(e.endAt,t.endAt)}function nm(e){return W.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(t,n=null,s=[],o=[],u=null,c="F",m=null,d=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=d,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function bD(e,t,n,s,o,u,c,m){return new il(e,t,n,s,o,u,c,m)}function Jm(e){return new il(e)}function gE(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function FT(e){return e.collectionGroup!==null}function Eo(e){const t=ht(e);if(t.le===null){t.le=[];const n=new Set;for(const u of t.explicitOrderBy)t.le.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Te(ve.comparator);return c.filters.forEach(d=>{d.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.le.push(new ec(u,s))}),n.has(ve.keyField().canonicalString())||t.le.push(new ec(ve.keyField(),s))}return t.le}function xn(e){const t=ht(e);return t.he||(t.he=ID(t,Eo(e))),t.he}function ID(e,t){if(e.limitType==="F")return mE(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new ec(o.field,u)});const n=e.endAt?new tc(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new tc(e.startAt.position,e.startAt.inclusive):null;return mE(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function im(e,t){const n=e.filters.concat([t]);return new il(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function rm(e,t,n){return new il(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Mc(e,t){return Zm(xn(e),xn(t))&&e.limitType===t.limitType}function GT(e){return`${Wm(xn(e))}|lt:${e.limitType}`}function Ms(e){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>qT(o)).join(", ")}]`),Oc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Qs(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Qs(o)).join(",")),`Target(${s})`}(xn(e))}; limitType=${e.limitType})`}function xc(e,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):W.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(e,t)&&function(s,o){for(const u of Eo(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(e,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(e,t)&&function(s,o){return!(s.startAt&&!function(c,m,d){const g=fE(c,m,d);return c.inclusive?g<=0:g<0}(s.startAt,Eo(s),o)||s.endAt&&!function(c,m,d){const g=fE(c,m,d);return c.inclusive?g>=0:g>0}(s.endAt,Eo(s),o))}(e,t)}function CD(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function QT(e){return(t,n)=>{let s=!1;for(const o of Eo(e)){const u=DD(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function DD(e,t,n){const s=e.field.isKeyField()?W.comparator(t.key,n.key):function(u,c,m){const d=c.data.field(u),g=m.data.field(u);return d!==null&&g!==null?Gs(d,g):at()}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return at()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Gr(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return PT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=new Ht(W.comparator);function ci(){return ND}const KT=new Ht(W.comparator);function go(...e){let t=KT;for(const n of e)t=t.insert(n.key,n);return t}function YT(e){let t=KT;return e.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Vr(){return To()}function XT(){return To()}function To(){return new ia(e=>e.toString(),(e,t)=>e.isEqual(t))}const OD=new Ht(W.comparator),MD=new Te(W.comparator);function _t(...e){let t=MD;for(const n of e)t=t.add(n);return t}const xD=new Te(It);function VD(){return xD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ju(t)?"-0":t}}function WT(e){return{integerValue:""+e}}function PD(e,t){return fD(t)?WT(t):$T(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this._=void 0}}function UD(e,t,n){return e instanceof nc?function(o,u){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ym(u)&&(u=Xm(u)),u&&(c.fields.__previous_value__=u),{mapValue:c}}(n,t):e instanceof qo?JT(e,t):e instanceof Ho?tA(e,t):function(o,u){const c=ZT(o,u),m=pE(c)+pE(o.Ie);return tm(c)&&tm(o.Ie)?WT(m):$T(o.serializer,m)}(e,t)}function kD(e,t,n){return e instanceof qo?JT(e,t):e instanceof Ho?tA(e,t):n}function ZT(e,t){return e instanceof ic?function(s){return tm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class nc extends Vc{}class qo extends Vc{constructor(t){super(),this.elements=t}}function JT(e,t){const n=eA(t);for(const s of e.elements)n.some(o=>kn(o,s))||n.push(s);return{arrayValue:{values:n}}}class Ho extends Vc{constructor(t){super(),this.elements=t}}function tA(e,t){let n=eA(t);for(const s of e.elements)n=n.filter(o=>!kn(o,s));return{arrayValue:{values:n}}}class ic extends Vc{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function pE(e){return ee(e.integerValue||e.doubleValue)}function eA(e){return $m(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function LD(e,t){return e.field.isEqual(t.field)&&function(s,o){return s instanceof qo&&o instanceof qo||s instanceof Ho&&o instanceof Ho?Fs(s.elements,o.elements,kn):s instanceof ic&&o instanceof ic?kn(s.Ie,o.Ie):s instanceof nc&&o instanceof nc}(e.transform,t.transform)}class jD{constructor(t,n){this.version=t,this.transformResults=n}}class dn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new dn}static exists(t){return new dn(void 0,t)}static updateTime(t){return new dn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Lu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Pc{}function nA(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new tg(e.key,dn.none()):new rl(e.key,e.data,dn.none());{const n=e.data,s=qe.empty();let o=new Te(ve.comparator);for(let u of t.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new sr(e.key,s,new $e(o.toArray()),dn.none())}}function zD(e,t,n){e instanceof rl?function(o,u,c){const m=o.value.clone(),d=_E(o.fieldTransforms,u,c.transformResults);m.setAll(d),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(e,t,n):e instanceof sr?function(o,u,c){if(!Lu(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=_E(o.fieldTransforms,u,c.transformResults),d=u.data;d.setAll(iA(o)),d.setAll(m),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(e,t,n):function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,n)}function Ao(e,t,n,s){return e instanceof rl?function(u,c,m,d){if(!Lu(u.precondition,c))return m;const g=u.value.clone(),y=vE(u.fieldTransforms,d,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(e,t,n,s):e instanceof sr?function(u,c,m,d){if(!Lu(u.precondition,c))return m;const g=vE(u.fieldTransforms,d,c),y=c.data;return y.setAll(iA(u)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(v=>v.field))}(e,t,n,s):function(u,c,m){return Lu(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m}(e,t,n)}function BD(e,t){let n=null;for(const s of e.fieldTransforms){const o=t.data.field(s.field),u=ZT(s.transform,o||null);u!=null&&(n===null&&(n=qe.empty()),n.set(s.field,u))}return n||null}function yE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Fs(s,o,(u,c)=>LD(u,c))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class rl extends Pc{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class sr extends Pc{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function iA(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}}),t}function _E(e,t,n){const s=new Map;Ut(e.length===n.length);for(let o=0;o<n.length;o++){const u=e[o],c=u.transform,m=t.data.field(u.field);s.set(u.field,kD(c,m,n[o]))}return s}function vE(e,t,n){const s=new Map;for(const o of e){const u=o.transform,c=n.data.field(o.field);s.set(o.field,UD(u,c,t))}return s}class tg extends Pc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qD extends Pc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&zD(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ao(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ao(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=XT();return this.mutations.forEach(o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=n.has(o.key)?null:m;const d=nA(c,m);d!==null&&s.set(o.key,d),c.isValidDocument()||c.convertToNoDocument(ut.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),_t())}isEqual(t){return this.batchId===t.batchId&&Fs(this.mutations,t.mutations,(n,s)=>yE(n,s))&&Fs(this.baseMutations,t.baseMutations,(n,s)=>yE(n,s))}}class eg{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ut(t.mutations.length===s.length);let o=function(){return OD}();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new eg(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te,St;function QD(e){switch(e){default:return at();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function rA(e){if(e===void 0)return ui("GRPC error has no .code"),P.UNKNOWN;switch(e){case te.OK:return P.OK;case te.CANCELLED:return P.CANCELLED;case te.UNKNOWN:return P.UNKNOWN;case te.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case te.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case te.INTERNAL:return P.INTERNAL;case te.UNAVAILABLE:return P.UNAVAILABLE;case te.UNAUTHENTICATED:return P.UNAUTHENTICATED;case te.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case te.NOT_FOUND:return P.NOT_FOUND;case te.ALREADY_EXISTS:return P.ALREADY_EXISTS;case te.PERMISSION_DENIED:return P.PERMISSION_DENIED;case te.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case te.ABORTED:return P.ABORTED;case te.OUT_OF_RANGE:return P.OUT_OF_RANGE;case te.UNIMPLEMENTED:return P.UNIMPLEMENTED;case te.DATA_LOSS:return P.DATA_LOSS;default:return at()}}(St=te||(te={}))[St.OK=0]="OK",St[St.CANCELLED=1]="CANCELLED",St[St.UNKNOWN=2]="UNKNOWN",St[St.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",St[St.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",St[St.NOT_FOUND=5]="NOT_FOUND",St[St.ALREADY_EXISTS=6]="ALREADY_EXISTS",St[St.PERMISSION_DENIED=7]="PERMISSION_DENIED",St[St.UNAUTHENTICATED=16]="UNAUTHENTICATED",St[St.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",St[St.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",St[St.ABORTED=10]="ABORTED",St[St.OUT_OF_RANGE=11]="OUT_OF_RANGE",St[St.UNIMPLEMENTED=12]="UNIMPLEMENTED",St[St.INTERNAL=13]="INTERNAL",St[St.UNAVAILABLE=14]="UNAVAILABLE",St[St.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=new Ls([4294967295,4294967295],0);function EE(e){const t=KD().encode(e),n=new WC;return n.update(t),new Uint8Array(n.digest())}function TE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ls([n,s],0),new Ls([o,u],0)]}class ng{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new po(`Invalid padding: ${n}`);if(s<0)throw new po(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new po(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new po(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=Ls.fromNumber(this.Te)}de(t,n,s){let o=t.add(n.multiply(Ls.fromNumber(s)));return o.compare(YD)===1&&(o=new Ls([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=EE(t),[s,o]=TE(n);for(let u=0;u<this.hashCount;u++){const c=this.de(s,o,u);if(!this.Ae(c))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new ng(u,o,n);return s.forEach(m=>c.insert(m)),c}insert(t){if(this.Te===0)return;const n=EE(t),[s,o]=TE(n);for(let u=0;u<this.hashCount;u++){const c=this.de(s,o,u);this.Re(c)}}Re(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class po extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,sl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Uc(ut.min(),o,new Ht(It),ci(),_t())}}class sl{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new sl(s,n,_t(),_t(),_t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(t,n,s,o){this.Ve=t,this.removedTargetIds=n,this.key=s,this.me=o}}class sA{constructor(t,n){this.targetId=t,this.fe=n}}class aA{constructor(t,n,s=Oe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class AE{constructor(){this.ge=0,this.pe=wE(),this.ye=Oe.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=_t(),n=_t(),s=_t();return this.pe.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:at()}}),new sl(this.ye,this.we,t,n,s)}Fe(){this.Se=!1,this.pe=wE()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ut(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class XD{constructor(t){this.Le=t,this.ke=new Map,this.qe=ci(),this.Qe=SE(),this.Ke=new Ht(It)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const s=this.ze(n);switch(t.state){case 0:this.je(n)&&s.Ce(t.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(t.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(n);break;case 3:this.je(n)&&(s.Be(),s.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.Ce(t.resumeToken));break;default:at()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((s,o)=>{this.je(o)&&n(o)})}Je(t){const n=t.targetId,s=t.fe.count,o=this.Ye(n);if(o){const u=o.target;if(nm(u))if(s===0){const c=new W(u.path);this.We(n,c,Ie.newNoDocument(c,ut.min()))}else Ut(s===1);else{const c=this.Ze(n);if(c!==s){const m=this.Xe(t),d=m?this.et(m,t,c):1;if(d!==0){this.He(n);const g=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let c,m;try{c=zr(s).toUint8Array()}catch(d){if(d instanceof UT)return ko("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{m=new ng(c,o,u)}catch(d){return ko(d instanceof po?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return m.Te===0?null:m}et(t,n,s){return n.fe.count===s-this.rt(t,n.targetId)?0:2}rt(t,n){const s=this.Le.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const c=this.Le.nt(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.We(n,u,null),o++)}),o}it(t){const n=new Map;this.ke.forEach((u,c)=>{const m=this.Ye(c);if(m){if(u.current&&nm(m.target)){const d=new W(m.target.path);this.qe.get(d)!==null||this.st(c,d)||this.We(c,d,Ie.newNoDocument(d,t))}u.De&&(n.set(c,u.ve()),u.Fe())}});let s=_t();this.Qe.forEach((u,c)=>{let m=!0;c.forEachWhile(d=>{const g=this.Ye(d);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.qe.forEach((u,c)=>c.setReadTime(t));const o=new Uc(t,n,this.Ke,this.qe,s);return this.qe=ci(),this.Qe=SE(),this.Ke=new Ht(It),o}Ue(t,n){if(!this.je(t))return;const s=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,s),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,s){if(!this.je(t))return;const o=this.ze(t);this.st(t,n)?o.Me(n,1):o.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),s&&(this.qe=this.qe.insert(n,s))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new AE,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new Te(It),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new AE),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function SE(){return new Ht(W.comparator)}function wE(){return new Ht(W.comparator)}const $D={asc:"ASCENDING",desc:"DESCENDING"},WD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZD={and:"AND",or:"OR"};class JD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function sm(e,t){return e.useProto3Json||Oc(t)?t:{value:t}}function rc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function oA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function tN(e,t){return rc(e,t.toTimestamp())}function Vn(e){return Ut(!!e),ut.fromTimestamp(function(n){const s=Ji(n);return new se(s.seconds,s.nanos)}(e))}function ig(e,t){return function(s){return new jt(["projects",s.projectId,"databases",s.database])}(e).child("documents").child(t).canonicalString()}function lA(e){const t=jt.fromString(e);return Ut(fA(t)),t}function am(e,t){return ig(e.databaseId,t.path)}function bd(e,t){const n=lA(t);if(n.get(1)!==e.databaseId.projectId)throw new H(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new H(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new W(uA(n))}function om(e,t){return ig(e.databaseId,t)}function eN(e){const t=lA(e);return t.length===4?jt.emptyPath():uA(t)}function lm(e){return new jt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function uA(e){return Ut(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function RE(e,t,n){return{name:am(e,t),fields:n.value.mapValue.fields}}function nN(e,t){let n;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:at()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,y){return g.useProto3Json?(Ut(y===void 0||typeof y=="string"),Oe.fromBase64String(y||"")):(Ut(y===void 0||y instanceof Uint8Array),Oe.fromUint8Array(y||new Uint8Array))}(e,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&function(g){const y=g.code===void 0?P.UNKNOWN:rA(g.code);return new H(y,g.message||"")}(c);n=new aA(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=bd(e,s.document.name),u=Vn(s.document.updateTime),c=s.document.createTime?Vn(s.document.createTime):ut.min(),m=new qe({mapValue:{fields:s.document.fields}}),d=Ie.newFoundDocument(o,u,c,m),g=s.targetIds||[],y=s.removedTargetIds||[];n=new ju(g,y,d.key,d)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=bd(e,s.document),u=s.readTime?Vn(s.readTime):ut.min(),c=Ie.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ju([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=bd(e,s.document),u=s.removedTargetIds||[];n=new ju([],u,o,null)}else{if(!("filter"in t))return at();{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new GD(o,u),m=s.targetId;n=new sA(m,c)}}return n}function iN(e,t){let n;if(t instanceof rl)n={update:RE(e,t.key,t.value)};else if(t instanceof tg)n={delete:am(e,t.key)};else if(t instanceof sr)n={update:RE(e,t.key,t.data),updateMask:fN(t.fieldMask)};else{if(!(t instanceof qD))return at();n={verify:am(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,c){const m=c.transform;if(m instanceof nc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof qo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ho)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ic)return{fieldPath:c.field.canonicalString(),increment:m.Ie};throw at()}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:tN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:at()}(e,t.precondition)),n}function rN(e,t){return e&&e.length>0?(Ut(t!==void 0),e.map(n=>function(o,u){let c=o.updateTime?Vn(o.updateTime):Vn(u);return c.isEqual(ut.min())&&(c=Vn(u)),new jD(c,o.transformResults||[])}(n,t))):[]}function sN(e,t){return{documents:[om(e,t.path)]}}function aN(e,t){const n={structuredQuery:{}},s=t.path;t.collectionGroup!==null?(n.parent=om(e,s),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=om(e,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const o=function(d){if(d.length!==0)return hA(En.create(d,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const u=function(d){if(d.length!==0)return d.map(g=>function(v){return{field:xs(v.field),direction:uN(v.dir)}}(g))}(t.orderBy);u&&(n.structuredQuery.orderBy=u);const c=sm(e,t.limit);return c!==null&&(n.structuredQuery.limit=c),t.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),n}function oN(e){let t=eN(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ut(s===1);const y=n.from[0];y.allDescendants?o=y.collectionId:t=t.child(y.collectionId)}let u=[];n.where&&(u=function(v){const T=cA(v);return T instanceof En&&zT(T)?T.getFilters():[T]}(n.where));let c=[];n.orderBy&&(c=function(v){return v.map(T=>function(k){return new ec(Vs(k.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(T))}(n.orderBy));let m=null;n.limit&&(m=function(v){let T;return T=typeof v=="object"?v.value:v,Oc(T)?null:T}(n.limit));let d=null;n.startAt&&(d=function(v){const T=!!v.before,I=v.values||[];return new tc(I,T)}(n.startAt));let g=null;return n.endAt&&(g=function(v){const T=!v.before,I=v.values||[];return new tc(I,T)}(n.endAt)),bD(t,o,c,u,m,"F",d,g)}function lN(e,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return at()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function cA(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Vs(n.unaryFilter.field);return ne.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Vs(n.unaryFilter.field);return ne.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Vs(n.unaryFilter.field);return ne.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Vs(n.unaryFilter.field);return ne.create(c,"!=",{nullValue:"NULL_VALUE"});default:return at()}}(e):e.fieldFilter!==void 0?function(n){return ne.create(Vs(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return En.create(n.compositeFilter.filters.map(s=>cA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return at()}}(n.compositeFilter.op))}(e):at()}function uN(e){return $D[e]}function cN(e){return WD[e]}function hN(e){return ZD[e]}function xs(e){return{fieldPath:e.canonicalString()}}function Vs(e){return ve.fromServerFormat(e.fieldPath)}function hA(e){return e instanceof ne?function(n){if(n.op==="=="){if(hE(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NAN"}};if(cE(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hE(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NOT_NAN"}};if(cE(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xs(n.field),op:cN(n.op),value:n.value}}}(e):e instanceof En?function(n){const s=n.getFilters().map(o=>hA(o));return s.length===1?s[0]:{compositeFilter:{op:hN(n.op),filters:s}}}(e):at()}function fN(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function fA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t,n,s,o,u=ut.min(),c=ut.min(),m=Oe.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=d}withSequenceNumber(t){return new Qi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(t){this.ut=t}}function mN(e){const t=oN({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?rm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.on=new pN}addToCollectionParentIndex(t,n){return this.on.add(n),L.resolve()}getCollectionParents(t,n){return L.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return L.resolve()}deleteFieldIndex(t,n){return L.resolve()}deleteAllFieldIndexes(t){return L.resolve()}createTargetIndexes(t,n){return L.resolve()}getDocumentsMatchingTarget(t,n){return L.resolve(null)}getIndexType(t,n){return L.resolve(0)}getFieldIndexes(t,n){return L.resolve([])}getNextCollectionGroupToUpdate(t){return L.resolve(null)}getMinOffset(t,n){return L.resolve(Zi.min())}getMinOffsetFromCollectionGroup(t,n){return L.resolve(Zi.min())}updateCollectionGroup(t,n,s){return L.resolve()}updateIndexEntries(t,n){return L.resolve()}}class pN{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Te(jt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Te(jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Ks(0)}static Nn(){return new Ks(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.changes=new ia(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ie.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?L.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&Ao(s.mutation,o,$e.empty(),se.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,_t()).next(()=>s))}getLocalViewOfDocuments(t,n,s=_t()){const o=Vr();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let c=go();return u.forEach((m,d)=>{c=c.insert(m,d.overlayedDocument)}),c}))}getOverlayedDocuments(t,n){const s=Vr();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,_t()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((c,m)=>{n.set(c,m)})})}computeViews(t,n,s,o){let u=ci();const c=To(),m=function(){return To()}();return n.forEach((d,g)=>{const y=s.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof sr)?u=u.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),Ao(y.mutation,g,y.mutation.getFieldMask(),se.now())):c.set(g.key,$e.empty())}),this.recalculateAndSaveOverlays(t,u).next(d=>(d.forEach((g,y)=>c.set(g,y)),n.forEach((g,y)=>{var v;return m.set(g,new _N(y,(v=c.get(g))!==null&&v!==void 0?v:null))}),m))}recalculateAndSaveOverlays(t,n){const s=To();let o=new Ht((c,m)=>c-m),u=_t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(c=>{for(const m of c)m.keys().forEach(d=>{const g=n.get(d);if(g===null)return;let y=s.get(d)||$e.empty();y=m.applyToLocalView(g,y),s.set(d,y);const v=(o.get(m.batchId)||_t()).add(d);o=o.insert(m.batchId,v)})}).next(()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const d=m.getNext(),g=d.key,y=d.value,v=XT();y.forEach(T=>{if(!u.has(T)){const I=nA(n.get(T),s.get(T));I!==null&&v.set(T,I),u=u.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(t,g,v))}return L.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(c){return W.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):FT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):L.resolve(Vr());let m=-1,d=u;return c.next(g=>L.forEach(g,(y,v)=>(m<v.largestBatchId&&(m=v.largestBatchId),u.get(y)?L.resolve():this.remoteDocumentCache.getEntry(t,y).next(T=>{d=d.insert(y,T)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,d,g,_t())).next(y=>({batchId:m,changes:YT(y)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new W(n)).next(s=>{let o=go();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let c=go();return this.indexManager.getCollectionParents(t,u).next(m=>L.forEach(m,d=>{const g=function(v,T){return new il(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,d.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(y=>{y.forEach((v,T)=>{c=c.insert(v,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(c=>{u.forEach((d,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,Ie.newInvalidDocument(y)))});let m=go();return c.forEach((d,g)=>{const y=u.get(d);y!==void 0&&Ao(y.mutation,g,$e.empty(),se.now()),xc(n,g)&&(m=m.insert(d,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return L.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Vn(o.createTime)}}(n)),L.resolve()}getNamedQuery(t,n){return L.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(o){return{name:o.name,query:mN(o.bundledQuery),readTime:Vn(o.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.overlays=new Ht(W.comparator),this.lr=new Map}getOverlay(t,n){return L.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Vr();return L.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.lt(t,n,u)}),L.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.lr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.lr.delete(s)),L.resolve()}getOverlaysForCollection(t,n,s){const o=Vr(),u=n.length+1,c=new W(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const d=m.getNext().value,g=d.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&d.largestBatchId>s&&o.set(d.getKey(),d)}return L.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new Ht((g,y)=>g-y);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=u.get(g.largestBatchId);y===null&&(y=Vr(),u=u.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const m=Vr(),d=u.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((g,y)=>m.set(g,y)),!(m.size()>=o)););return L.resolve(m)}lt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.lr.get(o.largestBatchId).delete(s.key);this.lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new FD(n,s));let u=this.lr.get(n);u===void 0&&(u=_t(),this.lr.set(n,u)),this.lr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.hr=new Te(ce.Pr),this.Ir=new Te(ce.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const s=new ce(t,n);this.hr=this.hr.add(s),this.Ir=this.Ir.add(s)}Er(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.dr(new ce(t,n))}Ar(t,n){t.forEach(s=>this.removeReference(s,n))}Rr(t){const n=new W(new jt([])),s=new ce(n,t),o=new ce(n,t+1),u=[];return this.Ir.forEachInRange([s,o],c=>{this.dr(c),u.push(c.key)}),u}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new W(new jt([])),s=new ce(n,t),o=new ce(n,t+1);let u=_t();return this.Ir.forEachInRange([s,o],c=>{u=u.add(c.key)}),u}containsKey(t){const n=new ce(t,0),s=this.hr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class ce{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return W.comparator(t.key,n.key)||It(t.gr,n.gr)}static Tr(t,n){return It(t.gr,n.gr)||W.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Te(ce.Pr)}checkEmpty(t){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new HD(u,n,s,o);this.mutationQueue.push(c);for(const m of o)this.yr=this.yr.add(new ce(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return L.resolve(c)}lookupMutationBatch(t,n){return L.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Sr(s),u=o<0?0:o;return L.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new ce(n,0),o=new ce(n,Number.POSITIVE_INFINITY),u=[];return this.yr.forEachInRange([s,o],c=>{const m=this.wr(c.gr);u.push(m)}),L.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Te(It);return n.forEach(o=>{const u=new ce(o,0),c=new ce(o,Number.POSITIVE_INFINITY);this.yr.forEachInRange([u,c],m=>{s=s.add(m.gr)})}),L.resolve(this.br(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;W.isDocumentKey(u)||(u=u.child(""));const c=new ce(new W(u),0);let m=new Te(It);return this.yr.forEachWhile(d=>{const g=d.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(d.gr)),!0)},c),L.resolve(this.br(m))}br(t){const n=[];return t.forEach(s=>{const o=this.wr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Ut(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.yr;return L.forEach(n.mutations,o=>{const u=new ce(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.yr=s})}Fn(t){}containsKey(t,n){const s=new ce(n,0),o=this.yr.firstAfterOrEqual(s);return L.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,L.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(t){this.Cr=t,this.docs=function(){return new Ht(W.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,c=this.Cr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return L.resolve(s?s.document.mutableCopy():Ie.newInvalidDocument(n))}getEntries(t,n){let s=ci();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ie.newInvalidDocument(o))}),L.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=ci();const c=n.path,m=new W(c.child("")),d=this.docs.getIteratorFrom(m);for(;d.hasNext();){const{key:g,value:{document:y}}=d.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||uD(lD(y),s)<=0||(o.has(y.key)||xc(n,y))&&(u=u.insert(y.key,y.mutableCopy()))}return L.resolve(u)}getAllFromCollectionGroup(t,n,s,o){at()}vr(t,n){return L.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new wN(this)}getSize(t){return L.resolve(this.size)}}class wN extends yN{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this._r.addEntry(t,o)):this._r.removeEntry(s)}),L.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(t){this.persistence=t,this.Fr=new ia(n=>Wm(n),Zm),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.Mr=0,this.Or=new rg,this.targetCount=0,this.Nr=Ks.On()}forEachTarget(t,n){return this.Fr.forEach((s,o)=>n(o)),L.resolve()}getLastRemoteSnapshotVersion(t){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return L.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Mr&&(this.Mr=n),L.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new Ks(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,L.resolve()}updateTargetData(t,n){return this.kn(n),L.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.Fr.forEach((c,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Fr.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),L.waitFor(u).next(()=>o)}getTargetCount(t){return L.resolve(this.targetCount)}getTargetData(t,n){const s=this.Fr.get(n)||null;return L.resolve(s)}addMatchingKeys(t,n,s){return this.Or.Er(n,s),L.resolve()}removeMatchingKeys(t,n,s){this.Or.Ar(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(c=>{u.push(o.markPotentiallyOrphaned(t,c))}),L.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),L.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Or.mr(n);return L.resolve(s)}containsKey(t,n){return L.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(t,n){this.Br={},this.overlays={},this.Lr=new Km(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new RN(this),this.indexManager=new gN,this.remoteDocumentCache=function(o){return new SN(o)}(s=>this.referenceDelegate.Qr(s)),this.serializer=new dN(n),this.Kr=new EN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new TN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Br[t.toKey()];return s||(s=new AN(n,this.referenceDelegate),this.Br[t.toKey()]=s),s}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,s){Q("MemoryPersistence","Starting transaction:",t);const o=new IN(this.Lr.next());return this.referenceDelegate.$r(),s(o).next(u=>this.referenceDelegate.Ur(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Wr(t,n){return L.or(Object.values(this.Br).map(s=>()=>s.containsKey(t,n)))}}class IN extends hD{constructor(t){super(),this.currentSequenceNumber=t}}class sg{constructor(t){this.persistence=t,this.Gr=new rg,this.zr=null}static jr(t){return new sg(t)}get Hr(){if(this.zr)return this.zr;throw at()}addReference(t,n,s){return this.Gr.addReference(s,n),this.Hr.delete(s.toString()),L.resolve()}removeReference(t,n,s){return this.Gr.removeReference(s,n),this.Hr.add(s.toString()),L.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),L.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(o=>this.Hr.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.Hr.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Hr,s=>{const o=W.fromPath(s);return this.Jr(t,o).next(u=>{u||n.removeEntry(o,ut.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(s=>{s?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return L.or([()=>L.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.ki=s,this.qi=o}static Qi(t,n){let s=_t(),o=_t();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ag(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.zi(t,n).next(c=>{u.result=c}).next(()=>{if(!u.result)return this.ji(t,n,o,s).next(c=>{u.result=c})}).next(()=>{if(u.result)return;const c=new CN;return this.Hi(t,n,c).next(m=>{if(u.result=m,this.$i)return this.Ji(t,n,c,m.size)})}).next(()=>u.result)}Ji(t,n,s,o){return s.documentReadCount<this.Ui?(uo()<=Et.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Ms(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),L.resolve()):(uo()<=Et.DEBUG&&Q("QueryEngine","Query:",Ms(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Wi*o?(uo()<=Et.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Ms(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xn(n))):L.resolve())}zi(t,n){if(gE(n))return L.resolve(null);let s=xn(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=rm(n,null,"F"),s=xn(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const c=_t(...u);return this.Gi.getDocuments(t,c).next(m=>this.indexManager.getMinOffset(t,s).next(d=>{const g=this.Yi(n,m);return this.Zi(n,g,c,d.readTime)?this.zi(t,rm(n,null,"F")):this.Xi(t,g,n,d)}))})))}ji(t,n,s,o){return gE(n)||o.isEqual(ut.min())?L.resolve(null):this.Gi.getDocuments(t,s).next(u=>{const c=this.Yi(n,u);return this.Zi(n,c,s,o)?L.resolve(null):(uo()<=Et.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ms(n)),this.Xi(t,c,n,oD(o,-1)).next(m=>m))})}Yi(t,n){let s=new Te(QT(t));return n.forEach((o,u)=>{xc(t,u)&&(s=s.add(u))}),s}Zi(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Hi(t,n,s){return uo()<=Et.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Ms(n)),this.Gi.getDocumentsMatchingQuery(t,n,Zi.min(),s)}Xi(t,n,s,o){return this.Gi.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(c=>{u=u.insert(c.key,c)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(t,n,s,o){this.persistence=t,this.es=n,this.serializer=o,this.ts=new Ht(It),this.ns=new ia(u=>Wm(u),Zm),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(s)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new vN(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function ON(e,t,n,s){return new NN(e,t,n,s)}async function dA(e,t){const n=ht(e);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.os(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const c=[],m=[];let d=_t();for(const g of o){c.push(g.batchId);for(const y of g.mutations)d=d.add(y.key)}for(const g of u){m.push(g.batchId);for(const y of g.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(s,d).next(g=>({_s:g,removedBatchIds:c,addedBatchIds:m}))})})}function MN(e,t){const n=ht(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.ss.newChangeBuffer({trackRemovals:!0});return function(m,d,g,y){const v=g.batch,T=v.keys();let I=L.resolve();return T.forEach(k=>{I=I.next(()=>y.getEntry(d,k)).next(j=>{const O=g.docVersions.get(k);Ut(O!==null),j.version.compareTo(O)<0&&(v.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),y.addEntry(j)))})}),I.next(()=>m.mutationQueue.removeMutationBatch(d,v))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let d=_t();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(d=d.add(m.batch.mutations[g].key));return d}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function mA(e){const t=ht(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function xN(e,t){const n=ht(e),s=t.snapshotVersion;let o=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=n.ss.newChangeBuffer({trackRemovals:!0});o=n.ts;const m=[];t.targetChanges.forEach((y,v)=>{const T=o.get(v);if(!T)return;m.push(n.qr.removeMatchingKeys(u,y.removedDocuments,v).next(()=>n.qr.addMatchingKeys(u,y.addedDocuments,v)));let I=T.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(v)!==null?I=I.withResumeToken(Oe.EMPTY_BYTE_STRING,ut.min()).withLastLimboFreeSnapshotVersion(ut.min()):y.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(y.resumeToken,s)),o=o.insert(v,I),function(j,O,Y){return j.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(T,I,y)&&m.push(n.qr.updateTargetData(u,I))});let d=ci(),g=_t();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,y))}),m.push(VN(u,c,t.documentUpdates).next(y=>{d=y.us,g=y.cs})),!s.isEqual(ut.min())){const y=n.qr.getLastRemoteSnapshotVersion(u).next(v=>n.qr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(y)}return L.waitFor(m).next(()=>c.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,d,g)).next(()=>d)}).then(u=>(n.ts=o,u))}function VN(e,t,n){let s=_t(),o=_t();return n.forEach(u=>s=s.add(u)),t.getEntries(e,s).next(u=>{let c=ci();return n.forEach((m,d)=>{const g=u.get(m);d.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),d.isNoDocument()&&d.version.isEqual(ut.min())?(t.removeEntry(m,d.readTime),c=c.insert(m,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(d),c=c.insert(m,d)):Q("LocalStore","Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",d.version)}),{us:c,cs:o}})}function PN(e,t){const n=ht(e);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function UN(e,t){const n=ht(e);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.qr.getTargetData(s,t).next(u=>u?(o=u,L.resolve(o)):n.qr.allocateTargetId(s).next(c=>(o=new Qi(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.qr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.ts=n.ts.insert(s.targetId,s),n.ns.set(t,s.targetId)),s})}async function um(e,t,n){const s=ht(e),o=s.ts.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,c=>s.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!nl(c))throw c;Q("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}s.ts=s.ts.remove(t),s.ns.delete(o.target)}function bE(e,t,n){const s=ht(e);let o=ut.min(),u=_t();return s.persistence.runTransaction("Execute query","readwrite",c=>function(d,g,y){const v=ht(d),T=v.ns.get(y);return T!==void 0?L.resolve(v.ts.get(T)):v.qr.getTargetData(g,y)}(s,c,xn(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.qr.getMatchingKeysForTargetId(c,m.targetId).next(d=>{u=d})}).next(()=>s.es.getDocumentsMatchingQuery(c,t,n?o:ut.min(),n?u:_t())).next(m=>(kN(s,CD(t),m),{documents:m,ls:u})))}function kN(e,t,n){let s=e.rs.get(t)||ut.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),e.rs.set(t,s)}class IE{constructor(){this.activeTargetIds=VD()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class LN{constructor(){this.eo=new IE,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,s){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new IE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vu=null;function Id(){return Vu===null?Vu=function(){return 268435456+Math.round(2147483648*Math.random())}():Vu++,"0x"+Vu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be="WebChannelConnection";class qN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.mo=s+"://"+n.host,this.fo=`projects/${o}/databases/${u}`,this.po=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}get yo(){return!1}wo(n,s,o,u,c){const m=Id(),d=this.So(n,s);Q("RestConnection",`Sending RPC '${n}' ${m}:`,d,o);const g={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(g,u,c),this.Do(n,d,g,o).then(y=>(Q("RestConnection",`Received RPC '${n}' ${m}: `,y),y),y=>{throw ko("RestConnection",`RPC '${n}' ${m} failed with error: `,y,"url: ",d,"request:",o),y})}Co(n,s,o,u,c,m){return this.wo(n,s,o,u,c)}bo(n,s,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+na}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,c)=>n[c]=u),o&&o.headers.forEach((u,c)=>n[c]=u)}So(n,s){const o=zN[n];return`${this.mo}/v1/${s}:${o}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,s,o){const u=Id();return new Promise((c,m)=>{const d=new $C;d.setWithCredentials(!0),d.listenOnce(YC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Rd.NO_ERROR:const y=d.getResponseJson();Q(be,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(y)),c(y);break;case Rd.TIMEOUT:Q(be,`RPC '${t}' ${u} timed out`),m(new H(P.DEADLINE_EXCEEDED,"Request time out"));break;case Rd.HTTP_ERROR:const v=d.getStatus();if(Q(be,`RPC '${t}' ${u} failed with status:`,v,"response text:",d.getResponseText()),v>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const I=T==null?void 0:T.error;if(I&&I.status&&I.message){const k=function(O){const Y=O.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(Y)>=0?Y:P.UNKNOWN}(I.status);m(new H(k,I.message))}else m(new H(P.UNKNOWN,"Server responded with status "+d.getStatus()))}else m(new H(P.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{Q(be,`RPC '${t}' ${u} completed.`)}});const g=JSON.stringify(o);Q(be,`RPC '${t}' ${u} sending request:`,o),d.send(n,"POST",g,s,15)})}vo(t,n,s){const o=Id(),u=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=QC(),m=KC(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.bo(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const y=u.join("");Q(be,`Creating RPC '${t}' stream ${o}: ${y}`,d);const v=c.createWebChannel(y,d);let T=!1,I=!1;const k=new BN({co:O=>{I?Q(be,`Not sending because RPC '${t}' stream ${o} is closed:`,O):(T||(Q(be,`Opening RPC '${t}' stream ${o} transport.`),v.open(),T=!0),Q(be,`RPC '${t}' stream ${o} sending:`,O),v.send(O))},lo:()=>v.close()}),j=(O,Y,J)=>{O.listen(Y,nt=>{try{J(nt)}catch(bt){setTimeout(()=>{throw bt},0)}})};return j(v,Ou.EventType.OPEN,()=>{I||Q(be,`RPC '${t}' stream ${o} transport opened.`)}),j(v,Ou.EventType.CLOSE,()=>{I||(I=!0,Q(be,`RPC '${t}' stream ${o} transport closed`),k.Ro())}),j(v,Ou.EventType.ERROR,O=>{I||(I=!0,ko(be,`RPC '${t}' stream ${o} transport errored:`,O),k.Ro(new H(P.UNAVAILABLE,"The operation could not be completed")))}),j(v,Ou.EventType.MESSAGE,O=>{var Y;if(!I){const J=O.data[0];Ut(!!J);const nt=J,bt=nt.error||((Y=nt[0])===null||Y===void 0?void 0:Y.error);if(bt){Q(be,`RPC '${t}' stream ${o} received error:`,bt);const rt=bt.status;let kt=function($){const yt=te[$];if(yt!==void 0)return rA(yt)}(rt),Ae=bt.message;kt===void 0&&(kt=P.INTERNAL,Ae="Unknown error status: "+rt+" with message "+bt.message),I=!0,k.Ro(new H(kt,Ae)),v.close()}else Q(be,`RPC '${t}' stream ${o} received:`,J),k.Vo(J)}}),j(m,XC.STAT_EVENT,O=>{O.stat===rE.PROXY?Q(be,`RPC '${t}' stream ${o} detected buffering proxy`):O.stat===rE.NOPROXY&&Q(be,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.Ao()},0),k}}function Cd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(e){return new JD(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(t,n,s=1e3,o=1.5,u=6e4){this.si=t,this.timerId=n,this.Fo=s,this.Mo=o,this.xo=u,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),s=Math.max(0,Date.now()-this.Bo),o=Math.max(0,n-s);o>0&&Q("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,o,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(t,n,s,o,u,c,m,d){this.si=t,this.Ko=s,this.$o=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=d,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new gA(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(ui(n.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Uo===n&&this.s_(s,o)},s=>{t(()=>{const o=new H(P.UNKNOWN,"Fetching auth token failed: "+s.message);return this.o_(o)})})}s_(t,n){const s=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{s(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(o=>{s(()=>this.o_(o))}),this.stream.onMessage(o=>{s(()=>this.onMessage(o))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return Q("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HN extends pA{constructor(t,n,s,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=nN(this.serializer,t),s=function(u){if(!("targetChange"in u))return ut.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?ut.min():c.readTime?Vn(c.readTime):ut.min()}(t);return this.listener.a_(n,s)}u_(t){const n={};n.database=lm(this.serializer),n.addTarget=function(u,c){let m;const d=c.target;if(m=nm(d)?{documents:sN(u,d)}:{query:aN(u,d)},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=oA(u,c.resumeToken);const g=sm(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(ut.min())>0){m.readTime=rc(u,c.snapshotVersion.toTimestamp());const g=sm(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const s=lN(this.serializer,t);s&&(n.labels=s),this.e_(n)}c_(t){const n={};n.database=lm(this.serializer),n.removeTarget=t,this.e_(n)}}class FN extends pA{constructor(t,n,s,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,n){return this.connection.vo("Write",t,n)}onMessage(t){if(Ut(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const n=rN(t.writeResults,t.commitTime),s=Vn(t.commitTime);return this.listener.I_(s,n)}return Ut(!t.writeResults||t.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=lm(this.serializer),this.e_(t)}P_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>iN(this.serializer,s))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN extends class{}{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.d_=!1}A_(){if(this.d_)throw new H(P.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.wo(t,n,s,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(P.UNKNOWN,o.toString())})}Co(t,n,s,o){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.Co(t,n,s,u,c,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new H(P.UNKNOWN,u.toString())})}terminate(){this.d_=!0}}class QN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ui(n),this.f_=!1):Q("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=u,this.F_.ro(c=>{s.enqueueAndForget(async()=>{Qr(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(d){const g=ht(d);g.C_.add(4),await al(g),g.M_.set("Unknown"),g.C_.delete(4),await Lc(g)}(this))})}),this.M_=new QN(s,o)}}async function Lc(e){if(Qr(e))for(const t of e.v_)await t(!0)}async function al(e){for(const t of e.v_)await t(!1)}function yA(e,t){const n=ht(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),ug(n)?lg(n):ra(n).Ho()&&og(n,t))}function _A(e,t){const n=ht(e),s=ra(n);n.D_.delete(t),s.Ho()&&vA(n,t),n.D_.size===0&&(s.Ho()?s.Zo():Qr(n)&&n.M_.set("Unknown"))}function og(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ut.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ra(e).u_(t)}function vA(e,t){e.x_.Oe(t),ra(e).c_(t)}function lg(e){e.x_=new XD({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),ra(e).start(),e.M_.g_()}function ug(e){return Qr(e)&&!ra(e).jo()&&e.D_.size>0}function Qr(e){return ht(e).C_.size===0}function EA(e){e.x_=void 0}async function YN(e){e.D_.forEach((t,n)=>{og(e,t)})}async function XN(e,t){EA(e),ug(e)?(e.M_.w_(t),lg(e)):e.M_.set("Unknown")}async function $N(e,t,n){if(e.M_.set("Online"),t instanceof aA&&t.state===2&&t.cause)try{await async function(o,u){const c=u.cause;for(const m of u.targetIds)o.D_.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.D_.delete(m),o.x_.removeTarget(m))}(e,t)}catch(s){Q("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),s),await sc(e,s)}else if(t instanceof ju?e.x_.$e(t):t instanceof sA?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(ut.min()))try{const s=await mA(e.localStore);n.compareTo(s)>=0&&await function(u,c){const m=u.x_.it(c);return m.targetChanges.forEach((d,g)=>{if(d.resumeToken.approximateByteSize()>0){const y=u.D_.get(g);y&&u.D_.set(g,y.withResumeToken(d.resumeToken,c))}}),m.targetMismatches.forEach((d,g)=>{const y=u.D_.get(d);if(!y)return;u.D_.set(d,y.withResumeToken(Oe.EMPTY_BYTE_STRING,y.snapshotVersion)),vA(u,d);const v=new Qi(y.target,d,g,y.sequenceNumber);og(u,v)}),u.remoteSyncer.applyRemoteEvent(m)}(e,n)}catch(s){Q("RemoteStore","Failed to raise snapshot:",s),await sc(e,s)}}async function sc(e,t,n){if(!nl(t))throw t;e.C_.add(1),await al(e),e.M_.set("Offline"),n||(n=()=>mA(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await Lc(e)})}function TA(e,t){return t().catch(n=>sc(e,n,t))}async function jc(e){const t=ht(e),n=tr(t);let s=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;WN(t);)try{const o=await PN(t.localStore,s);if(o===null){t.b_.length===0&&n.Zo();break}s=o.batchId,ZN(t,o)}catch(o){await sc(t,o)}AA(t)&&SA(t)}function WN(e){return Qr(e)&&e.b_.length<10}function ZN(e,t){e.b_.push(t);const n=tr(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function AA(e){return Qr(e)&&!tr(e).jo()&&e.b_.length>0}function SA(e){tr(e).start()}async function JN(e){tr(e).E_()}async function tO(e){const t=tr(e);for(const n of e.b_)t.P_(n.mutations)}async function eO(e,t,n){const s=e.b_.shift(),o=eg.from(s,t,n);await TA(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await jc(e)}async function nO(e,t){t&&tr(e).h_&&await async function(s,o){if(function(c){return QD(c)&&c!==P.ABORTED}(o.code)){const u=s.b_.shift();tr(s).Yo(),await TA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await jc(s)}}(e,t),AA(e)&&SA(e)}async function DE(e,t){const n=ht(e);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const s=Qr(n);n.C_.add(3),await al(n),s&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await Lc(n)}async function iO(e,t){const n=ht(e);t?(n.C_.delete(2),await Lc(n)):t||(n.C_.add(2),await al(n),n.M_.set("Unknown"))}function ra(e){return e.O_||(e.O_=function(n,s,o){const u=ht(n);return u.A_(),new HN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(e.datastore,e.asyncQueue,{ho:YN.bind(null,e),Io:XN.bind(null,e),a_:$N.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),ug(e)?lg(e):e.M_.set("Unknown")):(await e.O_.stop(),EA(e))})),e.O_}function tr(e){return e.N_||(e.N_=function(n,s,o){const u=ht(n);return u.A_(),new FN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(e.datastore,e.asyncQueue,{ho:JN.bind(null,e),Io:nO.bind(null,e),T_:tO.bind(null,e),I_:eO.bind(null,e)}),e.v_.push(async t=>{t?(e.N_.Yo(),await jc(e)):(await e.N_.stop(),e.b_.length>0&&(Q("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))})),e.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const c=Date.now()+s,m=new cg(t,n,c,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(P.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hg(e,t){if(ui("AsyncQueue",`${t}: ${e}`),nl(e))return new H(P.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t){this.comparator=t?(n,s)=>t(n,s)||W.comparator(n.key,s.key):(n,s)=>W.comparator(n.key,s.key),this.keyedMap=go(),this.sortedSet=new Ht(this.comparator)}static emptySet(t){return new js(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof js)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new js;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(){this.B_=new Ht(W.comparator)}track(t){const n=t.doc.key,s=this.B_.get(n);s?t.type!==0&&s.type===3?this.B_=this.B_.insert(n,t):t.type===3&&s.type!==1?this.B_=this.B_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.B_=this.B_.remove(n):t.type===1&&s.type===2?this.B_=this.B_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):at():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,s)=>{t.push(s)}),t}}class Ys{constructor(t,n,s,o,u,c,m,d,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=d,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const c=[];return n.forEach(m=>{c.push({type:0,doc:m})}),new Ys(t,n,js.emptySet(n),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Mc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(){this.k_=void 0,this.listeners=[]}}class sO{constructor(){this.queries=new ia(t=>GT(t),Mc),this.onlineState="Unknown",this.q_=new Set}}async function wA(e,t){const n=ht(e),s=t.query;let o=!1,u=n.queries.get(s);if(u||(o=!0,u=new rO),o)try{u.k_=await n.onListen(s)}catch(c){const m=hg(c,`Initialization of query '${Ms(t.query)}' failed`);return void t.onError(m)}n.queries.set(s,u),u.listeners.push(t),t.Q_(n.onlineState),u.k_&&t.K_(u.k_)&&fg(n)}async function RA(e,t){const n=ht(e),s=t.query;let o=!1;const u=n.queries.get(s);if(u){const c=u.listeners.indexOf(t);c>=0&&(u.listeners.splice(c,1),o=u.listeners.length===0)}if(o)return n.queries.delete(s),n.onUnlisten(s)}function aO(e,t){const n=ht(e);let s=!1;for(const o of t){const u=o.query,c=n.queries.get(u);if(c){for(const m of c.listeners)m.K_(o)&&(s=!0);c.k_=o}}s&&fg(n)}function oO(e,t,n){const s=ht(e),o=s.queries.get(t);if(o)for(const u of o.listeners)u.onError(n);s.queries.delete(t)}function fg(e){e.q_.forEach(t=>{t.next()})}class bA{constructor(t,n,s){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=s||{}}K_(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Ys(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const s=n!=="Offline";return(!this.options.J_||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=Ys.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(t){this.key=t}}class CA{constructor(t){this.key=t}}class lO{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=_t(),this.mutatedKeys=_t(),this._a=QT(t),this.aa=new js(this._a)}get ua(){return this.ia}ca(t,n){const s=n?n.la:new NE,o=n?n.aa:this.aa;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const d=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((y,v)=>{const T=o.get(y),I=xc(this.query,v)?v:null,k=!!T&&this.mutatedKeys.has(T.key),j=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let O=!1;T&&I?T.data.isEqual(I.data)?k!==j&&(s.track({type:3,doc:I}),O=!0):this.ha(T,I)||(s.track({type:2,doc:I}),O=!0,(d&&this._a(I,d)>0||g&&this._a(I,g)<0)&&(m=!0)):!T&&I?(s.track({type:0,doc:I}),O=!0):T&&!I&&(s.track({type:1,doc:T}),O=!0,(d||g)&&(m=!0)),O&&(I?(c=c.add(I),u=j?u.add(y):u.delete(y)):(c=c.delete(y),u=u.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),u=u.delete(y.key),s.track({type:1,doc:y})}return{aa:c,la:s,Zi:m,mutatedKeys:u}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const c=t.la.L_();c.sort((y,v)=>function(I,k){const j=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return j(I)-j(k)}(y.type,v.type)||this._a(y.doc,v.doc)),this.Pa(s),o=o!=null&&o;const m=n&&!o?this.Ia():[],d=this.oa.size===0&&this.current&&!o?1:0,g=d!==this.sa;return this.sa=d,c.length!==0||g?{snapshot:new Ys(this.query,t.aa,u,c,t.mutatedKeys,d===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ta:m}:{Ta:m}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new NE,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=_t(),this.aa.forEach(s=>{this.Ea(s.key)&&(this.oa=this.oa.add(s.key))});const n=[];return t.forEach(s=>{this.oa.has(s)||n.push(new CA(s))}),this.oa.forEach(s=>{t.has(s)||n.push(new IA(s))}),n}da(t){this.ia=t.ls,this.oa=_t();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return Ys.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class uO{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class cO{constructor(t){this.key=t,this.Ra=!1}}class hO{constructor(t,n,s,o,u,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Va={},this.ma=new ia(m=>GT(m),Mc),this.fa=new Map,this.ga=new Set,this.pa=new Ht(W.comparator),this.ya=new Map,this.wa=new rg,this.Sa={},this.ba=new Map,this.Da=Ks.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function fO(e,t){const n=AO(e);let s,o;const u=n.ma.get(t);if(u)s=u.targetId,n.sharedClientState.addLocalQueryTarget(s),o=u.view.Aa();else{const c=await UN(n.localStore,xn(t)),m=n.sharedClientState.addLocalQueryTarget(c.targetId);s=c.targetId,o=await dO(n,t,s,m==="current",c.resumeToken),n.isPrimaryClient&&yA(n.remoteStore,c)}return o}async function dO(e,t,n,s,o){e.va=(v,T,I)=>async function(j,O,Y,J){let nt=O.view.ca(Y);nt.Zi&&(nt=await bE(j.localStore,O.query,!1).then(({documents:Ae})=>O.view.ca(Ae,nt)));const bt=J&&J.targetChanges.get(O.targetId),rt=J&&J.targetMismatches.get(O.targetId)!=null,kt=O.view.applyChanges(nt,j.isPrimaryClient,bt,rt);return ME(j,O.targetId,kt.Ta),kt.snapshot}(e,v,T,I);const u=await bE(e.localStore,t,!0),c=new lO(t,u.ls),m=c.ca(u.documents),d=sl.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",o),g=c.applyChanges(m,e.isPrimaryClient,d);ME(e,n,g.Ta);const y=new uO(t,n,c);return e.ma.set(t,y),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),g.snapshot}async function mO(e,t){const n=ht(e),s=n.ma.get(t),o=n.fa.get(s.targetId);if(o.length>1)return n.fa.set(s.targetId,o.filter(u=>!Mc(u,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await um(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),_A(n.remoteStore,s.targetId),cm(n,s.targetId)}).catch(el)):(cm(n,s.targetId),await um(n.localStore,s.targetId,!0))}async function gO(e,t,n){const s=SO(e);try{const o=await function(c,m){const d=ht(c),g=se.now(),y=m.reduce((I,k)=>I.add(k.key),_t());let v,T;return d.persistence.runTransaction("Locally write mutations","readwrite",I=>{let k=ci(),j=_t();return d.ss.getEntries(I,y).next(O=>{k=O,k.forEach((Y,J)=>{J.isValidDocument()||(j=j.add(Y))})}).next(()=>d.localDocuments.getOverlayedDocuments(I,k)).next(O=>{v=O;const Y=[];for(const J of m){const nt=BD(J,v.get(J.key).overlayedDocument);nt!=null&&Y.push(new sr(J.key,nt,kT(nt.value.mapValue),dn.exists(!0)))}return d.mutationQueue.addMutationBatch(I,g,Y,m)}).next(O=>{T=O;const Y=O.applyToLocalDocumentSet(v,j);return d.documentOverlayCache.saveOverlays(I,O.batchId,Y)})}).then(()=>({batchId:T.batchId,changes:YT(v)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(c,m,d){let g=c.Sa[c.currentUser.toKey()];g||(g=new Ht(It)),g=g.insert(m,d),c.Sa[c.currentUser.toKey()]=g}(s,o.batchId,n),await ol(s,o.changes),await jc(s.remoteStore)}catch(o){const u=hg(o,"Failed to persist write");n.reject(u)}}async function DA(e,t){const n=ht(e);try{const s=await xN(n.localStore,t);t.targetChanges.forEach((o,u)=>{const c=n.ya.get(u);c&&(Ut(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Ra=!0:o.modifiedDocuments.size>0?Ut(c.Ra):o.removedDocuments.size>0&&(Ut(c.Ra),c.Ra=!1))}),await ol(n,s,t)}catch(s){await el(s)}}function OE(e,t,n){const s=ht(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ma.forEach((u,c)=>{const m=c.view.Q_(t);m.snapshot&&o.push(m.snapshot)}),function(c,m){const d=ht(c);d.onlineState=m;let g=!1;d.queries.forEach((y,v)=>{for(const T of v.listeners)T.Q_(m)&&(g=!0)}),g&&fg(d)}(s.eventManager,t),o.length&&s.Va.a_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function pO(e,t,n){const s=ht(e);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.ya.get(t),u=o&&o.key;if(u){let c=new Ht(W.comparator);c=c.insert(u,Ie.newNoDocument(u,ut.min()));const m=_t().add(u),d=new Uc(ut.min(),new Map,new Ht(It),c,m);await DA(s,d),s.pa=s.pa.remove(u),s.ya.delete(t),dg(s)}else await um(s.localStore,t,!1).then(()=>cm(s,t,n)).catch(el)}async function yO(e,t){const n=ht(e),s=t.batch.batchId;try{const o=await MN(n.localStore,t);OA(n,s,null),NA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ol(n,o)}catch(o){await el(o)}}async function _O(e,t,n){const s=ht(e);try{const o=await function(c,m){const d=ht(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return d.mutationQueue.lookupMutationBatch(g,m).next(v=>(Ut(v!==null),y=v.keys(),d.mutationQueue.removeMutationBatch(g,v))).next(()=>d.mutationQueue.performConsistencyCheck(g)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(g,y,m)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>d.localDocuments.getDocuments(g,y))})}(s.localStore,t);OA(s,t,n),NA(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await ol(s,o)}catch(o){await el(o)}}function NA(e,t){(e.ba.get(t)||[]).forEach(n=>{n.resolve()}),e.ba.delete(t)}function OA(e,t,n){const s=ht(e);let o=s.Sa[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Sa[s.currentUser.toKey()]=o}}function cm(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.fa.get(t))e.ma.delete(s),n&&e.Va.Fa(s,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(s=>{e.wa.containsKey(s)||MA(e,s)})}function MA(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(_A(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),dg(e))}function ME(e,t,n){for(const s of n)s instanceof IA?(e.wa.addReference(s.key,t),vO(e,s)):s instanceof CA?(Q("SyncEngine","Document no longer in limbo: "+s.key),e.wa.removeReference(s.key,t),e.wa.containsKey(s.key)||MA(e,s.key)):at()}function vO(e,t){const n=t.key,s=n.path.canonicalString();e.pa.get(n)||e.ga.has(s)||(Q("SyncEngine","New document in limbo: "+n),e.ga.add(s),dg(e))}function dg(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new W(jt.fromString(t)),s=e.Da.next();e.ya.set(s,new cO(n)),e.pa=e.pa.insert(n,s),yA(e.remoteStore,new Qi(xn(Jm(n.path)),s,"TargetPurposeLimboResolution",Km._e))}}async function ol(e,t,n){const s=ht(e),o=[],u=[],c=[];s.ma.isEmpty()||(s.ma.forEach((m,d)=>{c.push(s.va(d,t,n).then(g=>{if((g||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(d.targetId,g!=null&&g.fromCache?"not-current":"current"),g){o.push(g);const y=ag.Qi(d.targetId,g);u.push(y)}}))}),await Promise.all(c),s.Va.a_(o),await async function(d,g){const y=ht(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>L.forEach(g,T=>L.forEach(T.ki,I=>y.persistence.referenceDelegate.addReference(v,T.targetId,I)).next(()=>L.forEach(T.qi,I=>y.persistence.referenceDelegate.removeReference(v,T.targetId,I)))))}catch(v){if(!nl(v))throw v;Q("LocalStore","Failed to update sequence numbers: "+v)}for(const v of g){const T=v.targetId;if(!v.fromCache){const I=y.ts.get(T),k=I.snapshotVersion,j=I.withLastLimboFreeSnapshotVersion(k);y.ts=y.ts.insert(T,j)}}}(s.localStore,u))}async function EO(e,t){const n=ht(e);if(!n.currentUser.isEqual(t)){Q("SyncEngine","User change. New user:",t.toKey());const s=await dA(n.localStore,t);n.currentUser=t,function(u,c){u.ba.forEach(m=>{m.forEach(d=>{d.reject(new H(P.CANCELLED,c))})}),u.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await ol(n,s._s)}}function TO(e,t){const n=ht(e),s=n.ya.get(t);if(s&&s.Ra)return _t().add(s.key);{let o=_t();const u=n.fa.get(t);if(!u)return o;for(const c of u){const m=n.ma.get(c);o=o.unionWith(m.view.ua)}return o}}function AO(e){const t=ht(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=DA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=TO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pO.bind(null,t),t.Va.a_=aO.bind(null,t.eventManager),t.Va.Fa=oO.bind(null,t.eventManager),t}function SO(e){const t=ht(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_O.bind(null,t),t}class xE{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=kc(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return ON(this.persistence,new DN,t.initialUser,this.serializer)}createPersistence(t){return new bN(sg.jr,this.serializer)}createSharedClientState(t){return new LN}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class wO{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>OE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=EO.bind(null,this.syncEngine),await iO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new sO}()}createDatastore(t){const n=kc(t.databaseInfo.databaseId),s=function(u){return new qN(u)}(t.databaseInfo);return function(u,c,m,d){return new GN(u,c,m,d)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,c,m){return new KN(s,o,u,c,m)}(this.localStore,this.datastore,t.asyncQueue,n=>OE(this.syncEngine,n,0),function(){return CE.D()?new CE:new jN}())}createSyncEngine(t,n){return function(o,u,c,m,d,g,y){const v=new hO(o,u,c,m,d,g);return y&&(v.Ca=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const s=ht(n);Q("RemoteStore","RemoteStore shutting down."),s.C_.add(5),await al(s),s.F_.shutdown(),s.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):ui("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(t,n,s,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Be.UNAUTHENTICATED,this.clientId=VT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async u=>{Q("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(s,u=>(Q("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=hg(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Dd(e,t){e.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener(async o=>{s.isEqual(o)||(await dA(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function VE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await IO(e);Q("FirestoreClient","Initializing OnlineComponentProvider");const s=await e.getConfiguration();await t.initialize(n,s),e.setCredentialChangeListener(o=>DE(t.remoteStore,o)),e.setAppCheckTokenChangeListener((o,u)=>DE(t.remoteStore,u)),e._onlineComponents=t}function bO(e){return e.name==="FirebaseError"?e.code===P.FAILED_PRECONDITION||e.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function IO(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Dd(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!bO(n))throw n;ko("Error using user provided cache. Falling back to memory cache: "+n),await Dd(e,new xE)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await Dd(e,new xE);return e._offlineComponents}async function VA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await VE(e,e._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await VE(e,new wO))),e._onlineComponents}function CO(e){return VA(e).then(t=>t.syncEngine)}async function PA(e){const t=await VA(e),n=t.eventManager;return n.onListen=fO.bind(null,t.syncEngine),n.onUnlisten=mO.bind(null,t.syncEngine),n}function DO(e,t,n={}){const s=new oi;return e.asyncQueue.enqueueAndForget(async()=>function(u,c,m,d,g){const y=new xA({next:T=>{c.enqueueAndForget(()=>RA(u,v));const I=T.docs.has(m);!I&&T.fromCache?g.reject(new H(P.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&T.fromCache&&d&&d.source==="server"?g.reject(new H(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),v=new bA(Jm(m.path),y,{includeMetadataChanges:!0,J_:!0});return wA(u,v)}(await PA(e),e.asyncQueue,t,n,s)),s.promise}function NO(e,t,n={}){const s=new oi;return e.asyncQueue.enqueueAndForget(async()=>function(u,c,m,d,g){const y=new xA({next:T=>{c.enqueueAndForget(()=>RA(u,v)),T.fromCache&&d.source==="server"?g.reject(new H(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),v=new bA(m,y,{includeMetadataChanges:!0,J_:!0});return wA(u,v)}(await PA(e),e.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(e,t,n){if(!n)throw new H(P.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function OO(e,t,n,s){if(t===!0&&s===!0)throw new H(P.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function UE(e){if(!W.isDocumentKey(e))throw new H(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function kE(e){if(W.isDocumentKey(e))throw new H(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function zc(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":at()}function Ln(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new H(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zc(e);throw new H(P.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new H(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new H(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}OO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UA((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class mg{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new H(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LE(t),t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new JC;switch(s.type){case"firstParty":return new nD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new H(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=PE.get(n);s&&(Q("ComponentProvider","Removing Datastore"),PE.delete(n),s.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new sa(this.firestore,t,this._query)}}class Ue{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ue(this.firestore,t,this._key)}}class Wi extends sa{constructor(t,n,s){super(t,n,Jm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ue(this.firestore,null,new W(t))}withConverter(t){return new Wi(this.firestore,t,this._path)}}function gg(e,t,...n){if(e=he(e),kA("collection","path",t),e instanceof mg){const s=jt.fromString(t,...n);return kE(s),new Wi(e,null,s)}{if(!(e instanceof Ue||e instanceof Wi))throw new H(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(jt.fromString(t,...n));return kE(s),new Wi(e.firestore,null,s)}}function aa(e,t,...n){if(e=he(e),arguments.length===1&&(t=VT.newId()),kA("doc","path",t),e instanceof mg){const s=jt.fromString(t,...n);return UE(s),new Ue(e,null,new W(s))}{if(!(e instanceof Ue||e instanceof Wi))throw new H(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(jt.fromString(t,...n));return UE(s),new Ue(e.firestore,e instanceof Wi?e.converter:null,new W(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new gA(this,"async_queue_retry"),this.iu=()=>{const n=Cd();n&&Q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=Cd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=Cd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new oi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!nl(t))throw t;Q("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(s=>{this.eu=s,this.tu=!1;const o=function(c){let m=c.message||"";return c.stack&&(m=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),m}(s);throw ui("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.tu=!1,s))));return this.Ja=n,n}enqueueAfterDelay(t,n,s){this.su(),this.ru.indexOf(t)>-1&&(n=0);const o=cg.createAndSchedule(this,t,n,s,u=>this.au(u));return this.Xa.push(o),o}su(){this.eu&&at()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}class Kr extends mg{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=function(){return new MO}(),this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||LA(this),this._firestoreClient.terminate()}}function xO(e,t,n){n||(n="(default)");const s=wm(e,"firestore");if(s.isInitialized(n)){const o=s.getImmediate({identifier:n}),u=s.getOptions(n);if(Io(u,t))return o;throw new H(P.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new H(P.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new H(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return s.initialize({options:t,instanceIdentifier:n})}function pg(e){return e._firestoreClient||LA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function LA(e){var t,n,s;const o=e._freezeSettings(),u=function(m,d,g,y){return new mD(m,d,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,UA(y.experimentalLongPollingOptions),y.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,o);e._firestoreClient=new RO(e._authCredentials,e._appCheckCredentials,e._queue,u),!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.localCache.kind,_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xs(Oe.fromBase64String(t))}catch(n){throw new H(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Xs(Oe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new H(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ve(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new H(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new H(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=/^__.*__$/;class PO{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new sr(t,this.data,this.fieldMask,n,this.fieldTransforms):new rl(t,this.data,n,this.fieldTransforms)}}class jA{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new sr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function zA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class vg{constructor(t,n,s,o,u,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Pu(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new vg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Tu({path:s,du:!1});return o.Au(t),o}Ru(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Tu({path:s,du:!1});return o.Pu(),o}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return ac(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(zA(this.Iu)&&VO.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class UO{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||kc(t)}pu(t,n,s,o=!1){return new vg({Iu:t,methodName:n,gu:s,path:ve.emptyPath(),du:!1,fu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qc(e){const t=e._freezeSettings(),n=kc(e._databaseId);return new UO(e._databaseId,!!t.ignoreUndefinedProperties,n)}function BA(e,t,n,s,o,u={}){const c=e.pu(u.merge||u.mergeFields?2:0,t,n,o);Eg("Data must be an object, but it was:",c,s);const m=qA(s,c);let d,g;if(u.merge)d=new $e(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const y=[];for(const v of u.mergeFields){const T=hm(t,v,n);if(!c.contains(T))throw new H(P.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);FA(y,T)||y.push(T)}d=new $e(y),g=c.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,g=c.fieldTransforms;return new PO(new qe(m),d,g)}class Hc extends yg{_toFieldTransform(t){if(t.Iu!==2)throw t.Iu===1?t.mu(`${this._methodName}() can only appear at the top level of your update data`):t.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Hc}}function kO(e,t,n,s){const o=e.pu(1,t,n);Eg("Data must be an object, but it was:",o,s);const u=[],c=qe.empty();Gr(s,(d,g)=>{const y=Tg(t,d,n);g=he(g);const v=o.Ru(y);if(g instanceof Hc)u.push(y);else{const T=ll(g,v);T!=null&&(u.push(y),c.set(y,T))}});const m=new $e(u);return new jA(c,m,o.fieldTransforms)}function LO(e,t,n,s,o,u){const c=e.pu(1,t,n),m=[hm(t,s,n)],d=[o];if(u.length%2!=0)throw new H(P.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)m.push(hm(t,u[T])),d.push(u[T+1]);const g=[],y=qe.empty();for(let T=m.length-1;T>=0;--T)if(!FA(g,m[T])){const I=m[T];let k=d[T];k=he(k);const j=c.Ru(I);if(k instanceof Hc)g.push(I);else{const O=ll(k,j);O!=null&&(g.push(I),y.set(I,O))}}const v=new $e(g);return new jA(y,v,c.fieldTransforms)}function jO(e,t,n,s=!1){return ll(n,e.pu(s?4:3,t))}function ll(e,t){if(HA(e=he(e)))return Eg("Unsupported field value:",t,e),qA(e,t);if(e instanceof yg)return function(s,o){if(!zA(o.Iu))throw o.mu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.mu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(s,o){const u=[];let c=0;for(const m of s){let d=ll(m,o.Vu(c));d==null&&(d={nullValue:"NULL_VALUE"}),u.push(d),c++}return{arrayValue:{values:u}}}(e,t)}return function(s,o){if((s=he(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return PD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=se.fromDate(s);return{timestampValue:rc(o.serializer,u)}}if(s instanceof se){const u=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:rc(o.serializer,u)}}if(s instanceof _g)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xs)return{bytesValue:oA(o.serializer,s._byteString)};if(s instanceof Ue){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.mu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ig(s.firestore._databaseId||o.databaseId,s._key.path)}}throw o.mu(`Unsupported field value: ${zc(s)}`)}(e,t)}function qA(e,t){const n={};return PT(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gr(e,(s,o)=>{const u=ll(o,t.Eu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function HA(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof se||e instanceof _g||e instanceof Xs||e instanceof Ue||e instanceof yg)}function Eg(e,t,n){if(!HA(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=zc(n);throw s==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+s)}}function hm(e,t,n){if((t=he(t))instanceof Bc)return t._internalPath;if(typeof t=="string")return Tg(e,t);throw ac("Field path arguments must be of type string or ",e,!1,void 0,n)}const zO=new RegExp("[~\\*/\\[\\]]");function Tg(e,t,n){if(t.search(zO)>=0)throw ac(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Bc(...t.split("."))._internalPath}catch{throw ac(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ac(e,t,n,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let d="";return(u||c)&&(d+=" (found",u&&(d+=` in field ${s}`),c&&(d+=` in document ${o}`),d+=")"),new H(P.INVALID_ARGUMENT,m+e+d)}function FA(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new BO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Ag("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BO extends GA{data(){return super.data()}}function Ag(e,t){return typeof t=="string"?Tg(e,t):t instanceof Bc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new H(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sg{}class HO extends Sg{}function FO(e,t,...n){let s=[];t instanceof Sg&&s.push(t),s=s.concat(n),function(u){const c=u.filter(d=>d instanceof wg).length,m=u.filter(d=>d instanceof Fc).length;if(c>1||c>0&&m>0)throw new H(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)e=o._apply(e);return e}class Fc extends HO{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Fc(t,n,s)}_apply(t){const n=this._parse(t);return QA(t._query,n),new sa(t.firestore,t.converter,im(t._query,n))}_parse(t){const n=qc(t.firestore);return function(u,c,m,d,g,y,v){let T;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new H(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){zE(v,y);const I=[];for(const k of v)I.push(jE(d,u,k));T={arrayValue:{values:I}}}else T=jE(d,u,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||zE(v,y),T=jO(m,c,v,y==="in"||y==="not-in");return ne.create(g,y,T)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function GO(e,t,n){const s=t,o=Ag("where",e);return Fc._create(o,s,n)}class wg extends Sg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new wg(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:En.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let c=o;const m=u.getFlattenedFilters();for(const d of m)QA(c,d),c=im(c,d)}(t._query,n),new sa(t.firestore,t.converter,im(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function jE(e,t,n){if(typeof(n=he(n))=="string"){if(n==="")throw new H(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FT(t)&&n.indexOf("/")!==-1)throw new H(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(jt.fromString(n));if(!W.isDocumentKey(s))throw new H(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return uE(e,new W(s))}if(n instanceof Ue)return uE(e,n._key);throw new H(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zc(n)}.`)}function zE(e,t){if(!Array.isArray(e)||e.length===0)throw new H(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function QA(e,t){const n=function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(e.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new H(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new H(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class QO{convertValue(t,n="none"){switch(Br(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(zr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw at()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Gr(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertGeoPoint(t){return new _g(ee(t.latitude),ee(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Xm(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(jo(t));default:return null}}convertTimestamp(t){const n=Ji(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=jt.fromString(t);Ut(fA(s));const o=new zo(s.get(1),s.get(3)),u=new W(s.popFirst(5));return o.isEqual(n)||ui(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(e,t,n){let s;return s=e?e.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class YA extends GA{constructor(t,n,s,o,u,c){super(t,n,s,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Ag("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class zu extends YA{data(t={}){return super.data(t)}}class KO{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new yo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new zu(this._firestore,this._userDataWriter,s.key,s,new yo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(m=>{const d=new zu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new yo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const d=new zu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new yo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,y=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),y=c.indexOf(m.doc.key)),{type:YO(m.type),doc:d,oldIndex:g,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function YO(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(e){e=Ln(e,Ue);const t=Ln(e.firestore,Kr);return DO(pg(t),e._key).then(n=>JO(t,e,n))}class XA extends QO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xs(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ue(this.firestore,null,n)}}function $A(e){e=Ln(e,sa);const t=Ln(e.firestore,Kr),n=pg(t),s=new XA(t);return qO(e._query),NO(n,e._query).then(o=>new KO(t,s,e,o))}function $O(e,t,n){e=Ln(e,Ue);const s=Ln(e.firestore,Kr),o=KA(e.converter,t);return Gc(s,[BA(qc(s),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,dn.none())])}function WO(e,t,n,...s){e=Ln(e,Ue);const o=Ln(e.firestore,Kr),u=qc(o);let c;return c=typeof(t=he(t))=="string"||t instanceof Bc?LO(u,"updateDoc",e._key,t,n,s):kO(u,"updateDoc",e._key,t),Gc(o,[c.toMutation(e._key,dn.exists(!0))])}function WA(e){return Gc(Ln(e.firestore,Kr),[new tg(e._key,dn.none())])}function ZO(e,t){const n=Ln(e.firestore,Kr),s=aa(e),o=KA(e.converter,t);return Gc(n,[BA(qc(e.firestore),"addDoc",s._key,o,e.converter!==null,{}).toMutation(s._key,dn.exists(!1))]).then(()=>s)}function Gc(e,t){return function(s,o){const u=new oi;return s.asyncQueue.enqueueAndForget(async()=>gO(await CO(s),o,u)),u.promise}(pg(e),t)}function JO(e,t,n){const s=n.docs.get(t._key),o=new XA(e);return new YA(e,o,t._key,s,new yo(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){na=o})(Js),qs(new kr("firestore",(s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),m=new Kr(new tD(s.getProvider("auth-internal")),new rD(s.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new H(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zo(g.options.projectId,y)}(c,o),c);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),$i(sE,"4.4.0",t),$i(sE,"4.4.0","esm2017")})();function Rg(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]]);return n}function ZA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tM=ZA,JA=new Ko("auth","Firebase",ZA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Am("@firebase/auth");function eM(e,...t){oc.logLevel<=Et.WARN&&oc.warn(`Auth (${Js}): ${e}`,...t)}function Bu(e,...t){oc.logLevel<=Et.ERROR&&oc.error(`Auth (${Js}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(e,...t){throw bg(e,...t)}function Pn(e,...t){return bg(e,...t)}function nM(e,t,n){const s=Object.assign(Object.assign({},tM()),{[t]:n});return new Ko("auth","Firebase",s).create(t,{appName:e.name})}function bg(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return JA.create(e,...t)}function st(e,t,...n){if(!e)throw bg(t,...n)}function si(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Bu(t),new Error(t)}function hi(e,t){e||si(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function iM(){return BE()==="http:"||BE()==="https:"}function BE(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iM()||II()||"connection"in navigator)?navigator.onLine:!0}function sM(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(t,n){this.shortDelay=t,this.longDelay=n,hi(n>t,"Short delay should be less than long delay!"),this.isMobile=bI()||CI()}get(){return rM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(e,t){hi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=new ul(3e4,6e4);function ar(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function di(e,t,n,s,o={}){return eS(e,o,async()=>{let u={},c={};s&&(t==="GET"?c=s:u={body:JSON.stringify(s)});const m=Yo(Object.assign({key:e.config.apiKey},c)).slice(1),d=await e._getAdditionalHeaders();return d["Content-Type"]="application/json",e.languageCode&&(d["X-Firebase-Locale"]=e.languageCode),tS.fetch()(nS(e,e.config.apiHost,n,m),Object.assign({method:t,headers:d,referrerPolicy:"no-referrer"},u))})}async function eS(e,t,n){e._canInitEmulator=!1;const s=Object.assign(Object.assign({},aM),t);try{const o=new uM(e),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Pu(e,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[d,g]=m.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pu(e,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Pu(e,"email-already-in-use",c);if(d==="USER_DISABLED")throw Pu(e,"user-disabled",c);const y=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw nM(e,y,g);Tn(e,y)}}catch(o){if(o instanceof fi)throw o;Tn(e,"network-request-failed",{message:String(o)})}}async function cl(e,t,n,s,o={}){const u=await di(e,t,n,s,o);return"mfaPendingCredential"in u&&Tn(e,"multi-factor-auth-required",{_serverResponse:u}),u}function nS(e,t,n,s){const o=`${t}${n}?${s}`;return e.config.emulator?Ig(e.config,o):`${e.config.apiScheme}://${o}`}function lM(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uM{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Pn(this.auth,"network-request-failed")),oM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pu(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Pn(e,t,s);return o.customData._tokenResponse=n,o}function qE(e){return e!==void 0&&e.enterprise!==void 0}class cM{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return lM(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function hM(e,t){return di(e,"GET","/v2/recaptchaConfig",ar(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(e,t){return di(e,"POST","/v1/accounts:delete",t)}async function dM(e,t){return di(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function mM(e,t=!1){const n=he(e),s=await n.getIdToken(t),o=Cg(s);st(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:So(Nd(o.auth_time)),issuedAtTime:So(Nd(o.iat)),expirationTime:So(Nd(o.exp)),signInProvider:c||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Nd(e){return Number(e)*1e3}function Cg(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return Bu("JWT malformed, contained fewer than 3 sections"),null;try{const o=w0(n);return o?JSON.parse(o):(Bu("Failed to decode base64 JWT payload"),null)}catch(o){return Bu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function gM(e){const t=Cg(e);return st(t,"internal-error"),st(typeof t.exp<"u","internal-error"),st(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $s(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof fi&&pM(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function pM({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=So(this.lastLoginAt),this.creationTime=So(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lc(e){var t;const n=e.auth,s=await e.getIdToken(),o=await $s(e,dM(n,{idToken:s}));st(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];e._notifyReloadListener(u);const c=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?EM(u.providerUserInfo):[],m=vM(e.providerData,c),d=e.isAnonymous,g=!(e.email&&u.passwordHash)&&!(m!=null&&m.length),y=d?g:!1,v={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new iS(u.createdAt,u.lastLoginAt),isAnonymous:y};Object.assign(e,v)}async function _M(e){const t=he(e);await lc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function vM(e,t){return[...e.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function EM(e){return e.map(t=>{var{providerId:n}=t,s=Rg(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(e,t){const n=await eS(e,{},async()=>{const s=Yo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=e.config,c=nS(e,o,"/v1/token",`key=${u}`),m=await e._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",tS.fetch()(c,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AM(e,t){return di(e,"POST","/v2/accounts:revokeToken",ar(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){st(t.idToken,"internal-error"),st(typeof t.idToken<"u","internal-error"),st(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):gM(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return st(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await TM(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,c=new Fo;return s&&(st(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),o&&(st(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(st(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(e,t){st(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ur{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=Rg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new iS(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await $s(this,this.stsTokenManager.getToken(this.auth,t));return st(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return mM(this,t)}reload(){return _M(this)}_assign(t){this!==t&&(st(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ur(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){st(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await lc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await $s(this,fM(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,c,m,d,g,y;const v=(s=n.displayName)!==null&&s!==void 0?s:void 0,T=(o=n.email)!==null&&o!==void 0?o:void 0,I=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,k=(c=n.photoURL)!==null&&c!==void 0?c:void 0,j=(m=n.tenantId)!==null&&m!==void 0?m:void 0,O=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,Y=(g=n.createdAt)!==null&&g!==void 0?g:void 0,J=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:nt,emailVerified:bt,isAnonymous:rt,providerData:kt,stsTokenManager:Ae}=n;st(nt&&Ae,t,"internal-error");const mn=Fo.fromJSON(this.name,Ae);st(typeof nt=="string",t,"internal-error"),Li(v,t.name),Li(T,t.name),st(typeof bt=="boolean",t,"internal-error"),st(typeof rt=="boolean",t,"internal-error"),Li(I,t.name),Li(k,t.name),Li(j,t.name),Li(O,t.name),Li(Y,t.name),Li(J,t.name);const $=new Ur({uid:nt,auth:t,email:T,emailVerified:bt,displayName:v,isAnonymous:rt,photoURL:k,phoneNumber:I,tenantId:j,stsTokenManager:mn,createdAt:Y,lastLoginAt:J});return kt&&Array.isArray(kt)&&($.providerData=kt.map(yt=>Object.assign({},yt))),O&&($._redirectEventId=O),$}static async _fromIdTokenResponse(t,n,s=!1){const o=new Fo;o.updateFromServerResponse(n);const u=new Ur({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await lc(u),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=new Map;function ai(e){hi(e instanceof Function,"Expected a class definition");let t=HE.get(e);return t?(hi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,HE.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}rS.type="NONE";const FE=rS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(e,t,n){return`firebase:${e}:${t}:${n}`}class zs{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=qu(this.userKey,o.apiKey,u),this.fullPersistenceKey=qu("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Ur._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new zs(ai(FE),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ai(FE);const c=qu(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const y=await g._get(c);if(y){const v=Ur._fromJSON(t,y);g!==u&&(m=v),u=g;break}}catch{}const d=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!d.length?new zs(u,t,s):(u=d[0],m&&await u._set(c,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new zs(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(oS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(sS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(uS(t))return"Blackberry";if(cS(t))return"Webos";if(Dg(t))return"Safari";if((t.includes("chrome/")||aS(t))&&!t.includes("edge/"))return"Chrome";if(lS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function sS(e=Ne()){return/firefox\//i.test(e)}function Dg(e=Ne()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function aS(e=Ne()){return/crios\//i.test(e)}function oS(e=Ne()){return/iemobile/i.test(e)}function lS(e=Ne()){return/android/i.test(e)}function uS(e=Ne()){return/blackberry/i.test(e)}function cS(e=Ne()){return/webos/i.test(e)}function Qc(e=Ne()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function SM(e=Ne()){var t;return Qc(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function wM(){return DI()&&document.documentMode===10}function hS(e=Ne()){return Qc(e)||lS(e)||cS(e)||uS(e)||/windows phone/i.test(e)||oS(e)}function RM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(e,t=[]){let n;switch(e){case"Browser":n=GE(Ne());break;case"Worker":n=`${GE(Ne())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Js}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((c,m)=>{try{const d=t(u);c(d)}catch(d){m(d)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(e,t={}){return di(e,"GET","/v2/passwordPolicy",ar(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=6;class DM{constructor(t){var n,s,o,u;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:CM,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,c,m;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,d),this.validatePasswordCharacterOptions(t,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(s=d.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsLowercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsUppercaseLetter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(m=d.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),d}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new QE(this),this.idTokenSubscription=new QE(this),this.beforeStateQueue=new bM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ai(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await zs.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,d=await this.tryRedirectSignIn(t);(!c||c===m)&&(d!=null&&d.user)&&(o=d.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return st(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await lc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=sM()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?he(t):null;return n&&st(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&st(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ai(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await IM(this),n=new DM(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Ko("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await AM(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ai(t)||this._popupRedirectResolver;st(n,this,"argument-error"),this.redirectPersistenceManager=await zs.create(this,[ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(st(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const d=t.addObserver(n,s,o);return()=>{c=!0,d()}}else{const d=t.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return st(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=fS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&eM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Yr(e){return he(e)}class QE{constructor(t){this.auth=t,this.observer=null,this.addObserver=UI(n=>this.observer=n)}get next(){return st(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function dS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=o=>{const u=Pn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",OM().appendChild(s)})}function MM(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const xM="https://www.google.com/recaptcha/enterprise.js?render=",VM="recaptcha-enterprise",PM="NO_RECAPTCHA";class UM{constructor(t){this.type=VM,this.auth=Yr(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,m)=>{hM(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new cM(d);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(d=>{m(d)})})}function o(u,c,m){const d=window.grecaptcha;qE(d)?d.enterprise.ready(()=>{d.enterprise.execute(u,{action:t}).then(g=>{c(g)}).catch(()=>{c(PM)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((u,c)=>{s(this.auth).then(m=>{if(!n&&qE(window.grecaptcha))o(m,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}dS(xM+m).then(()=>{o(m,u,c)}).catch(d=>{c(d)})}}).catch(m=>{c(m)})})}}async function KE(e,t,n,s=!1){const o=new UM(e);let u;try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const c=Object.assign({},t);return s?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function dm(e,t,n,s){var o;if(!((o=e._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await KE(e,t,n,n==="getOobCode");return s(e,u)}else return s(e,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await KE(e,t,n,n==="getOobCode");return s(e,c)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(e,t){const n=wm(e,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Io(u,t??{}))return o;Tn(o,"already-initialized")}return n.initialize({options:t})}function LM(e,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ai);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function jM(e,t,n){const s=Yr(e);st(s._canInitEmulator,s,"emulator-config-failed"),st(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=mS(t),{host:c,port:m}=zM(t),d=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${c}${d}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),BM()}function mS(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function zM(e){const t=mS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:YE(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:YE(c)}}}function YE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function BM(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return si("not implemented")}_getIdTokenResponse(t){return si("not implemented")}_linkToIdToken(t,n){return si("not implemented")}_getReauthenticationResolver(t){return si("not implemented")}}async function qM(e,t){return di(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HM(e,t){return cl(e,"POST","/v1/accounts:signInWithPassword",ar(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FM(e,t){return cl(e,"POST","/v1/accounts:signInWithEmailLink",ar(e,t))}async function GM(e,t){return cl(e,"POST","/v1/accounts:signInWithEmailLink",ar(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends Ng{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Go(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Go(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dm(t,n,"signInWithPassword",HM);case"emailLink":return FM(t,{email:this._email,oobCode:this._password});default:Tn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dm(t,s,"signUpPassword",qM);case"emailLink":return GM(t,{idToken:n,email:this._email,oobCode:this._password});default:Tn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bs(e,t){return cl(e,"POST","/v1/accounts:signInWithIdp",ar(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM="http://localhost";class qr extends Ng{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new qr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=Rg(n,["providerId","signInMethod"]);if(!s||!o)return null;const c=new qr(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Bs(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Bs(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Bs(t,n)}buildRequest(){const t={requestUri:QM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Yo(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YM(e){const t=co(ho(e)).link,n=t?co(ho(t)).deep_link_id:null,s=co(ho(e)).deep_link_id;return(s?co(ho(s)).link:null)||s||n||t||e}class Og{constructor(t){var n,s,o,u,c,m;const d=co(ho(t)),g=(n=d.apiKey)!==null&&n!==void 0?n:null,y=(s=d.oobCode)!==null&&s!==void 0?s:null,v=KM((o=d.mode)!==null&&o!==void 0?o:null);st(g&&y&&v,"argument-error"),this.apiKey=g,this.operation=v,this.code=y,this.continueUrl=(u=d.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(c=d.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(m=d.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const n=YM(t);try{return new Og(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.providerId=oa.PROVIDER_ID}static credential(t,n){return Go._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Og.parseLink(n);return st(s,"argument-error"),Go._fromEmailAndCode(t,s.code,s.tenantId)}}oa.PROVIDER_ID="password";oa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends gS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends hl{constructor(){super("facebook.com")}static credential(t){return qr._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bi.credentialFromTaggedObject(t)}static credentialFromError(t){return Bi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bi.credential(t.oauthAccessToken)}catch{return null}}}Bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends hl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return qr._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return qi.credentialFromTaggedObject(t)}static credentialFromError(t){return qi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return qi.credential(n,s)}catch{return null}}}qi.GOOGLE_SIGN_IN_METHOD="google.com";qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends hl{constructor(){super("github.com")}static credential(t){return qr._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hi.credentialFromTaggedObject(t)}static credentialFromError(t){return Hi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hi.credential(t.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends hl{constructor(){super("twitter.com")}static credential(t,n){return qr._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Fi.credentialFromTaggedObject(t)}static credentialFromError(t){return Fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Fi.credential(n,s)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XM(e,t){return cl(e,"POST","/v1/accounts:signUp",ar(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Ur._fromIdTokenResponse(t,s,o),c=XE(s);return new Hr({user:u,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=XE(s);return new Hr({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function XE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends fi{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,uc.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new uc(t,n,s,o)}}function pS(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?uc._fromErrorAndOperation(e,u,t,s):u})}async function $M(e,t,n=!1){const s=await $s(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Hr._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WM(e,t,n=!1){const{auth:s}=e,o="reauthenticate";try{const u=await $s(e,pS(s,o,t,e),n);st(u.idToken,s,"internal-error");const c=Cg(u.idToken);st(c,s,"internal-error");const{sub:m}=c;return st(e.uid===m,s,"user-mismatch"),Hr._forOperation(e,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Tn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yS(e,t,n=!1){const s="signIn",o=await pS(e,s,t),u=await Hr._fromIdTokenResponse(e,s,o);return n||await e._updateCurrentUser(u.user),u}async function ZM(e,t){return yS(Yr(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _S(e){const t=Yr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function JM(e,t,n){const s=Yr(e),c=await dm(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XM).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&_S(e),d}),m=await Hr._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(m.user),m}function tx(e,t,n){return ZM(he(e),oa.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&_S(e),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ex(e,t){return di(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $E(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const s=he(e),u={idToken:await s.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},c=await $s(s,ex(s.auth,u));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const m=s.providerData.find(({providerId:d})=>d==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function nx(e,t,n,s){return he(e).onIdTokenChanged(t,n,s)}function ix(e,t,n){return he(e).beforeAuthStateChanged(t,n)}function rx(e,t,n,s){return he(e).onAuthStateChanged(t,n,s)}const cc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cc,"1"),this.storage.removeItem(cc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(){const e=Ne();return Dg(e)||Qc(e)}const ax=1e3,ox=10;class ES extends vS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=sx()&&RM(),this.fallbackToPolling=hS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,m,d)=>{this.notifyListeners(c,d)});return}const s=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const c=this.storage.getItem(s);if(t.newValue!==c)t.newValue!==null?this.storage.setItem(s,t.newValue):this.storage.removeItem(s);else if(this.localCache[s]===t.newValue&&!n)return}const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);wM()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,ox):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},ax)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}ES.type="LOCAL";const lx=ES;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS extends vS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}TS.type="SESSION";const AS=TS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Kc(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async g=>g(n.origin,u)),d=await ux(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:d})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,d)=>{const g=Mg("",20);o.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(v){const T=v;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(y),u=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(T.data.response);break;default:clearTimeout(y),clearTimeout(u),d(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function hx(e){Un().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function fx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dx(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function mx(){return SS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="firebaseLocalStorageDb",gx=1,hc="firebaseLocalStorage",RS="fbase_key";class fl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yc(e,t){return e.transaction([hc],t?"readwrite":"readonly").objectStore(hc)}function px(){const e=indexedDB.deleteDatabase(wS);return new fl(e).toPromise()}function mm(){const e=indexedDB.open(wS,gx);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(hc,{keyPath:RS})}catch(o){n(o)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(hc)?t(s):(s.close(),await px(),t(await mm()))})})}async function WE(e,t,n){const s=Yc(e,!0).put({[RS]:t,value:n});return new fl(s).toPromise()}async function yx(e,t){const n=Yc(e,!1).get(t),s=await new fl(n).toPromise();return s===void 0?null:s.value}function ZE(e,t){const n=Yc(e,!0).delete(t);return new fl(n).toPromise()}const _x=800,vx=3;class bS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>vx)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kc._getInstance(mx()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await fx(),!this.activeServiceWorker)return;this.sender=new cx(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||dx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await mm();return await WE(t,cc,"1"),await ZE(t,cc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>WE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>yx(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ZE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Yc(o,!1).getAll();return new fl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_x)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bS.type="LOCAL";const Ex=bS;new ul(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(e,t){return t?ai(t):(st(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg extends Ng{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Bs(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Bs(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Bs(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Ax(e){return yS(e.auth,new xg(e),e.bypassAuthState)}function Sx(e){const{auth:t,user:n}=e;return st(n,t,"internal-error"),WM(n,new xg(e),e.bypassAuthState)}async function wx(e){const{auth:t,user:n}=e;return st(n,t,"internal-error"),$M(n,new xg(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(d))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Ax;case"linkViaPopup":case"linkViaRedirect":return wx;case"reauthViaPopup":case"reauthViaRedirect":return Sx;default:Tn(this.auth,"internal-error")}}resolve(t){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=new ul(2e3,1e4);class Us extends IS{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Us.currentPopupAction&&Us.currentPopupAction.cancel(),Us.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return st(t,this.auth,"internal-error"),t}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const t=Mg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Us.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Rx.get())};t()}}Us.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="pendingRedirect",Hu=new Map;class Ix extends IS{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Hu.get(this.auth._key());if(!t){try{const s=await Cx(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Hu.set(this.auth._key(),t)}return this.bypassAuthState||Hu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Cx(e,t){const n=Ox(t),s=Nx(e);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function Dx(e,t){Hu.set(e._key(),t)}function Nx(e){return ai(e._redirectPersistence)}function Ox(e){return qu(bx,e.config.apiKey,e.name)}async function Mx(e,t,n=!1){const s=Yr(e),o=Tx(s,t),c=await new Ix(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=10*60*1e3;class Vx{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Px(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!CS(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Pn(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=xx&&this.cachedEventUids.clear(),this.cachedEventUids.has(JE(t))}saveEventToCache(t){this.cachedEventUids.add(JE(t)),this.lastProcessedEventTime=Date.now()}}function JE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function CS({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Px(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CS(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ux(e,t={}){return di(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lx=/^https?/;async function jx(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Ux(e);for(const n of t)try{if(zx(n))return}catch{}Tn(e,"unauthorized-domain")}function zx(e){const t=fm(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!Lx.test(n))return!1;if(kx.test(e))return s===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=new ul(3e4,6e4);function t0(){const e=Un().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function qx(e){return new Promise((t,n)=>{var s,o,u;function c(){t0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{t0(),n(Pn(e,"network-request-failed"))},timeout:Bx.get()})}if(!((o=(s=Un().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=Un().gapi)===null||u===void 0)&&u.load)c();else{const m=MM("iframefcb");return Un()[m]=()=>{gapi.load?c():n(Pn(e,"network-request-failed"))},dS(`https://apis.google.com/js/api.js?onload=${m}`).catch(d=>n(d))}}).catch(t=>{throw Fu=null,t})}let Fu=null;function Hx(e){return Fu=Fu||qx(e),Fu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new ul(5e3,15e3),Gx="__/auth/iframe",Qx="emulator/auth/iframe",Kx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xx(e){const t=e.config;st(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ig(t,Qx):`https://${e.config.authDomain}/${Gx}`,s={apiKey:t.apiKey,appName:e.name,v:Js},o=Yx.get(e.config.apiHost);o&&(s.eid=o);const u=e._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Yo(s).slice(1)}`}async function $x(e){const t=await Hx(e),n=Un().gapi;return st(n,e,"internal-error"),t.open({where:document.body,url:Xx(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kx,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=Pn(e,"network-request-failed"),m=Un().setTimeout(()=>{u(c)},Fx.get());function d(){Un().clearTimeout(m),o(s)}s.ping(d).then(d,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zx=500,Jx=600,tV="_blank",eV="http://localhost";class e0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nV(e,t,n,s=Zx,o=Jx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const d=Object.assign(Object.assign({},Wx),{width:s.toString(),height:o.toString(),top:u,left:c}),g=Ne().toLowerCase();n&&(m=aS(g)?tV:n),sS(g)&&(t=t||eV,d.scrollbars="yes");const y=Object.entries(d).reduce((T,[I,k])=>`${T}${I}=${k},`,"");if(SM(g)&&m!=="_self")return iV(t||"",m),new e0(null);const v=window.open(t||"",m,y);st(v,e,"popup-blocked");try{v.focus()}catch{}return new e0(v)}function iV(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV="__/auth/handler",sV="emulator/auth/handler",aV=encodeURIComponent("fac");async function n0(e,t,n,s,o,u){st(e.config.authDomain,e,"auth-domain-config-required"),st(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:Js,eventId:o};if(t instanceof gS){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",PI(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(t instanceof hl){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const m=c;for(const y of Object.keys(m))m[y]===void 0&&delete m[y];const d=await e._getAppCheckToken(),g=d?`#${aV}=${encodeURIComponent(d)}`:"";return`${oV(e)}?${Yo(m).slice(1)}${g}`}function oV({config:e}){return e.emulator?Ig(e,sV):`https://${e.authDomain}/${rV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="webStorageSupport";class lV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AS,this._completeRedirectFn=Mx,this._overrideRedirectResult=Dx}async _openPopup(t,n,s,o){var u;hi((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await n0(t,n,s,fm(),o);return nV(t,c,Mg())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await n0(t,n,s,fm(),o);return hx(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(hi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await $x(t),s=new Vx(t);return n.register("authEvent",o=>(st(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Od,{type:Od},o=>{var u;const c=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Od];c!==void 0&&n(!!c),Tn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jx(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return hS()||Dg()||Qc()}}const uV=lV;var i0="@firebase/auth",r0="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){st(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function fV(e){qs(new kr("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;st(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:c,authDomain:m,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fS(e)},g=new NM(s,o,u,d);return LM(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),qs(new kr("auth-internal",t=>{const n=Yr(t.getProvider("auth").getImmediate());return(s=>new cV(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$i(i0,r0,hV(e)),$i(i0,r0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=5*60,mV=b0("authIdTokenMaxAge")||dV;let s0=null;const gV=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>mV)return;const o=n==null?void 0:n.token;s0!==o&&(s0=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function pV(e=P1()){const t=wm(e,"auth");if(t.isInitialized())return t.getImmediate();const n=kM(e,{popupRedirectResolver:uV,persistence:[Ex,lx,AS]}),s=b0("authTokenSyncURL");if(s){const u=gV(s);ix(n,u,()=>u(n.currentUser)),nx(n,c=>u(c))}const o=wI("auth");return o&&jM(n,`http://${o}`),n}fV("Browser");const yV={apiKey:"AIzaSyCcrGeP8uj0LlZ9CQJFwF5YpJ43rO6EByU",authDomain:"rein-firebase-test.firebaseapp.com",databaseURL:"https://rein-firebase-test-default-rtdb.europe-west1.firebasedatabase.app",projectId:"rein-firebase-test",storageBucket:"rein-firebase-test.appspot.com",messagingSenderId:"270166841798",appId:"1:270166841798:web:2d2c7a5f4bee100f387ac7"},DS=D0(yV),ji=pV(DS),or=xO(DS,{experimentalForceLongPolling:!0}),a0=()=>`https://picsum.photos/id/${Math.floor(Math.random()*500)}/200/300`,lr=x.createContext(null),_V=({children:e})=>{const[t,n]=x.useState(null),[s,o]=x.useState(!0);console.log("user",t);const u=async(y,v)=>{try{const T=await tx(ji,y,v);return n(T.user),!0}catch(T){throw console.error("Error signing in:",T),T}},c=async()=>{await ji.signOut(),n(null)},m=async(y,v)=>{const T=y.split("@")[0],I=a0();try{const k=await JM(ji,y,v);T&&await $E(k.user,{displayName:T,photoURL:I}),n({...k.user,displayName:T,photoURL:I})}catch(k){throw console.error("Error creating user:",k.code,k.message),k}},d=async({displayName:y})=>{if(!ji.currentUser)return!1;const v=y??ji.currentUser.displayName,T=ji.currentUser.photoURL??a0();try{return await $E(ji.currentUser,{displayName:v,photoURL:T}),n(I=>I?{...I,displayName:v,photoURL:T}:null),!0}catch(I){return console.error("Error updating profile:",I),!1}};x.useEffect(()=>{o(!0);const y=rx(ji,v=>{console.log("onAuthStateChanged!!"),n(v),o(!1)});return()=>y()},[]);const g=x.useMemo(()=>({isLoading:s,user:t,signOut:c,signIn:u,createUser:m,updateUser:d}),[s,t]);return A.jsx(lr.Provider,{value:g,children:e})},NS=e=>{const{user:t,signIn:n,signOut:s}=x.useContext(lr),o=()=>{t?s():n("test@test.no","123456"),e.onClickAction&&e.onClickAction()};return A.jsx("div",{children:A.jsx("span",{style:{display:"flex",alignItems:"center"},onClick:o,children:t?"Logout":"Login"})})},vV=()=>A.jsxs("div",{children:[A.jsx("h1",{children:"content"}),A.jsx(bo,{to:"/magicitems",children:"Magic Items"}),A.jsx(NS,{})]}),EV=()=>{const{user:e,signIn:t,signOut:n}=x.useContext(lr),[s,o]=x.useState(""),[u,c]=x.useState(""),[m,d]=x.useState(""),g=async y=>{if(y.preventDefault(),e){n();return}if(!s||!u){alert("Please enter username and password");return}if(s==="admin"&&u==="admin"){t("test@test.no","123456");return}const v=await t(s,u);console.log(v),v.error.length>0&&d(v.error[1])};return A.jsx("div",{className:"login-container",children:A.jsxs("form",{className:"login-form",onSubmit:g,children:[A.jsx("label",{htmlFor:"username",children:"Username:"}),A.jsx("input",{type:"text",id:"username",value:s,onChange:y=>o(y.target.value),required:!0}),A.jsx("label",{htmlFor:"password",children:"Password:"}),A.jsx("input",{type:"password",id:"password",value:u,onChange:y=>c(y.target.value),required:!0}),m.length>0&&A.jsx("div",{children:m}),A.jsxs("div",{className:"login-form-footer",children:[A.jsx("button",{type:"submit",children:"Login"}),A.jsxs("div",{className:"login-form-footer-right",children:[A.jsx("p",{children:"Forgot password?"}),A.jsx(bo,{to:"/register",children:"Register"})]})]})]})})},TV=()=>{const{createUser:e}=x.useContext(lr),[t,n]=x.useState(""),[s,o]=x.useState(""),[u,c]=x.useState(""),m=async d=>{if(d.preventDefault(),!t||!s||!u){alert("Please fill in all fields");return}if(s.length<6){alert("Password must be at least 6 characters long");return}if(s!==u){alert("Passwords do not match");return}await e(t,s)};return A.jsx("div",{className:"registration-container",children:A.jsxs("form",{className:"registration-form",onSubmit:m,children:[A.jsx("label",{htmlFor:"email",children:"Email:"}),A.jsx("input",{type:"email",id:"email",value:t,onChange:d=>n(d.target.value),required:!0}),A.jsx("label",{htmlFor:"password",children:"Password:"}),A.jsx("input",{type:"password",id:"password",value:s,onChange:d=>o(d.target.value),required:!0}),A.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password:"}),A.jsx("input",{type:"password",id:"confirmPassword",value:u,onChange:d=>c(d.target.value),required:!0}),A.jsx("button",{type:"submit",children:"Register"})]})})},AV=e=>{const[t,n]=x.useState(""),[s,o]=x.useState(""),u=c=>{if(c.preventDefault(),t!==s){alert("Passwords do not match");return}};return A.jsxs("div",{className:"form-container",children:[A.jsx("div",{className:"profile-dividers",children:"Password:"}),A.jsx("form",{className:"profile-form",onSubmit:u,children:A.jsx("table",{children:A.jsxs("tbody",{children:[A.jsxs("tr",{children:[A.jsx("th",{className:"form-label",children:A.jsx("label",{htmlFor:"password",children:"Password:"})}),A.jsx("th",{children:A.jsx("input",{type:"password",id:"password",defaultValue:"",placeholder:"*****",onChange:c=>n(c.target.value),required:!0,disabled:!0})})]}),A.jsxs("tr",{children:[A.jsx("th",{className:"form-label",children:A.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password:"})}),A.jsx("th",{children:A.jsx("input",{type:"password",id:"confirmPassword",value:"",placeholder:"*****",onChange:c=>o(c.target.value),required:!0,disabled:!0})})]}),A.jsx("tr",{children:A.jsx("th",{colSpan:2,children:A.jsx("div",{className:"form-submit",children:A.jsx("button",{className:"submit-btn",type:"submit",disabled:!0,children:"Disabled"})})})})]})})})]})},SV=e=>{const[t,n]=x.useState(""),s=x.useRef(null);let o=e.user.displayName,u=e.user.email;const c=async d=>{if(d.preventDefault(),t.length<3){alert("Name is too short");return}e.setIsUpdating(!0),await e.handleUpdateUser(t)&&e.setIsUpdating(!1)},m=d=>{d.preventDefault(),n(e.user.displayName),s.current.value=e.user.displayName};return A.jsxs("div",{className:"form-container",children:[A.jsx("div",{className:"profile-dividers",children:"User Info:"}),A.jsx("form",{className:"profile-form",onSubmit:c,children:A.jsx("table",{className:"profile-form",children:A.jsxs("tbody",{children:[A.jsxs("tr",{children:[A.jsx("th",{className:"form-label",children:A.jsx("label",{htmlFor:"name",children:"Name:"})}),A.jsx("th",{children:A.jsx("input",{type:"text",id:"name",defaultValue:o,ref:s,onChange:d=>n(d.target.value),required:!0})})]}),A.jsxs("tr",{children:[A.jsx("th",{className:"form-label",children:A.jsx("label",{htmlFor:"email",children:"Email:"})}),A.jsx("th",{children:A.jsx("input",{type:"text",id:"email",value:u,required:!0,disabled:!0})})]}),A.jsx("tr",{children:A.jsx("th",{colSpan:2,children:A.jsxs("div",{className:"form-submit",children:[t!==""&&t!==o&&A.jsx("button",{className:"submit-btn",type:"reset",onClick:m,children:"Reset"}),A.jsx("button",{className:"submit-btn",type:"submit",disabled:t===""||t===o,children:"Update"})]})})})]})})})]})},wV=e=>A.jsxs("div",{className:"profile-card",children:[A.jsx("div",{className:"card-title",children:"Edit User"}),A.jsxs("div",{className:"card-body",children:[A.jsx(SV,{...e}),A.jsx(AV,{})]})]}),OS=()=>{const{user:e,updateUser:t}=x.useContext(lr),[n,s]=x.useState(!1);if(!e)return A.jsx("div",{children:A.jsx("span",{children:"Fetching User"})});const o=async u=>await t({displayName:u});return n?A.jsx("div",{className:"profile-body",children:A.jsx("div",{className:"profile-card",children:A.jsx("span",{children:"Updating User"})})}):A.jsx("div",{className:"profile-body",children:A.jsx(wV,{user:e,setIsUpdating:s,handleUpdateUser:o})})},MS=e=>{const t=e.item.mi_title,n=e.item.mi_type,s=e.item.mi_attunement,o=e.item.mi_description,u=()=>{e.getModalItem(e.item)};return A.jsxs("div",{className:"flex flex-col justify-start p-4 bg-white hover:bg-green-50 rounded-md drop-shadow-md cursor-pointer mt-2",onClick:u,children:[A.jsx("div",{className:"font-semibold",children:t}),A.jsxs("div",{className:"text-gray-500 text-sm",children:[n,s?" Requires Attunement":""]}),A.jsx("div",{className:"text-sm mt-3 max-h-[200px] overflow-y-hidden",children:o})]})},RV=x.forwardRef(({modalItem:e,onEditSaved:t},n)=>{const[s,o]=x.useState(e.mi_title),[u,c]=x.useState(e.mi_type),[m,d]=x.useState(e.mi_attunement),[g,y]=x.useState(e.mi_description),v=T=>{T.preventDefault(),t({mi_title:s,mi_type:u,mi_attunement:m,mi_description:g})};return x.useImperativeHandle(n,()=>({submit:v})),A.jsx(A.Fragment,{children:A.jsxs("form",{onSubmit:v,children:[A.jsx("input",{name:"title",value:s,type:"text",onChange:T=>o(T.target.value)}),A.jsx("input",{name:"type",value:u,type:"text",onChange:T=>c(T.target.value)}),A.jsxs("div",{className:"mim-edit-attunement",children:[A.jsx("div",{children:"requires attunement? "}),A.jsx("input",{name:"attunement",type:"checkbox",checked:m,onChange:T=>d(T.target.checked)})]}),A.jsx("textarea",{className:"mim-edit-description",name:"description",value:g,onChange:T=>y(T.target.value)})]})})}),bV=async e=>(await $A(gg(or,e))).docs.map(n=>({id:n.id,...n.data()})),IV=async(e,t)=>{try{const n=await WA(aa(or,t,e));return console.log(`Deleted item with ID: ${e} from collection: ${t}`," dockref: ",n),!0}catch(n){return console.log("Error Deleting: ",n),!1}},CV=async(e,t)=>{try{const n=await ZO(gg(or,t),{...e});return console.log("Document written with ID: ",n.id),{id:n.id,...e}}catch(n){return console.error("Error adding document: ",n),!1}},DV=async(e,t,n)=>{try{const s=await WO(aa(or,n,t),{...e});return console.log("Document updated with ID: ",t," docref: ",s),!0}catch(s){return console.error("Error updating document: ",s),!1}},NV=async(e,t,n,s,o)=>{if(await xS(e,t,n))return console.log("Relation already exists"),!1;const c=`${t}-${n}`,m={value1:t,value2:n,semantic1:s,semantic2:o,createdAt:new Date};try{return await $O(aa(or,e,c),m),console.log("Relation added with ID: ",c),c}catch(d){return console.error("Error adding relation: ",d),!1}},OV=async(e,t)=>{const n=FO(gg(or,e),GO("value1","==",t));return(await $A(n)).docs.map(o=>({id:o.id,...o.data()}))},MV=async(e,t,n)=>{const s=`${t}-${n}`;try{if(!await xS(e,t,n))return console.log("Relation does not exist"),!0}catch(o){return console.error("Error checking relation: ",o),!1}try{return await WA(aa(or,e,s)),console.log("Relation deleted with ID: ",s),!0}catch(o){return console.error("Error deleting relation: ",o),!1}},xS=async(e,t,n)=>{const s=`${t}-${n}`,o=aa(or,e,s);return(await XO(o)).exists()},VS=()=>{const e=x.useContext(lr);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Vg=()=>VS().user,Md="magic_item_favorites",Pg=()=>{const{user:e}=VS(),[t,n]=x.useState([]),[s,o]=x.useState(!0),u=e==null?void 0:e.uid,c=x.useCallback(async()=>{if(!u)return;o(!0);const T=(await OV(Md,u)).map(I=>I.value2);n(T),o(!1)},[u]),m=v=>t.includes(v),d=async(v,T)=>{u&&(m(v)||(await NV(Md,u,v,(e==null?void 0:e.displayName)||"",T||""),n(I=>[...I,v])))},g=async v=>{u&&(await MV(Md,u,v),n(T=>T.filter(I=>I!==v)))},y=async(v,T)=>{m(v)?await g(v):await d(v,T||void 0)};return x.useEffect(()=>{c()},[c]),{favoriteItemIds:t,isFavorited:m,addFavorite:d,removeFavorite:g,toggleFavorite:y,loadingFavourites:s}},xV=({modalItem:e})=>A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"mim-title",children:e.mi_title}),A.jsxs("div",{className:"mim-type",children:[e.mi_type," ",e.mi_attunement?"requires attunement":""]}),A.jsx("div",{className:"mim-description",children:e.mi_description})]}),VV=e=>{const[t,n]=x.useState(!1),[s,o]=x.useState(!1),u=x.useRef(null),{addFavorite:c,removeFavorite:m,isFavorited:d}=Pg(),g=O=>{O.preventDefault(),c(e.modalItem.id,e.modalItem.mi_title)},y=O=>{O.preventDefault(),m(e.modalItem.id)};x.useEffect(()=>{n(!0)},[]);const v=O=>{var Y;O.preventDefault(),(Y=u.current)==null||Y.submit(O)},T=()=>{o(!1),e.onClose()},I=()=>{o(O=>!O)},k=()=>{window.confirm(`Are you sure you want to delete ${e.modalItem.mi_title}?`)&&(o(!1),e.onDelete(e.modalItem.id))},j=O=>{e.onEditSaved(O,e.modalItem.id),T()};return e.modalItem==null||!t?null:_b.createPortal(A.jsx("div",{className:"mim-modal",onClick:T,children:A.jsx("div",{className:"mim-container",children:A.jsxs("div",{className:"mim-card",onClick:O=>O.stopPropagation(),children:[s?A.jsx(RV,{ref:u,modalItem:e.modalItem,onEditSaved:j}):A.jsx(xV,{modalItem:e.modalItem}),A.jsxs("div",{className:"mim-footer",children:[s&&A.jsx("button",{className:"mim-footer-edit",onClick:v,children:"Save"}),A.jsx("button",{className:s?"mim-footer-delete":"mim-footer-edit",onClick:I,children:s?"cancel":"edit"}),d(e.modalItem.id)?A.jsx("button",{className:"mim-footer-delete",onClick:y,children:"Unfavorite"}):A.jsx("button",{className:"mim-footer-favourite",onClick:g,children:"Favorite"}),A.jsx("button",{className:"mim-footer-delete",onClick:k,children:"Delete"})]})]})})}),document.getElementById("modal"))},PV=e=>{const[t,n]=x.useState(!0),[s,o]=x.useState(""),[u,c]=x.useState(""),[m,d]=x.useState(!1),[g,y]=x.useState(""),[v,T]=x.useState(null),I=async j=>{if(j.preventDefault(),s===""||u===""||g===""){T("Please fill in all fields");return}const O={mi_title:s,mi_type:u,mi_attunement:m,mi_description:g};await e.addMagicItem(O)?(o(""),d(!1),c(""),y(""),T(null)):T("Error adding item")},k=()=>{n(j=>!j)};return A.jsxs("div",{className:"flex flex-col justify-start p-4 bg-white drop-shadow-md rounded-md my-2",children:[A.jsxs("div",{className:"flex flex-row justify-between items-center",children:[A.jsx("div",{children:"Add New Item"}),A.jsx("button",{className:"p-1 bg-gray-200 cursor-pointer",type:"button",onClick:k,children:t?"show":"hide"})]}),A.jsx("div",{className:t?"hidden":"block",children:A.jsxs("div",{className:"flex flex-col justify-between items-center w-full min-w-[200px]",children:[A.jsxs("form",{className:"w-full",onSubmit:I,children:[A.jsx("input",{name:"title",placeholder:"Title",value:s,type:"text",onChange:j=>o(j.target.value)}),A.jsx("input",{name:"type",placeholder:"Type",value:u,type:"text",onChange:j=>c(j.target.value)}),A.jsxs("div",{className:"flex flex-row w-full justify-between",children:[A.jsx("div",{className:"",children:"Requires Attunement?"}),A.jsx("input",{className:"",type:"checkbox",checked:m,onChange:j=>d(j.target.checked)})]}),A.jsx("div",{className:"mt-1 w-full",children:A.jsx("textarea",{className:"w-full h-[100px] overflow-scroll",name:"description",placeholder:"Description",value:g,onChange:j=>y(j.target.value)})}),A.jsx("div",{className:"w-full mt-1",children:A.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white cursor-pointer",children:"Add Item"})})]}),v&&A.jsx("div",{className:"w-full bg-red-100 mt-1 text-center",children:v})]})})]})};function o0(){const{innerWidth:e,innerHeight:t}=window;return{width:e,height:t}}function UV(){const[e,t]=x.useState(o0());return x.useEffect(()=>{function n(){t(o0())}return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}const kV=({children:e})=>A.jsx("div",{className:"fex flex-col p-1 w-[440px] min-h-1 justify-top align-center",children:e}),LV=({children:e})=>{const{width:t}=UV();let n=0,s=[];e=e.flat(),t<1e3?n=1:n=Math.floor(t/432);for(let o=0;o<n;o++){let u=[];for(let c=o;c<e.length;c+=n)u.push(e[c]);s.push({key:o,childrenItems:u})}return A.jsx(A.Fragment,{children:s.map(o=>A.jsx(kV,{children:o.childrenItems},o.key))})},jV=e=>{const t=s=>{s.preventDefault(),e.searchText.trim()},n=s=>{s.preventDefault(),e.setSearchText("")};return A.jsxs("div",{className:"flex flex-col my-2",children:[A.jsxs("div",{className:"flex flex-row p-4 bg-white drop-shadow-md rounded-md z-2",children:[A.jsx("input",{className:"block m-0 p-0 px-2 mr-1 w-full bg-gray-200 rounded-sm",name:"search_text",type:"text",placeholder:"Search title...",value:e.searchText,onChange:s=>e.setSearchText(s.target.value)}),A.jsx("button",{className:"p-2 bg-green-600 text-white rounded-sm",onClick:t,children:"Search"})]}),e.searchText!==""&&A.jsxs("div",{className:"flex flex-row items-center z-1 bg-amber-50 p-4 rounded-b-md drop-shadow-md mt-[-4px]",children:[A.jsxs("span",{className:"w-full",children:['Filtering for: "',e.searchText,'"']}),A.jsx("button",{className:"p-2 bg-blue-600 text-white rounded-sm",onClick:n,children:"Reset"})]})]})},Uu="magic_items",PS=()=>{const e=Vg(),[t,n]=x.useState([]),[s,o]=x.useState(!0),{favoriteItemIds:u}=Pg(),c=e==null?void 0:e.uid,m=x.useCallback(async()=>{if(!c)return;o(!0);const v=new Set(u),I=(await bV(Uu)).map(k=>({...k,is_favorite:v.has(k.id)}));n(I),console.log("Merged Items",I),o(!1)},[u,c]),d=async v=>{const T=await CV(v,Uu);return T?(n(I=>[...I,T]),T):(alert("Error adding item"),null)},g=async v=>{n(I=>I.filter(k=>k.id!==v));const T=await IV(v,Uu);return T||alert("Error deleting item"),!!T},y=async(v,T)=>{delete v.is_favorite;const I=await DV(v,T,Uu);return I?n(k=>k.map(j=>j.id===T?v:j)):alert("Error updating item"),!!I};return x.useEffect(()=>{console.log("Refreshing magic items"),m()},[m]),{magicItems:t,addMagicItem:d,deleteMagicItem:g,updateMagicItem:y,refreshMagicItemsHook:m,loading:s}},zV=()=>{const{user:e}=x.useContext(lr),{magicItems:t,addMagicItem:n,deleteMagicItem:s,updateMagicItem:o,loading:u}=PS(),[c,m]=x.useState(null),[d,g]=x.useState(""),y=x.useMemo(()=>d?t.filter(T=>T.mi_title.toLowerCase().includes(d.toLowerCase())):t,[t,d]),v=async T=>{m(null),await s(T)};return e?u?A.jsx("div",{children:A.jsx("span",{children:"Loading..."})}):A.jsxs(A.Fragment,{children:[A.jsx(VV,{modalItem:c,onClose:()=>m(null),onDelete:v,onEditSaved:o}),A.jsx("div",{className:"flex items-start justify-center",children:A.jsxs(LV,{children:[A.jsx(jV,{searchText:d,setSearchText:g},"magic_item_search"),A.jsx(PV,{addMagicItem:n},"add_magic_item_form"),y.map(T=>A.jsx(MS,{item:T,getModalItem:m},T.id)),y.length===0&&A.jsx("p",{children:"No magic items found."},"no_magic_items_found")]})})]}):A.jsx("div",{children:A.jsx("span",{children:"Fetching User"})})},BV=()=>{const e=Vg(),{magicItems:t,loading:n}=PS(),{favoriteItemIds:s}=Pg(),o=x.useMemo(()=>t.filter(u=>s.includes(u.id)),[t,s]);return e?n?A.jsx("div",{children:A.jsx("span",{children:"Loading..."})}):A.jsxs("div",{children:[A.jsx("h1",{children:"Player Page"}),A.jsx("div",{children:"List of player characters"}),A.jsx("div",{children:"List of campaigns"}),A.jsx("div",{children:o.map(u=>A.jsx(MS,{item:u,getModalItem:()=>u},u.id))})]}):A.jsx("div",{children:A.jsx("span",{children:"Fetching User"})})},US=[{name:"home",path:"/home",element:A.jsx(vV,{})},{name:"Profile",path:"/profile",element:A.jsx(OS,{})},{name:"Player",path:"/player",element:A.jsx(BV,{})},{name:"Magic items",path:"/magicitems",element:A.jsx(zV,{})}],qV=()=>{const{isLoading:e,user:t}=x.useContext(lr);return e?A.jsx("div",{children:"Loading..."}):t?t.displayName?A.jsxs(dd,{children:[US.map(n=>A.jsx(zi,{path:n.path,element:n.element},n.name)),A.jsx(zi,{path:"*",element:A.jsx(fd,{replace:!0,to:"/magicitems"})})]}):A.jsxs(dd,{children:[A.jsx(zi,{path:"/profile",element:A.jsx(OS,{})}),A.jsx(zi,{path:"*",element:A.jsx(fd,{replace:!0,to:"/profile"})})]}):A.jsxs(dd,{children:[A.jsx(zi,{path:"/login",element:A.jsx(EV,{})}),A.jsx(zi,{path:"/register",element:A.jsx(TV,{})}),A.jsx(zi,{path:"*",element:A.jsx(fd,{replace:!0,to:"/login"})})]})},HV="/assets/fatrat_logo-CrDK9lAO.png",FV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAAAKklEQVQ4T2NgGGjACHTAf0ocwUSJZpBeig2g1AGU6x8NRMrDkGE0EBkYAOpQAw2SH5GVAAAAAElFTkSuQmCC",kS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsSAAALEgHS3X78AAABM0lEQVQ4T8WTv0uCURSGvwrMBKMhJ8c2Rf8EaygIgmxwqanBrc2tIWiWlramNhcHx9YMIgiK5qIQiiaxHAJryHreODdudkmcuvB4zz0/3nP47jWK/mnFXd+JEQeYIn8F8nANfVe/jLE5RExdt63ww+xp1ejnGOS8hWJAKIlvFx4tT50PIK3cRXNKwHGJPW9Cc+xbXuwFW/EMTCpnDHbgNSB0gu8Iul6shp0NTBklcO4FRPzJ9olrovGQgPOlrKtf6Gx1n/2rWNeag1PQhwqJyFcFTfxjxTjpw51boQSeQWM3A2I9fGVfYYPDhZd4g13xEhawrwaE6orrgZSgDe+W8MBegJnBMTmvwR10QC/y6xqX4MmKz9jXYdgzX1WxS7rHfoMWHELDxAIDfLv0X/i1dIUjrU811FzYdVWZZwAAAABJRU5ErkJggg==",GV=e=>A.jsxs("div",{className:"user-menu",children:[A.jsxs("div",{className:"user-settings",onClick:()=>e.setShowUserMenu(!1),children:[A.jsx("div",{children:e.user?e.user.displayName??"UserName":"No User"}),A.jsx("div",{className:"burger_menu_container",children:A.jsx("img",{src:kS,alt:"burger_menu",className:"burger_menu_icon"})})]}),e.user?A.jsxs("div",{className:"nav-items",children:[US.map(t=>t.name==="home"?null:A.jsx(bo,{className:"nav-item",to:t.path,onClick:()=>e.setShowUserMenu(!1),children:t.name},t.name)),A.jsx("div",{className:"nav-item",children:A.jsx(NS,{onClickAction:()=>e.setShowUserMenu(!1)})})]}):A.jsx(bo,{className:"nav-item",to:"login",onClick:()=>e.setShowUserMenu(!1),children:"Log in"})]}),QV=()=>{const e=Vg(),[t,n]=x.useState(!1);return A.jsxs("header",{className:"w-full flex items-center justify-between px-6 py-4 bg-white shadow-md",children:[A.jsx(bo,{to:"/home",children:A.jsx("img",{src:HV,alt:"Fat Rat Logo",className:"logo-img"})}),A.jsxs("div",{className:"flex items-center gap-4",onClick:()=>n(!0),children:[A.jsxs("div",{className:"text-gray-700",children:[" ",e?e.displayName??"UserName":"No User"," "]}),e?e.photoURL&&A.jsx("img",{src:e.photoURL,alt:"user",className:"user-img"}):null,A.jsx("div",{className:"flex items-center cursor-pointer",children:A.jsx("img",{src:t?kS:FV,alt:"burger_menu"})})]}),t&&A.jsx(GV,{user:e,showUserMenu:t,setShowUserMenu:n})]})};function KV(){return A.jsxs(dI,{children:[A.jsx("div",{id:"modal"}),A.jsx("div",{className:"App",children:A.jsxs(_V,{children:[A.jsx(QV,{}),A.jsx(qV,{})]})})]})}yb.createRoot(document.getElementById("root")).render(A.jsx(u0.StrictMode,{children:A.jsx(KV,{})}));
